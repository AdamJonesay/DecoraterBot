/* Generated by Cython 0.24.1 */

/* BEGIN: Cython Metadata
{
    "distutils": {},
    "module_name": "youtube_dl.extractor.common"
}
END: Cython Metadata */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#ifndef Py_PYTHON_H
    #error Python headers needed to compile C extensions, please install development version of Python.
#elif PY_VERSION_HEX < 0x02060000 || (0x03000000 <= PY_VERSION_HEX && PY_VERSION_HEX < 0x03020000)
    #error Cython requires Python 2.6+ or Python 3.2+.
#else
#define CYTHON_ABI "0_24_1"
#include <stddef.h>
#ifndef offsetof
  #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
#endif
#if !defined(WIN32) && !defined(MS_WINDOWS)
  #ifndef __stdcall
    #define __stdcall
  #endif
  #ifndef __cdecl
    #define __cdecl
  #endif
  #ifndef __fastcall
    #define __fastcall
  #endif
#endif
#ifndef DL_IMPORT
  #define DL_IMPORT(t) t
#endif
#ifndef DL_EXPORT
  #define DL_EXPORT(t) t
#endif
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#ifndef Py_HUGE_VAL
  #define Py_HUGE_VAL HUGE_VAL
#endif
#ifdef PYPY_VERSION
  #define CYTHON_COMPILING_IN_PYPY 1
  #define CYTHON_COMPILING_IN_CPYTHON 0
#else
  #define CYTHON_COMPILING_IN_PYPY 0
  #define CYTHON_COMPILING_IN_CPYTHON 1
#endif
#if !defined(CYTHON_USE_PYLONG_INTERNALS) && CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x02070000
  #define CYTHON_USE_PYLONG_INTERNALS 1
#endif
#if CYTHON_USE_PYLONG_INTERNALS
  #include "longintrepr.h"
  #undef SHIFT
  #undef BASE
  #undef MASK
#endif
#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX < 0x02070600 && !defined(Py_OptimizeFlag)
  #define Py_OptimizeFlag 0
#endif
#define __PYX_BUILD_PY_SSIZE_T "n"
#define CYTHON_FORMAT_SSIZE_T "z"
#if PY_MAJOR_VERSION < 3
  #define __Pyx_BUILTIN_MODULE_NAME "__builtin__"
  #define __Pyx_PyCode_New(a, k, l, s, f, code, c, n, v, fv, cell, fn, name, fline, lnos)\
          PyCode_New(a+k, l, s, f, code, c, n, v, fv, cell, fn, name, fline, lnos)
  #define __Pyx_DefaultClassType PyClass_Type
#else
  #define __Pyx_BUILTIN_MODULE_NAME "builtins"
  #define __Pyx_PyCode_New(a, k, l, s, f, code, c, n, v, fv, cell, fn, name, fline, lnos)\
          PyCode_New(a, k, l, s, f, code, c, n, v, fv, cell, fn, name, fline, lnos)
  #define __Pyx_DefaultClassType PyType_Type
#endif
#ifndef Py_TPFLAGS_CHECKTYPES
  #define Py_TPFLAGS_CHECKTYPES 0
#endif
#ifndef Py_TPFLAGS_HAVE_INDEX
  #define Py_TPFLAGS_HAVE_INDEX 0
#endif
#ifndef Py_TPFLAGS_HAVE_NEWBUFFER
  #define Py_TPFLAGS_HAVE_NEWBUFFER 0
#endif
#ifndef Py_TPFLAGS_HAVE_FINALIZE
  #define Py_TPFLAGS_HAVE_FINALIZE 0
#endif
#if PY_VERSION_HEX > 0x03030000 && defined(PyUnicode_KIND)
  #define CYTHON_PEP393_ENABLED 1
  #define __Pyx_PyUnicode_READY(op)       (likely(PyUnicode_IS_READY(op)) ?\
                                              0 : _PyUnicode_Ready((PyObject *)(op)))
  #define __Pyx_PyUnicode_GET_LENGTH(u)   PyUnicode_GET_LENGTH(u)
  #define __Pyx_PyUnicode_READ_CHAR(u, i) PyUnicode_READ_CHAR(u, i)
  #define __Pyx_PyUnicode_KIND(u)         PyUnicode_KIND(u)
  #define __Pyx_PyUnicode_DATA(u)         PyUnicode_DATA(u)
  #define __Pyx_PyUnicode_READ(k, d, i)   PyUnicode_READ(k, d, i)
  #define __Pyx_PyUnicode_IS_TRUE(u)      (0 != (likely(PyUnicode_IS_READY(u)) ? PyUnicode_GET_LENGTH(u) : PyUnicode_GET_SIZE(u)))
#else
  #define CYTHON_PEP393_ENABLED 0
  #define __Pyx_PyUnicode_READY(op)       (0)
  #define __Pyx_PyUnicode_GET_LENGTH(u)   PyUnicode_GET_SIZE(u)
  #define __Pyx_PyUnicode_READ_CHAR(u, i) ((Py_UCS4)(PyUnicode_AS_UNICODE(u)[i]))
  #define __Pyx_PyUnicode_KIND(u)         (sizeof(Py_UNICODE))
  #define __Pyx_PyUnicode_DATA(u)         ((void*)PyUnicode_AS_UNICODE(u))
  #define __Pyx_PyUnicode_READ(k, d, i)   ((void)(k), (Py_UCS4)(((Py_UNICODE*)d)[i]))
  #define __Pyx_PyUnicode_IS_TRUE(u)      (0 != PyUnicode_GET_SIZE(u))
#endif
#if CYTHON_COMPILING_IN_PYPY
  #define __Pyx_PyUnicode_Concat(a, b)      PyNumber_Add(a, b)
  #define __Pyx_PyUnicode_ConcatSafe(a, b)  PyNumber_Add(a, b)
#else
  #define __Pyx_PyUnicode_Concat(a, b)      PyUnicode_Concat(a, b)
  #define __Pyx_PyUnicode_ConcatSafe(a, b)  ((unlikely((a) == Py_None) || unlikely((b) == Py_None)) ?\
      PyNumber_Add(a, b) : __Pyx_PyUnicode_Concat(a, b))
#endif
#if CYTHON_COMPILING_IN_PYPY && !defined(PyUnicode_Contains)
  #define PyUnicode_Contains(u, s)  PySequence_Contains(u, s)
#endif
#if CYTHON_COMPILING_IN_PYPY && !defined(PyByteArray_Check)
  #define PyByteArray_Check(obj)  PyObject_TypeCheck(obj, &PyByteArray_Type)
#endif
#if CYTHON_COMPILING_IN_PYPY && !defined(PyObject_Format)
  #define PyObject_Format(obj, fmt)  PyObject_CallMethod(obj, "__format__", "O", fmt)
#endif
#if CYTHON_COMPILING_IN_PYPY && !defined(PyObject_Malloc)
  #define PyObject_Malloc(s)   PyMem_Malloc(s)
  #define PyObject_Free(p)     PyMem_Free(p)
  #define PyObject_Realloc(p)  PyMem_Realloc(p)
#endif
#define __Pyx_PyString_FormatSafe(a, b)   ((unlikely((a) == Py_None)) ? PyNumber_Remainder(a, b) : __Pyx_PyString_Format(a, b))
#define __Pyx_PyUnicode_FormatSafe(a, b)  ((unlikely((a) == Py_None)) ? PyNumber_Remainder(a, b) : PyUnicode_Format(a, b))
#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyString_Format(a, b)  PyUnicode_Format(a, b)
#else
  #define __Pyx_PyString_Format(a, b)  PyString_Format(a, b)
#endif
#if PY_MAJOR_VERSION < 3 && !defined(PyObject_ASCII)
  #define PyObject_ASCII(o)            PyObject_Repr(o)
#endif
#if PY_MAJOR_VERSION >= 3
  #define PyBaseString_Type            PyUnicode_Type
  #define PyStringObject               PyUnicodeObject
  #define PyString_Type                PyUnicode_Type
  #define PyString_Check               PyUnicode_Check
  #define PyString_CheckExact          PyUnicode_CheckExact
#endif
#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyBaseString_Check(obj) PyUnicode_Check(obj)
  #define __Pyx_PyBaseString_CheckExact(obj) PyUnicode_CheckExact(obj)
#else
  #define __Pyx_PyBaseString_Check(obj) (PyString_Check(obj) || PyUnicode_Check(obj))
  #define __Pyx_PyBaseString_CheckExact(obj) (PyString_CheckExact(obj) || PyUnicode_CheckExact(obj))
#endif
#ifndef PySet_CheckExact
  #define PySet_CheckExact(obj)        (Py_TYPE(obj) == &PySet_Type)
#endif
#define __Pyx_TypeCheck(obj, type) PyObject_TypeCheck(obj, (PyTypeObject *)type)
#if PY_MAJOR_VERSION >= 3
  #define PyIntObject                  PyLongObject
  #define PyInt_Type                   PyLong_Type
  #define PyInt_Check(op)              PyLong_Check(op)
  #define PyInt_CheckExact(op)         PyLong_CheckExact(op)
  #define PyInt_FromString             PyLong_FromString
  #define PyInt_FromUnicode            PyLong_FromUnicode
  #define PyInt_FromLong               PyLong_FromLong
  #define PyInt_FromSize_t             PyLong_FromSize_t
  #define PyInt_FromSsize_t            PyLong_FromSsize_t
  #define PyInt_AsLong                 PyLong_AsLong
  #define PyInt_AS_LONG                PyLong_AS_LONG
  #define PyInt_AsSsize_t              PyLong_AsSsize_t
  #define PyInt_AsUnsignedLongMask     PyLong_AsUnsignedLongMask
  #define PyInt_AsUnsignedLongLongMask PyLong_AsUnsignedLongLongMask
  #define PyNumber_Int                 PyNumber_Long
#endif
#if PY_MAJOR_VERSION >= 3
  #define PyBoolObject                 PyLongObject
#endif
#if PY_MAJOR_VERSION >= 3 && CYTHON_COMPILING_IN_PYPY
  #ifndef PyUnicode_InternFromString
    #define PyUnicode_InternFromString(s) PyUnicode_FromString(s)
  #endif
#endif
#if PY_VERSION_HEX < 0x030200A4
  typedef long Py_hash_t;
  #define __Pyx_PyInt_FromHash_t PyInt_FromLong
  #define __Pyx_PyInt_AsHash_t   PyInt_AsLong
#else
  #define __Pyx_PyInt_FromHash_t PyInt_FromSsize_t
  #define __Pyx_PyInt_AsHash_t   PyInt_AsSsize_t
#endif
#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyMethod_New(func, self, klass) ((self) ? PyMethod_New(func, self) : PyInstanceMethod_New(func))
#else
  #define __Pyx_PyMethod_New(func, self, klass) PyMethod_New(func, self, klass)
#endif
#if PY_VERSION_HEX >= 0x030500B1
#define __Pyx_PyAsyncMethodsStruct PyAsyncMethods
#define __Pyx_PyType_AsAsync(obj) (Py_TYPE(obj)->tp_as_async)
#elif CYTHON_COMPILING_IN_CPYTHON && PY_MAJOR_VERSION >= 3
typedef struct {
    unaryfunc am_await;
    unaryfunc am_aiter;
    unaryfunc am_anext;
} __Pyx_PyAsyncMethodsStruct;
#define __Pyx_PyType_AsAsync(obj) ((__Pyx_PyAsyncMethodsStruct*) (Py_TYPE(obj)->tp_reserved))
#else
#define __Pyx_PyType_AsAsync(obj) NULL
#endif
#ifndef CYTHON_RESTRICT
  #if defined(__GNUC__)
    #define CYTHON_RESTRICT __restrict__
  #elif defined(_MSC_VER) && _MSC_VER >= 1400
    #define CYTHON_RESTRICT __restrict
  #elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
    #define CYTHON_RESTRICT restrict
  #else
    #define CYTHON_RESTRICT
  #endif
#endif
#define __Pyx_void_to_None(void_result) ((void)(void_result), Py_INCREF(Py_None), Py_None)

#ifndef CYTHON_INLINE
  #if defined(__GNUC__)
    #define CYTHON_INLINE __inline__
  #elif defined(_MSC_VER)
    #define CYTHON_INLINE __inline
  #elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
    #define CYTHON_INLINE inline
  #else
    #define CYTHON_INLINE
  #endif
#endif

#if defined(WIN32) || defined(MS_WINDOWS)
  #define _USE_MATH_DEFINES
#endif
#include <math.h>
#ifdef NAN
#define __PYX_NAN() ((float) NAN)
#else
static CYTHON_INLINE float __PYX_NAN() {
  float value;
  memset(&value, 0xFF, sizeof(value));
  return value;
}
#endif
#if defined(__CYGWIN__) && defined(_LDBL_EQ_DBL)
#define __Pyx_truncl trunc
#else
#define __Pyx_truncl truncl
#endif


#define __PYX_ERR(f_index, lineno, Ln_error) \
{ \
  __pyx_filename = __pyx_f[f_index]; __pyx_lineno = lineno; __pyx_clineno = __LINE__; goto Ln_error; \
}

#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_TrueDivide(x,y)
  #define __Pyx_PyNumber_InPlaceDivide(x,y)  PyNumber_InPlaceTrueDivide(x,y)
#else
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_TrueDivide(x,y)
  #define __Pyx_PyNumber_InPlaceDivide(x,y)  PyNumber_InPlaceTrueDivide(x,y)
#endif

#ifndef __PYX_EXTERN_C
  #ifdef __cplusplus
    #define __PYX_EXTERN_C extern "C"
  #else
    #define __PYX_EXTERN_C extern
  #endif
#endif

#define __PYX_HAVE__youtube_dl__extractor__common
#define __PYX_HAVE_API__youtube_dl__extractor__common
#ifdef _OPENMP
#include <omp.h>
#endif /* _OPENMP */

#ifdef PYREX_WITHOUT_ASSERTIONS
#define CYTHON_WITHOUT_ASSERTIONS
#endif

#ifndef CYTHON_UNUSED
# if defined(__GNUC__)
#   if !(defined(__cplusplus)) || (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4))
#     define CYTHON_UNUSED __attribute__ ((__unused__))
#   else
#     define CYTHON_UNUSED
#   endif
# elif defined(__ICC) || (defined(__INTEL_COMPILER) && !defined(_MSC_VER))
#   define CYTHON_UNUSED __attribute__ ((__unused__))
# else
#   define CYTHON_UNUSED
# endif
#endif
#ifndef CYTHON_NCP_UNUSED
# if CYTHON_COMPILING_IN_CPYTHON
#  define CYTHON_NCP_UNUSED
# else
#  define CYTHON_NCP_UNUSED CYTHON_UNUSED
# endif
#endif
typedef struct {PyObject **p; const char *s; const Py_ssize_t n; const char* encoding;
                const char is_unicode; const char is_str; const char intern; } __Pyx_StringTabEntry;

#define __PYX_DEFAULT_STRING_ENCODING_IS_ASCII 0
#define __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT 0
#define __PYX_DEFAULT_STRING_ENCODING ""
#define __Pyx_PyObject_FromString __Pyx_PyBytes_FromString
#define __Pyx_PyObject_FromStringAndSize __Pyx_PyBytes_FromStringAndSize
#define __Pyx_uchar_cast(c) ((unsigned char)c)
#define __Pyx_long_cast(x) ((long)x)
#define __Pyx_fits_Py_ssize_t(v, type, is_signed)  (\
    (sizeof(type) < sizeof(Py_ssize_t))  ||\
    (sizeof(type) > sizeof(Py_ssize_t) &&\
          likely(v < (type)PY_SSIZE_T_MAX ||\
                 v == (type)PY_SSIZE_T_MAX)  &&\
          (!is_signed || likely(v > (type)PY_SSIZE_T_MIN ||\
                                v == (type)PY_SSIZE_T_MIN)))  ||\
    (sizeof(type) == sizeof(Py_ssize_t) &&\
          (is_signed || likely(v < (type)PY_SSIZE_T_MAX ||\
                               v == (type)PY_SSIZE_T_MAX)))  )
#if defined (__cplusplus) && __cplusplus >= 201103L
    #include <cstdlib>
    #define __Pyx_sst_abs(value) std::abs(value)
#elif SIZEOF_INT >= SIZEOF_SIZE_T
    #define __Pyx_sst_abs(value) abs(value)
#elif SIZEOF_LONG >= SIZEOF_SIZE_T
    #define __Pyx_sst_abs(value) labs(value)
#elif defined (_MSC_VER) && defined (_M_X64)
    #define __Pyx_sst_abs(value) _abs64(value)
#elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
    #define __Pyx_sst_abs(value) llabs(value)
#elif defined (__GNUC__)
    #define __Pyx_sst_abs(value) __builtin_llabs(value)
#else
    #define __Pyx_sst_abs(value) ((value<0) ? -value : value)
#endif
static CYTHON_INLINE char* __Pyx_PyObject_AsString(PyObject*);
static CYTHON_INLINE char* __Pyx_PyObject_AsStringAndSize(PyObject*, Py_ssize_t* length);
#define __Pyx_PyByteArray_FromString(s) PyByteArray_FromStringAndSize((const char*)s, strlen((const char*)s))
#define __Pyx_PyByteArray_FromStringAndSize(s, l) PyByteArray_FromStringAndSize((const char*)s, l)
#define __Pyx_PyBytes_FromString        PyBytes_FromString
#define __Pyx_PyBytes_FromStringAndSize PyBytes_FromStringAndSize
static CYTHON_INLINE PyObject* __Pyx_PyUnicode_FromString(const char*);
#if PY_MAJOR_VERSION < 3
    #define __Pyx_PyStr_FromString        __Pyx_PyBytes_FromString
    #define __Pyx_PyStr_FromStringAndSize __Pyx_PyBytes_FromStringAndSize
#else
    #define __Pyx_PyStr_FromString        __Pyx_PyUnicode_FromString
    #define __Pyx_PyStr_FromStringAndSize __Pyx_PyUnicode_FromStringAndSize
#endif
#define __Pyx_PyObject_AsSString(s)    ((signed char*) __Pyx_PyObject_AsString(s))
#define __Pyx_PyObject_AsUString(s)    ((unsigned char*) __Pyx_PyObject_AsString(s))
#define __Pyx_PyObject_FromCString(s)  __Pyx_PyObject_FromString((const char*)s)
#define __Pyx_PyBytes_FromCString(s)   __Pyx_PyBytes_FromString((const char*)s)
#define __Pyx_PyByteArray_FromCString(s)   __Pyx_PyByteArray_FromString((const char*)s)
#define __Pyx_PyStr_FromCString(s)     __Pyx_PyStr_FromString((const char*)s)
#define __Pyx_PyUnicode_FromCString(s) __Pyx_PyUnicode_FromString((const char*)s)
#if PY_MAJOR_VERSION < 3
static CYTHON_INLINE size_t __Pyx_Py_UNICODE_strlen(const Py_UNICODE *u)
{
    const Py_UNICODE *u_end = u;
    while (*u_end++) ;
    return (size_t)(u_end - u - 1);
}
#else
#define __Pyx_Py_UNICODE_strlen Py_UNICODE_strlen
#endif
#define __Pyx_PyUnicode_FromUnicode(u)       PyUnicode_FromUnicode(u, __Pyx_Py_UNICODE_strlen(u))
#define __Pyx_PyUnicode_FromUnicodeAndLength PyUnicode_FromUnicode
#define __Pyx_PyUnicode_AsUnicode            PyUnicode_AsUnicode
#define __Pyx_NewRef(obj) (Py_INCREF(obj), obj)
#define __Pyx_Owned_Py_None(b) __Pyx_NewRef(Py_None)
#define __Pyx_PyBool_FromLong(b) ((b) ? __Pyx_NewRef(Py_True) : __Pyx_NewRef(Py_False))
static CYTHON_INLINE int __Pyx_PyObject_IsTrue(PyObject*);
static CYTHON_INLINE PyObject* __Pyx_PyNumber_IntOrLong(PyObject* x);
static CYTHON_INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject*);
static CYTHON_INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t);
#if CYTHON_COMPILING_IN_CPYTHON
#define __pyx_PyFloat_AsDouble(x) (PyFloat_CheckExact(x) ? PyFloat_AS_DOUBLE(x) : PyFloat_AsDouble(x))
#else
#define __pyx_PyFloat_AsDouble(x) PyFloat_AsDouble(x)
#endif
#define __pyx_PyFloat_AsFloat(x) ((float) __pyx_PyFloat_AsDouble(x))
#if PY_MAJOR_VERSION >= 3
#define __Pyx_PyNumber_Int(x) (PyLong_CheckExact(x) ? __Pyx_NewRef(x) : PyNumber_Long(x))
#else
#define __Pyx_PyNumber_Int(x) (PyInt_CheckExact(x) ? __Pyx_NewRef(x) : PyNumber_Int(x))
#endif
#define __Pyx_PyNumber_Float(x) (PyFloat_CheckExact(x) ? __Pyx_NewRef(x) : PyNumber_Float(x))
#if PY_MAJOR_VERSION < 3 && __PYX_DEFAULT_STRING_ENCODING_IS_ASCII
static int __Pyx_sys_getdefaultencoding_not_ascii;
static int __Pyx_init_sys_getdefaultencoding_params(void) {
    PyObject* sys;
    PyObject* default_encoding = NULL;
    PyObject* ascii_chars_u = NULL;
    PyObject* ascii_chars_b = NULL;
    const char* default_encoding_c;
    sys = PyImport_ImportModule("sys");
    if (!sys) goto bad;
    default_encoding = PyObject_CallMethod(sys, (char*) "getdefaultencoding", NULL);
    Py_DECREF(sys);
    if (!default_encoding) goto bad;
    default_encoding_c = PyBytes_AsString(default_encoding);
    if (!default_encoding_c) goto bad;
    if (strcmp(default_encoding_c, "ascii") == 0) {
        __Pyx_sys_getdefaultencoding_not_ascii = 0;
    } else {
        char ascii_chars[128];
        int c;
        for (c = 0; c < 128; c++) {
            ascii_chars[c] = c;
        }
        __Pyx_sys_getdefaultencoding_not_ascii = 1;
        ascii_chars_u = PyUnicode_DecodeASCII(ascii_chars, 128, NULL);
        if (!ascii_chars_u) goto bad;
        ascii_chars_b = PyUnicode_AsEncodedString(ascii_chars_u, default_encoding_c, NULL);
        if (!ascii_chars_b || !PyBytes_Check(ascii_chars_b) || memcmp(ascii_chars, PyBytes_AS_STRING(ascii_chars_b), 128) != 0) {
            PyErr_Format(
                PyExc_ValueError,
                "This module compiled with c_string_encoding=ascii, but default encoding '%.200s' is not a superset of ascii.",
                default_encoding_c);
            goto bad;
        }
        Py_DECREF(ascii_chars_u);
        Py_DECREF(ascii_chars_b);
    }
    Py_DECREF(default_encoding);
    return 0;
bad:
    Py_XDECREF(default_encoding);
    Py_XDECREF(ascii_chars_u);
    Py_XDECREF(ascii_chars_b);
    return -1;
}
#endif
#if __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT && PY_MAJOR_VERSION >= 3
#define __Pyx_PyUnicode_FromStringAndSize(c_str, size) PyUnicode_DecodeUTF8(c_str, size, NULL)
#else
#define __Pyx_PyUnicode_FromStringAndSize(c_str, size) PyUnicode_Decode(c_str, size, __PYX_DEFAULT_STRING_ENCODING, NULL)
#if __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT
static char* __PYX_DEFAULT_STRING_ENCODING;
static int __Pyx_init_sys_getdefaultencoding_params(void) {
    PyObject* sys;
    PyObject* default_encoding = NULL;
    char* default_encoding_c;
    sys = PyImport_ImportModule("sys");
    if (!sys) goto bad;
    default_encoding = PyObject_CallMethod(sys, (char*) (const char*) "getdefaultencoding", NULL);
    Py_DECREF(sys);
    if (!default_encoding) goto bad;
    default_encoding_c = PyBytes_AsString(default_encoding);
    if (!default_encoding_c) goto bad;
    __PYX_DEFAULT_STRING_ENCODING = (char*) malloc(strlen(default_encoding_c));
    if (!__PYX_DEFAULT_STRING_ENCODING) goto bad;
    strcpy(__PYX_DEFAULT_STRING_ENCODING, default_encoding_c);
    Py_DECREF(default_encoding);
    return 0;
bad:
    Py_XDECREF(default_encoding);
    return -1;
}
#endif
#endif


/* Test for GCC > 2.95 */
#if defined(__GNUC__)     && (__GNUC__ > 2 || (__GNUC__ == 2 && (__GNUC_MINOR__ > 95)))
  #define likely(x)   __builtin_expect(!!(x), 1)
  #define unlikely(x) __builtin_expect(!!(x), 0)
#else /* !__GNUC__ or GCC < 2.95 */
  #define likely(x)   (x)
  #define unlikely(x) (x)
#endif /* __GNUC__ */

static PyObject *__pyx_m;
static PyObject *__pyx_d;
static PyObject *__pyx_b;
static PyObject *__pyx_empty_tuple;
static PyObject *__pyx_empty_bytes;
static PyObject *__pyx_empty_unicode;
static int __pyx_lineno;
static int __pyx_clineno = 0;
static const char * __pyx_cfilenm= __FILE__;
static const char *__pyx_filename;


static const char *__pyx_f[] = {
  "to_build\\youtube_dl\\extractor\\common.py",
};

/*--- Type declarations ---*/
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries;
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases;
struct __pyx_defaults;
typedef struct __pyx_defaults __pyx_defaults;
struct __pyx_defaults1;
typedef struct __pyx_defaults1 __pyx_defaults1;
struct __pyx_defaults2;
typedef struct __pyx_defaults2 __pyx_defaults2;
struct __pyx_defaults3;
typedef struct __pyx_defaults3 __pyx_defaults3;
struct __pyx_defaults4;
typedef struct __pyx_defaults4 __pyx_defaults4;
struct __pyx_defaults5;
typedef struct __pyx_defaults5 __pyx_defaults5;
struct __pyx_defaults6;
typedef struct __pyx_defaults6 __pyx_defaults6;
struct __pyx_defaults7;
typedef struct __pyx_defaults7 __pyx_defaults7;
struct __pyx_defaults8;
typedef struct __pyx_defaults8 __pyx_defaults8;
struct __pyx_defaults9;
typedef struct __pyx_defaults9 __pyx_defaults9;
struct __pyx_defaults10;
typedef struct __pyx_defaults10 __pyx_defaults10;
struct __pyx_defaults {
  PyObject *__pyx_arg_headers;
  PyObject *__pyx_arg_query;
};
struct __pyx_defaults1 {
  PyObject *__pyx_arg_headers;
  PyObject *__pyx_arg_query;
};
struct __pyx_defaults2 {
  PyObject *__pyx_arg_headers;
  PyObject *__pyx_arg_query;
};
struct __pyx_defaults3 {
  PyObject *__pyx_arg_headers;
  PyObject *__pyx_arg_query;
};
struct __pyx_defaults4 {
  PyObject *__pyx_arg_headers;
  PyObject *__pyx_arg_query;
};
struct __pyx_defaults5 {
  PyObject *__pyx_arg_default;
};
struct __pyx_defaults6 {
  PyObject *__pyx_arg_default;
};
struct __pyx_defaults7 {
  PyObject *__pyx_arg_transform_source;
};
struct __pyx_defaults8 {
  PyObject *__pyx_arg_transform_source;
};
struct __pyx_defaults9 {
  PyObject *__pyx_arg_formats_dict;
};
struct __pyx_defaults10 {
  PyObject *__pyx_arg_formats_dict;
};

/* "youtube_dl/extractor/common.py":621
 *         return video_info
 * 
 *     def _search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Perform a regex search on the given string, using a single or a list of
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex {
  PyObject_HEAD
  PyObject *__pyx_v_mobj;
};


/* "youtube_dl/extractor/common.py":644
 *             if group is None:
 *                 # return the first matching group
 *                 return next(g for g in mobj.groups() if g is not None)             # <<<<<<<<<<<<<<
 *             else:
 *                 return mobj.group(group)
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr {
  PyObject_HEAD
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *__pyx_outer_scope;
  PyObject *__pyx_v_g;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};


/* "youtube_dl/extractor/common.py":820
 *             expected_type=expected_type)
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):             # <<<<<<<<<<<<<<
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld {
  PyObject_HEAD
  PyObject *__pyx_v_info;
};


/* "youtube_dl/extractor/common.py":861
 *                     'height': int_or_none(json_ld.get('height')),
 *                 })
 *         return dict((k, v) for k, v in info.items() if v is not None)             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr {
  PyObject_HEAD
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *__pyx_outer_scope;
  PyObject *__pyx_v_k;
  PyObject *__pyx_v_v;
};


/* "youtube_dl/extractor/common.py":885
 *         return self._hidden_inputs(form)
 * 
 *     def _sort_formats(self, formats, field_preference=None):             # <<<<<<<<<<<<<<
 *         if not formats:
 *             raise ExtractorError('No video formats found')
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats {
  PyObject_HEAD
  PyObject *__pyx_v_field_preference;
  PyObject *__pyx_v_self;
};


/* "youtube_dl/extractor/common.py":895
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 *         def _formats_key(f):             # <<<<<<<<<<<<<<
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key {
  PyObject_HEAD
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *__pyx_outer_scope;
  PyObject *__pyx_v_f;
};


/* "youtube_dl/extractor/common.py":903
 *             if isinstance(field_preference, (list, tuple)):
 *                 return tuple(
 *                     f.get(field)             # <<<<<<<<<<<<<<
 *                     if f.get(field) is not None
 *                     else ('' if field == 'format_id' else -1)
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr {
  PyObject_HEAD
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *__pyx_outer_scope;
  PyObject *__pyx_v_field;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};


/* "youtube_dl/extractor/common.py":960
 *         formats.sort(key=_formats_key)
 * 
 *     def _check_formats(self, formats, video_id):             # <<<<<<<<<<<<<<
 *         if formats:
 *             formats[:] = filter(
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats {
  PyObject_HEAD
  PyObject *__pyx_v_self;
  PyObject *__pyx_v_video_id;
};


/* "youtube_dl/extractor/common.py":1136
 *         }
 * 
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,             # <<<<<<<<<<<<<<
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats {
  PyObject_HEAD
  PyObject *__pyx_v_m3u8_url;
};


/* "youtube_dl/extractor/common.py":1483
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):             # <<<<<<<<<<<<<<
 *         """
 *         Parse formats from MPD manifest.
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats {
  PyObject_HEAD
  PyObject *__pyx_v__add_ns;
  PyObject *__pyx_v_formats;
  PyObject *__pyx_v_media_template;
  PyObject *__pyx_v_namespace;
  PyObject *__pyx_v_representation_attrib;
  PyObject *__pyx_v_representation_id;
  PyObject *__pyx_v_representation_ms_info;
  PyObject *__pyx_v_segment_time;
  PyObject *__pyx_v_self;
};


/* "youtube_dl/extractor/common.py":1661
 *                         try:
 *                             existing_format = next(
 *                                 fo for fo in formats             # <<<<<<<<<<<<<<
 *                                 if fo['format_id'] == representation_id)
 *                         except StopIteration:
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr {
  PyObject_HEAD
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_outer_scope;
  PyObject *__pyx_v_fo;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
};


/* "youtube_dl/extractor/common.py":1673
 *         return formats
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):             # <<<<<<<<<<<<<<
 *         def absolute_url(video_url):
 *             return compat_urlparse.urljoin(base_url, video_url)
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries {
  PyObject_HEAD
  PyObject *__pyx_v_base_url;
};


/* "youtube_dl/extractor/common.py":1769
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))
 * 
 *     def get_testcases(self, include_onlymatching=False):             # <<<<<<<<<<<<<<
 *         t = getattr(self, '_TEST', None)
 *         if t:
 */
struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases {
  PyObject_HEAD
  PyObject *__pyx_v_include_onlymatching;
  PyObject *__pyx_v_self;
  PyObject *__pyx_v_t;
  PyObject *__pyx_v_tests;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};


/* --- Runtime support code (head) --- */
/* Refnanny.proto */
#ifndef CYTHON_REFNANNY
  #define CYTHON_REFNANNY 0
#endif
#if CYTHON_REFNANNY
  typedef struct {
    void (*INCREF)(void*, PyObject*, int);
    void (*DECREF)(void*, PyObject*, int);
    void (*GOTREF)(void*, PyObject*, int);
    void (*GIVEREF)(void*, PyObject*, int);
    void* (*SetupContext)(const char*, int, const char*);
    void (*FinishContext)(void**);
  } __Pyx_RefNannyAPIStruct;
  static __Pyx_RefNannyAPIStruct *__Pyx_RefNanny = NULL;
  static __Pyx_RefNannyAPIStruct *__Pyx_RefNannyImportAPI(const char *modname);
  #define __Pyx_RefNannyDeclarations void *__pyx_refnanny = NULL;
#ifdef WITH_THREAD
  #define __Pyx_RefNannySetupContext(name, acquire_gil)\
          if (acquire_gil) {\
              PyGILState_STATE __pyx_gilstate_save = PyGILState_Ensure();\
              __pyx_refnanny = __Pyx_RefNanny->SetupContext((name), __LINE__, __FILE__);\
              PyGILState_Release(__pyx_gilstate_save);\
          } else {\
              __pyx_refnanny = __Pyx_RefNanny->SetupContext((name), __LINE__, __FILE__);\
          }
#else
  #define __Pyx_RefNannySetupContext(name, acquire_gil)\
          __pyx_refnanny = __Pyx_RefNanny->SetupContext((name), __LINE__, __FILE__)
#endif
  #define __Pyx_RefNannyFinishContext()\
          __Pyx_RefNanny->FinishContext(&__pyx_refnanny)
  #define __Pyx_INCREF(r)  __Pyx_RefNanny->INCREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_DECREF(r)  __Pyx_RefNanny->DECREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_GOTREF(r)  __Pyx_RefNanny->GOTREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_GIVEREF(r) __Pyx_RefNanny->GIVEREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_XINCREF(r)  do { if((r) != NULL) {__Pyx_INCREF(r); }} while(0)
  #define __Pyx_XDECREF(r)  do { if((r) != NULL) {__Pyx_DECREF(r); }} while(0)
  #define __Pyx_XGOTREF(r)  do { if((r) != NULL) {__Pyx_GOTREF(r); }} while(0)
  #define __Pyx_XGIVEREF(r) do { if((r) != NULL) {__Pyx_GIVEREF(r);}} while(0)
#else
  #define __Pyx_RefNannyDeclarations
  #define __Pyx_RefNannySetupContext(name, acquire_gil)
  #define __Pyx_RefNannyFinishContext()
  #define __Pyx_INCREF(r) Py_INCREF(r)
  #define __Pyx_DECREF(r) Py_DECREF(r)
  #define __Pyx_GOTREF(r)
  #define __Pyx_GIVEREF(r)
  #define __Pyx_XINCREF(r) Py_XINCREF(r)
  #define __Pyx_XDECREF(r) Py_XDECREF(r)
  #define __Pyx_XGOTREF(r)
  #define __Pyx_XGIVEREF(r)
#endif
#define __Pyx_XDECREF_SET(r, v) do {\
        PyObject *tmp = (PyObject *) r;\
        r = v; __Pyx_XDECREF(tmp);\
    } while (0)
#define __Pyx_DECREF_SET(r, v) do {\
        PyObject *tmp = (PyObject *) r;\
        r = v; __Pyx_DECREF(tmp);\
    } while (0)
#define __Pyx_CLEAR(r)    do { PyObject* tmp = ((PyObject*)(r)); r = NULL; __Pyx_DECREF(tmp);} while(0)
#define __Pyx_XCLEAR(r)   do { if((r) != NULL) {PyObject* tmp = ((PyObject*)(r)); r = NULL; __Pyx_DECREF(tmp);}} while(0)

/* PyObjectGetAttrStr.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStr(PyObject* obj, PyObject* attr_name) {
    PyTypeObject* tp = Py_TYPE(obj);
    if (likely(tp->tp_getattro))
        return tp->tp_getattro(obj, attr_name);
#if PY_MAJOR_VERSION < 3
    if (likely(tp->tp_getattr))
        return tp->tp_getattr(obj, PyString_AS_STRING(attr_name));
#endif
    return PyObject_GetAttr(obj, attr_name);
}
#else
#define __Pyx_PyObject_GetAttrStr(o,n) PyObject_GetAttr(o,n)
#endif

/* GetBuiltinName.proto */
static PyObject *__Pyx_GetBuiltinName(PyObject *name);

/* GetModuleGlobalName.proto */
static CYTHON_INLINE PyObject *__Pyx_GetModuleGlobalName(PyObject *name);

/* PyObjectCall.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_Call(PyObject *func, PyObject *arg, PyObject *kw);
#else
#define __Pyx_PyObject_Call(func, arg, kw) PyObject_Call(func, arg, kw)
#endif

/* PyObjectCallMethO.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallMethO(PyObject *func, PyObject *arg);
#endif

/* PyObjectCallOneArg.proto */
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallOneArg(PyObject *func, PyObject *arg);

/* PyObjectCallNoArg.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallNoArg(PyObject *func);
#else
#define __Pyx_PyObject_CallNoArg(func) __Pyx_PyObject_Call(func, __pyx_empty_tuple, NULL)
#endif

/* RaiseDoubleKeywords.proto */
static void __Pyx_RaiseDoubleKeywordsError(const char* func_name, PyObject* kw_name);

/* ParseKeywords.proto */
static int __Pyx_ParseOptionalKeywords(PyObject *kwds, PyObject **argnames[],\
    PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,\
    const char* function_name);

/* RaiseArgTupleInvalid.proto */
static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
    Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found);

/* PyObjectSetAttrStr.proto */
#if CYTHON_COMPILING_IN_CPYTHON
#define __Pyx_PyObject_DelAttrStr(o,n) __Pyx_PyObject_SetAttrStr(o,n,NULL)
static CYTHON_INLINE int __Pyx_PyObject_SetAttrStr(PyObject* obj, PyObject* attr_name, PyObject* value) {
    PyTypeObject* tp = Py_TYPE(obj);
    if (likely(tp->tp_setattro))
        return tp->tp_setattro(obj, attr_name, value);
#if PY_MAJOR_VERSION < 3
    if (likely(tp->tp_setattr))
        return tp->tp_setattr(obj, PyString_AS_STRING(attr_name), value);
#endif
    return PyObject_SetAttr(obj, attr_name, value);
}
#else
#define __Pyx_PyObject_DelAttrStr(o,n)   PyObject_DelAttr(o,n)
#define __Pyx_PyObject_SetAttrStr(o,n,v) PyObject_SetAttr(o,n,v)
#endif

/* PySequenceContains.proto */
static CYTHON_INLINE int __Pyx_PySequence_ContainsTF(PyObject* item, PyObject* seq, int eq) {
    int result = PySequence_Contains(seq, item);
    return unlikely(result < 0) ? result : (result == (eq == Py_EQ));
}

/* PyThreadStateGet.proto */
#if CYTHON_COMPILING_IN_CPYTHON
#define __Pyx_PyThreadState_declare  PyThreadState *__pyx_tstate;
#define __Pyx_PyThreadState_assign  __pyx_tstate = PyThreadState_GET();
#else
#define __Pyx_PyThreadState_declare
#define __Pyx_PyThreadState_assign
#endif

/* SaveResetException.proto */
#if CYTHON_COMPILING_IN_CPYTHON
#define __Pyx_ExceptionSave(type, value, tb)  __Pyx__ExceptionSave(__pyx_tstate, type, value, tb)
static CYTHON_INLINE void __Pyx__ExceptionSave(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb);
#define __Pyx_ExceptionReset(type, value, tb)  __Pyx__ExceptionReset(__pyx_tstate, type, value, tb)
static CYTHON_INLINE void __Pyx__ExceptionReset(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb);
#else
#define __Pyx_ExceptionSave(type, value, tb)   PyErr_GetExcInfo(type, value, tb)
#define __Pyx_ExceptionReset(type, value, tb)  PyErr_SetExcInfo(type, value, tb)
#endif

/* PyErrExceptionMatches.proto */
#if CYTHON_COMPILING_IN_CPYTHON
#define __Pyx_PyErr_ExceptionMatches(err) __Pyx_PyErr_ExceptionMatchesInState(__pyx_tstate, err)
static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err);
#else
#define __Pyx_PyErr_ExceptionMatches(err)  PyErr_ExceptionMatches(err)
#endif

/* GetException.proto */
#if CYTHON_COMPILING_IN_CPYTHON
#define __Pyx_GetException(type, value, tb)  __Pyx__GetException(__pyx_tstate, type, value, tb)
static int __Pyx__GetException(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb);
#else
static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb);
#endif

/* PyErrFetchRestore.proto */
#if CYTHON_COMPILING_IN_CPYTHON
#define __Pyx_ErrRestoreWithState(type, value, tb)  __Pyx_ErrRestoreInState(PyThreadState_GET(), type, value, tb)
#define __Pyx_ErrFetchWithState(type, value, tb)    __Pyx_ErrFetchInState(PyThreadState_GET(), type, value, tb)
#define __Pyx_ErrRestore(type, value, tb)  __Pyx_ErrRestoreInState(__pyx_tstate, type, value, tb)
#define __Pyx_ErrFetch(type, value, tb)    __Pyx_ErrFetchInState(__pyx_tstate, type, value, tb)
static CYTHON_INLINE void __Pyx_ErrRestoreInState(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb);
static CYTHON_INLINE void __Pyx_ErrFetchInState(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb);
#else
#define __Pyx_ErrRestoreWithState(type, value, tb)  PyErr_Restore(type, value, tb)
#define __Pyx_ErrFetchWithState(type, value, tb)  PyErr_Fetch(type, value, tb)
#define __Pyx_ErrRestore(type, value, tb)  PyErr_Restore(type, value, tb)
#define __Pyx_ErrFetch(type, value, tb)  PyErr_Fetch(type, value, tb)
#endif

/* RaiseException.proto */
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);

/* SwapException.proto */
#if CYTHON_COMPILING_IN_CPYTHON
#define __Pyx_ExceptionSwap(type, value, tb)  __Pyx__ExceptionSwap(__pyx_tstate, type, value, tb)
static CYTHON_INLINE void __Pyx__ExceptionSwap(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb);
#else
static CYTHON_INLINE void __Pyx_ExceptionSwap(PyObject **type, PyObject **value, PyObject **tb);
#endif

/* SliceObject.proto */
static CYTHON_INLINE PyObject* __Pyx_PyObject_GetSlice(
        PyObject* obj, Py_ssize_t cstart, Py_ssize_t cstop,
        PyObject** py_start, PyObject** py_stop, PyObject** py_slice,
        int has_cstart, int has_cstop, int wraparound);

/* GetItemInt.proto */
#define __Pyx_GetItemInt(o, i, type, is_signed, to_py_func, is_list, wraparound, boundscheck)\
    (__Pyx_fits_Py_ssize_t(i, type, is_signed) ?\
    __Pyx_GetItemInt_Fast(o, (Py_ssize_t)i, is_list, wraparound, boundscheck) :\
    (is_list ? (PyErr_SetString(PyExc_IndexError, "list index out of range"), (PyObject*)NULL) :\
               __Pyx_GetItemInt_Generic(o, to_py_func(i))))
#define __Pyx_GetItemInt_List(o, i, type, is_signed, to_py_func, is_list, wraparound, boundscheck)\
    (__Pyx_fits_Py_ssize_t(i, type, is_signed) ?\
    __Pyx_GetItemInt_List_Fast(o, (Py_ssize_t)i, wraparound, boundscheck) :\
    (PyErr_SetString(PyExc_IndexError, "list index out of range"), (PyObject*)NULL))
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_List_Fast(PyObject *o, Py_ssize_t i,
                                                              int wraparound, int boundscheck);
#define __Pyx_GetItemInt_Tuple(o, i, type, is_signed, to_py_func, is_list, wraparound, boundscheck)\
    (__Pyx_fits_Py_ssize_t(i, type, is_signed) ?\
    __Pyx_GetItemInt_Tuple_Fast(o, (Py_ssize_t)i, wraparound, boundscheck) :\
    (PyErr_SetString(PyExc_IndexError, "tuple index out of range"), (PyObject*)NULL))
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Tuple_Fast(PyObject *o, Py_ssize_t i,
                                                              int wraparound, int boundscheck);
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j);
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Fast(PyObject *o, Py_ssize_t i,
                                                     int is_list, int wraparound, int boundscheck);

/* PyUnicode_Substring.proto */
static CYTHON_INLINE PyObject* __Pyx_PyUnicode_Substring(
            PyObject* text, Py_ssize_t start, Py_ssize_t stop);

/* IncludeStringH.proto */
#include <string.h>

/* BytesEquals.proto */
static CYTHON_INLINE int __Pyx_PyBytes_Equals(PyObject* s1, PyObject* s2, int equals);

/* UnicodeEquals.proto */
static CYTHON_INLINE int __Pyx_PyUnicode_Equals(PyObject* s1, PyObject* s2, int equals);

/* PyObjectLookupSpecial.proto */
#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x02070000
static CYTHON_INLINE PyObject* __Pyx_PyObject_LookupSpecial(PyObject* obj, PyObject* attr_name) {
    PyObject *res;
    PyTypeObject *tp = Py_TYPE(obj);
#if PY_MAJOR_VERSION < 3
    if (unlikely(PyInstance_Check(obj)))
        return __Pyx_PyObject_GetAttrStr(obj, attr_name);
#endif
    res = _PyType_Lookup(tp, attr_name);
    if (likely(res)) {
        descrgetfunc f = Py_TYPE(res)->tp_descr_get;
        if (!f) {
            Py_INCREF(res);
        } else {
            res = f(res, obj, (PyObject *)tp);
        }
    } else {
        PyErr_SetObject(PyExc_AttributeError, attr_name);
    }
    return res;
}
#else
#define __Pyx_PyObject_LookupSpecial(o,n) __Pyx_PyObject_GetAttrStr(o,n)
#endif

/* PyIntBinop.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyInt_AddObjC(PyObject *op1, PyObject *op2, long intval, int inplace);
#else
#define __Pyx_PyInt_AddObjC(op1, op2, intval, inplace)\
    (inplace ? PyNumber_InPlaceAdd(op1, op2) : PyNumber_Add(op1, op2))
#endif

/* None.proto */
static CYTHON_INLINE void __Pyx_RaiseUnboundLocalError(const char *varname);

/* RaiseTooManyValuesToUnpack.proto */
static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected);

/* RaiseNeedMoreValuesToUnpack.proto */
static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index);

/* IterFinish.proto */
static CYTHON_INLINE int __Pyx_IterFinish(void);

/* UnpackItemEndCheck.proto */
static int __Pyx_IternextUnpackEndCheck(PyObject *retval, Py_ssize_t expected);

/* None.proto */
static CYTHON_INLINE void __Pyx_RaiseClosureNameError(const char *varname);

/* IterNext.proto */
#define __Pyx_PyIter_Next(obj) __Pyx_PyIter_Next2(obj, NULL)
static CYTHON_INLINE PyObject *__Pyx_PyIter_Next2(PyObject *, PyObject *);

/* PyObjectCallMethod0.proto */
static PyObject* __Pyx_PyObject_CallMethod0(PyObject* obj, PyObject* method_name);

/* RaiseNoneIterError.proto */
static CYTHON_INLINE void __Pyx_RaiseNoneNotIterableError(void);

/* UnpackTupleError.proto */
static void __Pyx_UnpackTupleError(PyObject *, Py_ssize_t index);

/* UnpackTuple2.proto */
static CYTHON_INLINE int __Pyx_unpack_tuple2(PyObject* tuple, PyObject** value1, PyObject** value2,
                                             int is_tuple, int has_known_size, int decref_tuple);

/* dict_iter.proto */
static CYTHON_INLINE PyObject* __Pyx_dict_iterator(PyObject* dict, int is_dict, PyObject* method_name,
                                                   Py_ssize_t* p_orig_length, int* p_is_dict);
static CYTHON_INLINE int __Pyx_dict_iter_next(PyObject* dict_or_iter, Py_ssize_t orig_length, Py_ssize_t* ppos,
                                              PyObject** pkey, PyObject** pvalue, PyObject** pitem, int is_dict);

/* MergeKeywords.proto */
static int __Pyx_MergeKeywords(PyObject *kwdict, PyObject *source_mapping);

/* ListCompAppend.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE int __Pyx_ListComp_Append(PyObject* list, PyObject* x) {
    PyListObject* L = (PyListObject*) list;
    Py_ssize_t len = Py_SIZE(list);
    if (likely(L->allocated > len)) {
        Py_INCREF(x);
        PyList_SET_ITEM(list, len, x);
        Py_SIZE(list) = len+1;
        return 0;
    }
    return PyList_Append(list, x);
}
#else
#define __Pyx_ListComp_Append(L,x) PyList_Append(L,x)
#endif

/* dict_getitem_default.proto */
static PyObject* __Pyx_PyDict_GetItemDefault(PyObject* d, PyObject* key, PyObject* default_value);

/* Import.proto */
static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);

/* ImportFrom.proto */
static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name);

/* PyFloatBinop.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyFloat_SubtractObjC(PyObject *op1, PyObject *op2, double floatval, int inplace);
#else
#define __Pyx_PyFloat_SubtractObjC(op1, op2, floatval, inplace)\
    (inplace ? PyNumber_InPlaceSubtract(op1, op2) : PyNumber_Subtract(op1, op2))
#endif

/* PyIntBinop.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyInt_SubtractObjC(PyObject *op1, PyObject *op2, long intval, int inplace);
#else
#define __Pyx_PyInt_SubtractObjC(op1, op2, intval, inplace)\
    (inplace ? PyNumber_InPlaceSubtract(op1, op2) : PyNumber_Subtract(op1, op2))
#endif

/* FetchCommonType.proto */
static PyTypeObject* __Pyx_FetchCommonType(PyTypeObject* type);

/* CythonFunction.proto */
#define __Pyx_CyFunction_USED 1
#include <structmember.h>
#define __Pyx_CYFUNCTION_STATICMETHOD  0x01
#define __Pyx_CYFUNCTION_CLASSMETHOD   0x02
#define __Pyx_CYFUNCTION_CCLASS        0x04
#define __Pyx_CyFunction_GetClosure(f)\
    (((__pyx_CyFunctionObject *) (f))->func_closure)
#define __Pyx_CyFunction_GetClassObj(f)\
    (((__pyx_CyFunctionObject *) (f))->func_classobj)
#define __Pyx_CyFunction_Defaults(type, f)\
    ((type *)(((__pyx_CyFunctionObject *) (f))->defaults))
#define __Pyx_CyFunction_SetDefaultsGetter(f, g)\
    ((__pyx_CyFunctionObject *) (f))->defaults_getter = (g)
typedef struct {
    PyCFunctionObject func;
#if PY_VERSION_HEX < 0x030500A0
    PyObject *func_weakreflist;
#endif
    PyObject *func_dict;
    PyObject *func_name;
    PyObject *func_qualname;
    PyObject *func_doc;
    PyObject *func_globals;
    PyObject *func_code;
    PyObject *func_closure;
    PyObject *func_classobj;
    void *defaults;
    int defaults_pyobjects;
    int flags;
    PyObject *defaults_tuple;
    PyObject *defaults_kwdict;
    PyObject *(*defaults_getter)(PyObject *);
    PyObject *func_annotations;
} __pyx_CyFunctionObject;
static PyTypeObject *__pyx_CyFunctionType = 0;
#define __Pyx_CyFunction_NewEx(ml, flags, qualname, self, module, globals, code)\
    __Pyx_CyFunction_New(__pyx_CyFunctionType, ml, flags, qualname, self, module, globals, code)
static PyObject *__Pyx_CyFunction_New(PyTypeObject *, PyMethodDef *ml,
                                      int flags, PyObject* qualname,
                                      PyObject *self,
                                      PyObject *module, PyObject *globals,
                                      PyObject* code);
static CYTHON_INLINE void *__Pyx_CyFunction_InitDefaults(PyObject *m,
                                                         size_t size,
                                                         int pyobjects);
static CYTHON_INLINE void __Pyx_CyFunction_SetDefaultsTuple(PyObject *m,
                                                            PyObject *tuple);
static CYTHON_INLINE void __Pyx_CyFunction_SetDefaultsKwDict(PyObject *m,
                                                             PyObject *dict);
static CYTHON_INLINE void __Pyx_CyFunction_SetAnnotationsDict(PyObject *m,
                                                              PyObject *dict);
static int __pyx_CyFunction_init(void);

/* SliceObject.proto */
#define __Pyx_PyObject_DelSlice(obj, cstart, cstop, py_start, py_stop, py_slice, has_cstart, has_cstop, wraparound)\
    __Pyx_PyObject_SetSlice(obj, (PyObject*)NULL, cstart, cstop, py_start, py_stop, py_slice, has_cstart, has_cstop, wraparound)
static CYTHON_INLINE int __Pyx_PyObject_SetSlice(
        PyObject* obj, PyObject* value, Py_ssize_t cstart, Py_ssize_t cstop,
        PyObject** py_start, PyObject** py_stop, PyObject** py_slice,
        int has_cstart, int has_cstop, int wraparound);

/* ListAppend.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE int __Pyx_PyList_Append(PyObject* list, PyObject* x) {
    PyListObject* L = (PyListObject*) list;
    Py_ssize_t len = Py_SIZE(list);
    if (likely(L->allocated > len) & likely(len > (L->allocated >> 1))) {
        Py_INCREF(x);
        PyList_SET_ITEM(list, len, x);
        Py_SIZE(list) = len+1;
        return 0;
    }
    return PyList_Append(list, x);
}
#else
#define __Pyx_PyList_Append(L,x) PyList_Append(L,x)
#endif

/* ListExtend.proto */
static CYTHON_INLINE int __Pyx_PyList_Extend(PyObject* L, PyObject* v) {
#if CYTHON_COMPILING_IN_CPYTHON
    PyObject* none = _PyList_Extend((PyListObject*)L, v);
    if (unlikely(!none))
        return -1;
    Py_DECREF(none);
    return 0;
#else
    return PyList_SetSlice(L, PY_SSIZE_T_MAX, PY_SSIZE_T_MAX, v);
#endif
}

/* DictGetItem.proto */
#if PY_MAJOR_VERSION >= 3 && !CYTHON_COMPILING_IN_PYPY
static PyObject *__Pyx_PyDict_GetItem(PyObject *d, PyObject* key) {
    PyObject *value;
    value = PyDict_GetItemWithError(d, key);
    if (unlikely(!value)) {
        if (!PyErr_Occurred()) {
            PyObject* args = PyTuple_Pack(1, key);
            if (likely(args))
                PyErr_SetObject(PyExc_KeyError, args);
            Py_XDECREF(args);
        }
        return NULL;
    }
    Py_INCREF(value);
    return value;
}
#else
    #define __Pyx_PyDict_GetItem(d, key) PyObject_GetItem(d, key)
#endif

/* PyObjectCallMethod1.proto */
static PyObject* __Pyx_PyObject_CallMethod1(PyObject* obj, PyObject* method_name, PyObject* arg);

/* append.proto */
static CYTHON_INLINE int __Pyx_PyObject_Append(PyObject* L, PyObject* x);

/* PyObjectCallMethod2.proto */
static PyObject* __Pyx_PyObject_CallMethod2(PyObject* obj, PyObject* method_name, PyObject* arg1, PyObject* arg2);

/* dict_setdefault.proto */
static CYTHON_INLINE PyObject *__Pyx_PyDict_SetDefault(PyObject *d, PyObject *key, PyObject *default_value, int is_safe_type);

/* PyIntBinop.proto */
#if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyInt_AddCObj(PyObject *op1, PyObject *op2, long intval, int inplace);
#else
#define __Pyx_PyInt_AddCObj(op1, op2, intval, inplace)\
    (inplace ? PyNumber_InPlaceAdd(op1, op2) : PyNumber_Add(op1, op2))
#endif

/* pyobject_as_double.proto */
static double __Pyx__PyObject_AsDouble(PyObject* obj);
#if CYTHON_COMPILING_IN_PYPY
#define __Pyx_PyObject_AsDouble(obj)\
(likely(PyFloat_CheckExact(obj)) ? PyFloat_AS_DOUBLE(obj) :\
 likely(PyInt_CheckExact(obj)) ?\
 PyFloat_AsDouble(obj) : __Pyx__PyObject_AsDouble(obj))
#else
#define __Pyx_PyObject_AsDouble(obj)\
((likely(PyFloat_CheckExact(obj))) ?\
 PyFloat_AS_DOUBLE(obj) : __Pyx__PyObject_AsDouble(obj))
#endif

/* PyDictContains.proto */
static CYTHON_INLINE int __Pyx_PyDict_ContainsTF(PyObject* item, PyObject* dict, int eq) {
    int result = PyDict_Contains(dict, item);
    return unlikely(result < 0) ? result : (result == (eq == Py_EQ));
}

/* GetAttr.proto */
static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *, PyObject *);

/* GetAttr3.proto */
static CYTHON_INLINE PyObject *__Pyx_GetAttr3(PyObject *, PyObject *, PyObject *);

/* CalculateMetaclass.proto */
static PyObject *__Pyx_CalculateMetaclass(PyTypeObject *metaclass, PyObject *bases);

/* Py3ClassCreate.proto */
static PyObject *__Pyx_Py3MetaclassPrepare(PyObject *metaclass, PyObject *bases, PyObject *name, PyObject *qualname,
                                           PyObject *mkw, PyObject *modname, PyObject *doc);
static PyObject *__Pyx_Py3ClassCreate(PyObject *metaclass, PyObject *name, PyObject *bases, PyObject *dict,
                                      PyObject *mkw, int calculate_metaclass, int allow_py2_metaclass);

/* CodeObjectCache.proto */
typedef struct {
    PyCodeObject* code_object;
    int code_line;
} __Pyx_CodeObjectCacheEntry;
struct __Pyx_CodeObjectCache {
    int count;
    int max_count;
    __Pyx_CodeObjectCacheEntry* entries;
};
static struct __Pyx_CodeObjectCache __pyx_code_cache = {0,0,NULL};
static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line);
static PyCodeObject *__pyx_find_code_object(int code_line);
static void __pyx_insert_code_object(int code_line, PyCodeObject* code_object);

/* AddTraceback.proto */
static void __Pyx_AddTraceback(const char *funcname, int c_line,
                               int py_line, const char *filename);

/* CIntToPy.proto */
static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value);

/* ClassMethod.proto */
#include "descrobject.h"
static PyObject* __Pyx_Method_ClassMethod(PyObject *method);

/* CIntFromPy.proto */
static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *);

/* CIntFromPy.proto */
static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *);

/* CoroutineBase.proto */
typedef PyObject *(*__pyx_coroutine_body_t)(PyObject *, PyObject *);
typedef struct {
    PyObject_HEAD
    __pyx_coroutine_body_t body;
    PyObject *closure;
    PyObject *exc_type;
    PyObject *exc_value;
    PyObject *exc_traceback;
    PyObject *gi_weakreflist;
    PyObject *classobj;
    PyObject *yieldfrom;
    PyObject *gi_name;
    PyObject *gi_qualname;
    PyObject *gi_modulename;
    int resume_label;
    char is_running;
} __pyx_CoroutineObject;
static __pyx_CoroutineObject *__Pyx__Coroutine_New(
    PyTypeObject *type, __pyx_coroutine_body_t body, PyObject *closure,
    PyObject *name, PyObject *qualname, PyObject *module_name);
static int __Pyx_Coroutine_clear(PyObject *self);
#if 1 || PY_VERSION_HEX < 0x030300B0
static int __Pyx_PyGen_FetchStopIterationValue(PyObject **pvalue);
#else
#define __Pyx_PyGen_FetchStopIterationValue(pvalue) PyGen_FetchStopIterationValue(pvalue)
#endif

/* PatchModuleWithCoroutine.proto */
static PyObject* __Pyx_Coroutine_patch_module(PyObject* module, const char* py_code);

/* PatchGeneratorABC.proto */
static int __Pyx_patch_abc(void);

/* Generator.proto */
#define __Pyx_Generator_USED
static PyTypeObject *__pyx_GeneratorType = 0;
#define __Pyx_Generator_CheckExact(obj) (Py_TYPE(obj) == __pyx_GeneratorType)
#define __Pyx_Generator_New(body, closure, name, qualname, module_name)\
    __Pyx__Coroutine_New(__pyx_GeneratorType, body, closure, name, qualname, module_name)
static PyObject *__Pyx_Generator_Next(PyObject *self);
static int __pyx_Generator_init(void);

/* CheckBinaryVersion.proto */
static int __Pyx_check_binary_version(void);

/* InitStrings.proto */
static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);


/* Module declarations from 'youtube_dl.extractor.common' */
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries = 0;
static PyTypeObject *__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases = 0;
#define __Pyx_MODULE_NAME "youtube_dl.extractor.common"
int __pyx_module_is_main_youtube_dl__extractor__common = 0;

/* Implementation of 'youtube_dl.extractor.common' */
static PyObject *__pyx_builtin_object;
static PyObject *__pyx_builtin_property;
static PyObject *__pyx_builtin_staticmethod;
static PyObject *__pyx_builtin_KeyError;
static PyObject *__pyx_builtin_StopIteration;
static PyObject *__pyx_builtin_AttributeError;
static PyObject *__pyx_builtin_open;
static PyObject *__pyx_builtin_LookupError;
static PyObject *__pyx_builtin_ValueError;
static PyObject *__pyx_builtin_IOError;
static PyObject *__pyx_builtin_filter;
static PyObject *__pyx_builtin_enumerate;
static PyObject *__pyx_builtin_range;
static PyObject *__pyx_builtin_print;
static PyObject *__pyx_builtin_NotImplementedError;
static const char __pyx_k_0[] = "0";
static const char __pyx_k_1[] = "1";
static const char __pyx_k_S[] = "S";
static const char __pyx_k_b[] = "b";
static const char __pyx_k_c[] = "c";
static const char __pyx_k_d[] = "%d";
static const char __pyx_k_e[] = "e";
static const char __pyx_k_f[] = "f";
static const char __pyx_k_h[] = "h";
static const char __pyx_k_i[] = "i";
static const char __pyx_k_m[] = "m";
static const char __pyx_k_n[] = "n";
static const char __pyx_k_p[] = "p";
static const char __pyx_k_r[] = "r";
static const char __pyx_k_s[] = "%s";
static const char __pyx_k_t[] = "t";
static const char __pyx_k_v[] = "v";
static const char __pyx_k_x[] = "x";
static const char __pyx_k_IE[] = "IE";
static const char __pyx_k__6[] = "#";
static const char __pyx_k_en[] = "en";
static const char __pyx_k_id[] = "id";
static const char __pyx_k_ie[] = "ie";
static const char __pyx_k_nt[] = "nt";
static const char __pyx_k_os[] = "os";
static const char __pyx_k_re[] = "re";
static const char __pyx_k_s1[] = "s1";
static const char __pyx_k_tc[] = "tc";
static const char __pyx_k_ve[] = "ve";
static const char __pyx_k_wb[] = "wb";
static const char __pyx_k_1_0[] = "1.0";
static const char __pyx_k_1_2[] = "%(\\1)\\2";
static const char __pyx_k_1_d[] = "%(\\1)d";
static const char __pyx_k_2_0[] = "2.0";
static const char __pyx_k__12[] = "\377\376";
static const char __pyx_k__14[] = "";
static const char __pyx_k__19[] = "___";
static const char __pyx_k__21[] = "\\\\?\\";
static const char __pyx_k__26[] = "\n";
static const char __pyx_k__27[] = " ";
static const char __pyx_k__64[] = "<!--(?:(?!<!--).)*-->";
static const char __pyx_k_aac[] = "aac";
static const char __pyx_k_abr[] = "abr";
static const char __pyx_k_all[] = "all";
static const char __pyx_k_asr[] = "asr";
static const char __pyx_k_cls[] = "cls";
static const char __pyx_k_ctr[] = "ctr";
static const char __pyx_k_d_2[] = "d";
static const char __pyx_k_doc[] = "__doc__";
static const char __pyx_k_err[] = "err";
static const char __pyx_k_ext[] = "ext";
static const char __pyx_k_f4f[] = "f4f";
static const char __pyx_k_f4m[] = "f4m";
static const char __pyx_k_flv[] = "flv";
static const char __pyx_k_fps[] = "fps";
static const char __pyx_k_get[] = "get";
static const char __pyx_k_hds[] = "hds";
static const char __pyx_k_hls[] = "hls";
static const char __pyx_k_int[] = "_int";
static const char __pyx_k_key[] = "key";
static const char __pyx_k_m4a[] = "m4a";
static const char __pyx_k_md5[] = "md5";
static const char __pyx_k_mis[] = "mis";
static const char __pyx_k_mp3[] = "mp3";
static const char __pyx_k_mp4[] = "mp4";
static const char __pyx_k_mpd[] = "mpd";
static const char __pyx_k_msg[] = "msg";
static const char __pyx_k_mul[] = "mul";
static const char __pyx_k_now[] = "now";
static const char __pyx_k_num[] = "num";
static const char __pyx_k_ogg[] = "ogg";
static const char __pyx_k_out[] = "out";
static const char __pyx_k_req[] = "req";
static const char __pyx_k_res[] = "res";
static const char __pyx_k_ret[] = "ret";
static const char __pyx_k_s_2[] = "%s: ";
static const char __pyx_k_s_3[] = "s";
static const char __pyx_k_s_e[] = "s_e";
static const char __pyx_k_s_s[] = "%s: %s";
static const char __pyx_k_src[] = "src";
static const char __pyx_k_sub[] = "sub";
static const char __pyx_k_sys[] = "sys";
static const char __pyx_k_tag[] = "tag";
static const char __pyx_k_tbr[] = "tbr";
static const char __pyx_k_und[] = "und";
static const char __pyx_k_url[] = "url";
static const char __pyx_k_vbr[] = "vbr";
static const char __pyx_k_zxx[] = "zxx";
static const char __pyx_k_NAME[] = "NAME";
static const char __pyx_k_TEST[] = "_TEST";
static const char __pyx_k_TYPE[] = "TYPE";
static const char __pyx_k_Time[] = "Time";
static const char __pyx_k__110[] = "//";
static const char __pyx_k__113[] = ";";
static const char __pyx_k__120[] = "-";
static const char __pyx_k__125[] = "/";
static const char __pyx_k__144[] = ".";
static const char __pyx_k__166[] = "?";
static const char __pyx_k__167[] = "&";
static const char __pyx_k__206[] = "$$";
static const char __pyx_k__207[] = "$";
static const char __pyx_k__275[] = "_";
static const char __pyx_k_args[] = "args";
static const char __pyx_k_base[] = "base";
static const char __pyx_k_ceil[] = "ceil";
static const char __pyx_k_copy[] = "copy";
static const char __pyx_k_data[] = "data";
static const char __pyx_k_date[] = "date";
static const char __pyx_k_dict[] = "__dict__";
static const char __pyx_k_dump[] = ".dump";
static const char __pyx_k_exit[] = "__exit__";
static const char __pyx_k_find[] = "find";
static const char __pyx_k_form[] = "form";
static const char __pyx_k_href[] = "href";
static const char __pyx_k_html[] = "html";
static const char __pyx_k_http[] = "http";
static const char __pyx_k_info[] = "info";
static const char __pyx_k_init[] = "__init__";
static const char __pyx_k_item[] = "item";
static const char __pyx_k_json[] = "json";
static const char __pyx_k_kind[] = "kind";
static const char __pyx_k_lang[] = "lang";
static const char __pyx_k_line[] = "line";
static const char __pyx_k_live[] = "live";
static const char __pyx_k_m3u8[] = "m3u8";
static const char __pyx_k_main[] = "__main__";
static const char __pyx_k_math[] = "math";
static const char __pyx_k_meta[] = "meta";
static const char __pyx_k_mobj[] = "mobj";
static const char __pyx_k_name[] = "__name__";
static const char __pyx_k_none[] = "none";
static const char __pyx_k_note[] = "note";
static const char __pyx_k_open[] = "open";
static const char __pyx_k_opus[] = "opus";
static const char __pyx_k_outf[] = "outf";
static const char __pyx_k_path[] = "path";
static const char __pyx_k_prop[] = "prop";
static const char __pyx_k_read[] = "read";
static const char __pyx_k_rtmp[] = "rtmp";
static const char __pyx_k_s__s[] = "%s_%s";
static const char __pyx_k_self[] = "self";
static const char __pyx_k_send[] = "send";
static const char __pyx_k_size[] = "size";
static const char __pyx_k_smil[] = "smil";
static const char __pyx_k_sort[] = "sort";
static const char __pyx_k_srcs[] = "srcs";
static const char __pyx_k_test[] = "__test__";
static const char __pyx_k_text[] = "text";
static const char __pyx_k_time[] = "time";
static const char __pyx_k_true[] = "true";
static const char __pyx_k_type[] = "_type";
static const char __pyx_k_urlh[] = "urlh";
static const char __pyx_k_urls[] = "urls";
static const char __pyx_k_webm[] = "webm";
static const char __pyx_k_xspf[] = "xspf";
static const char __pyx_k_3_2_0[] = "3.2.0";
static const char __pyx_k_ORDER[] = "ORDER";
static const char __pyx_k_TESTS[] = "_TESTS";
static const char __pyx_k_ascii[] = "ascii";
static const char __pyx_k_audio[] = ".//audio";
static const char __pyx_k_basen[] = "basen";
static const char __pyx_k_cause[] = "cause";
static const char __pyx_k_close[] = "close";
static const char __pyx_k_enter[] = "__enter__";
static const char __pyx_k_error[] = "error";
static const char __pyx_k_false[] = "false";
static const char __pyx_k_fatal[] = "fatal";
static const char __pyx_k_flags[] = "flags";
static const char __pyx_k_float[] = "_float";
static const char __pyx_k_group[] = "group";
static const char __pyx_k_hls_d[] = "hls-%d";
static const char __pyx_k_https[] = "https";
static const char __pyx_k_i_MPD[] = "(?i)^{([^}]+)?}MPD$";
static const char __pyx_k_idstr[] = "idstr";
static const char __pyx_k_image[] = "image";
static const char __pyx_k_index[] = "index";
static const char __pyx_k_input[] = "input";
static const char __pyx_k_items[] = "items";
static const char __pyx_k_kargs[] = "kargs";
static const char __pyx_k_label[] = "label";
static const char __pyx_k_loads[] = "loads";
static const char __pyx_k_lower[] = "lower";
static const char __pyx_k_match[] = "match";
static const char __pyx_k_media[] = "media";
static const char __pyx_k_netrc[] = "netrc";
static const char __pyx_k_print[] = "print";
static const char __pyx_k_proto[] = "proto";
static const char __pyx_k_query[] = "query";
static const char __pyx_k_range[] = "range";
static const char __pyx_k_ready[] = "_ready";
static const char __pyx_k_s_s_2[] = "[%s] %s";
static const char __pyx_k_s_s_3[] = "{%s}%s";
static const char __pyx_k_s_s_4[] = "%s-%s";
static const char __pyx_k_s_s_s[] = "[%s] %s%s";
static const char __pyx_k_scale[] = "scale";
static const char __pyx_k_sleep[] = "_sleep";
static const char __pyx_k_split[] = "split";
static const char __pyx_k_strip[] = "strip";
static const char __pyx_k_tests[] = "tests";
static const char __pyx_k_throw[] = "throw";
static const char __pyx_k_title[] = "title";
static const char __pyx_k_track[] = "<track[^>]+>";
static const char __pyx_k_tries[] = "tries";
static const char __pyx_k_utf_8[] = "utf-8";
static const char __pyx_k_utils[] = "utils";
static const char __pyx_k_value[] = "value";
static const char __pyx_k_video[] = "video";
static const char __pyx_k_width[] = "width";
static const char __pyx_k_write[] = "write";
static const char __pyx_k_CODECS[] = "CODECS";
static const char __pyx_k_Cookie[] = "Cookie";
static const char __pyx_k_DASH_s[] = "DASH %s";
static const char __pyx_k_DOTALL[] = "DOTALL";
static const char __pyx_k_NS_MAP[] = "NS_MAP";
static const char __pyx_k_Number[] = "%(Number";
static const char __pyx_k_Period[] = "Period";
static const char __pyx_k_acodec[] = "acodec";
static const char __pyx_k_add_ns[] = "_add_ns";
static const char __pyx_k_append[] = "append";
static const char __pyx_k_attrib[] = "attrib";
static const char __pyx_k_base64[] = "base64";
static const char __pyx_k_codecs[] = "codecs";
static const char __pyx_k_compat[] = "compat";
static const char __pyx_k_cookie[] = "cookie";
static const char __pyx_k_decode[] = "decode";
static const char __pyx_k_domain[] = "domain";
static const char __pyx_k_dump_2[] = "dump";
static const char __pyx_k_encode[] = "encode";
static const char __pyx_k_errmsg[] = "errmsg";
static const char __pyx_k_escape[] = "escape";
static const char __pyx_k_f4m_id[] = "f4m_id";
static const char __pyx_k_filter[] = "filter";
static const char __pyx_k_geturl[] = "geturl";
static const char __pyx_k_groups[] = "groups";
static const char __pyx_k_h1_p_p[] = "</h1><p>(.*?)</p>";
static const char __pyx_k_hdcore[] = "hdcore";
static const char __pyx_k_height[] = "height";
static const char __pyx_k_http_2[] = "http:";
static const char __pyx_k_http_3[] = "http://";
static const char __pyx_k_http_d[] = "http-%d";
static const char __pyx_k_i_smil[] = "(?i)^{([^}]+)?}smil$";
static const char __pyx_k_ie_key[] = "ie_key";
static const char __pyx_k_import[] = "__import__";
static const char __pyx_k_isatty[] = "isatty";
static const char __pyx_k_kwargs[] = "kwargs";
static const char __pyx_k_mature[] = "mature";
static const char __pyx_k_medium[] = "medium";
static const char __pyx_k_module[] = "__module__";
static const char __pyx_k_mpd_id[] = "mpd_id";
static const char __pyx_k_name_2[] = "name";
static const char __pyx_k_name_3[] = "_name";
static const char __pyx_k_object[] = "object";
static const char __pyx_k_params[] = "params";
static const char __pyx_k_period[] = "period";
static const char __pyx_k_plugin[] = "plugin";
static const char __pyx_k_poster[] = "poster";
static const char __pyx_k_prefix[] = "prefix";
static const char __pyx_k_rating[] = "rating";
static const char __pyx_k_rtmp_d[] = "rtmp-%d";
static const char __pyx_k_s_form[] = "%s form";
static const char __pyx_k_scheme[] = "scheme";
static const char __pyx_k_search[] = "search";
static const char __pyx_k_secure[] = "secure";
static const char __pyx_k_series[] = "series";
static const char __pyx_k_socket[] = "socket";
static const char __pyx_k_source[] = "<source[^>]+>";
static const char __pyx_k_stderr[] = "stderr";
static const char __pyx_k_string[] = "string";
static const char __pyx_k_type_2[] = "@type";
static const char __pyx_k_type_3[] = "type";
static const char __pyx_k_update[] = "update";
static const char __pyx_k_url_el[] = "url_el";
static const char __pyx_k_utf_16[] = "utf-16";
static const char __pyx_k_vcodec[] = "vcodec";
static const char __pyx_k_Article[] = "Article";
static const char __pyx_k_BaseURL[] = "BaseURL";
static const char __pyx_k_IE_NAME[] = "IE_NAME";
static const char __pyx_k_IOError[] = "IOError";
static const char __pyx_k_JSON_LD[] = "JSON-LD";
static const char __pyx_k_Request[] = "Request";
static const char __pyx_k_WORKING[] = "_WORKING";
static const char __pyx_k_abspath[] = "abspath";
static const char __pyx_k_audio_2[] = "audio";
static const char __pyx_k_bitrate[] = "bitrate";
static const char __pyx_k_compile[] = "compile";
static const char __pyx_k_content[] = "content";
static const char __pyx_k_context[] = "@context";
static const char __pyx_k_default[] = "default";
static const char __pyx_k_dynamic[] = "dynamic";
static const char __pyx_k_element[] = "element";
static const char __pyx_k_entries[] = "entries";
static const char __pyx_k_episode[] = "episode";
static const char __pyx_k_errnote[] = "errnote";
static const char __pyx_k_escaped[] = "escaped";
static const char __pyx_k_extract[] = "extract";
static const char __pyx_k_f4m_url[] = "f4m_url";
static const char __pyx_k_findall[] = "findall";
static const char __pyx_k_form_id[] = "form_id";
static const char __pyx_k_formats[] = "formats";
static const char __pyx_k_general[] = "general";
static const char __pyx_k_genexpr[] = "genexpr";
static const char __pyx_k_hashlib[] = "hashlib";
static const char __pyx_k_headers[] = "headers";
static const char __pyx_k_https_2[] = "https://";
static const char __pyx_k_https_3[] = "https:";
static const char __pyx_k_https_4[] = "^https?://";
static const char __pyx_k_https_5[] = "https?://.+/";
static const char __pyx_k_i_input[] = "(?i)<input([^>]+)>";
static const char __pyx_k_image_2[] = ".//image";
static const char __pyx_k_json_ld[] = "json_ld";
static const char __pyx_k_m3u8_id[] = "m3u8_id";
static const char __pyx_k_mpd_doc[] = "mpd_doc";
static const char __pyx_k_mpd_url[] = "mpd_url";
static const char __pyx_k_ms_info[] = "ms_info";
static const char __pyx_k_now_str[] = "now_str";
static const char __pyx_k_pattern[] = "pattern";
static const char __pyx_k_prepare[] = "__prepare__";
static const char __pyx_k_quality[] = "quality";
static const char __pyx_k_regexes[] = "regexes";
static const char __pyx_k_replace[] = "replace";
static const char __pyx_k_sleep_2[] = "sleep";
static const char __pyx_k_src_ext[] = "src_ext";
static const char __pyx_k_src_url[] = "src_url";
static const char __pyx_k_srclang[] = "srclang";
static const char __pyx_k_success[] = "success";
static const char __pyx_k_timeout[] = "timeout";
static const char __pyx_k_track_2[] = "track";
static const char __pyx_k_urljoin[] = "urljoin";
static const char __pyx_k_urlopen[] = "urlopen";
static const char __pyx_k_video_2[] = ".//video";
static const char __pyx_k_webpage[] = "webpage";
static const char __pyx_k_working[] = "working";
static const char __pyx_k_14_years[] = "14 years";
static const char __pyx_k_KeyError[] = "KeyError";
static const char __pyx_k_Number_2[] = "Number";
static const char __pyx_k_TVSeason[] = "TVSeason";
static const char __pyx_k_TVSeries[] = "TVSeries";
static const char __pyx_k_URLError[] = "URLError";
static const char __pyx_k_Websense[] = "Websense";
static const char __pyx_k_abstract[] = "abstract";
static const char __pyx_k_base_URL[] = "base URL";
static const char __pyx_k_base_url[] = "base_url";
static const char __pyx_k_datetime[] = "datetime";
static const char __pyx_k_duration[] = "duration";
static const char __pyx_k_encoding[] = "encoding";
static const char __pyx_k_endswith[] = "endswith";
static const char __pyx_k_exc_info[] = "exc_info";
static const char __pyx_k_expected[] = "expected";
static const char __pyx_k_fileSize[] = "fileSize";
static const char __pyx_k_filename[] = "filename";
static const char __pyx_k_filesize[] = "filesize";
static const char __pyx_k_get_attr[] = "get_attr";
static const char __pyx_k_headline[] = "headline";
static const char __pyx_k_httpBase[] = "httpBase";
static const char __pyx_k_language[] = "language";
static const char __pyx_k_m3u8_doc[] = "m3u8_doc";
static const char __pyx_k_m3u8_url[] = "m3u8_url";
static const char __pyx_k_manifest[] = "manifest";
static const char __pyx_k_match_id[] = "_match_id";
static const char __pyx_k_media_el[] = "media_el";
static const char __pyx_k_meta_s_s[] = "<meta[^>]+?%s[^>]+?%s";
static const char __pyx_k_mimeType[] = "mimeType";
static const char __pyx_k_mimetype[] = "mimetype";
static const char __pyx_k_multiple[] = "multiple";
static const char __pyx_k_no_color[] = "no_color";
static const char __pyx_k_password[] = "password";
static const char __pyx_k_playlist[] = "playlist";
static const char __pyx_k_property[] = "property";
static const char __pyx_k_protocol[] = "protocol";
static const char __pyx_k_qualname[] = "__qualname__";
static const char __pyx_k_s1_label[] = "s1:label";
static const char __pyx_k_s1_width[] = "s1:width";
static const char __pyx_k_smil_url[] = "smil_url";
static const char __pyx_k_splitext[] = "splitext";
static const char __pyx_k_streamer[] = "streamer";
static const char __pyx_k_strftime[] = "strftime";
static const char __pyx_k_suitable[] = "suitable";
static const char __pyx_k_template[] = "template";
static const char __pyx_k_uploader[] = "uploader";
static const char __pyx_k_usenetrc[] = "usenetrc";
static const char __pyx_k_username[] = "username";
static const char __pyx_k_video_id[] = "video_id";
static const char __pyx_k_xpath_ns[] = "_xpath_ns";
static const char __pyx_k_BANDWIDTH[] = "BANDWIDTH";
static const char __pyx_k_Bandwidth[] = "Bandwidth";
static const char __pyx_k_Message_s[] = " (Message: \"%s\")";
static const char __pyx_k_SUBTITLES[] = "SUBTITLES";
static const char __pyx_k_TVEpisode[] = "TVEpisode";
static const char __pyx_k_VALID_URL[] = "_VALID_URL";
static const char __pyx_k_Y_m_d_H_M[] = "%Y-%m-%d %H:%M";
static const char __pyx_k_age_limit[] = "age_limit";
static const char __pyx_k_akamai_pv[] = "akamai_pv";
static const char __pyx_k_b64encode[] = "b64encode";
static const char __pyx_k_bandwidth[] = "bandwidth";
static const char __pyx_k_block_msg[] = "block_msg";
static const char __pyx_k_cookiejar[] = "cookiejar";
static const char __pyx_k_enumerate[] = "enumerate";
static const char __pyx_k_format_id[] = "format_id";
static const char __pyx_k_frameRate[] = "frameRate";
static const char __pyx_k_full_info[] = "full_info";
static const char __pyx_k_head_meta[] = "./head/meta";
static const char __pyx_k_hexdigest[] = "hexdigest";
static const char __pyx_k_info_dict[] = "info_dict";
static const char __pyx_k_item_type[] = "item_type";
static const char __pyx_k_json_ld_2[] = "_json_ld";
static const char __pyx_k_last_info[] = "last_info";
static const char __pyx_k_media_tag[] = "media_tag";
static const char __pyx_k_media_url[] = "media_url";
static const char __pyx_k_metaclass[] = "__metaclass__";
static const char __pyx_k_mime_type[] = "mime_type";
static const char __pyx_k_namespace[] = "namespace";
static const char __pyx_k_partition[] = "partition";
static const char __pyx_k_play_path[] = "play_path";
static const char __pyx_k_s1_height[] = "s1:height";
static const char __pyx_k_sourceURL[] = "sourceURL";
static const char __pyx_k_subtitles[] = "subtitles";
static const char __pyx_k_thumbnail[] = "thumbnail";
static const char __pyx_k_timescale[] = "timescale";
static const char __pyx_k_timestamp[] = "timestamp";
static const char __pyx_k_to_screen[] = "to_screen";
static const char __pyx_k_track_tag[] = "track_tag";
static const char __pyx_k_try_count[] = "try_count";
static const char __pyx_k_twofactor[] = "twofactor";
static const char __pyx_k_video_url[] = "video url";
static const char __pyx_k_width_str[] = "width_str";
static const char __pyx_k_0_34m_s_0m[] = "\033[0;34m%s\033[0m";
static const char __pyx_k_FRAME_RATE[] = "FRAME-RATE";
static const char __pyx_k_Logging_in[] = "Logging in";
static const char __pyx_k_NO_DEFAULT[] = "NO_DEFAULT";
static const char __pyx_k_RESOLUTION[] = "RESOLUTION";
static const char __pyx_k_SEARCH_KEY[] = "_SEARCH_KEY";
static const char __pyx_k_SegmentURL[] = "SegmentURL";
static const char __pyx_k_ValueError[] = "ValueError";
static const char __pyx_k_base_url_e[] = "base_url_e";
static const char __pyx_k_clean_html[] = "clean_html";
static const char __pyx_k_compat_str[] = "compat_str";
static const char __pyx_k_contentUrl[] = "contentUrl";
static const char __pyx_k_content_re[] = "content_re";
static const char __pyx_k_cookiefile[] = "cookiefile";
static const char __pyx_k_dc_creator[] = "dc.creator";
static const char __pyx_k_downloader[] = "downloader";
static const char __pyx_k_f4m_params[] = "f4m_params";
static const char __pyx_k_format_url[] = "format_url";
static const char __pyx_k_get_header[] = "get_header";
static const char __pyx_k_height_str[] = "height_str";
static const char __pyx_k_http_count[] = "http_count";
static const char __pyx_k_id_or_name[] = "id_or_name";
static const char __pyx_k_iframe_src[] = "<iframe src=\"([^\"]+)\"";
static const char __pyx_k_initialize[] = "initialize";
static const char __pyx_k_last_media[] = "last_media";
static const char __pyx_k_list1_urls[] = "list1_urls";
static const char __pyx_k_live_title[] = "_live_title";
static const char __pyx_k_m3u8_count[] = "m3u8_count";
static const char __pyx_k_m3u8_media[] = "m3u8_media";
static const char __pyx_k_media_info[] = "media_info";
static const char __pyx_k_media_type[] = "media_type";
static const char __pyx_k_meta_regex[] = "_meta_regex";
static const char __pyx_k_og_regexes[] = "_og_regexes";
static const char __pyx_k_parse_json[] = "_parse_json";
static const char __pyx_k_parse_smil[] = "_parse_smil";
static const char __pyx_k_parse_xspf[] = "_parse_xspf";
static const char __pyx_k_preference[] = "preference";
static const char __pyx_k_resolution[] = "resolution";
static const char __pyx_k_restricted[] = "restricted";
static const char __pyx_k_rta_search[] = "_rta_search";
static const char __pyx_k_rtmp_count[] = "rtmp_count";
static const char __pyx_k_set_cookie[] = "set_cookie";
static const char __pyx_k_setdefault[] = "setdefault";
static const char __pyx_k_source_tag[] = "source_tag";
static const char __pyx_k_splitlines[] = "splitlines";
static const char __pyx_k_startswith[] = "startswith";
static const char __pyx_k_textstream[] = ".//textstream";
static const char __pyx_k_thumbnails[] = "thumbnails";
static const char __pyx_k_uploadDate[] = "uploadDate";
static const char __pyx_k_url_result[] = "url_result";
static const char __pyx_k_video_info[] = "video_info";
static const char __pyx_k_xml_string[] = "xml_string";
static const char __pyx_k_xpath_text[] = "xpath_text";
static const char __pyx_k_xspf_image[] = "./xspf:image";
static const char __pyx_k_xspf_title[] = "./xspf:title";
static const char __pyx_k_EXT_X_MEDIA[] = "#EXT-X-MEDIA:";
static const char __pyx_k_LookupError[] = "LookupError";
static const char __pyx_k_MAX_RESULTS[] = "_MAX_RESULTS";
static const char __pyx_k_OpenGraph_s[] = "OpenGraph %s";
static const char __pyx_k_SegmentList[] = "SegmentList";
static const char __pyx_k_VideoObject[] = "VideoObject";
static const char __pyx_k_absfilepath[] = "absfilepath";
static const char __pyx_k_articleBody[] = "articleBody";
static const char __pyx_k_contentSize[] = "contentSize";
static const char __pyx_k_content_s_s[] = "content=(?:\"([^\"]+?)\"|\\'([^\\']+?)\\'|\\s*([^\\s\"\\'=<>`]+?))";
static const char __pyx_k_description[] = "description";
static const char __pyx_k_expire_time[] = "expire_time";
static const char __pyx_k_f4m_formats[] = "f4m_formats";
static const char __pyx_k_format_note[] = "format_note";
static const char __pyx_k_format_urls[] = "format_urls";
static const char __pyx_k_formats_key[] = "_formats_key";
static const char __pyx_k_get_cookies[] = "_get_cookies";
static const char __pyx_k_http_scheme[] = "http_scheme";
static const char __pyx_k_int_or_none[] = "int_or_none";
static const char __pyx_k_is_suitable[] = "is_suitable";
static const char __pyx_k_json_string[] = "json_string";
static const char __pyx_k_media_nodes[] = "media_nodes";
static const char __pyx_k_playlist_id[] = "playlist_id";
static const char __pyx_k_property_re[] = "property_re";
static const char __pyx_k_startNumber[] = "startNumber";
static const char __pyx_k_stream_name[] = "stream_name";
static const char __pyx_k_upload_date[] = "upload_date";
static const char __pyx_k_video_title[] = "video_title";
static const char __pyx_k_video_url_2[] = "video:url";
static const char __pyx_k_video_url_3[] = "video_url";
static const char __pyx_k_write_pages[] = "write_pages";
static const char __pyx_k_Content_Type[] = "Content-Type";
static const char __pyx_k_RATING_TABLE[] = "RATING_TABLE";
static const char __pyx_k_SEARCH_KEY_2[] = "SEARCH_KEY";
static const char __pyx_k_SimpleCookie[] = "SimpleCookie";
static const char __pyx_k_VALID_URL_RE[] = "_VALID_URL_RE";
static const char __pyx_k_absolute_url[] = "absolute_url";
static const char __pyx_k_content_type[] = "content_type";
static const char __pyx_k_display_name[] = "display_name";
static const char __pyx_k_download_xml[] = "_download_xml";
static const char __pyx_k_downloader_2[] = "_downloader";
static const char __pyx_k_formats_dict[] = "formats_dict";
static const char __pyx_k_get_full_url[] = "get_full_url";
static const char __pyx_k_get_tfa_info[] = "_get_tfa_info";
static const char __pyx_k_is_valid_url[] = "_is_valid_url";
static const char __pyx_k_m3u8_formats[] = "m3u8_formats";
static const char __pyx_k_manifest_url[] = "manifest_url";
static const char __pyx_k_mark_watched[] = "mark_watched";
static const char __pyx_k_meta_charset[] = "<meta[^>]+charset=[\\'\"]?([^\\'\")]+)[ /\\'\">]";
static const char __pyx_k_mimetype2ext[] = "mimetype2ext";
static const char __pyx_k_mpd_base_url[] = "mpd_base_url";
static const char __pyx_k_mpd_duration[] = "mpd_duration";
static const char __pyx_k_msg_template[] = "msg_template";
static const char __pyx_k_parse_codecs[] = "parse_codecs";
static const char __pyx_k_partOfSeason[] = "partOfSeason";
static const char __pyx_k_partOfSeries[] = "partOfSeries";
static const char __pyx_k_playlist_url[] = "playlist_url";
static const char __pyx_k_raw_filename[] = "raw_filename";
static const char __pyx_k_real_extract[] = "_real_extract";
static const char __pyx_k_report_login[] = "report_login";
static const char __pyx_k_search_regex[] = "_search_regex";
static const char __pyx_k_seasonNumber[] = "seasonNumber";
static const char __pyx_k_segment_list[] = "segment_list";
static const char __pyx_k_segment_time[] = "segment_time";
static const char __pyx_k_segment_urls[] = "segment_urls";
static const char __pyx_k_set_cookie_2[] = "_set_cookie";
static const char __pyx_k_sort_formats[] = "_sort_formats";
static const char __pyx_k_start_number[] = "start_number";
static const char __pyx_k_staticmethod[] = "staticmethod";
static const char __pyx_k_textstream_2[] = "textstream";
static const char __pyx_k_thumbnailUrl[] = "thumbnailUrl";
static const char __pyx_k_total_number[] = "total_number";
static const char __pyx_k_unescapeHTML[] = "unescapeHTML";
static const char __pyx_k_url_basename[] = "url_basename";
static const char __pyx_k_AdaptationSet[] = "AdaptationSet";
static const char __pyx_k_HTTPException[] = "HTTPException";
static const char __pyx_k_InfoExtractor[] = "InfoExtractor";
static const char __pyx_k_NETRC_MACHINE[] = "_NETRC_MACHINE";
static const char __pyx_k_StopIteration[] = "StopIteration";
static const char __pyx_k_block_message[] = "block message";
static const char __pyx_k_check_formats[] = "_check_formats";
static const char __pyx_k_datePublished[] = "datePublished";
static const char __pyx_k_determine_ext[] = "determine_ext";
static const char __pyx_k_download_json[] = "_download_json";
static const char __pyx_k_download_smil[] = "_download_smil";
static const char __pyx_k_episodeNumber[] = "episodeNumber";
static const char __pyx_k_expected_type[] = "expected_type";
static const char __pyx_k_float_or_none[] = "float_or_none";
static const char __pyx_k_get_n_results[] = "_get_n_results";
static const char __pyx_k_get_subtitles[] = "_get_subtitles";
static const char __pyx_k_get_testcases[] = "get_testcases";
static const char __pyx_k_hidden_inputs[] = "_hidden_inputs";
static const char __pyx_k_is_restricted[] = "is_restricted";
static const char __pyx_k_listsubtitles[] = "listsubtitles";
static const char __pyx_k_media_content[] = "media_content";
static const char __pyx_k_og_search_url[] = "_og_search_url";
static const char __pyx_k_only_matching[] = "only_matching";
static const char __pyx_k_parse_iso8601[] = "parse_iso8601";
static const char __pyx_k_safe_for_kids[] = "safe for kids";
static const char __pyx_k_season_number[] = "season_number";
static const char __pyx_k_systemBitrate[] = "systemBitrate";
static const char __pyx_k_thumbnail_URL[] = "thumbnail URL";
static const char __pyx_k_webpage_bytes[] = "webpage_bytes";
static const char __pyx_k_xpath_element[] = "xpath_element";
static const char __pyx_k_xpath_with_ns[] = "xpath_with_ns";
static const char __pyx_k_xspf_duration[] = "./xspf:duration";
static const char __pyx_k_xspf_location[] = "./xspf:location";
static const char __pyx_k_AttributeError[] = "AttributeError";
static const char __pyx_k_Checking_s_URL[] = "Checking %s URL";
static const char __pyx_k_Confirming_age[] = "Confirming age";
static const char __pyx_k_ExtractorError[] = "ExtractorError";
static const char __pyx_k_IncompleteRead[] = "IncompleteRead";
static const char __pyx_k_Initialization[] = "Initialization";
static const char __pyx_k_Representation[] = "Representation";
static const char __pyx_k_adaptation_set[] = "adaptation_set";
static const char __pyx_k_age_restricted[] = "age_restricted";
static const char __pyx_k_any_restricted[] = "any_restricted";
static const char __pyx_k_authenticators[] = "authenticators";
static const char __pyx_k_blocked_iframe[] = "blocked_iframe";
static const char __pyx_k_bootstrap_info[] = "bootstrap info";
static const char __pyx_k_compat_cookies[] = "compat_cookies";
static const char __pyx_k_compat_getpass[] = "compat_getpass";
static const char __pyx_k_compat_os_name[] = "compat_os_name";
static const char __pyx_k_downloader_f4m[] = "downloader.f4m";
static const char __pyx_k_entry_protocol[] = "entry_protocol";
static const char __pyx_k_episode_number[] = "episode_number";
static const char __pyx_k_ext_preference[] = "ext_preference";
static const char __pyx_k_get_login_info[] = "_get_login_info";
static const char __pyx_k_initialization[] = "initialization";
static const char __pyx_k_make_valid_url[] = "_make_valid_url";
static const char __pyx_k_mark_watched_2[] = "_mark_watched";
static const char __pyx_k_media_template[] = "media_template";
static const char __pyx_k_ms_parent_info[] = "ms_parent_info";
static const char __pyx_k_parse_duration[] = "parse_duration";
static const char __pyx_k_part_of_season[] = "part_of_season";
static const char __pyx_k_part_of_series[] = "part_of_series";
static const char __pyx_k_period_ms_info[] = "period_ms_info";
static const char __pyx_k_playlist_title[] = "playlist_title";
static const char __pyx_k_report_warning[] = "report_warning";
static const char __pyx_k_representation[] = "representation";
static const char __pyx_k_s_video_format[] = "%s video format";
static const char __pyx_k_search_json_ld[] = "_search_json_ld";
static const char __pyx_k_segment_urls_e[] = "segment_urls_e";
static const char __pyx_k_set_downloader[] = "set_downloader";
static const char __pyx_k_subtitle_dict1[] = "subtitle_dict1";
static const char __pyx_k_subtitle_dict2[] = "subtitle_dict2";
static const char __pyx_k_subtitle_list1[] = "subtitle_list1";
static const char __pyx_k_subtitle_list2[] = "subtitle_list2";
static const char __pyx_k_subtitles_lang[] = "subtitles_lang";
static const char __pyx_k_systemLanguage[] = "systemLanguage";
static const char __pyx_k_system_bitrate[] = "system-bitrate";
static const char __pyx_k_twitter_player[] = "twitter:player";
static const char __pyx_k_unique_formats[] = "unique_formats";
static const char __pyx_k_update_Request[] = "update_Request";
static const char __pyx_k_url_or_request[] = "url_or_request";
static const char __pyx_k_writesubtitles[] = "writesubtitles";
static const char __pyx_k_CLOSED_CAPTIONS[] = "CLOSED-CAPTIONS";
static const char __pyx_k_Downloading_XML[] = "Downloading XML";
static const char __pyx_k_NetrcParseError[] = "NetrcParseError";
static const char __pyx_k_SegmentTemplate[] = "SegmentTemplate";
static const char __pyx_k_SegmentTimeline[] = "SegmentTimeline";
static const char __pyx_k_add_segment_url[] = "add_segment_url";
static const char __pyx_k_compat_urlparse[] = "compat_urlparse";
static const char __pyx_k_existing_format[] = "existing_format";
static const char __pyx_k_family_friendly[] = "family_friendly";
static const char __pyx_k_filesize_approx[] = "filesize_approx";
static const char __pyx_k_hidden_inputs_2[] = "hidden_inputs";
static const char __pyx_k_http_schema_org[] = "http://schema.org";
static const char __pyx_k_last_media_name[] = "last_media_name";
static const char __pyx_k_merge_subtitles[] = "_merge_subtitles";
static const char __pyx_k_og_search_title[] = "_og_search_title";
static const char __pyx_k_parsing_netrc_s[] = "parsing .netrc: %s";
static const char __pyx_k_period_duration[] = "period_duration";
static const char __pyx_k_playlist_result[] = "playlist_result";
static const char __pyx_k_prefer_insecure[] = "prefer_insecure";
static const char __pyx_k_real_initialize[] = "_real_initialize";
static const char __pyx_k_request_webpage[] = "_request_webpage";
static const char __pyx_k_unified_strdate[] = "unified_strdate";
static const char __pyx_k_value_P_value_1[] = "value=([\"\\'])(?P<value>.*?)\\1";
static const char __pyx_k_xspf_annotation[] = "./xspf:annotation";
static const char __pyx_k_EXT_X_STREAM_INF[] = "#EXT-X-STREAM-INF:";
static const char __pyx_k_RepresentationID[] = "$RepresentationID$";
static const char __pyx_k_bootstrap_info_2[] = "bootstrap_info";
static const char __pyx_k_compat_cookiejar[] = "compat_cookiejar";
static const char __pyx_k_download_webpage[] = "_download_webpage";
static const char __pyx_k_field_preference[] = "field_preference";
static const char __pyx_k_html_search_meta[] = "_html_search_meta";
static const char __pyx_k_isFamilyFriendly[] = "isFamilyFriendly";
static const char __pyx_k_is_drm_protected[] = "is_drm_protected";
static const char __pyx_k_m3u8_meta_format[] = "_m3u8_meta_format";
static const char __pyx_k_manifest_version[] = "manifest_version";
static const char __pyx_k_media_attributes[] = "media_attributes";
static const char __pyx_k_proto_preference[] = "proto_preference";
static const char __pyx_k_segment_duration[] = "segment_duration";
static const char __pyx_k_segment_template[] = "segment_template";
static const char __pyx_k_segment_timeline[] = "segment_timeline";
static const char __pyx_k_track_attributes[] = "track_attributes";
static const char __pyx_k_transform_source[] = "transform_source";
static const char __pyx_k_update_url_query[] = "update_url_query";
static const char __pyx_k_video_secure_url[] = "video:secure_url";
static const char __pyx_k_ContentProtection[] = "ContentProtection";
static const char __pyx_k_Saving_request_to[] = "Saving request to ";
static const char __pyx_k_add_cookie_header[] = "add_cookie_header";
static const char __pyx_k_audioSamplingRate[] = "audioSamplingRate";
static const char __pyx_k_downloader_params[] = "downloader_params";
static const char __pyx_k_extract_smil_info[] = "_extract_smil_info";
static const char __pyx_k_extract_subtitles[] = "extract_subtitles";
static const char __pyx_k_html_search_regex[] = "_html_search_regex";
static const char __pyx_k_name_id_P_value_1[] = "(?:name|id)=([\"\\'])(?P<value>.+?)\\1";
static const char __pyx_k_parse_f4m_formats[] = "_parse_f4m_formats";
static const char __pyx_k_parse_mpd_formats[] = "_parse_mpd_formats";
static const char __pyx_k_report_extraction[] = "report_extraction";
static const char __pyx_k_representation_id[] = "representation_id";
static const char __pyx_k_sanitize_filename[] = "sanitize_filename";
static const char __pyx_k_sanitized_Request[] = "sanitized_Request";
static const char __pyx_k_source_attributes[] = "source_attributes";
static const char __pyx_k_source_preference[] = "source_preference";
static const char __pyx_k_unified_timestamp[] = "unified_timestamp";
static const char __pyx_k_writeautomaticsub[] = "writeautomaticsub";
static const char __pyx_k_Dumping_request_to[] = "Dumping request to ";
static const char __pyx_k_InfoExtractor__int[] = "InfoExtractor._int";
static const char __pyx_k_RegexNotFoundError[] = "RegexNotFoundError";
static const char __pyx_k_Ytdl_request_proxy[] = "Ytdl-request-proxy";
static const char __pyx_k_compat_http_client[] = "compat_http_client";
static const char __pyx_k_dc_search_uploader[] = "_dc_search_uploader";
static const char __pyx_k_determine_protocol[] = "determine_protocol";
static const char __pyx_k_extract_attributes[] = "extract_attributes";
static const char __pyx_k_fix_xml_ampersands[] = "fix_xml_ampersands";
static const char __pyx_k_flowplayer_3_2_0_1[] = "flowplayer-3.2.0.1";
static const char __pyx_k_form_hidden_inputs[] = "_form_hidden_inputs";
static const char __pyx_k_http_dash_segments[] = "http_dash_segments";
static const char __pyx_k_http_xspf_org_ns_0[] = "http://xspf.org/ns/0/";
static const char __pyx_k_initialization_url[] = "initialization_url";
static const char __pyx_k_og_search_property[] = "_og_search_property";
static const char __pyx_k_parse_content_type[] = "parse_content_type";
static const char __pyx_k_parse_smil_formats[] = "_parse_smil_formats";
static const char __pyx_k_proto_relative_url[] = "_proto_relative_url";
static const char __pyx_k_systemLanguageName[] = "systemLanguageName";
static const char __pyx_k_transform_rtmp_url[] = "transform_rtmp_url";
static const char __pyx_k_NotImplementedError[] = "NotImplementedError";
static const char __pyx_k_SearchInfoExtractor[] = "SearchInfoExtractor";
static const char __pyx_k_Unable_to_extract_s[] = "Unable to extract %s";
static const char __pyx_k_bug_reports_message[] = "bug_reports_message";
static const char __pyx_k_compat_urllib_error[] = "compat_urllib_error";
static const char __pyx_k_compiled_regex_type[] = "compiled_regex_type";
static const char __pyx_k_error_to_compat_str[] = "error_to_compat_str";
static const char __pyx_k_extract_f4m_formats[] = "_extract_f4m_formats";
static const char __pyx_k_extract_mpd_formats[] = "_extract_mpd_formats";
static const char __pyx_k_language_preference[] = "language_preference";
static const char __pyx_k_media_rating_search[] = "_media_rating_search";
static const char __pyx_k_og_search_thumbnail[] = "_og_search_thumbnail";
static const char __pyx_k_og_search_video_url[] = "_og_search_video_url";
static const char __pyx_k_prefer_free_formats[] = "prefer_free_formats";
static const char __pyx_k_twitter_card_player[] = "twitter card player";
static const char __pyx_k_unable_to_extract_s[] = "unable to extract %s";
static const char __pyx_k_EXT_X_TARGETDURATION[] = "#EXT-X-TARGETDURATION";
static const char __pyx_k_InfoExtractor___init[] = "InfoExtractor.__init__";
static const char __pyx_k_InfoExtractor__float[] = "InfoExtractor._float";
static const char __pyx_k_InfoExtractor__sleep[] = "InfoExtractor._sleep";
static const char __pyx_k_InfoExtractor_ie_key[] = "InfoExtractor.ie_key";
static const char __pyx_k_adaption_set_ms_info[] = "adaption_set_ms_info";
static const char __pyx_k_audio_ext_preference[] = "audio_ext_preference";
static const char __pyx_k_extract_m3u8_formats[] = "_extract_m3u8_formats";
static const char __pyx_k_extract_smil_formats[] = "_extract_smil_formats";
static const char __pyx_k_include_onlymatching[] = "include_onlymatching";
static const char __pyx_k_merge_subtitle_items[] = "_merge_subtitle_items";
static const char __pyx_k_parse_smil_namespace[] = "_parse_smil_namespace";
static const char __pyx_k_parse_smil_subtitles[] = "_parse_smil_subtitles";
static const char __pyx_k_playlist_description[] = "playlist_description";
static const char __pyx_k_raise_geo_restricted[] = "raise_geo_restricted";
static const char __pyx_k_raise_login_required[] = "raise_login_required";
static const char __pyx_k_type_hidden_submit_1[] = "type=([\"\\'])(?:hidden|submit)\\1";
static const char __pyx_k_webpage_read_content[] = "_webpage_read_content";
static const char __pyx_k_Downloading_SMIL_file[] = "Downloading SMIL file";
static const char __pyx_k_InfoExtractor_IE_NAME[] = "InfoExtractor.IE_NAME";
static const char __pyx_k_InfoExtractor_extract[] = "InfoExtractor.extract";
static const char __pyx_k_InfoExtractor_working[] = "InfoExtractor.working";
static const char __pyx_k_Number_Bandwidth_Time[] = "\\$(Number|Bandwidth|Time)\\$";
static const char __pyx_k_Quality_selection_URL[] = "Quality selection URL";
static const char __pyx_k_audio_3D_d_video_3D_d[] = "audio.*?(?:%3D|=)(\\d+)(?:-video.*?(?:%3D|=)(\\d+))?";
static const char __pyx_k_compat_urllib_request[] = "compat_urllib_request";
static const char __pyx_k_extract_xspf_playlist[] = "_extract_xspf_playlist";
static const char __pyx_k_og_search_description[] = "_og_search_description";
static const char __pyx_k_parse_m3u8_attributes[] = "parse_m3u8_attributes";
static const char __pyx_k_representation_attrib[] = "representation_attrib";
static const char __pyx_k_s_Downloading_webpage[] = "%s: Downloading webpage";
static const char __pyx_k_twitter_search_player[] = "_twitter_search_player";
static const char __pyx_k_InfoExtractor__json_ld[] = "InfoExtractor._json_ld";
static const char __pyx_k_InfoExtractor_suitable[] = "InfoExtractor.suitable";
static const char __pyx_k_Invalid_search_query_s[] = "Invalid search query \"%s\"";
static const char __pyx_k_No_video_formats_found[] = "No video formats found";
static const char __pyx_k_Unable_to_download_XML[] = "Unable to download XML";
static const char __pyx_k_family_friendly_search[] = "_family_friendly_search";
static const char __pyx_k_geo_verification_proxy[] = "geo_verification_proxy";
static const char __pyx_k_get_automatic_captions[] = "_get_automatic_captions";
static const char __pyx_k_remove_encrypted_media[] = "remove_encrypted_media";
static const char __pyx_k_representation_ms_info[] = "representation_ms_info";
static const char __pyx_k_s_Failed_to_parse_JSON[] = "%s: Failed to parse JSON ";
static const char __pyx_k_s_has__TEST_and__TESTS[] = "%s has _TEST and _TESTS";
static const char __pyx_k_InfoExtractor__match_id[] = "InfoExtractor._match_id";
static const char __pyx_k_InfoExtractor__xpath_ns[] = "InfoExtractor._xpath_ns";
static const char __pyx_k_InfoExtractor_to_screen[] = "InfoExtractor.to_screen";
static const char __pyx_k_No_authenticators_for_s[] = "No authenticators for %s";
static const char __pyx_k_Number_Bandwidth_Time_2[] = "\\$(Number|Bandwidth|Time)%([^$]+)\\$";
static const char __pyx_k_Type_s_and_press_Return[] = "Type %s and press [Return]: ";
static const char __pyx_k_compat_etree_fromstring[] = "compat_etree_fromstring";
static const char __pyx_k_download_webpage_handle[] = "_download_webpage_handle";
static const char __pyx_k_dump_intermediate_pages[] = "dump_intermediate_pages";
static const char __pyx_k_report_age_confirmation[] = "report_age_confirmation";
static const char __pyx_k_report_download_webpage[] = "report_download_webpage";
static const char __pyx_k_Downloading_MPD_manifest[] = "Downloading MPD manifest";
static const char __pyx_k_Downloading_f4m_manifest[] = "Downloading f4m manifest";
static const char __pyx_k_InfoExtractor_initialize[] = "InfoExtractor.initialize";
static const char __pyx_k_InfoExtractor_url_result[] = "InfoExtractor.url_result";
static const char __pyx_k_Visit_s_for_more_details[] = " Visit %s for more details";
static const char __pyx_k_Websense_information_URL[] = "Websense information URL";
static const char __pyx_k_geo_verification_headers[] = "geo_verification_headers";
static const char __pyx_k_remove_duplicate_formats[] = "_remove_duplicate_formats";
static const char __pyx_k_s_Extracting_information[] = "%s: Extracting information";
static const char __pyx_k_Downloading_JSON_metadata[] = "Downloading JSON metadata";
static const char __pyx_k_Downloading_xpsf_playlist[] = "Downloading xpsf playlist";
static const char __pyx_k_InfoExtractor__live_title[] = "InfoExtractor._live_title";
static const char __pyx_k_InfoExtractor__meta_regex[] = "InfoExtractor._meta_regex";
static const char __pyx_k_InfoExtractor__og_regexes[] = "InfoExtractor._og_regexes";
static const char __pyx_k_InfoExtractor__parse_json[] = "InfoExtractor._parse_json";
static const char __pyx_k_InfoExtractor__parse_smil[] = "InfoExtractor._parse_smil";
static const char __pyx_k_InfoExtractor__parse_xspf[] = "InfoExtractor._parse_xspf";
static const char __pyx_k_InfoExtractor__rta_search[] = "InfoExtractor._rta_search";
static const char __pyx_k_InfoExtractor__set_cookie[] = "InfoExtractor._set_cookie";
static const char __pyx_k_InfoExtractor_http_scheme[] = "InfoExtractor.http_scheme";
static const char __pyx_k_InfoExtractor_is_suitable[] = "InfoExtractor.is_suitable";
static const char __pyx_k_extract_multisegment_info[] = "extract_multisegment_info";
static const char __pyx_k_mediaPresentationDuration[] = "mediaPresentationDuration";
static const char __pyx_k_parse_html5_media_entries[] = "_parse_html5_media_entries";
static const char __pyx_k_s_P_tag_video_audio_P_tag[] = "(?s)(<(?P<tag>video|audio)[^>]*>)(.*?)</(?P=tag)>";
static const char __pyx_k_xspf_trackList_xspf_track[] = "./xspf:trackList/xspf:track";
static const char __pyx_k_InfoExtractor__get_cookies[] = "InfoExtractor._get_cookies";
static const char __pyx_k_InfoExtractor_mark_watched[] = "InfoExtractor.mark_watched";
static const char __pyx_k_InfoExtractor_report_login[] = "InfoExtractor.report_login";
static const char __pyx_k_Unable_to_download_webpage[] = "Unable to download webpage";
static const char __pyx_k_extract_automatic_captions[] = "extract_automatic_captions";
static const char __pyx_k_is_form_id_s_1_P_form_form[] = "(?is)<form[^>]+?id=([\"\\'])%s\\1[^>]*>(?P<form>.+?)</form>";
static const char __pyx_k_InfoExtractor__download_xml[] = "InfoExtractor._download_xml";
static const char __pyx_k_InfoExtractor__get_tfa_info[] = "InfoExtractor._get_tfa_info";
static const char __pyx_k_InfoExtractor__is_valid_url[] = "InfoExtractor._is_valid_url";
static const char __pyx_k_InfoExtractor__mark_watched[] = "InfoExtractor._mark_watched";
static const char __pyx_k_InfoExtractor__real_extract[] = "InfoExtractor._real_extract";
static const char __pyx_k_InfoExtractor__search_regex[] = "InfoExtractor._search_regex";
static const char __pyx_k_InfoExtractor__sort_formats[] = "InfoExtractor._sort_formats";
static const char __pyx_k_InfoExtractor_get_testcases[] = "InfoExtractor.get_testcases";
static const char __pyx_k_guess_encoding_from_content[] = "_guess_encoding_from_content";
static const char __pyx_k_playerVerificationChallenge[] = "playerVerificationChallenge";
static const char __pyx_k_s_s_URL_is_invalid_skipping[] = "%s: %s URL is invalid, skipping";
static const char __pyx_k_youtube_dl_extractor_common[] = "youtube_dl.extractor.common";
static const char __pyx_k_A_network_error_has_occurred[] = "A network error has occurred.";
static const char __pyx_k_Downloading_m3u8_information[] = "Downloading m3u8 information";
static const char __pyx_k_InfoExtractor__check_formats[] = "InfoExtractor._check_formats";
static const char __pyx_k_InfoExtractor__download_json[] = "InfoExtractor._download_json";
static const char __pyx_k_InfoExtractor__download_smil[] = "InfoExtractor._download_smil";
static const char __pyx_k_InfoExtractor__get_subtitles[] = "InfoExtractor._get_subtitles";
static const char __pyx_k_InfoExtractor__hidden_inputs[] = "InfoExtractor._hidden_inputs";
static const char __pyx_k_InfoExtractor__og_search_url[] = "InfoExtractor._og_search_url";
static const char __pyx_k_InfoExtractor_report_warning[] = "InfoExtractor.report_warning";
static const char __pyx_k_InfoExtractor_set_downloader[] = "InfoExtractor.set_downloader";
static const char __pyx_k_P_mimetype_s_codecs_P_codecs[] = "(?P<mimetype>[^/]+/[^;]+)(?:;\\s*codecs=\"?(?P<codecs>[^\"]+))?";
static const char __pyx_k_SearchInfoExtractor_suitable[] = "SearchInfoExtractor.suitable";
static const char __pyx_k_Unable_to_download_SMIL_file[] = "Unable to download SMIL file";
static const char __pyx_k_two_factor_verification_code[] = "two-factor verification code";
static const char __pyx_k_InfoExtractor__get_login_info[] = "InfoExtractor._get_login_info";
static const char __pyx_k_InfoExtractor__search_json_ld[] = "InfoExtractor._search_json_ld";
static const char __pyx_k_InfoExtractor_playlist_result[] = "InfoExtractor.playlist_result";
static const char __pyx_k_compat_urllib_parse_urlencode[] = "compat_urllib_parse_urlencode";
static const char __pyx_k_InfoExtractor__merge_subtitles[] = "InfoExtractor._merge_subtitles";
static const char __pyx_k_InfoExtractor__og_search_title[] = "InfoExtractor._og_search_title";
static const char __pyx_k_InfoExtractor__real_initialize[] = "InfoExtractor._real_initialize";
static const char __pyx_k_InfoExtractor__request_webpage[] = "InfoExtractor._request_webpage";
static const char __pyx_k_SearchInfoExtractor_SEARCH_KEY[] = "SearchInfoExtractor.SEARCH_KEY";
static const char __pyx_k_http_ns_adobe_com_f4m_1_0_pv_2[] = "{http://ns.adobe.com/f4m/1.0}pv-2.0";
static const char __pyx_k_http_youtube_com_yt_2012_10_10[] = "{http://youtube.com/yt/2012/10/10}contentLength";
static const char __pyx_k_s_P_prefix_1_9_0_9_all_P_query[] = "%s(?P<prefix>|[1-9][0-9]*|all):(?P<query>[\\s\\S]+)";
static const char __pyx_k_s_Use_username_and_password_or[] = "%s. Use --username and --password or --netrc to provide account credentials.";
static const char __pyx_k_video_id_s_Waiting_for_timeout[] = "%(video_id)s: Waiting for %(timeout)s seconds";
static const char __pyx_k_Access_to_this_webpage_has_been[] = "Access to this webpage has been blocked by Websense filtering software in your network.";
static const char __pyx_k_An_extractor_error_has_occurred[] = "An extractor error has occurred.";
static const char __pyx_k_Base_class_for_paged_search_que[] = "\n    Base class for paged search queries extractors.\n    They accept URLs in the format _SEARCH_KEY(|all|[0-9]):{query}\n    Instances should define _SEARCH_KEY and _MAX_RESULTS.\n    ";
static const char __pyx_k_E_Users_Elsword_Desktop_py_to_c[] = "E:\\Users\\Elsword\\Desktop\\py to c to pyd\\to_build\\youtube_dl\\extractor\\common.py";
static const char __pyx_k_Failed_to_download_MPD_manifest[] = "Failed to download MPD manifest";
static const char __pyx_k_InfoExtractor__download_webpage[] = "InfoExtractor._download_webpage_handle";
static const char __pyx_k_InfoExtractor__html_search_meta[] = "InfoExtractor._html_search_meta";
static const char __pyx_k_InfoExtractor__m3u8_meta_format[] = "InfoExtractor._m3u8_meta_format";
static const char __pyx_k_InfoExtractor__remove_duplicate[] = "InfoExtractor._remove_duplicate_formats";
static const char __pyx_k_InfoExtractor_extract_automatic[] = "InfoExtractor.extract_automatic_captions";
static const char __pyx_k_InfoExtractor_extract_subtitles[] = "InfoExtractor.extract_subtitles";
static const char __pyx_k_InfoExtractor_report_extraction[] = "InfoExtractor.report_extraction";
static const char __pyx_k_SearchInfoExtractor__make_valid[] = "SearchInfoExtractor._make_valid_url";
static const char __pyx_k_This_method_must_be_implemented[] = "This method must be implemented by subclasses";
static const char __pyx_k_Unable_to_download_f4m_manifest[] = "Unable to download f4m manifest";
static const char __pyx_k_a_zA_Z0_9__a_zA_Z0_9__s_s_chars[] = "[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\\s*;\\s*charset=(.+)";
static const char __pyx_k_http_ns_adobe_com_f4m_1_0_baseU[] = "{http://ns.adobe.com/f4m/1.0}baseURL";
static const char __pyx_k_http_ns_adobe_com_f4m_1_0_boots[] = "{http://ns.adobe.com/f4m/1.0}bootstrapInfo";
static const char __pyx_k_http_ns_adobe_com_f4m_1_0_media[] = "{http://ns.adobe.com/f4m/1.0}media";
static const char __pyx_k_http_ns_adobe_com_f4m_2_0_baseU[] = "{http://ns.adobe.com/f4m/2.0}baseURL";
static const char __pyx_k_http_ns_adobe_com_f4m_2_0_boots[] = "{http://ns.adobe.com/f4m/2.0}bootstrapInfo";
static const char __pyx_k_http_ns_adobe_com_f4m_2_0_media[] = "{http://ns.adobe.com/f4m/2.0}media";
static const char __pyx_k_http_static_streamone_nl_player[] = "http://static.streamone.nl/player/ns/0";
static const char __pyx_k_isx_meta_itemprop_name_property[] = "(?isx)<meta\n                    (?=[^>]+(?:itemprop|name|property|id|http-equiv)=([\"\\']?)%s\\1)\n                    [^>]+?content=([\"\\'])(?P<content>.*?)\\2";
static const char __pyx_k_ix_meta_s_name_rating_s_content[] = "(?ix)<meta\\s+name=\"rating\"\\s+     content=\"RTA-5042-1996-1400-1577-RTA\"";
static const char __pyx_k_name_property_og_prop_s_og_prop[] = "(?:name|property)=(?:\\'og:%(prop)s\\'|\"og:%(prop)s\"|\\s*og:%(prop)s\\b)";
static const char __pyx_k_s_You_might_want_to_use_proxy_t[] = "%s. You might want to use --proxy to workaround.";
static const char __pyx_k_s_returns_max_i_results_you_req[] = "%s returns max %i results (you requested %i)";
static const char __pyx_k_s_script_type_application_ld_js[] = "(?s)<script[^>]+type=([\"\\'])application/ld\\+json\\1[^>]*>(?P<json_ld>.+?)</script>";
static const char __pyx_k_title_Access_to_this_site_is_bl[] = "<title>Access to this site is blocked</title>";
static const char __pyx_k_title_The_URL_you_requested_has[] = "<title>The URL you requested has been blocked</title>";
static const char __pyx_k_Failed_to_download_m3u8_informat[] = "Failed to download m3u8 information";
static const char __pyx_k_Failed_to_extract_s_Could_not_pa[] = "Failed to extract %s: Could not parse value %r";
static const char __pyx_k_InfoExtractor__check_formats_loc[] = "InfoExtractor._check_formats.<locals>.<lambda>";
static const char __pyx_k_InfoExtractor__dc_search_uploade[] = "InfoExtractor._dc_search_uploader";
static const char __pyx_k_InfoExtractor__extract_f4m_forma[] = "InfoExtractor._extract_f4m_formats";
static const char __pyx_k_InfoExtractor__extract_m3u8_form[] = "InfoExtractor._extract_m3u8_formats.<locals>.<lambda>";
static const char __pyx_k_InfoExtractor__extract_mpd_forma[] = "InfoExtractor._extract_mpd_formats";
static const char __pyx_k_InfoExtractor__extract_smil_form[] = "InfoExtractor._extract_smil_formats";
static const char __pyx_k_InfoExtractor__extract_smil_info[] = "InfoExtractor._extract_smil_info";
static const char __pyx_k_InfoExtractor__extract_xspf_play[] = "InfoExtractor._extract_xspf_playlist";
static const char __pyx_k_InfoExtractor__family_friendly_s[] = "InfoExtractor._family_friendly_search";
static const char __pyx_k_InfoExtractor__form_hidden_input[] = "InfoExtractor._form_hidden_inputs";
static const char __pyx_k_InfoExtractor__get_automatic_cap[] = "InfoExtractor._get_automatic_captions";
static const char __pyx_k_InfoExtractor__guess_encoding_fr[] = "InfoExtractor._guess_encoding_from_content";
static const char __pyx_k_InfoExtractor__html_search_regex[] = "InfoExtractor._html_search_regex";
static const char __pyx_k_InfoExtractor__json_ld_locals_ge[] = "InfoExtractor._json_ld.<locals>.genexpr";
static const char __pyx_k_InfoExtractor__media_rating_sear[] = "InfoExtractor._media_rating_search";
static const char __pyx_k_InfoExtractor__merge_subtitle_it[] = "InfoExtractor._merge_subtitle_items";
static const char __pyx_k_InfoExtractor__og_search_descrip[] = "InfoExtractor._og_search_description";
static const char __pyx_k_InfoExtractor__og_search_propert[] = "InfoExtractor._og_search_property";
static const char __pyx_k_InfoExtractor__og_search_thumbna[] = "InfoExtractor._og_search_thumbnail";
static const char __pyx_k_InfoExtractor__og_search_video_u[] = "InfoExtractor._og_search_video_url";
static const char __pyx_k_InfoExtractor__parse_f4m_formats[] = "InfoExtractor._parse_f4m_formats";
static const char __pyx_k_InfoExtractor__parse_html5_media[] = "InfoExtractor._parse_html5_media_entries.<locals>.absolute_url";
static const char __pyx_k_InfoExtractor__parse_mpd_formats[] = "InfoExtractor._parse_mpd_formats.<locals>.genexpr";
static const char __pyx_k_InfoExtractor__parse_smil_format[] = "InfoExtractor._parse_smil_formats";
static const char __pyx_k_InfoExtractor__parse_smil_namesp[] = "InfoExtractor._parse_smil_namespace";
static const char __pyx_k_InfoExtractor__parse_smil_subtit[] = "InfoExtractor._parse_smil_subtitles";
static const char __pyx_k_InfoExtractor__proto_relative_ur[] = "InfoExtractor._proto_relative_url";
static const char __pyx_k_InfoExtractor__search_regex_loca[] = "InfoExtractor._search_regex.<locals>.genexpr";
static const char __pyx_k_InfoExtractor__sort_formats_loca[] = "InfoExtractor._sort_formats.<locals>._formats_key.<locals>.genexpr";
static const char __pyx_k_InfoExtractor__twitter_search_pl[] = "InfoExtractor._twitter_search_player";
static const char __pyx_k_InfoExtractor__webpage_read_cont[] = "InfoExtractor._webpage_read_content";
static const char __pyx_k_InfoExtractor_geo_verification_h[] = "InfoExtractor.geo_verification_headers";
static const char __pyx_k_InfoExtractor_raise_geo_restrict[] = "InfoExtractor.raise_geo_restricted";
static const char __pyx_k_InfoExtractor_raise_login_requir[] = "InfoExtractor.raise_login_required";
static const char __pyx_k_InfoExtractor_report_age_confirm[] = "InfoExtractor.report_age_confirmation";
static const char __pyx_k_InfoExtractor_report_download_we[] = "InfoExtractor.report_download_webpage";
static const char __pyx_k_Information_Extractor_class_Info[] = "Information Extractor class.\n\n    Information extractors are the classes that, given a URL, extract\n    information about the video (or videos) the URL refers to. This\n    information includes the real video URL, the video title, author and\n    others. The information is stored in a dictionary which is then\n    passed to the YoutubeDL. The YoutubeDL processes this\n    information possibly downloading the video to the file system, among\n    other possible outcomes.\n\n    The type field determines the type of the result.\n    By far the most common value (and the default if _type is missing) is\n    \"video\", which indicates a single video.\n\n    For a video, the dictionaries must include the following fields:\n\n    id:             Video identifier.\n    title:          Video title, unescaped.\n\n    Additionally, it must contain either a formats entry or a url one:\n\n    formats:        A list of dictionaries for each format available, ordered\n                    from worst to best quality.\n\n                    Potential fields:\n                    * url        Mandatory. The URL of the video file\n                    * ext        Will be calculated from URL if missing\n                    * format     A human-readable description of the format\n                                 (\"mp4 container with h264/opus\").\n                                 Calculated from the format_id, width, height.\n                                 and format_note fields if missing.\n                    * format_id  A short description of the format\n                                 (\"mp4_h264_opus\" or \"19\").\n                                Technically optional, but strongly recommended.\n                    * format_note Additional info about the format\n                                 (\"3D\" or \"DASH video\")\n                    * width      Width of the video, if known\n                    * height     Height of the video, if known\n                    * resolut""ion Textual description of width and height\n                    * tbr        Average bitrate of audio and video in KBit/s\n                    * abr        Average audio bitrate in KBit/s\n                    * acodec     Name of the audio codec in use\n                    * asr        Audio sampling rate in Hertz\n                    * vbr        Average video bitrate in KBit/s\n                    * fps        Frame rate\n                    * vcodec     Name of the video codec in use\n                    * container  Name of the container format\n                    * filesize   The number of bytes, if known in advance\n                    * filesize_approx  An estimate for the number of bytes\n                    * player_url SWF Player URL (used for rtmpdump).\n                    * protocol   The protocol that will be used for the actual\n                                 download, lower-case.\n                                 \"http\", \"https\", \"rtsp\", \"rtmp\", \"rtmpe\",\n                                 \"m3u8\", \"m3u8_native\" or \"http_dash_segments\".\n                    * preference Order number of this format. If this field is\n                                 present and not None, the formats get sorted\n                                 by this field, regardless of all other values.\n                                 -1 for default (order by other properties),\n                                 -2 or smaller for less than default.\n                                 < -1000 to hide the format (if there is\n                                    another one which is strictly better)\n                    * language   Language code, e.g. \"de\" or \"en-US\".\n                    * language_preference  Is this in the language mentioned in\n                                 the URL?\n                                 10 if it's what the URL is about,\n                                 -1 for default (don't know),\n                                 -10 otherwis""e, other values reserved for now.\n                    * quality    Order number of the video quality of this\n                                 format, irrespective of the file format.\n                                 -1 for default (order by other properties),\n                                 -2 or smaller for less than default.\n                    * source_preference  Order number for this video source\n                                  (quality takes higher priority)\n                                 -1 for default (order by other properties),\n                                 -2 or smaller for less than default.\n                    * http_headers  A dictionary of additional HTTP headers\n                                 to add to the request.\n                    * stretched_ratio  If given and not 1, indicates that the\n                                 video's pixels are not square.\n                                 width : height ratio as float.\n                    * no_resume  The server does not support resuming the\n                                 (HTTP or RTMP) download. Boolean.\n\n    url:            Final video URL.\n    ext:            Video filename extension.\n    format:         The video format, defaults to ext (used for --get-format)\n    player_url:     SWF Player URL (used for rtmpdump).\n\n    The following fields are optional:\n\n    alt_title:      A secondary title of the video.\n    display_id      An alternative identifier for the video, not necessarily\n                    unique, but available before title. Typically, id is\n                    something like \"4234987\", title \"Dancing naked mole rats\",\n                    and display_id \"dancing-naked-mole-rats\"\n    thumbnails:     A list of dictionaries, with the following entries:\n                        * \"id\" (optional, string) - Thumbnail format ID\n                        * \"url\"\n                        * \"preference\" (optional, int) - quality of the image""\n                        * \"width\" (optional, int)\n                        * \"height\" (optional, int)\n                        * \"resolution\" (optional, string \"{width}x{height\"},\n                                        deprecated)\n                        * \"filesize\" (optional, int)\n    thumbnail:      Full URL to a video thumbnail image.\n    description:    Full video description.\n    uploader:       Full name of the video uploader.\n    license:        License name the video is licensed under.\n    creator:        The creator of the video.\n    release_date:   The date (YYYYMMDD) when the video was released.\n    timestamp:      UNIX timestamp of the moment the video became available.\n    upload_date:    Video upload date (YYYYMMDD).\n                    If not explicitly set, calculated from timestamp.\n    uploader_id:    Nickname or id of the video uploader.\n    uploader_url:   Full URL to a personal webpage of the video uploader.\n    location:       Physical location where the video was filmed.\n    subtitles:      The available subtitles as a dictionary in the format\n                    {language: subformats}. \"subformats\" is a list sorted from\n                    lower to higher preference, each element is a dictionary\n                    with the \"ext\" entry and one of:\n                        * \"data\": The subtitles file contents\n                        * \"url\": A URL pointing to the subtitles file\n                    \"ext\" will be calculated from URL if missing\n    automatic_captions: Like 'subtitles', used by the YoutubeIE for\n                    automatically generated captions\n    duration:       Length of the video in seconds, as an integer or float.\n    view_count:     How many users have watched the video on the platform.\n    like_count:     Number of positive ratings of the video\n    dislike_count:  Number of negative ratings of the video\n    repost_count:   Number of reposts of the video\n    average_rat""ing: Average rating give by users, the scale used depends on the webpage\n    comment_count:  Number of comments on the video\n    comments:       A list of comments, each with one or more of the following\n                    properties (all but one of text or html optional):\n                        * \"author\" - human-readable name of the comment author\n                        * \"author_id\" - user ID of the comment author\n                        * \"id\" - Comment ID\n                        * \"html\" - Comment as HTML\n                        * \"text\" - Plain text of the comment\n                        * \"timestamp\" - UNIX timestamp of comment\n                        * \"parent\" - ID of the comment this one is replying to.\n                                     Set to \"root\" to indicate that this is a\n                                     comment to the original video.\n    age_limit:      Age restriction for the video, as an integer (years)\n    webpage_url:    The URL to the video webpage, if given to youtube-dl it\n                    should allow to get the same result again. (It will be set\n                    by YoutubeDL if it's missing)\n    categories:     A list of categories that the video falls in, for example\n                    [\"Sports\", \"Berlin\"]\n    tags:           A list of tags assigned to the video, e.g. [\"sweden\", \"pop music\"]\n    is_live:        True, False, or None (=unknown). Whether this video is a\n                    live stream that goes on instead of a fixed-length video.\n    start_time:     Time in seconds where the reproduction should start, as\n                    specified in the URL.\n    end_time:       Time in seconds where the reproduction should end, as\n                    specified in the URL.\n\n    The following fields should only be used when the video belongs to some logical\n    chapter or section:\n\n    chapter:        Name or title of the chapter the video belongs to.\n    chapter_number:"" Number of the chapter the video belongs to, as an integer.\n    chapter_id:     Id of the chapter the video belongs to, as a unicode string.\n\n    The following fields should only be used when the video is an episode of some\n    series or programme:\n\n    series:         Title of the series or programme the video episode belongs to.\n    season:         Title of the season the video episode belongs to.\n    season_number:  Number of the season the video episode belongs to, as an integer.\n    season_id:      Id of the season the video episode belongs to, as a unicode string.\n    episode:        Title of the video episode. Unlike mandatory video title field,\n                    this field should denote the exact title of the video episode\n                    without any kind of decoration.\n    episode_number: Number of the video episode within a season, as an integer.\n    episode_id:     Id of the video episode, as a unicode string.\n\n    The following fields should only be used when the media is a track or a part of\n    a music album:\n\n    track:          Title of the track.\n    track_number:   Number of the track within an album or a disc, as an integer.\n    track_id:       Id of the track (useful in case of custom indexing, e.g. 6.iii),\n                    as a unicode string.\n    artist:         Artist(s) of the track.\n    genre:          Genre(s) of the track.\n    album:          Title of the album the track belongs to.\n    album_type:     Type of the album (e.g. \"Demo\", \"Full-length\", \"Split\", \"Compilation\", etc).\n    album_artist:   List of all artists appeared on the album (e.g.\n                    \"Ash Borer / Fell Voices\" or \"Various Artists\", useful for splits\n                    and compilations).\n    disc_number:    Number of the disc or other physical medium the track belongs to,\n                    as an integer.\n    release_year:   Year (YYYY) when the album was released.\n\n    Unless mentioned otherwise, the fie""lds should be Unicode strings.\n\n    Unless mentioned otherwise, None is equivalent to absence of information.\n\n\n    _type \"playlist\" indicates multiple videos.\n    There must be a key \"entries\", which is a list, an iterable, or a PagedList\n    object, each element of which is a valid dictionary by this specification.\n\n    Additionally, playlists can have \"title\", \"description\" and \"id\" attributes\n    with the same semantics as videos (see above).\n\n\n    _type \"multi_video\" indicates that there are multiple videos that\n    form a single show, for examples multiple acts of an opera or TV episode.\n    It must have an entries key like a playlist and contain all the keys\n    required for a video at the same time.\n\n\n    _type \"url\" indicates that the video must be extracted from another\n    location, possibly by a different extractor. Its only required key is:\n    \"url\" - the next URL to extract.\n    The key \"ie_key\" can be set to the class name (minus the trailing \"IE\",\n    e.g. \"Youtube\") if the extractor class is known in advance.\n    Additionally, the dictionary may have any properties of the resolved entity\n    known in advance, for example \"title\" if the title of the referred video is\n    known ahead of time.\n\n\n    _type \"url_transparent\" entities have the same specification as \"url\", but\n    indicate that the given additional information is more precise than the one\n    associated with the resolved URL.\n    This is useful when a site employs a video service that hosts the video and\n    its technical metadata, but that video service does not embed a useful\n    title, description etc.\n\n\n    Subclasses of this one should re-define the _real_initialize() and\n    _real_extract() methods and define a _VALID_URL regexp.\n    Probably, they should also be added to the list of extractors.\n\n    Finally, the _WORKING attribute should be set to False for broken IEs\n    in order to warn the users and skip the t""ests.\n    ";
static const char __pyx_k_SearchInfoExtractor__get_n_resul[] = "SearchInfoExtractor._get_n_results";
static const char __pyx_k_SearchInfoExtractor__real_extrac[] = "SearchInfoExtractor._real_extract";
static const char __pyx_k_This_video_is_not_available_from[] = "This video is not available from your location due to geo restriction";
static const char __pyx_k_This_video_is_only_available_for[] = "This video is only available for registered users";
static const char __pyx_k_Unable_to_download_JSON_metadata[] = "Unable to download JSON metadata";
static const char __pyx_k_Unable_to_download_xspf_manifest[] = "Unable to download xspf manifest";
static const char __pyx_k_Unknown_MIME_type_s_in_DASH_mani[] = "Unknown MIME type %s in DASH manifest";
static const char __pyx_k_invalid_download_number_s_for_qu[] = "invalid download number %s for query \"%s\"";
static const char __pyx_k_Access_to_this_webpage_has_been_2[] = "Access to this webpage has been blocked by Indian censorship. Use a VPN or proxy server (with --proxy) to route around it.";
static const char __pyx_k_InfoExtractor__download_webpage_2[] = "InfoExtractor._download_webpage";
static const char __pyx_k_InfoExtractor__extract_f4m_forma_2[] = "InfoExtractor._extract_f4m_formats.<locals>.<lambda>";
static const char __pyx_k_InfoExtractor__extract_m3u8_form_2[] = "InfoExtractor._extract_m3u8_formats";
static const char __pyx_k_InfoExtractor__parse_f4m_formats_2[] = "InfoExtractor._parse_f4m_formats.<locals>.<lambda>";
static const char __pyx_k_InfoExtractor__parse_html5_media_2[] = "InfoExtractor._parse_html5_media_entries.<locals>.parse_content_type";
static const char __pyx_k_InfoExtractor__parse_html5_media_3[] = "InfoExtractor._parse_html5_media_entries";
static const char __pyx_k_InfoExtractor__parse_mpd_formats_2[] = "InfoExtractor._parse_mpd_formats.<locals>._add_ns";
static const char __pyx_k_InfoExtractor__parse_mpd_formats_3[] = "InfoExtractor._parse_mpd_formats.<locals>.is_drm_protected";
static const char __pyx_k_InfoExtractor__parse_mpd_formats_4[] = "InfoExtractor._parse_mpd_formats.<locals>.extract_multisegment_info";
static const char __pyx_k_InfoExtractor__parse_mpd_formats_5[] = "InfoExtractor._parse_mpd_formats.<locals>.add_segment_url";
static const char __pyx_k_InfoExtractor__parse_mpd_formats_6[] = "InfoExtractor._parse_mpd_formats";
static const char __pyx_k_InfoExtractor__sort_formats_loca_2[] = "InfoExtractor._sort_formats.<locals>._formats_key";
static PyObject *__pyx_kp_u_0;
static PyObject *__pyx_kp_u_0_34m_s_0m;
static PyObject *__pyx_kp_u_1;
static PyObject *__pyx_kp_u_14_years;
static PyObject *__pyx_kp_u_1_0;
static PyObject *__pyx_kp_u_1_2;
static PyObject *__pyx_kp_u_1_d;
static PyObject *__pyx_kp_u_2_0;
static PyObject *__pyx_kp_u_3_2_0;
static PyObject *__pyx_kp_u_A_network_error_has_occurred;
static PyObject *__pyx_kp_u_Access_to_this_webpage_has_been;
static PyObject *__pyx_kp_u_Access_to_this_webpage_has_been_2;
static PyObject *__pyx_n_u_AdaptationSet;
static PyObject *__pyx_kp_u_An_extractor_error_has_occurred;
static PyObject *__pyx_n_u_Article;
static PyObject *__pyx_n_s_AttributeError;
static PyObject *__pyx_n_u_BANDWIDTH;
static PyObject *__pyx_n_u_Bandwidth;
static PyObject *__pyx_n_u_BaseURL;
static PyObject *__pyx_kp_s_Base_class_for_paged_search_que;
static PyObject *__pyx_kp_u_CLOSED_CAPTIONS;
static PyObject *__pyx_n_u_CODECS;
static PyObject *__pyx_kp_u_Checking_s_URL;
static PyObject *__pyx_kp_u_Confirming_age;
static PyObject *__pyx_n_u_ContentProtection;
static PyObject *__pyx_kp_u_Content_Type;
static PyObject *__pyx_n_s_Cookie;
static PyObject *__pyx_n_u_Cookie;
static PyObject *__pyx_kp_u_DASH_s;
static PyObject *__pyx_n_s_DOTALL;
static PyObject *__pyx_kp_u_Downloading_JSON_metadata;
static PyObject *__pyx_kp_u_Downloading_MPD_manifest;
static PyObject *__pyx_kp_u_Downloading_SMIL_file;
static PyObject *__pyx_kp_u_Downloading_XML;
static PyObject *__pyx_kp_u_Downloading_f4m_manifest;
static PyObject *__pyx_kp_u_Downloading_m3u8_information;
static PyObject *__pyx_kp_u_Downloading_xpsf_playlist;
static PyObject *__pyx_kp_u_Dumping_request_to;
static PyObject *__pyx_kp_u_EXT_X_MEDIA;
static PyObject *__pyx_kp_u_EXT_X_STREAM_INF;
static PyObject *__pyx_kp_u_EXT_X_TARGETDURATION;
static PyObject *__pyx_kp_s_E_Users_Elsword_Desktop_py_to_c;
static PyObject *__pyx_n_s_ExtractorError;
static PyObject *__pyx_kp_u_FRAME_RATE;
static PyObject *__pyx_kp_u_Failed_to_download_MPD_manifest;
static PyObject *__pyx_kp_u_Failed_to_download_m3u8_informat;
static PyObject *__pyx_kp_u_Failed_to_extract_s_Could_not_pa;
static PyObject *__pyx_n_s_HTTPException;
static PyObject *__pyx_n_u_IE;
static PyObject *__pyx_n_s_IE_NAME;
static PyObject *__pyx_n_s_IOError;
static PyObject *__pyx_n_s_IncompleteRead;
static PyObject *__pyx_n_s_InfoExtractor;
static PyObject *__pyx_n_s_InfoExtractor_IE_NAME;
static PyObject *__pyx_n_s_InfoExtractor___init;
static PyObject *__pyx_n_s_InfoExtractor__check_formats;
static PyObject *__pyx_n_s_InfoExtractor__check_formats_loc;
static PyObject *__pyx_n_s_InfoExtractor__dc_search_uploade;
static PyObject *__pyx_n_s_InfoExtractor__download_json;
static PyObject *__pyx_n_s_InfoExtractor__download_smil;
static PyObject *__pyx_n_s_InfoExtractor__download_webpage;
static PyObject *__pyx_n_s_InfoExtractor__download_webpage_2;
static PyObject *__pyx_n_s_InfoExtractor__download_xml;
static PyObject *__pyx_n_s_InfoExtractor__extract_f4m_forma;
static PyObject *__pyx_n_s_InfoExtractor__extract_f4m_forma_2;
static PyObject *__pyx_n_s_InfoExtractor__extract_m3u8_form;
static PyObject *__pyx_n_s_InfoExtractor__extract_m3u8_form_2;
static PyObject *__pyx_n_s_InfoExtractor__extract_mpd_forma;
static PyObject *__pyx_n_s_InfoExtractor__extract_smil_form;
static PyObject *__pyx_n_s_InfoExtractor__extract_smil_info;
static PyObject *__pyx_n_s_InfoExtractor__extract_xspf_play;
static PyObject *__pyx_n_s_InfoExtractor__family_friendly_s;
static PyObject *__pyx_n_s_InfoExtractor__float;
static PyObject *__pyx_n_s_InfoExtractor__form_hidden_input;
static PyObject *__pyx_n_s_InfoExtractor__get_automatic_cap;
static PyObject *__pyx_n_s_InfoExtractor__get_cookies;
static PyObject *__pyx_n_s_InfoExtractor__get_login_info;
static PyObject *__pyx_n_s_InfoExtractor__get_subtitles;
static PyObject *__pyx_n_s_InfoExtractor__get_tfa_info;
static PyObject *__pyx_n_s_InfoExtractor__guess_encoding_fr;
static PyObject *__pyx_n_s_InfoExtractor__hidden_inputs;
static PyObject *__pyx_n_s_InfoExtractor__html_search_meta;
static PyObject *__pyx_n_s_InfoExtractor__html_search_regex;
static PyObject *__pyx_n_s_InfoExtractor__int;
static PyObject *__pyx_n_s_InfoExtractor__is_valid_url;
static PyObject *__pyx_n_s_InfoExtractor__json_ld;
static PyObject *__pyx_n_s_InfoExtractor__json_ld_locals_ge;
static PyObject *__pyx_n_s_InfoExtractor__live_title;
static PyObject *__pyx_n_s_InfoExtractor__m3u8_meta_format;
static PyObject *__pyx_n_s_InfoExtractor__mark_watched;
static PyObject *__pyx_n_s_InfoExtractor__match_id;
static PyObject *__pyx_n_s_InfoExtractor__media_rating_sear;
static PyObject *__pyx_n_s_InfoExtractor__merge_subtitle_it;
static PyObject *__pyx_n_s_InfoExtractor__merge_subtitles;
static PyObject *__pyx_n_s_InfoExtractor__meta_regex;
static PyObject *__pyx_n_s_InfoExtractor__og_regexes;
static PyObject *__pyx_n_s_InfoExtractor__og_search_descrip;
static PyObject *__pyx_n_s_InfoExtractor__og_search_propert;
static PyObject *__pyx_n_s_InfoExtractor__og_search_thumbna;
static PyObject *__pyx_n_s_InfoExtractor__og_search_title;
static PyObject *__pyx_n_s_InfoExtractor__og_search_url;
static PyObject *__pyx_n_s_InfoExtractor__og_search_video_u;
static PyObject *__pyx_n_s_InfoExtractor__parse_f4m_formats;
static PyObject *__pyx_n_s_InfoExtractor__parse_f4m_formats_2;
static PyObject *__pyx_n_s_InfoExtractor__parse_html5_media;
static PyObject *__pyx_n_s_InfoExtractor__parse_html5_media_2;
static PyObject *__pyx_n_s_InfoExtractor__parse_html5_media_3;
static PyObject *__pyx_n_s_InfoExtractor__parse_json;
static PyObject *__pyx_n_s_InfoExtractor__parse_mpd_formats;
static PyObject *__pyx_n_s_InfoExtractor__parse_mpd_formats_2;
static PyObject *__pyx_n_s_InfoExtractor__parse_mpd_formats_3;
static PyObject *__pyx_n_s_InfoExtractor__parse_mpd_formats_4;
static PyObject *__pyx_n_s_InfoExtractor__parse_mpd_formats_5;
static PyObject *__pyx_n_s_InfoExtractor__parse_mpd_formats_6;
static PyObject *__pyx_n_s_InfoExtractor__parse_smil;
static PyObject *__pyx_n_s_InfoExtractor__parse_smil_format;
static PyObject *__pyx_n_s_InfoExtractor__parse_smil_namesp;
static PyObject *__pyx_n_s_InfoExtractor__parse_smil_subtit;
static PyObject *__pyx_n_s_InfoExtractor__parse_xspf;
static PyObject *__pyx_n_s_InfoExtractor__proto_relative_ur;
static PyObject *__pyx_n_s_InfoExtractor__real_extract;
static PyObject *__pyx_n_s_InfoExtractor__real_initialize;
static PyObject *__pyx_n_s_InfoExtractor__remove_duplicate;
static PyObject *__pyx_n_s_InfoExtractor__request_webpage;
static PyObject *__pyx_n_s_InfoExtractor__rta_search;
static PyObject *__pyx_n_s_InfoExtractor__search_json_ld;
static PyObject *__pyx_n_s_InfoExtractor__search_regex;
static PyObject *__pyx_n_s_InfoExtractor__search_regex_loca;
static PyObject *__pyx_n_s_InfoExtractor__set_cookie;
static PyObject *__pyx_n_s_InfoExtractor__sleep;
static PyObject *__pyx_n_s_InfoExtractor__sort_formats;
static PyObject *__pyx_n_s_InfoExtractor__sort_formats_loca;
static PyObject *__pyx_n_s_InfoExtractor__sort_formats_loca_2;
static PyObject *__pyx_n_s_InfoExtractor__twitter_search_pl;
static PyObject *__pyx_n_s_InfoExtractor__webpage_read_cont;
static PyObject *__pyx_n_s_InfoExtractor__xpath_ns;
static PyObject *__pyx_n_s_InfoExtractor_extract;
static PyObject *__pyx_n_s_InfoExtractor_extract_automatic;
static PyObject *__pyx_n_s_InfoExtractor_extract_subtitles;
static PyObject *__pyx_n_s_InfoExtractor_geo_verification_h;
static PyObject *__pyx_n_s_InfoExtractor_get_testcases;
static PyObject *__pyx_n_s_InfoExtractor_http_scheme;
static PyObject *__pyx_n_s_InfoExtractor_ie_key;
static PyObject *__pyx_n_s_InfoExtractor_initialize;
static PyObject *__pyx_n_s_InfoExtractor_is_suitable;
static PyObject *__pyx_n_s_InfoExtractor_mark_watched;
static PyObject *__pyx_n_s_InfoExtractor_playlist_result;
static PyObject *__pyx_n_s_InfoExtractor_raise_geo_restrict;
static PyObject *__pyx_n_s_InfoExtractor_raise_login_requir;
static PyObject *__pyx_n_s_InfoExtractor_report_age_confirm;
static PyObject *__pyx_n_s_InfoExtractor_report_download_we;
static PyObject *__pyx_n_s_InfoExtractor_report_extraction;
static PyObject *__pyx_n_s_InfoExtractor_report_login;
static PyObject *__pyx_n_s_InfoExtractor_report_warning;
static PyObject *__pyx_n_s_InfoExtractor_set_downloader;
static PyObject *__pyx_n_s_InfoExtractor_suitable;
static PyObject *__pyx_n_s_InfoExtractor_to_screen;
static PyObject *__pyx_n_s_InfoExtractor_url_result;
static PyObject *__pyx_n_s_InfoExtractor_working;
static PyObject *__pyx_kp_s_Information_Extractor_class_Info;
static PyObject *__pyx_n_u_Initialization;
static PyObject *__pyx_kp_u_Invalid_search_query_s;
static PyObject *__pyx_kp_u_JSON_LD;
static PyObject *__pyx_n_s_KeyError;
static PyObject *__pyx_kp_u_Logging_in;
static PyObject *__pyx_n_s_LookupError;
static PyObject *__pyx_n_s_MAX_RESULTS;
static PyObject *__pyx_kp_u_Message_s;
static PyObject *__pyx_n_u_NAME;
static PyObject *__pyx_n_s_NETRC_MACHINE;
static PyObject *__pyx_n_s_NO_DEFAULT;
static PyObject *__pyx_n_s_NS_MAP;
static PyObject *__pyx_n_s_NetrcParseError;
static PyObject *__pyx_kp_u_No_authenticators_for_s;
static PyObject *__pyx_kp_u_No_video_formats_found;
static PyObject *__pyx_n_s_NotImplementedError;
static PyObject *__pyx_kp_u_Number;
static PyObject *__pyx_n_u_Number_2;
static PyObject *__pyx_kp_u_Number_Bandwidth_Time;
static PyObject *__pyx_kp_u_Number_Bandwidth_Time_2;
static PyObject *__pyx_n_s_ORDER;
static PyObject *__pyx_kp_u_OpenGraph_s;
static PyObject *__pyx_kp_u_P_mimetype_s_codecs_P_codecs;
static PyObject *__pyx_n_u_Period;
static PyObject *__pyx_kp_u_Quality_selection_URL;
static PyObject *__pyx_n_s_RATING_TABLE;
static PyObject *__pyx_n_u_RESOLUTION;
static PyObject *__pyx_n_s_RegexNotFoundError;
static PyObject *__pyx_n_u_Representation;
static PyObject *__pyx_kp_u_RepresentationID;
static PyObject *__pyx_n_s_Request;
static PyObject *__pyx_n_u_S;
static PyObject *__pyx_n_s_SEARCH_KEY;
static PyObject *__pyx_n_s_SEARCH_KEY_2;
static PyObject *__pyx_n_u_SUBTITLES;
static PyObject *__pyx_kp_u_Saving_request_to;
static PyObject *__pyx_n_s_SearchInfoExtractor;
static PyObject *__pyx_n_s_SearchInfoExtractor_SEARCH_KEY;
static PyObject *__pyx_n_s_SearchInfoExtractor__get_n_resul;
static PyObject *__pyx_n_s_SearchInfoExtractor__make_valid;
static PyObject *__pyx_n_s_SearchInfoExtractor__real_extrac;
static PyObject *__pyx_n_s_SearchInfoExtractor_suitable;
static PyObject *__pyx_n_u_SegmentList;
static PyObject *__pyx_n_u_SegmentTemplate;
static PyObject *__pyx_n_u_SegmentTimeline;
static PyObject *__pyx_n_u_SegmentURL;
static PyObject *__pyx_n_s_SimpleCookie;
static PyObject *__pyx_n_s_StopIteration;
static PyObject *__pyx_n_u_TEST;
static PyObject *__pyx_n_u_TESTS;
static PyObject *__pyx_n_u_TVEpisode;
static PyObject *__pyx_n_u_TVSeason;
static PyObject *__pyx_n_u_TVSeries;
static PyObject *__pyx_n_u_TYPE;
static PyObject *__pyx_kp_u_This_method_must_be_implemented;
static PyObject *__pyx_kp_u_This_video_is_not_available_from;
static PyObject *__pyx_kp_u_This_video_is_only_available_for;
static PyObject *__pyx_n_u_Time;
static PyObject *__pyx_kp_u_Type_s_and_press_Return;
static PyObject *__pyx_n_s_URLError;
static PyObject *__pyx_kp_u_Unable_to_download_JSON_metadata;
static PyObject *__pyx_kp_u_Unable_to_download_SMIL_file;
static PyObject *__pyx_kp_u_Unable_to_download_XML;
static PyObject *__pyx_kp_u_Unable_to_download_f4m_manifest;
static PyObject *__pyx_kp_u_Unable_to_download_webpage;
static PyObject *__pyx_kp_u_Unable_to_download_xspf_manifest;
static PyObject *__pyx_kp_u_Unable_to_extract_s;
static PyObject *__pyx_kp_u_Unknown_MIME_type_s_in_DASH_mani;
static PyObject *__pyx_n_s_VALID_URL;
static PyObject *__pyx_n_s_VALID_URL_RE;
static PyObject *__pyx_n_u_VALID_URL_RE;
static PyObject *__pyx_n_s_ValueError;
static PyObject *__pyx_n_u_VideoObject;
static PyObject *__pyx_kp_u_Visit_s_for_more_details;
static PyObject *__pyx_n_s_WORKING;
static PyObject *__pyx_n_u_Websense;
static PyObject *__pyx_kp_u_Websense_information_URL;
static PyObject *__pyx_kp_u_Y_m_d_H_M;
static PyObject *__pyx_kp_u_Ytdl_request_proxy;
static PyObject *__pyx_kp_u__110;
static PyObject *__pyx_kp_u__113;
static PyObject *__pyx_kp_b__12;
static PyObject *__pyx_kp_u__120;
static PyObject *__pyx_kp_u__125;
static PyObject *__pyx_kp_u__14;
static PyObject *__pyx_kp_u__144;
static PyObject *__pyx_kp_u__166;
static PyObject *__pyx_kp_u__167;
static PyObject *__pyx_n_u__19;
static PyObject *__pyx_kp_u__206;
static PyObject *__pyx_kp_u__207;
static PyObject *__pyx_kp_u__21;
static PyObject *__pyx_kp_u__26;
static PyObject *__pyx_kp_u__27;
static PyObject *__pyx_n_s__275;
static PyObject *__pyx_kp_u__6;
static PyObject *__pyx_kp_u__64;
static PyObject *__pyx_kp_u_a_zA_Z0_9__a_zA_Z0_9__s_s_chars;
static PyObject *__pyx_n_u_aac;
static PyObject *__pyx_n_s_abr;
static PyObject *__pyx_n_u_abr;
static PyObject *__pyx_n_s_absfilepath;
static PyObject *__pyx_n_s_absolute_url;
static PyObject *__pyx_n_s_abspath;
static PyObject *__pyx_n_u_abstract;
static PyObject *__pyx_n_u_acodec;
static PyObject *__pyx_n_s_adaptation_set;
static PyObject *__pyx_n_s_adaption_set_ms_info;
static PyObject *__pyx_n_s_add_cookie_header;
static PyObject *__pyx_n_s_add_ns;
static PyObject *__pyx_n_s_add_segment_url;
static PyObject *__pyx_n_s_age_limit;
static PyObject *__pyx_n_u_age_limit;
static PyObject *__pyx_n_s_age_restricted;
static PyObject *__pyx_n_s_akamai_pv;
static PyObject *__pyx_n_u_all;
static PyObject *__pyx_n_s_any_restricted;
static PyObject *__pyx_n_s_append;
static PyObject *__pyx_n_s_args;
static PyObject *__pyx_n_u_articleBody;
static PyObject *__pyx_n_u_ascii;
static PyObject *__pyx_n_u_asr;
static PyObject *__pyx_n_s_attrib;
static PyObject *__pyx_kp_u_audio;
static PyObject *__pyx_n_u_audioSamplingRate;
static PyObject *__pyx_n_u_audio_2;
static PyObject *__pyx_kp_u_audio_3D_d_video_3D_d;
static PyObject *__pyx_n_s_audio_ext_preference;
static PyObject *__pyx_n_s_authenticators;
static PyObject *__pyx_n_s_b;
static PyObject *__pyx_n_s_b64encode;
static PyObject *__pyx_n_u_bandwidth;
static PyObject *__pyx_n_s_base;
static PyObject *__pyx_n_u_base;
static PyObject *__pyx_n_s_base64;
static PyObject *__pyx_kp_u_base_URL;
static PyObject *__pyx_n_s_base_url;
static PyObject *__pyx_n_s_base_url_e;
static PyObject *__pyx_n_s_basen;
static PyObject *__pyx_n_s_bitrate;
static PyObject *__pyx_n_u_bitrate;
static PyObject *__pyx_kp_u_block_message;
static PyObject *__pyx_n_s_block_msg;
static PyObject *__pyx_n_s_blocked_iframe;
static PyObject *__pyx_kp_u_bootstrap_info;
static PyObject *__pyx_n_s_bootstrap_info_2;
static PyObject *__pyx_n_s_bug_reports_message;
static PyObject *__pyx_n_s_c;
static PyObject *__pyx_n_s_cause;
static PyObject *__pyx_n_s_ceil;
static PyObject *__pyx_n_s_check_formats;
static PyObject *__pyx_n_s_clean_html;
static PyObject *__pyx_n_s_close;
static PyObject *__pyx_n_s_cls;
static PyObject *__pyx_n_s_codecs;
static PyObject *__pyx_n_u_codecs;
static PyObject *__pyx_n_s_compat;
static PyObject *__pyx_n_s_compat_cookiejar;
static PyObject *__pyx_n_s_compat_cookies;
static PyObject *__pyx_n_s_compat_etree_fromstring;
static PyObject *__pyx_n_s_compat_getpass;
static PyObject *__pyx_n_s_compat_http_client;
static PyObject *__pyx_n_s_compat_os_name;
static PyObject *__pyx_n_s_compat_str;
static PyObject *__pyx_n_s_compat_urllib_error;
static PyObject *__pyx_n_s_compat_urllib_parse_urlencode;
static PyObject *__pyx_n_s_compat_urllib_request;
static PyObject *__pyx_n_s_compat_urlparse;
static PyObject *__pyx_n_s_compile;
static PyObject *__pyx_n_s_compiled_regex_type;
static PyObject *__pyx_n_s_content;
static PyObject *__pyx_n_u_content;
static PyObject *__pyx_n_u_contentSize;
static PyObject *__pyx_n_u_contentUrl;
static PyObject *__pyx_n_s_content_re;
static PyObject *__pyx_kp_u_content_s_s;
static PyObject *__pyx_n_s_content_type;
static PyObject *__pyx_kp_u_context;
static PyObject *__pyx_n_s_cookie;
static PyObject *__pyx_n_u_cookiefile;
static PyObject *__pyx_n_s_cookiejar;
static PyObject *__pyx_n_s_copy;
static PyObject *__pyx_n_s_ctr;
static PyObject *__pyx_kp_u_d;
static PyObject *__pyx_n_u_d_2;
static PyObject *__pyx_n_s_data;
static PyObject *__pyx_n_u_date;
static PyObject *__pyx_n_u_datePublished;
static PyObject *__pyx_n_s_datetime;
static PyObject *__pyx_kp_u_dc_creator;
static PyObject *__pyx_n_s_dc_search_uploader;
static PyObject *__pyx_n_s_decode;
static PyObject *__pyx_n_s_default;
static PyObject *__pyx_n_s_description;
static PyObject *__pyx_n_u_description;
static PyObject *__pyx_n_s_determine_ext;
static PyObject *__pyx_n_s_determine_protocol;
static PyObject *__pyx_n_s_dict;
static PyObject *__pyx_n_s_display_name;
static PyObject *__pyx_n_s_doc;
static PyObject *__pyx_n_s_domain;
static PyObject *__pyx_n_s_download_json;
static PyObject *__pyx_n_s_download_smil;
static PyObject *__pyx_n_s_download_webpage;
static PyObject *__pyx_n_s_download_webpage_handle;
static PyObject *__pyx_n_s_download_xml;
static PyObject *__pyx_n_s_downloader;
static PyObject *__pyx_n_s_downloader_2;
static PyObject *__pyx_n_s_downloader_f4m;
static PyObject *__pyx_n_s_downloader_params;
static PyObject *__pyx_kp_u_dump;
static PyObject *__pyx_n_s_dump_2;
static PyObject *__pyx_n_u_dump_intermediate_pages;
static PyObject *__pyx_n_s_duration;
static PyObject *__pyx_n_u_duration;
static PyObject *__pyx_n_u_dynamic;
static PyObject *__pyx_n_s_e;
static PyObject *__pyx_n_s_element;
static PyObject *__pyx_n_u_en;
static PyObject *__pyx_n_s_encode;
static PyObject *__pyx_n_s_encoding;
static PyObject *__pyx_n_s_endswith;
static PyObject *__pyx_n_s_enter;
static PyObject *__pyx_n_s_entries;
static PyObject *__pyx_n_u_entries;
static PyObject *__pyx_n_s_entry_protocol;
static PyObject *__pyx_n_s_enumerate;
static PyObject *__pyx_n_u_episode;
static PyObject *__pyx_n_u_episodeNumber;
static PyObject *__pyx_n_u_episode_number;
static PyObject *__pyx_n_s_err;
static PyObject *__pyx_n_s_errmsg;
static PyObject *__pyx_n_s_errnote;
static PyObject *__pyx_n_s_error;
static PyObject *__pyx_n_s_error_to_compat_str;
static PyObject *__pyx_n_s_escape;
static PyObject *__pyx_n_s_escaped;
static PyObject *__pyx_n_s_exc_info;
static PyObject *__pyx_n_s_existing_format;
static PyObject *__pyx_n_s_exit;
static PyObject *__pyx_n_s_expected;
static PyObject *__pyx_n_s_expected_type;
static PyObject *__pyx_n_s_expire_time;
static PyObject *__pyx_n_s_ext;
static PyObject *__pyx_n_u_ext;
static PyObject *__pyx_n_s_ext_preference;
static PyObject *__pyx_n_s_extract;
static PyObject *__pyx_n_s_extract_attributes;
static PyObject *__pyx_n_s_extract_automatic_captions;
static PyObject *__pyx_n_s_extract_f4m_formats;
static PyObject *__pyx_n_s_extract_m3u8_formats;
static PyObject *__pyx_n_s_extract_mpd_formats;
static PyObject *__pyx_n_s_extract_multisegment_info;
static PyObject *__pyx_n_s_extract_smil_formats;
static PyObject *__pyx_n_s_extract_smil_info;
static PyObject *__pyx_n_s_extract_subtitles;
static PyObject *__pyx_n_s_extract_xspf_playlist;
static PyObject *__pyx_n_s_f;
static PyObject *__pyx_n_u_f4f;
static PyObject *__pyx_n_u_f4m;
static PyObject *__pyx_n_s_f4m_formats;
static PyObject *__pyx_n_s_f4m_id;
static PyObject *__pyx_n_s_f4m_params;
static PyObject *__pyx_n_s_f4m_url;
static PyObject *__pyx_n_u_false;
static PyObject *__pyx_n_s_family_friendly;
static PyObject *__pyx_n_s_family_friendly_search;
static PyObject *__pyx_n_s_fatal;
static PyObject *__pyx_n_u_fatal;
static PyObject *__pyx_n_s_field_preference;
static PyObject *__pyx_n_u_fileSize;
static PyObject *__pyx_n_s_filename;
static PyObject *__pyx_n_s_filesize;
static PyObject *__pyx_n_u_filesize;
static PyObject *__pyx_n_u_filesize_approx;
static PyObject *__pyx_n_s_filter;
static PyObject *__pyx_n_s_find;
static PyObject *__pyx_n_s_findall;
static PyObject *__pyx_n_s_fix_xml_ampersands;
static PyObject *__pyx_n_s_flags;
static PyObject *__pyx_n_s_float;
static PyObject *__pyx_n_s_float_or_none;
static PyObject *__pyx_kp_u_flowplayer_3_2_0_1;
static PyObject *__pyx_n_u_flv;
static PyObject *__pyx_n_s_form;
static PyObject *__pyx_n_u_form;
static PyObject *__pyx_n_s_form_hidden_inputs;
static PyObject *__pyx_n_s_form_id;
static PyObject *__pyx_n_s_format_id;
static PyObject *__pyx_n_u_format_id;
static PyObject *__pyx_n_u_format_note;
static PyObject *__pyx_n_s_format_url;
static PyObject *__pyx_n_s_format_urls;
static PyObject *__pyx_n_s_formats;
static PyObject *__pyx_n_u_formats;
static PyObject *__pyx_n_s_formats_dict;
static PyObject *__pyx_n_s_formats_key;
static PyObject *__pyx_n_u_fps;
static PyObject *__pyx_n_u_frameRate;
static PyObject *__pyx_n_s_full_info;
static PyObject *__pyx_n_u_general;
static PyObject *__pyx_n_s_genexpr;
static PyObject *__pyx_n_s_geo_verification_headers;
static PyObject *__pyx_n_s_geo_verification_proxy;
static PyObject *__pyx_n_u_geo_verification_proxy;
static PyObject *__pyx_n_s_get;
static PyObject *__pyx_n_u_get_attr;
static PyObject *__pyx_n_s_get_automatic_captions;
static PyObject *__pyx_n_s_get_cookies;
static PyObject *__pyx_n_s_get_full_url;
static PyObject *__pyx_n_s_get_header;
static PyObject *__pyx_n_s_get_login_info;
static PyObject *__pyx_n_s_get_n_results;
static PyObject *__pyx_n_s_get_subtitles;
static PyObject *__pyx_n_s_get_testcases;
static PyObject *__pyx_n_s_get_tfa_info;
static PyObject *__pyx_n_s_geturl;
static PyObject *__pyx_n_s_group;
static PyObject *__pyx_n_s_groups;
static PyObject *__pyx_n_s_guess_encoding_from_content;
static PyObject *__pyx_n_s_h;
static PyObject *__pyx_kp_u_h1_p_p;
static PyObject *__pyx_n_s_hashlib;
static PyObject *__pyx_n_u_hdcore;
static PyObject *__pyx_n_u_hds;
static PyObject *__pyx_kp_u_head_meta;
static PyObject *__pyx_n_s_headers;
static PyObject *__pyx_n_u_headline;
static PyObject *__pyx_n_s_height;
static PyObject *__pyx_n_u_height;
static PyObject *__pyx_n_s_height_str;
static PyObject *__pyx_n_s_hexdigest;
static PyObject *__pyx_n_s_hidden_inputs;
static PyObject *__pyx_n_s_hidden_inputs_2;
static PyObject *__pyx_n_u_hls;
static PyObject *__pyx_kp_u_hls_d;
static PyObject *__pyx_n_u_href;
static PyObject *__pyx_n_s_html;
static PyObject *__pyx_n_s_html_search_meta;
static PyObject *__pyx_n_s_html_search_regex;
static PyObject *__pyx_n_u_http;
static PyObject *__pyx_n_u_httpBase;
static PyObject *__pyx_kp_u_http_2;
static PyObject *__pyx_kp_u_http_3;
static PyObject *__pyx_n_s_http_count;
static PyObject *__pyx_kp_u_http_d;
static PyObject *__pyx_n_u_http_dash_segments;
static PyObject *__pyx_kp_u_http_ns_adobe_com_f4m_1_0_baseU;
static PyObject *__pyx_kp_u_http_ns_adobe_com_f4m_1_0_boots;
static PyObject *__pyx_kp_u_http_ns_adobe_com_f4m_1_0_media;
static PyObject *__pyx_kp_u_http_ns_adobe_com_f4m_1_0_pv_2;
static PyObject *__pyx_kp_u_http_ns_adobe_com_f4m_2_0_baseU;
static PyObject *__pyx_kp_u_http_ns_adobe_com_f4m_2_0_boots;
static PyObject *__pyx_kp_u_http_ns_adobe_com_f4m_2_0_media;
static PyObject *__pyx_kp_u_http_schema_org;
static PyObject *__pyx_n_s_http_scheme;
static PyObject *__pyx_kp_u_http_static_streamone_nl_player;
static PyObject *__pyx_kp_u_http_xspf_org_ns_0;
static PyObject *__pyx_kp_u_http_youtube_com_yt_2012_10_10;
static PyObject *__pyx_n_u_https;
static PyObject *__pyx_kp_u_https_2;
static PyObject *__pyx_kp_u_https_3;
static PyObject *__pyx_kp_u_https_4;
static PyObject *__pyx_kp_u_https_5;
static PyObject *__pyx_n_s_i;
static PyObject *__pyx_kp_u_i_MPD;
static PyObject *__pyx_kp_u_i_input;
static PyObject *__pyx_kp_u_i_smil;
static PyObject *__pyx_n_u_id;
static PyObject *__pyx_n_s_id_or_name;
static PyObject *__pyx_n_s_idstr;
static PyObject *__pyx_n_s_ie;
static PyObject *__pyx_n_s_ie_key;
static PyObject *__pyx_n_u_ie_key;
static PyObject *__pyx_kp_u_iframe_src;
static PyObject *__pyx_n_u_image;
static PyObject *__pyx_kp_u_image_2;
static PyObject *__pyx_n_s_import;
static PyObject *__pyx_n_s_include_onlymatching;
static PyObject *__pyx_n_s_index;
static PyObject *__pyx_n_s_info;
static PyObject *__pyx_n_u_info_dict;
static PyObject *__pyx_n_s_init;
static PyObject *__pyx_n_s_initialization;
static PyObject *__pyx_n_u_initialization;
static PyObject *__pyx_n_s_initialization_url;
static PyObject *__pyx_n_u_initialization_url;
static PyObject *__pyx_n_s_initialize;
static PyObject *__pyx_n_s_input;
static PyObject *__pyx_n_s_int;
static PyObject *__pyx_n_s_int_or_none;
static PyObject *__pyx_kp_u_invalid_download_number_s_for_qu;
static PyObject *__pyx_n_u_isFamilyFriendly;
static PyObject *__pyx_n_s_is_drm_protected;
static PyObject *__pyx_kp_u_is_form_id_s_1_P_form_form;
static PyObject *__pyx_n_s_is_restricted;
static PyObject *__pyx_n_s_is_suitable;
static PyObject *__pyx_n_s_is_valid_url;
static PyObject *__pyx_n_s_isatty;
static PyObject *__pyx_kp_u_isx_meta_itemprop_name_property;
static PyObject *__pyx_n_s_item;
static PyObject *__pyx_n_s_item_type;
static PyObject *__pyx_n_s_items;
static PyObject *__pyx_kp_u_ix_meta_s_name_rating_s_content;
static PyObject *__pyx_n_s_json;
static PyObject *__pyx_n_s_json_ld;
static PyObject *__pyx_n_u_json_ld;
static PyObject *__pyx_n_s_json_ld_2;
static PyObject *__pyx_n_s_json_string;
static PyObject *__pyx_n_s_kargs;
static PyObject *__pyx_n_s_key;
static PyObject *__pyx_n_s_kind;
static PyObject *__pyx_n_u_kind;
static PyObject *__pyx_n_s_kwargs;
static PyObject *__pyx_n_u_label;
static PyObject *__pyx_n_s_lang;
static PyObject *__pyx_n_u_lang;
static PyObject *__pyx_n_u_language;
static PyObject *__pyx_n_u_language_preference;
static PyObject *__pyx_n_s_last_info;
static PyObject *__pyx_n_s_last_media;
static PyObject *__pyx_n_s_last_media_name;
static PyObject *__pyx_n_s_line;
static PyObject *__pyx_n_s_list1_urls;
static PyObject *__pyx_n_u_listsubtitles;
static PyObject *__pyx_n_s_live;
static PyObject *__pyx_n_s_live_title;
static PyObject *__pyx_n_s_loads;
static PyObject *__pyx_n_s_lower;
static PyObject *__pyx_n_s_m;
static PyObject *__pyx_n_u_m3u8;
static PyObject *__pyx_n_s_m3u8_count;
static PyObject *__pyx_n_s_m3u8_doc;
static PyObject *__pyx_n_s_m3u8_formats;
static PyObject *__pyx_n_s_m3u8_id;
static PyObject *__pyx_n_u_m3u8_media;
static PyObject *__pyx_n_s_m3u8_meta_format;
static PyObject *__pyx_n_s_m3u8_url;
static PyObject *__pyx_n_u_m4a;
static PyObject *__pyx_n_s_main;
static PyObject *__pyx_n_s_make_valid_url;
static PyObject *__pyx_n_s_manifest;
static PyObject *__pyx_n_s_manifest_url;
static PyObject *__pyx_n_s_manifest_version;
static PyObject *__pyx_n_s_mark_watched;
static PyObject *__pyx_n_u_mark_watched;
static PyObject *__pyx_n_s_mark_watched_2;
static PyObject *__pyx_n_s_match;
static PyObject *__pyx_n_s_match_id;
static PyObject *__pyx_n_s_math;
static PyObject *__pyx_n_u_mature;
static PyObject *__pyx_n_s_md5;
static PyObject *__pyx_n_s_media;
static PyObject *__pyx_n_u_media;
static PyObject *__pyx_n_u_mediaPresentationDuration;
static PyObject *__pyx_n_s_media_attributes;
static PyObject *__pyx_n_s_media_content;
static PyObject *__pyx_n_s_media_el;
static PyObject *__pyx_n_s_media_info;
static PyObject *__pyx_n_s_media_nodes;
static PyObject *__pyx_n_s_media_rating_search;
static PyObject *__pyx_n_s_media_tag;
static PyObject *__pyx_n_s_media_template;
static PyObject *__pyx_n_u_media_template;
static PyObject *__pyx_n_s_media_type;
static PyObject *__pyx_n_s_media_url;
static PyObject *__pyx_n_s_medium;
static PyObject *__pyx_n_s_merge_subtitle_items;
static PyObject *__pyx_n_s_merge_subtitles;
static PyObject *__pyx_n_s_meta;
static PyObject *__pyx_n_u_meta;
static PyObject *__pyx_kp_b_meta_charset;
static PyObject *__pyx_n_s_meta_regex;
static PyObject *__pyx_kp_u_meta_s_s;
static PyObject *__pyx_n_s_metaclass;
static PyObject *__pyx_n_u_mimeType;
static PyObject *__pyx_n_s_mime_type;
static PyObject *__pyx_n_s_mimetype;
static PyObject *__pyx_n_s_mimetype2ext;
static PyObject *__pyx_n_u_mis;
static PyObject *__pyx_n_s_mobj;
static PyObject *__pyx_n_s_module;
static PyObject *__pyx_n_u_mp3;
static PyObject *__pyx_n_u_mp4;
static PyObject *__pyx_n_s_mpd;
static PyObject *__pyx_n_s_mpd_base_url;
static PyObject *__pyx_n_s_mpd_doc;
static PyObject *__pyx_n_s_mpd_duration;
static PyObject *__pyx_n_s_mpd_id;
static PyObject *__pyx_n_s_mpd_url;
static PyObject *__pyx_n_s_ms_info;
static PyObject *__pyx_n_s_ms_parent_info;
static PyObject *__pyx_n_s_msg;
static PyObject *__pyx_n_s_msg_template;
static PyObject *__pyx_n_u_mul;
static PyObject *__pyx_n_u_multiple;
static PyObject *__pyx_n_s_n;
static PyObject *__pyx_n_s_name;
static PyObject *__pyx_n_s_name_2;
static PyObject *__pyx_n_u_name_2;
static PyObject *__pyx_n_s_name_3;
static PyObject *__pyx_kp_u_name_id_P_value_1;
static PyObject *__pyx_kp_u_name_property_og_prop_s_og_prop;
static PyObject *__pyx_n_s_namespace;
static PyObject *__pyx_n_u_namespace;
static PyObject *__pyx_n_s_netrc;
static PyObject *__pyx_n_u_no_color;
static PyObject *__pyx_n_u_none;
static PyObject *__pyx_n_s_note;
static PyObject *__pyx_n_s_now;
static PyObject *__pyx_n_s_now_str;
static PyObject *__pyx_n_u_nt;
static PyObject *__pyx_n_s_num;
static PyObject *__pyx_n_s_object;
static PyObject *__pyx_n_s_og_regexes;
static PyObject *__pyx_n_s_og_search_description;
static PyObject *__pyx_n_s_og_search_property;
static PyObject *__pyx_n_s_og_search_thumbnail;
static PyObject *__pyx_n_s_og_search_title;
static PyObject *__pyx_n_s_og_search_url;
static PyObject *__pyx_n_s_og_search_video_url;
static PyObject *__pyx_n_u_ogg;
static PyObject *__pyx_n_u_only_matching;
static PyObject *__pyx_n_s_open;
static PyObject *__pyx_n_u_opus;
static PyObject *__pyx_n_s_os;
static PyObject *__pyx_n_s_out;
static PyObject *__pyx_n_s_outf;
static PyObject *__pyx_n_s_p;
static PyObject *__pyx_n_s_params;
static PyObject *__pyx_n_s_parse_codecs;
static PyObject *__pyx_n_s_parse_content_type;
static PyObject *__pyx_n_s_parse_duration;
static PyObject *__pyx_n_s_parse_f4m_formats;
static PyObject *__pyx_n_s_parse_html5_media_entries;
static PyObject *__pyx_n_s_parse_iso8601;
static PyObject *__pyx_n_s_parse_json;
static PyObject *__pyx_n_s_parse_m3u8_attributes;
static PyObject *__pyx_n_s_parse_mpd_formats;
static PyObject *__pyx_n_s_parse_smil;
static PyObject *__pyx_n_s_parse_smil_formats;
static PyObject *__pyx_n_s_parse_smil_namespace;
static PyObject *__pyx_n_s_parse_smil_subtitles;
static PyObject *__pyx_n_s_parse_xspf;
static PyObject *__pyx_kp_u_parsing_netrc_s;
static PyObject *__pyx_n_u_partOfSeason;
static PyObject *__pyx_n_u_partOfSeries;
static PyObject *__pyx_n_s_part_of_season;
static PyObject *__pyx_n_s_part_of_series;
static PyObject *__pyx_n_s_partition;
static PyObject *__pyx_n_s_password;
static PyObject *__pyx_n_u_password;
static PyObject *__pyx_n_s_path;
static PyObject *__pyx_n_s_pattern;
static PyObject *__pyx_n_s_period;
static PyObject *__pyx_n_s_period_duration;
static PyObject *__pyx_n_s_period_ms_info;
static PyObject *__pyx_n_u_play_path;
static PyObject *__pyx_n_s_playerVerificationChallenge;
static PyObject *__pyx_n_s_playlist;
static PyObject *__pyx_n_u_playlist;
static PyObject *__pyx_n_s_playlist_description;
static PyObject *__pyx_n_s_playlist_id;
static PyObject *__pyx_n_s_playlist_result;
static PyObject *__pyx_n_s_playlist_title;
static PyObject *__pyx_n_s_playlist_url;
static PyObject *__pyx_n_u_plugin;
static PyObject *__pyx_n_u_poster;
static PyObject *__pyx_n_u_prefer_free_formats;
static PyObject *__pyx_n_u_prefer_insecure;
static PyObject *__pyx_n_s_preference;
static PyObject *__pyx_n_u_preference;
static PyObject *__pyx_n_s_prefix;
static PyObject *__pyx_n_u_prefix;
static PyObject *__pyx_n_s_prepare;
static PyObject *__pyx_n_s_print;
static PyObject *__pyx_n_s_prop;
static PyObject *__pyx_n_u_prop;
static PyObject *__pyx_n_s_property;
static PyObject *__pyx_n_s_property_re;
static PyObject *__pyx_n_s_proto;
static PyObject *__pyx_n_u_proto;
static PyObject *__pyx_n_s_proto_preference;
static PyObject *__pyx_n_s_proto_relative_url;
static PyObject *__pyx_n_u_protocol;
static PyObject *__pyx_n_u_quality;
static PyObject *__pyx_n_s_qualname;
static PyObject *__pyx_n_s_query;
static PyObject *__pyx_n_u_query;
static PyObject *__pyx_n_s_r;
static PyObject *__pyx_n_u_r;
static PyObject *__pyx_n_s_raise_geo_restricted;
static PyObject *__pyx_n_s_raise_login_required;
static PyObject *__pyx_n_s_range;
static PyObject *__pyx_n_s_rating;
static PyObject *__pyx_n_u_rating;
static PyObject *__pyx_n_s_raw_filename;
static PyObject *__pyx_n_s_re;
static PyObject *__pyx_n_s_read;
static PyObject *__pyx_n_s_ready;
static PyObject *__pyx_n_s_real_extract;
static PyObject *__pyx_n_s_real_initialize;
static PyObject *__pyx_n_s_regexes;
static PyObject *__pyx_n_s_remove_duplicate_formats;
static PyObject *__pyx_n_s_remove_encrypted_media;
static PyObject *__pyx_n_s_replace;
static PyObject *__pyx_n_u_replace;
static PyObject *__pyx_n_s_report_age_confirmation;
static PyObject *__pyx_n_s_report_download_webpage;
static PyObject *__pyx_n_s_report_extraction;
static PyObject *__pyx_n_s_report_login;
static PyObject *__pyx_n_s_report_warning;
static PyObject *__pyx_n_s_representation;
static PyObject *__pyx_n_s_representation_attrib;
static PyObject *__pyx_n_s_representation_id;
static PyObject *__pyx_n_s_representation_ms_info;
static PyObject *__pyx_n_s_req;
static PyObject *__pyx_n_s_request_webpage;
static PyObject *__pyx_n_s_res;
static PyObject *__pyx_n_s_resolution;
static PyObject *__pyx_n_u_resolution;
static PyObject *__pyx_n_s_restricted;
static PyObject *__pyx_n_u_restricted;
static PyObject *__pyx_n_s_ret;
static PyObject *__pyx_n_s_rta_search;
static PyObject *__pyx_n_u_rtmp;
static PyObject *__pyx_n_s_rtmp_count;
static PyObject *__pyx_kp_u_rtmp_d;
static PyObject *__pyx_kp_u_s;
static PyObject *__pyx_n_u_s1;
static PyObject *__pyx_kp_u_s1_height;
static PyObject *__pyx_kp_u_s1_label;
static PyObject *__pyx_kp_u_s1_width;
static PyObject *__pyx_kp_u_s_2;
static PyObject *__pyx_n_s_s_3;
static PyObject *__pyx_n_u_s_3;
static PyObject *__pyx_kp_u_s_Downloading_webpage;
static PyObject *__pyx_kp_u_s_Extracting_information;
static PyObject *__pyx_kp_u_s_Failed_to_parse_JSON;
static PyObject *__pyx_kp_u_s_P_prefix_1_9_0_9_all_P_query;
static PyObject *__pyx_kp_u_s_P_tag_video_audio_P_tag;
static PyObject *__pyx_kp_u_s_Use_username_and_password_or;
static PyObject *__pyx_kp_u_s_You_might_want_to_use_proxy_t;
static PyObject *__pyx_kp_u_s__s;
static PyObject *__pyx_n_s_s_e;
static PyObject *__pyx_kp_u_s_form;
static PyObject *__pyx_kp_u_s_has__TEST_and__TESTS;
static PyObject *__pyx_kp_u_s_returns_max_i_results_you_req;
static PyObject *__pyx_kp_u_s_s;
static PyObject *__pyx_kp_u_s_s_2;
static PyObject *__pyx_kp_u_s_s_3;
static PyObject *__pyx_kp_u_s_s_4;
static PyObject *__pyx_kp_u_s_s_URL_is_invalid_skipping;
static PyObject *__pyx_kp_u_s_s_s;
static PyObject *__pyx_kp_u_s_script_type_application_ld_js;
static PyObject *__pyx_kp_u_s_video_format;
static PyObject *__pyx_kp_u_safe_for_kids;
static PyObject *__pyx_n_s_sanitize_filename;
static PyObject *__pyx_n_s_sanitized_Request;
static PyObject *__pyx_n_s_scale;
static PyObject *__pyx_n_s_scheme;
static PyObject *__pyx_n_s_search;
static PyObject *__pyx_n_s_search_json_ld;
static PyObject *__pyx_n_s_search_regex;
static PyObject *__pyx_n_u_seasonNumber;
static PyObject *__pyx_n_u_season_number;
static PyObject *__pyx_n_s_secure;
static PyObject *__pyx_n_s_segment_duration;
static PyObject *__pyx_n_u_segment_duration;
static PyObject *__pyx_n_s_segment_list;
static PyObject *__pyx_n_s_segment_template;
static PyObject *__pyx_n_s_segment_time;
static PyObject *__pyx_n_s_segment_timeline;
static PyObject *__pyx_n_u_segment_urls;
static PyObject *__pyx_n_s_segment_urls_e;
static PyObject *__pyx_n_s_self;
static PyObject *__pyx_n_s_send;
static PyObject *__pyx_n_u_series;
static PyObject *__pyx_n_s_set_cookie;
static PyObject *__pyx_n_s_set_cookie_2;
static PyObject *__pyx_n_s_set_downloader;
static PyObject *__pyx_n_s_setdefault;
static PyObject *__pyx_n_u_size;
static PyObject *__pyx_n_s_sleep;
static PyObject *__pyx_n_s_sleep_2;
static PyObject *__pyx_n_s_smil;
static PyObject *__pyx_n_s_smil_url;
static PyObject *__pyx_n_s_socket;
static PyObject *__pyx_n_s_sort;
static PyObject *__pyx_n_s_sort_formats;
static PyObject *__pyx_kp_u_source;
static PyObject *__pyx_n_u_sourceURL;
static PyObject *__pyx_n_s_source_attributes;
static PyObject *__pyx_n_u_source_preference;
static PyObject *__pyx_n_s_source_tag;
static PyObject *__pyx_n_s_split;
static PyObject *__pyx_n_s_splitext;
static PyObject *__pyx_n_s_splitlines;
static PyObject *__pyx_n_s_src;
static PyObject *__pyx_n_u_src;
static PyObject *__pyx_n_s_src_ext;
static PyObject *__pyx_n_s_src_url;
static PyObject *__pyx_n_u_srclang;
static PyObject *__pyx_n_s_srcs;
static PyObject *__pyx_n_u_startNumber;
static PyObject *__pyx_n_s_start_number;
static PyObject *__pyx_n_u_start_number;
static PyObject *__pyx_n_s_startswith;
static PyObject *__pyx_n_s_staticmethod;
static PyObject *__pyx_n_s_stderr;
static PyObject *__pyx_n_s_stream_name;
static PyObject *__pyx_n_s_streamer;
static PyObject *__pyx_n_u_streamer;
static PyObject *__pyx_n_s_strftime;
static PyObject *__pyx_n_s_string;
static PyObject *__pyx_n_s_strip;
static PyObject *__pyx_n_s_sub;
static PyObject *__pyx_n_s_subtitle_dict1;
static PyObject *__pyx_n_s_subtitle_dict2;
static PyObject *__pyx_n_s_subtitle_list1;
static PyObject *__pyx_n_s_subtitle_list2;
static PyObject *__pyx_n_s_subtitles;
static PyObject *__pyx_n_u_subtitles;
static PyObject *__pyx_n_s_subtitles_lang;
static PyObject *__pyx_n_s_success;
static PyObject *__pyx_n_s_suitable;
static PyObject *__pyx_n_s_sys;
static PyObject *__pyx_n_u_systemBitrate;
static PyObject *__pyx_n_u_systemLanguage;
static PyObject *__pyx_n_u_systemLanguageName;
static PyObject *__pyx_kp_u_system_bitrate;
static PyObject *__pyx_n_s_t;
static PyObject *__pyx_n_u_t;
static PyObject *__pyx_n_s_tag;
static PyObject *__pyx_n_s_tbr;
static PyObject *__pyx_n_u_tbr;
static PyObject *__pyx_n_s_tc;
static PyObject *__pyx_n_s_template;
static PyObject *__pyx_n_s_test;
static PyObject *__pyx_n_s_tests;
static PyObject *__pyx_n_s_text;
static PyObject *__pyx_n_u_text;
static PyObject *__pyx_kp_u_textstream;
static PyObject *__pyx_n_s_textstream_2;
static PyObject *__pyx_n_s_throw;
static PyObject *__pyx_n_s_thumbnail;
static PyObject *__pyx_n_u_thumbnail;
static PyObject *__pyx_n_u_thumbnailUrl;
static PyObject *__pyx_kp_u_thumbnail_URL;
static PyObject *__pyx_n_s_thumbnails;
static PyObject *__pyx_n_u_thumbnails;
static PyObject *__pyx_n_s_time;
static PyObject *__pyx_n_s_timeout;
static PyObject *__pyx_n_u_timeout;
static PyObject *__pyx_n_s_timescale;
static PyObject *__pyx_n_u_timescale;
static PyObject *__pyx_n_u_timestamp;
static PyObject *__pyx_n_s_title;
static PyObject *__pyx_n_u_title;
static PyObject *__pyx_kp_u_title_Access_to_this_site_is_bl;
static PyObject *__pyx_kp_u_title_The_URL_you_requested_has;
static PyObject *__pyx_n_s_to_screen;
static PyObject *__pyx_n_u_total_number;
static PyObject *__pyx_kp_u_track;
static PyObject *__pyx_n_s_track_2;
static PyObject *__pyx_n_s_track_attributes;
static PyObject *__pyx_n_s_track_tag;
static PyObject *__pyx_n_s_transform_rtmp_url;
static PyObject *__pyx_n_s_transform_source;
static PyObject *__pyx_n_s_tries;
static PyObject *__pyx_n_u_true;
static PyObject *__pyx_n_s_try_count;
static PyObject *__pyx_kp_u_twitter_card_player;
static PyObject *__pyx_kp_u_twitter_player;
static PyObject *__pyx_n_s_twitter_search_player;
static PyObject *__pyx_kp_u_two_factor_verification_code;
static PyObject *__pyx_n_u_twofactor;
static PyObject *__pyx_n_u_type;
static PyObject *__pyx_kp_u_type_2;
static PyObject *__pyx_n_u_type_3;
static PyObject *__pyx_kp_u_type_hidden_submit_1;
static PyObject *__pyx_kp_u_unable_to_extract_s;
static PyObject *__pyx_n_u_und;
static PyObject *__pyx_n_s_unescapeHTML;
static PyObject *__pyx_n_s_unified_strdate;
static PyObject *__pyx_n_s_unified_timestamp;
static PyObject *__pyx_n_s_unique_formats;
static PyObject *__pyx_n_s_update;
static PyObject *__pyx_n_s_update_Request;
static PyObject *__pyx_n_s_update_url_query;
static PyObject *__pyx_n_u_uploadDate;
static PyObject *__pyx_n_s_upload_date;
static PyObject *__pyx_n_u_upload_date;
static PyObject *__pyx_n_u_uploader;
static PyObject *__pyx_n_s_url;
static PyObject *__pyx_n_u_url;
static PyObject *__pyx_n_s_url_basename;
static PyObject *__pyx_n_s_url_el;
static PyObject *__pyx_n_s_url_or_request;
static PyObject *__pyx_n_s_url_result;
static PyObject *__pyx_n_s_urlh;
static PyObject *__pyx_n_s_urljoin;
static PyObject *__pyx_n_s_urlopen;
static PyObject *__pyx_n_s_urls;
static PyObject *__pyx_n_u_usenetrc;
static PyObject *__pyx_n_s_username;
static PyObject *__pyx_n_u_username;
static PyObject *__pyx_kp_u_utf_16;
static PyObject *__pyx_kp_u_utf_8;
static PyObject *__pyx_n_s_utils;
static PyObject *__pyx_n_s_v;
static PyObject *__pyx_n_s_value;
static PyObject *__pyx_n_u_value;
static PyObject *__pyx_kp_u_value_P_value_1;
static PyObject *__pyx_n_s_vbr;
static PyObject *__pyx_n_u_vbr;
static PyObject *__pyx_n_u_vcodec;
static PyObject *__pyx_n_s_ve;
static PyObject *__pyx_n_u_video;
static PyObject *__pyx_kp_u_video_2;
static PyObject *__pyx_n_s_video_id;
static PyObject *__pyx_n_u_video_id;
static PyObject *__pyx_kp_u_video_id_s_Waiting_for_timeout;
static PyObject *__pyx_n_s_video_info;
static PyObject *__pyx_kp_u_video_secure_url;
static PyObject *__pyx_n_s_video_title;
static PyObject *__pyx_kp_u_video_url;
static PyObject *__pyx_kp_u_video_url_2;
static PyObject *__pyx_n_s_video_url_3;
static PyObject *__pyx_n_u_wb;
static PyObject *__pyx_n_u_webm;
static PyObject *__pyx_n_s_webpage;
static PyObject *__pyx_n_s_webpage_bytes;
static PyObject *__pyx_n_s_webpage_read_content;
static PyObject *__pyx_n_s_width;
static PyObject *__pyx_n_u_width;
static PyObject *__pyx_n_s_width_str;
static PyObject *__pyx_n_s_working;
static PyObject *__pyx_n_s_write;
static PyObject *__pyx_n_u_write_pages;
static PyObject *__pyx_n_u_writeautomaticsub;
static PyObject *__pyx_n_u_writesubtitles;
static PyObject *__pyx_n_u_x;
static PyObject *__pyx_n_s_xml_string;
static PyObject *__pyx_n_s_xpath_element;
static PyObject *__pyx_n_s_xpath_ns;
static PyObject *__pyx_n_s_xpath_text;
static PyObject *__pyx_n_s_xpath_with_ns;
static PyObject *__pyx_n_s_xspf;
static PyObject *__pyx_n_u_xspf;
static PyObject *__pyx_kp_u_xspf_annotation;
static PyObject *__pyx_kp_u_xspf_duration;
static PyObject *__pyx_kp_u_xspf_image;
static PyObject *__pyx_kp_u_xspf_location;
static PyObject *__pyx_kp_u_xspf_title;
static PyObject *__pyx_kp_u_xspf_trackList_xspf_track;
static PyObject *__pyx_n_s_youtube_dl_extractor_common;
static PyObject *__pyx_n_u_zxx;
static PyObject *__pyx_lambda_funcdef_10youtube_dl_9extractor_6common_lambda4(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_s); /* proto */
static PyObject *__pyx_lambda_funcdef_10youtube_dl_9extractor_6common_lambda5(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_s); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor___init__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_downloader); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_2suitable(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_url); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_4_match_id(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_url); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_6working(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_8initialize(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_10extract(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_12set_downloader(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_downloader); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_14_real_initialize(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_16_real_extract(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_url); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18ie_key(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_20IE_NAME(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_183__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_22_request_webpage(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_185__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_24_download_webpage_handle(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_encoding, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_guess_encoding_from_content(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_content_type, PyObject *__pyx_v_webpage_bytes); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_28_webpage_read_content(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_urlh, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, CYTHON_UNUSED PyObject *__pyx_v_note, CYTHON_UNUSED PyObject *__pyx_v_errnote, CYTHON_UNUSED PyObject *__pyx_v_fatal, PyObject *__pyx_v_prefix, PyObject *__pyx_v_encoding); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_187__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_30_download_webpage(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_tries, PyObject *__pyx_v_timeout, PyObject *__pyx_v_encoding, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_189__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_32_download_xml(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal, PyObject *__pyx_v_encoding, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_191__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_34_download_json(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal, PyObject *__pyx_v_encoding, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_36_parse_json(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_json_string, PyObject *__pyx_v_video_id, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_38report_warning(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_msg, PyObject *__pyx_v_video_id); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_40to_screen(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_msg); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_42report_extraction(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_id_or_name); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_44report_download_webpage(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_video_id); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_46report_age_confirmation(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_48report_login(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_50raise_login_required(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_msg); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_52raise_geo_restricted(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_msg); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_54url_result(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_url, PyObject *__pyx_v_ie, PyObject *__pyx_v_video_id, PyObject *__pyx_v_video_title); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_56playlist_result(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_entries, PyObject *__pyx_v_playlist_id, PyObject *__pyx_v_playlist_title, PyObject *__pyx_v_playlist_description); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_193__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_search_regex_genexpr(PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_58_search_regex(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_pattern, PyObject *__pyx_v_string, PyObject *__pyx_v_name, PyObject *__pyx_v_default, PyObject *__pyx_v_fatal, PyObject *__pyx_v_flags, PyObject *__pyx_v_group); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_195__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_60_html_search_regex(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_pattern, PyObject *__pyx_v_string, PyObject *__pyx_v_name, PyObject *__pyx_v_default, PyObject *__pyx_v_fatal, PyObject *__pyx_v_flags, PyObject *__pyx_v_group); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_62_get_login_info(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_64_get_tfa_info(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_note); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_66_og_regexes(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_prop); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_68_meta_regex(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_prop); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_70_og_search_property(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_prop, PyObject *__pyx_v_html, PyObject *__pyx_v_name, PyObject *__pyx_v_kargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_72_og_search_thumbnail(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_kargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_74_og_search_description(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_kargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_76_og_search_title(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_kargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_78_og_search_video_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_name, PyObject *__pyx_v_secure, PyObject *__pyx_v_kargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_80_og_search_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_kargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_82_html_search_meta(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_html, PyObject *__pyx_v_display_name, PyObject *__pyx_v_fatal, PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_84_dc_search_uploader(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_86_rta_search(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_html); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_88_media_rating_search(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_90_family_friendly_search(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_92_twitter_search_player(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_94_search_json_ld(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_video_id, PyObject *__pyx_v_expected_type, PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_8_json_ld_genexpr(PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_96_json_ld(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_json_ld, PyObject *__pyx_v_video_id, PyObject *__pyx_v_fatal, PyObject *__pyx_v_expected_type); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_98_hidden_inputs(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_html); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_100_form_hidden_inputs(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_form_id, PyObject *__pyx_v_html); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_12_formats_key_genexpr(PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats__formats_key(PyObject *__pyx_self, PyObject *__pyx_v_f); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_102_sort_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_formats, PyObject *__pyx_v_field_preference); /* proto */
static PyObject *__pyx_lambda_funcdef_lambda3(PyObject *__pyx_self, PyObject *__pyx_v_f); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_104_check_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_formats, PyObject *__pyx_v_video_id); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_106_remove_duplicate_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_formats); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_108_is_valid_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_item); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_110http_scheme(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_112_proto_relative_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url, PyObject *__pyx_v_scheme); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_114_sleep(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_timeout, PyObject *__pyx_v_video_id, PyObject *__pyx_v_msg_template); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_197__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_116_extract_f4m_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_manifest_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_preference, PyObject *__pyx_v_f4m_id, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal, PyObject *__pyx_v_m3u8_id); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_199__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_118_parse_f4m_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_manifest, PyObject *__pyx_v_manifest_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_preference, PyObject *__pyx_v_f4m_id, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal, PyObject *__pyx_v_m3u8_id); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_120_m3u8_meta_format(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_m3u8_url, PyObject *__pyx_v_ext, PyObject *__pyx_v_preference, PyObject *__pyx_v_m3u8_id); /* proto */
static PyObject *__pyx_lambda_funcdef_lambda6(PyObject *__pyx_self, PyObject *__pyx_v_u); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_122_extract_m3u8_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_m3u8_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_ext, PyObject *__pyx_v_entry_protocol, PyObject *__pyx_v_preference, PyObject *__pyx_v_m3u8_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_live); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_124_xpath_ns(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_path, PyObject *__pyx_v_namespace); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_126_extract_smil_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_fatal, PyObject *__pyx_v_f4m_params, PyObject *__pyx_v_transform_source); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_128_extract_smil_info(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_fatal, PyObject *__pyx_v_f4m_params); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_130_download_smil(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_fatal, PyObject *__pyx_v_transform_source); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_132_parse_smil(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_f4m_params); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_134_parse_smil_namespace(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_136_parse_smil_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_namespace, PyObject *__pyx_v_f4m_params, PyObject *__pyx_v_transform_rtmp_url); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_138_parse_smil_subtitles(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil, PyObject *__pyx_v_namespace, PyObject *__pyx_v_subtitles_lang); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_140_extract_xspf_playlist(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_playlist_url, PyObject *__pyx_v_playlist_id, PyObject *__pyx_v_fatal); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_142_parse_xspf(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_playlist, PyObject *__pyx_v_playlist_id); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_201__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_144_extract_mpd_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_mpd_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_mpd_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_formats_dict); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_203__defaults__(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(PyObject *__pyx_self, PyObject *__pyx_v_path); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_2is_drm_protected(PyObject *__pyx_self, PyObject *__pyx_v_element); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_4extract_multisegment_info(PyObject *__pyx_self, PyObject *__pyx_v_element, PyObject *__pyx_v_ms_parent_info); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_6add_segment_url(PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_8genexpr(PyObject *__pyx_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_146_parse_mpd_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_mpd_doc, PyObject *__pyx_v_mpd_id, PyObject *__pyx_v_mpd_base_url, PyObject *__pyx_v_formats_dict); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_absolute_url(PyObject *__pyx_self, PyObject *__pyx_v_video_url); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_2parse_content_type(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_content_type); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_148_parse_html5_media_entries(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_base_url, PyObject *__pyx_v_webpage); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_150_live_title(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_name); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_152_int(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_v, PyObject *__pyx_v_name, PyObject *__pyx_v_fatal, PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_154_float(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_v, PyObject *__pyx_v_name, PyObject *__pyx_v_fatal, PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_156_set_cookie(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_domain, PyObject *__pyx_v_name, PyObject *__pyx_v_value, PyObject *__pyx_v_expire_time); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_158_get_cookies(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_160get_testcases(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_include_onlymatching); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_163is_suitable(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_age_limit); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_165extract_subtitles(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_167_get_subtitles(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_args, CYTHON_UNUSED PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_169_merge_subtitle_items(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_subtitle_list1, PyObject *__pyx_v_subtitle_list2); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_171_merge_subtitles(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_subtitle_dict1, PyObject *__pyx_v_subtitle_dict2); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_173extract_automatic_captions(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_175_get_automatic_captions(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_args, CYTHON_UNUSED PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_177mark_watched(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_179_mark_watched(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_args, CYTHON_UNUSED PyObject *__pyx_v_kwargs); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_181geo_verification_headers(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor__make_valid_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_2suitable(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_url); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_4_real_extract(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_query); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_6_get_n_results(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_query, CYTHON_UNUSED PyObject *__pyx_v_n); /* proto */
static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_8SEARCH_KEY(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_float_0_5;
static PyObject *__pyx_int_0;
static PyObject *__pyx_int_1;
static PyObject *__pyx_int_5;
static PyObject *__pyx_int_8;
static PyObject *__pyx_int_14;
static PyObject *__pyx_int_17;
static PyObject *__pyx_int_18;
static PyObject *__pyx_int_19;
static PyObject *__pyx_int_40;
static PyObject *__pyx_int_50;
static PyObject *__pyx_int_512;
static PyObject *__pyx_int_1000;
static PyObject *__pyx_int_1024;
static PyObject *__pyx_int_neg_1;
static PyObject *__pyx_int_neg_2;
static PyObject *__pyx_tuple_;
static PyObject *__pyx_slice__4;
static PyObject *__pyx_slice__5;
static PyObject *__pyx_slice__9;
static PyObject *__pyx_tuple__2;
static PyObject *__pyx_tuple__3;
static PyObject *__pyx_tuple__7;
static PyObject *__pyx_tuple__8;
static PyObject *__pyx_slice__24;
static PyObject *__pyx_slice__25;
static PyObject *__pyx_tuple__10;
static PyObject *__pyx_tuple__11;
static PyObject *__pyx_tuple__13;
static PyObject *__pyx_tuple__15;
static PyObject *__pyx_tuple__16;
static PyObject *__pyx_tuple__17;
static PyObject *__pyx_tuple__18;
static PyObject *__pyx_tuple__20;
static PyObject *__pyx_tuple__22;
static PyObject *__pyx_tuple__23;
static PyObject *__pyx_tuple__28;
static PyObject *__pyx_tuple__29;
static PyObject *__pyx_tuple__30;
static PyObject *__pyx_tuple__31;
static PyObject *__pyx_tuple__32;
static PyObject *__pyx_tuple__33;
static PyObject *__pyx_tuple__34;
static PyObject *__pyx_tuple__35;
static PyObject *__pyx_tuple__36;
static PyObject *__pyx_tuple__37;
static PyObject *__pyx_tuple__38;
static PyObject *__pyx_tuple__39;
static PyObject *__pyx_tuple__40;
static PyObject *__pyx_tuple__41;
static PyObject *__pyx_tuple__42;
static PyObject *__pyx_tuple__43;
static PyObject *__pyx_tuple__44;
static PyObject *__pyx_tuple__45;
static PyObject *__pyx_tuple__46;
static PyObject *__pyx_tuple__47;
static PyObject *__pyx_tuple__48;
static PyObject *__pyx_tuple__49;
static PyObject *__pyx_tuple__50;
static PyObject *__pyx_tuple__51;
static PyObject *__pyx_tuple__52;
static PyObject *__pyx_tuple__53;
static PyObject *__pyx_tuple__54;
static PyObject *__pyx_tuple__55;
static PyObject *__pyx_tuple__56;
static PyObject *__pyx_tuple__57;
static PyObject *__pyx_tuple__58;
static PyObject *__pyx_tuple__59;
static PyObject *__pyx_tuple__60;
static PyObject *__pyx_tuple__61;
static PyObject *__pyx_tuple__62;
static PyObject *__pyx_tuple__63;
static PyObject *__pyx_tuple__65;
static PyObject *__pyx_tuple__66;
static PyObject *__pyx_tuple__67;
static PyObject *__pyx_tuple__68;
static PyObject *__pyx_tuple__69;
static PyObject *__pyx_tuple__70;
static PyObject *__pyx_tuple__71;
static PyObject *__pyx_tuple__72;
static PyObject *__pyx_tuple__73;
static PyObject *__pyx_tuple__74;
static PyObject *__pyx_tuple__75;
static PyObject *__pyx_tuple__76;
static PyObject *__pyx_tuple__77;
static PyObject *__pyx_tuple__78;
static PyObject *__pyx_tuple__79;
static PyObject *__pyx_tuple__80;
static PyObject *__pyx_tuple__81;
static PyObject *__pyx_tuple__82;
static PyObject *__pyx_tuple__83;
static PyObject *__pyx_tuple__84;
static PyObject *__pyx_tuple__85;
static PyObject *__pyx_tuple__86;
static PyObject *__pyx_tuple__87;
static PyObject *__pyx_tuple__88;
static PyObject *__pyx_tuple__89;
static PyObject *__pyx_tuple__90;
static PyObject *__pyx_tuple__91;
static PyObject *__pyx_tuple__92;
static PyObject *__pyx_tuple__93;
static PyObject *__pyx_tuple__94;
static PyObject *__pyx_tuple__95;
static PyObject *__pyx_tuple__96;
static PyObject *__pyx_tuple__97;
static PyObject *__pyx_tuple__98;
static PyObject *__pyx_tuple__99;
static PyObject *__pyx_slice__105;
static PyObject *__pyx_slice__106;
static PyObject *__pyx_slice__127;
static PyObject *__pyx_tuple__100;
static PyObject *__pyx_tuple__101;
static PyObject *__pyx_tuple__103;
static PyObject *__pyx_tuple__104;
static PyObject *__pyx_tuple__107;
static PyObject *__pyx_tuple__108;
static PyObject *__pyx_tuple__109;
static PyObject *__pyx_tuple__111;
static PyObject *__pyx_tuple__112;
static PyObject *__pyx_tuple__114;
static PyObject *__pyx_tuple__115;
static PyObject *__pyx_tuple__116;
static PyObject *__pyx_tuple__117;
static PyObject *__pyx_tuple__118;
static PyObject *__pyx_tuple__119;
static PyObject *__pyx_tuple__121;
static PyObject *__pyx_tuple__122;
static PyObject *__pyx_tuple__123;
static PyObject *__pyx_tuple__124;
static PyObject *__pyx_tuple__126;
static PyObject *__pyx_tuple__128;
static PyObject *__pyx_tuple__129;
static PyObject *__pyx_tuple__130;
static PyObject *__pyx_tuple__131;
static PyObject *__pyx_tuple__132;
static PyObject *__pyx_tuple__133;
static PyObject *__pyx_tuple__134;
static PyObject *__pyx_tuple__135;
static PyObject *__pyx_tuple__136;
static PyObject *__pyx_tuple__137;
static PyObject *__pyx_tuple__138;
static PyObject *__pyx_tuple__139;
static PyObject *__pyx_tuple__140;
static PyObject *__pyx_tuple__141;
static PyObject *__pyx_tuple__142;
static PyObject *__pyx_tuple__143;
static PyObject *__pyx_tuple__145;
static PyObject *__pyx_tuple__146;
static PyObject *__pyx_tuple__147;
static PyObject *__pyx_tuple__148;
static PyObject *__pyx_tuple__149;
static PyObject *__pyx_tuple__150;
static PyObject *__pyx_tuple__151;
static PyObject *__pyx_tuple__152;
static PyObject *__pyx_tuple__153;
static PyObject *__pyx_tuple__154;
static PyObject *__pyx_tuple__155;
static PyObject *__pyx_tuple__156;
static PyObject *__pyx_tuple__157;
static PyObject *__pyx_tuple__158;
static PyObject *__pyx_tuple__159;
static PyObject *__pyx_tuple__160;
static PyObject *__pyx_tuple__161;
static PyObject *__pyx_tuple__162;
static PyObject *__pyx_tuple__163;
static PyObject *__pyx_tuple__164;
static PyObject *__pyx_tuple__165;
static PyObject *__pyx_tuple__168;
static PyObject *__pyx_tuple__169;
static PyObject *__pyx_tuple__170;
static PyObject *__pyx_tuple__171;
static PyObject *__pyx_tuple__172;
static PyObject *__pyx_tuple__173;
static PyObject *__pyx_tuple__174;
static PyObject *__pyx_tuple__175;
static PyObject *__pyx_tuple__176;
static PyObject *__pyx_tuple__177;
static PyObject *__pyx_tuple__178;
static PyObject *__pyx_tuple__179;
static PyObject *__pyx_tuple__180;
static PyObject *__pyx_tuple__181;
static PyObject *__pyx_tuple__182;
static PyObject *__pyx_tuple__183;
static PyObject *__pyx_tuple__184;
static PyObject *__pyx_tuple__185;
static PyObject *__pyx_tuple__187;
static PyObject *__pyx_tuple__189;
static PyObject *__pyx_tuple__191;
static PyObject *__pyx_tuple__192;
static PyObject *__pyx_tuple__193;
static PyObject *__pyx_tuple__194;
static PyObject *__pyx_tuple__195;
static PyObject *__pyx_tuple__196;
static PyObject *__pyx_tuple__197;
static PyObject *__pyx_tuple__198;
static PyObject *__pyx_tuple__199;
static PyObject *__pyx_tuple__200;
static PyObject *__pyx_tuple__201;
static PyObject *__pyx_tuple__202;
static PyObject *__pyx_tuple__203;
static PyObject *__pyx_tuple__204;
static PyObject *__pyx_tuple__205;
static PyObject *__pyx_tuple__208;
static PyObject *__pyx_tuple__209;
static PyObject *__pyx_tuple__211;
static PyObject *__pyx_tuple__212;
static PyObject *__pyx_tuple__213;
static PyObject *__pyx_tuple__215;
static PyObject *__pyx_tuple__217;
static PyObject *__pyx_tuple__218;
static PyObject *__pyx_tuple__219;
static PyObject *__pyx_tuple__220;
static PyObject *__pyx_tuple__221;
static PyObject *__pyx_tuple__222;
static PyObject *__pyx_tuple__223;
static PyObject *__pyx_tuple__224;
static PyObject *__pyx_tuple__225;
static PyObject *__pyx_tuple__226;
static PyObject *__pyx_tuple__227;
static PyObject *__pyx_tuple__228;
static PyObject *__pyx_tuple__229;
static PyObject *__pyx_tuple__230;
static PyObject *__pyx_tuple__231;
static PyObject *__pyx_tuple__232;
static PyObject *__pyx_tuple__233;
static PyObject *__pyx_tuple__234;
static PyObject *__pyx_tuple__235;
static PyObject *__pyx_tuple__236;
static PyObject *__pyx_tuple__237;
static PyObject *__pyx_tuple__238;
static PyObject *__pyx_tuple__239;
static PyObject *__pyx_tuple__240;
static PyObject *__pyx_tuple__241;
static PyObject *__pyx_tuple__242;
static PyObject *__pyx_tuple__243;
static PyObject *__pyx_tuple__245;
static PyObject *__pyx_tuple__246;
static PyObject *__pyx_tuple__248;
static PyObject *__pyx_tuple__250;
static PyObject *__pyx_tuple__252;
static PyObject *__pyx_tuple__254;
static PyObject *__pyx_tuple__256;
static PyObject *__pyx_tuple__258;
static PyObject *__pyx_tuple__260;
static PyObject *__pyx_tuple__262;
static PyObject *__pyx_tuple__264;
static PyObject *__pyx_tuple__266;
static PyObject *__pyx_tuple__268;
static PyObject *__pyx_tuple__270;
static PyObject *__pyx_tuple__272;
static PyObject *__pyx_tuple__274;
static PyObject *__pyx_tuple__276;
static PyObject *__pyx_tuple__278;
static PyObject *__pyx_tuple__280;
static PyObject *__pyx_tuple__282;
static PyObject *__pyx_tuple__284;
static PyObject *__pyx_tuple__285;
static PyObject *__pyx_tuple__287;
static PyObject *__pyx_tuple__288;
static PyObject *__pyx_tuple__290;
static PyObject *__pyx_tuple__292;
static PyObject *__pyx_tuple__294;
static PyObject *__pyx_tuple__296;
static PyObject *__pyx_tuple__298;
static PyObject *__pyx_tuple__300;
static PyObject *__pyx_tuple__301;
static PyObject *__pyx_tuple__303;
static PyObject *__pyx_tuple__304;
static PyObject *__pyx_tuple__306;
static PyObject *__pyx_tuple__307;
static PyObject *__pyx_tuple__309;
static PyObject *__pyx_tuple__310;
static PyObject *__pyx_tuple__312;
static PyObject *__pyx_tuple__314;
static PyObject *__pyx_tuple__316;
static PyObject *__pyx_tuple__318;
static PyObject *__pyx_tuple__319;
static PyObject *__pyx_tuple__321;
static PyObject *__pyx_tuple__323;
static PyObject *__pyx_tuple__325;
static PyObject *__pyx_tuple__326;
static PyObject *__pyx_tuple__328;
static PyObject *__pyx_tuple__330;
static PyObject *__pyx_tuple__332;
static PyObject *__pyx_tuple__334;
static PyObject *__pyx_tuple__335;
static PyObject *__pyx_tuple__337;
static PyObject *__pyx_tuple__339;
static PyObject *__pyx_tuple__340;
static PyObject *__pyx_tuple__342;
static PyObject *__pyx_tuple__344;
static PyObject *__pyx_tuple__346;
static PyObject *__pyx_tuple__348;
static PyObject *__pyx_tuple__350;
static PyObject *__pyx_tuple__352;
static PyObject *__pyx_tuple__353;
static PyObject *__pyx_tuple__355;
static PyObject *__pyx_tuple__356;
static PyObject *__pyx_tuple__358;
static PyObject *__pyx_tuple__360;
static PyObject *__pyx_tuple__362;
static PyObject *__pyx_tuple__363;
static PyObject *__pyx_tuple__365;
static PyObject *__pyx_tuple__367;
static PyObject *__pyx_tuple__369;
static PyObject *__pyx_tuple__370;
static PyObject *__pyx_tuple__372;
static PyObject *__pyx_tuple__374;
static PyObject *__pyx_tuple__375;
static PyObject *__pyx_tuple__377;
static PyObject *__pyx_tuple__378;
static PyObject *__pyx_tuple__380;
static PyObject *__pyx_tuple__382;
static PyObject *__pyx_tuple__384;
static PyObject *__pyx_tuple__385;
static PyObject *__pyx_tuple__387;
static PyObject *__pyx_tuple__388;
static PyObject *__pyx_tuple__390;
static PyObject *__pyx_tuple__391;
static PyObject *__pyx_tuple__393;
static PyObject *__pyx_tuple__394;
static PyObject *__pyx_tuple__396;
static PyObject *__pyx_tuple__397;
static PyObject *__pyx_tuple__399;
static PyObject *__pyx_tuple__400;
static PyObject *__pyx_tuple__402;
static PyObject *__pyx_tuple__403;
static PyObject *__pyx_tuple__405;
static PyObject *__pyx_tuple__407;
static PyObject *__pyx_tuple__408;
static PyObject *__pyx_tuple__410;
static PyObject *__pyx_tuple__411;
static PyObject *__pyx_tuple__413;
static PyObject *__pyx_tuple__414;
static PyObject *__pyx_tuple__416;
static PyObject *__pyx_tuple__418;
static PyObject *__pyx_tuple__420;
static PyObject *__pyx_tuple__422;
static PyObject *__pyx_tuple__424;
static PyObject *__pyx_tuple__426;
static PyObject *__pyx_tuple__427;
static PyObject *__pyx_tuple__429;
static PyObject *__pyx_tuple__430;
static PyObject *__pyx_tuple__432;
static PyObject *__pyx_tuple__433;
static PyObject *__pyx_tuple__435;
static PyObject *__pyx_tuple__437;
static PyObject *__pyx_tuple__438;
static PyObject *__pyx_tuple__440;
static PyObject *__pyx_tuple__442;
static PyObject *__pyx_tuple__444;
static PyObject *__pyx_tuple__446;
static PyObject *__pyx_tuple__448;
static PyObject *__pyx_tuple__450;
static PyObject *__pyx_tuple__452;
static PyObject *__pyx_tuple__454;
static PyObject *__pyx_tuple__456;
static PyObject *__pyx_tuple__458;
static PyObject *__pyx_tuple__460;
static PyObject *__pyx_tuple__462;
static PyObject *__pyx_tuple__464;
static PyObject *__pyx_tuple__466;
static PyObject *__pyx_codeobj__102;
static PyObject *__pyx_codeobj__186;
static PyObject *__pyx_codeobj__188;
static PyObject *__pyx_codeobj__190;
static PyObject *__pyx_codeobj__210;
static PyObject *__pyx_codeobj__214;
static PyObject *__pyx_codeobj__216;
static PyObject *__pyx_codeobj__244;
static PyObject *__pyx_codeobj__247;
static PyObject *__pyx_codeobj__249;
static PyObject *__pyx_codeobj__251;
static PyObject *__pyx_codeobj__253;
static PyObject *__pyx_codeobj__255;
static PyObject *__pyx_codeobj__257;
static PyObject *__pyx_codeobj__259;
static PyObject *__pyx_codeobj__261;
static PyObject *__pyx_codeobj__263;
static PyObject *__pyx_codeobj__265;
static PyObject *__pyx_codeobj__267;
static PyObject *__pyx_codeobj__269;
static PyObject *__pyx_codeobj__271;
static PyObject *__pyx_codeobj__273;
static PyObject *__pyx_codeobj__277;
static PyObject *__pyx_codeobj__279;
static PyObject *__pyx_codeobj__281;
static PyObject *__pyx_codeobj__283;
static PyObject *__pyx_codeobj__286;
static PyObject *__pyx_codeobj__289;
static PyObject *__pyx_codeobj__291;
static PyObject *__pyx_codeobj__293;
static PyObject *__pyx_codeobj__295;
static PyObject *__pyx_codeobj__297;
static PyObject *__pyx_codeobj__299;
static PyObject *__pyx_codeobj__302;
static PyObject *__pyx_codeobj__305;
static PyObject *__pyx_codeobj__308;
static PyObject *__pyx_codeobj__311;
static PyObject *__pyx_codeobj__313;
static PyObject *__pyx_codeobj__315;
static PyObject *__pyx_codeobj__317;
static PyObject *__pyx_codeobj__320;
static PyObject *__pyx_codeobj__322;
static PyObject *__pyx_codeobj__324;
static PyObject *__pyx_codeobj__327;
static PyObject *__pyx_codeobj__329;
static PyObject *__pyx_codeobj__331;
static PyObject *__pyx_codeobj__333;
static PyObject *__pyx_codeobj__336;
static PyObject *__pyx_codeobj__338;
static PyObject *__pyx_codeobj__341;
static PyObject *__pyx_codeobj__343;
static PyObject *__pyx_codeobj__345;
static PyObject *__pyx_codeobj__347;
static PyObject *__pyx_codeobj__349;
static PyObject *__pyx_codeobj__351;
static PyObject *__pyx_codeobj__354;
static PyObject *__pyx_codeobj__357;
static PyObject *__pyx_codeobj__359;
static PyObject *__pyx_codeobj__361;
static PyObject *__pyx_codeobj__364;
static PyObject *__pyx_codeobj__366;
static PyObject *__pyx_codeobj__368;
static PyObject *__pyx_codeobj__371;
static PyObject *__pyx_codeobj__373;
static PyObject *__pyx_codeobj__376;
static PyObject *__pyx_codeobj__379;
static PyObject *__pyx_codeobj__381;
static PyObject *__pyx_codeobj__383;
static PyObject *__pyx_codeobj__386;
static PyObject *__pyx_codeobj__389;
static PyObject *__pyx_codeobj__392;
static PyObject *__pyx_codeobj__395;
static PyObject *__pyx_codeobj__398;
static PyObject *__pyx_codeobj__401;
static PyObject *__pyx_codeobj__404;
static PyObject *__pyx_codeobj__406;
static PyObject *__pyx_codeobj__409;
static PyObject *__pyx_codeobj__412;
static PyObject *__pyx_codeobj__415;
static PyObject *__pyx_codeobj__417;
static PyObject *__pyx_codeobj__419;
static PyObject *__pyx_codeobj__421;
static PyObject *__pyx_codeobj__423;
static PyObject *__pyx_codeobj__425;
static PyObject *__pyx_codeobj__428;
static PyObject *__pyx_codeobj__431;
static PyObject *__pyx_codeobj__434;
static PyObject *__pyx_codeobj__436;
static PyObject *__pyx_codeobj__439;
static PyObject *__pyx_codeobj__441;
static PyObject *__pyx_codeobj__443;
static PyObject *__pyx_codeobj__445;
static PyObject *__pyx_codeobj__447;
static PyObject *__pyx_codeobj__449;
static PyObject *__pyx_codeobj__451;
static PyObject *__pyx_codeobj__453;
static PyObject *__pyx_codeobj__455;
static PyObject *__pyx_codeobj__457;
static PyObject *__pyx_codeobj__459;
static PyObject *__pyx_codeobj__461;
static PyObject *__pyx_codeobj__463;
static PyObject *__pyx_codeobj__465;
static PyObject *__pyx_codeobj__467;

/* "youtube_dl/extractor/common.py":1018
 * 
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),             # <<<<<<<<<<<<<<
 *                              fatal=True, m3u8_id=None):
 *         manifest = self._download_xml(
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_lambda4(PyObject *__pyx_self, PyObject *__pyx_v_s); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_lambda4 = {"lambda4", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_lambda4, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_lambda4(PyObject *__pyx_self, PyObject *__pyx_v_s) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("lambda4 (wrapper)", 0);
  __pyx_r = __pyx_lambda_funcdef_10youtube_dl_9extractor_6common_lambda4(__pyx_self, ((PyObject *)__pyx_v_s));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_10youtube_dl_9extractor_6common_lambda4(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_s) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("lambda4", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_fix_xml_ampersands); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1018, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_s); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1018, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1018, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_INCREF(__pyx_v_s);
    __Pyx_GIVEREF(__pyx_v_s);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_v_s);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1018, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_strip); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1018, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (__pyx_t_2) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1018, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  } else {
    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1018, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.lambda4", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1036
 * 
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,
 *                            transform_source=lambda s: fix_xml_ampersands(s).strip(),             # <<<<<<<<<<<<<<
 *                            fatal=True, m3u8_id=None):
 *         # currently youtube-dl cannot decode the playerVerificationChallenge as Akamai uses Adobe Alchemy
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_1lambda5(PyObject *__pyx_self, PyObject *__pyx_v_s); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_1lambda5 = {"lambda5", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_1lambda5, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_1lambda5(PyObject *__pyx_self, PyObject *__pyx_v_s) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("lambda5 (wrapper)", 0);
  __pyx_r = __pyx_lambda_funcdef_10youtube_dl_9extractor_6common_lambda5(__pyx_self, ((PyObject *)__pyx_v_s));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_10youtube_dl_9extractor_6common_lambda5(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_s) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("lambda5", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_fix_xml_ampersands); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1036, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_s); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1036, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1036, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_INCREF(__pyx_v_s);
    __Pyx_GIVEREF(__pyx_v_s);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_v_s);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1036, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_strip); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1036, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (__pyx_t_2) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1036, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  } else {
    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1036, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.lambda5", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":308
 *     _WORKING = True
 * 
 *     def __init__(self, downloader=None):             # <<<<<<<<<<<<<<
 *         """Constructor. Receives an optional downloader."""
 *         self._ready = False
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_1__init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor___init__[] = "Constructor. Receives an optional downloader.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_1__init__ = {"__init__", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_1__init__, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor___init__};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_1__init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_downloader = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("__init__ (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_downloader,0};
    PyObject* values[2] = {0,0};
    values[1] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_downloader);
          if (value) { values[1] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 308, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_downloader = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 308, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor___init__(__pyx_self, __pyx_v_self, __pyx_v_downloader);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor___init__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_downloader) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("__init__", 0);

  /* "youtube_dl/extractor/common.py":310
 *     def __init__(self, downloader=None):
 *         """Constructor. Receives an optional downloader."""
 *         self._ready = False             # <<<<<<<<<<<<<<
 *         self.set_downloader(downloader)
 * 
 */
  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_ready, Py_False) < 0) __PYX_ERR(0, 310, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":311
 *         """Constructor. Receives an optional downloader."""
 *         self._ready = False
 *         self.set_downloader(downloader)             # <<<<<<<<<<<<<<
 * 
 *     @classmethod
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_set_downloader); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 311, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_downloader); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 311, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 311, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_INCREF(__pyx_v_downloader);
    __Pyx_GIVEREF(__pyx_v_downloader);
    PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_downloader);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 311, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":308
 *     _WORKING = True
 * 
 *     def __init__(self, downloader=None):             # <<<<<<<<<<<<<<
 *         """Constructor. Receives an optional downloader."""
 *         self._ready = False
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":314
 * 
 *     @classmethod
 *     def suitable(cls, url):             # <<<<<<<<<<<<<<
 *         """Receives a URL and returns True if suitable for this IE."""
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_3suitable(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_2suitable[] = "Receives a URL and returns True if suitable for this IE.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_3suitable = {"suitable", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_3suitable, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_2suitable};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_3suitable(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_cls = 0;
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("suitable (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_cls,&__pyx_n_s_url,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_cls)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("suitable", 1, 2, 2, 1); __PYX_ERR(0, 314, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "suitable") < 0)) __PYX_ERR(0, 314, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_cls = values[0];
    __pyx_v_url = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("suitable", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 314, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.suitable", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_2suitable(__pyx_self, __pyx_v_cls, __pyx_v_url);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_2suitable(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_url) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  __Pyx_RefNannySetupContext("suitable", 0);

  /* "youtube_dl/extractor/common.py":320
 *         # we have cached the regexp for *this* class, whereas getattr would also
 *         # match the superclass
 *         if '_VALID_URL_RE' not in cls.__dict__:             # <<<<<<<<<<<<<<
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 *         return cls._VALID_URL_RE.match(url) is not None
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_dict); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 320, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_VALID_URL_RE, __pyx_t_1, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 320, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__pyx_t_2 != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":321
 *         # match the superclass
 *         if '_VALID_URL_RE' not in cls.__dict__:
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)             # <<<<<<<<<<<<<<
 *         return cls._VALID_URL_RE.match(url) is not None
 * 
 */
    __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 321, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_compile); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 321, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_VALID_URL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 321, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_6 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_6);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
      }
    }
    if (!__pyx_t_6) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 321, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 321, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_6); __pyx_t_6 = NULL;
      __Pyx_GIVEREF(__pyx_t_4);
      PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_4);
      __pyx_t_4 = 0;
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 321, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    }
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (__Pyx_PyObject_SetAttrStr(__pyx_v_cls, __pyx_n_s_VALID_URL_RE, __pyx_t_1) < 0) __PYX_ERR(0, 321, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":320
 *         # we have cached the regexp for *this* class, whereas getattr would also
 *         # match the superclass
 *         if '_VALID_URL_RE' not in cls.__dict__:             # <<<<<<<<<<<<<<
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 *         return cls._VALID_URL_RE.match(url) is not None
 */
  }

  /* "youtube_dl/extractor/common.py":322
 *         if '_VALID_URL_RE' not in cls.__dict__:
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 *         return cls._VALID_URL_RE.match(url) is not None             # <<<<<<<<<<<<<<
 * 
 *     @classmethod
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_VALID_URL_RE); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 322, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_match); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 322, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_7))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_7);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_7, function);
    }
  }
  if (!__pyx_t_5) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_url); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 322, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 322, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_5); __pyx_t_5 = NULL;
    __Pyx_INCREF(__pyx_v_url);
    __Pyx_GIVEREF(__pyx_v_url);
    PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_url);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 322, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_3 = (__pyx_t_1 != Py_None);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 322, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":314
 * 
 *     @classmethod
 *     def suitable(cls, url):             # <<<<<<<<<<<<<<
 *         """Receives a URL and returns True if suitable for this IE."""
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.suitable", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":325
 * 
 *     @classmethod
 *     def _match_id(cls, url):             # <<<<<<<<<<<<<<
 *         if '_VALID_URL_RE' not in cls.__dict__:
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_5_match_id(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_5_match_id = {"_match_id", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_5_match_id, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_5_match_id(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_cls = 0;
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_match_id (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_cls,&__pyx_n_s_url,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_cls)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_match_id", 1, 2, 2, 1); __PYX_ERR(0, 325, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_match_id") < 0)) __PYX_ERR(0, 325, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_cls = values[0];
    __pyx_v_url = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_match_id", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 325, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._match_id", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_4_match_id(__pyx_self, __pyx_v_cls, __pyx_v_url);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_4_match_id(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_url) {
  PyObject *__pyx_v_m = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  __Pyx_RefNannySetupContext("_match_id", 0);

  /* "youtube_dl/extractor/common.py":326
 *     @classmethod
 *     def _match_id(cls, url):
 *         if '_VALID_URL_RE' not in cls.__dict__:             # <<<<<<<<<<<<<<
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 *         m = cls._VALID_URL_RE.match(url)
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_dict); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 326, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_VALID_URL_RE, __pyx_t_1, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 326, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__pyx_t_2 != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":327
 *     def _match_id(cls, url):
 *         if '_VALID_URL_RE' not in cls.__dict__:
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)             # <<<<<<<<<<<<<<
 *         m = cls._VALID_URL_RE.match(url)
 *         assert m
 */
    __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 327, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_compile); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 327, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_VALID_URL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 327, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_6 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_6);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
      }
    }
    if (!__pyx_t_6) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 327, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 327, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_6); __pyx_t_6 = NULL;
      __Pyx_GIVEREF(__pyx_t_4);
      PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_4);
      __pyx_t_4 = 0;
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 327, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    }
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (__Pyx_PyObject_SetAttrStr(__pyx_v_cls, __pyx_n_s_VALID_URL_RE, __pyx_t_1) < 0) __PYX_ERR(0, 327, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":326
 *     @classmethod
 *     def _match_id(cls, url):
 *         if '_VALID_URL_RE' not in cls.__dict__:             # <<<<<<<<<<<<<<
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 *         m = cls._VALID_URL_RE.match(url)
 */
  }

  /* "youtube_dl/extractor/common.py":328
 *         if '_VALID_URL_RE' not in cls.__dict__:
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 *         m = cls._VALID_URL_RE.match(url)             # <<<<<<<<<<<<<<
 *         assert m
 *         return m.group('id')
 */
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_VALID_URL_RE); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 328, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_match); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 328, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_7))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_7);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_7, function);
    }
  }
  if (!__pyx_t_5) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_url); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 328, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 328, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_5); __pyx_t_5 = NULL;
    __Pyx_INCREF(__pyx_v_url);
    __Pyx_GIVEREF(__pyx_v_url);
    PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_url);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 328, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_v_m = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":329
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 *         m = cls._VALID_URL_RE.match(url)
 *         assert m             # <<<<<<<<<<<<<<
 *         return m.group('id')
 * 
 */
  #ifndef CYTHON_WITHOUT_ASSERTIONS
  if (unlikely(!Py_OptimizeFlag)) {
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_m); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 329, __pyx_L1_error)
    if (unlikely(!__pyx_t_3)) {
      PyErr_SetNone(PyExc_AssertionError);
      __PYX_ERR(0, 329, __pyx_L1_error)
    }
  }
  #endif

  /* "youtube_dl/extractor/common.py":330
 *         m = cls._VALID_URL_RE.match(url)
 *         assert m
 *         return m.group('id')             # <<<<<<<<<<<<<<
 * 
 *     @classmethod
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_m, __pyx_n_s_group); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple_, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_7;
  __pyx_t_7 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":325
 * 
 *     @classmethod
 *     def _match_id(cls, url):             # <<<<<<<<<<<<<<
 *         if '_VALID_URL_RE' not in cls.__dict__:
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._match_id", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_m);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":333
 * 
 *     @classmethod
 *     def working(cls):             # <<<<<<<<<<<<<<
 *         """Getter method for _WORKING."""
 *         return cls._WORKING
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_7working(PyObject *__pyx_self, PyObject *__pyx_v_cls); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_6working[] = "Getter method for _WORKING.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_7working = {"working", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_7working, METH_O, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_6working};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_7working(PyObject *__pyx_self, PyObject *__pyx_v_cls) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("working (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_6working(__pyx_self, ((PyObject *)__pyx_v_cls));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_6working(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("working", 0);

  /* "youtube_dl/extractor/common.py":335
 *     def working(cls):
 *         """Getter method for _WORKING."""
 *         return cls._WORKING             # <<<<<<<<<<<<<<
 * 
 *     def initialize(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_WORKING); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 335, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":333
 * 
 *     @classmethod
 *     def working(cls):             # <<<<<<<<<<<<<<
 *         """Getter method for _WORKING."""
 *         return cls._WORKING
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.working", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":337
 *         return cls._WORKING
 * 
 *     def initialize(self):             # <<<<<<<<<<<<<<
 *         """Initializes an instance (authentication, etc)."""
 *         if not self._ready:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_9initialize(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_8initialize[] = "Initializes an instance (authentication, etc).";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_9initialize = {"initialize", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_9initialize, METH_O, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_8initialize};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_9initialize(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("initialize (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_8initialize(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_8initialize(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("initialize", 0);

  /* "youtube_dl/extractor/common.py":339
 *     def initialize(self):
 *         """Initializes an instance (authentication, etc)."""
 *         if not self._ready:             # <<<<<<<<<<<<<<
 *             self._real_initialize()
 *             self._ready = True
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_ready); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 339, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 339, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = ((!__pyx_t_2) != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":340
 *         """Initializes an instance (authentication, etc)."""
 *         if not self._ready:
 *             self._real_initialize()             # <<<<<<<<<<<<<<
 *             self._ready = True
 * 
 */
    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_real_initialize); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 340, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
      if (likely(__pyx_t_5)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
        __Pyx_INCREF(__pyx_t_5);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_4, function);
      }
    }
    if (__pyx_t_5) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 340, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    } else {
      __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 340, __pyx_L1_error)
    }
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":341
 *         if not self._ready:
 *             self._real_initialize()
 *             self._ready = True             # <<<<<<<<<<<<<<
 * 
 *     def extract(self, url):
 */
    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_ready, Py_True) < 0) __PYX_ERR(0, 341, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":339
 *     def initialize(self):
 *         """Initializes an instance (authentication, etc)."""
 *         if not self._ready:             # <<<<<<<<<<<<<<
 *             self._real_initialize()
 *             self._ready = True
 */
  }

  /* "youtube_dl/extractor/common.py":337
 *         return cls._WORKING
 * 
 *     def initialize(self):             # <<<<<<<<<<<<<<
 *         """Initializes an instance (authentication, etc)."""
 *         if not self._ready:
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.initialize", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":343
 *             self._ready = True
 * 
 *     def extract(self, url):             # <<<<<<<<<<<<<<
 *         """Extracts URL information and returns it in list of dicts."""
 *         try:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_11extract(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_10extract[] = "Extracts URL information and returns it in list of dicts.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_11extract = {"extract", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_11extract, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_10extract};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_11extract(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("extract (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("extract", 1, 2, 2, 1); __PYX_ERR(0, 343, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "extract") < 0)) __PYX_ERR(0, 343, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_url = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("extract", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 343, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_10extract(__pyx_self, __pyx_v_self, __pyx_v_url);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_10extract(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url) {
  PyObject *__pyx_v_e = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  int __pyx_t_8;
  PyObject *__pyx_t_9 = NULL;
  PyObject *__pyx_t_10 = NULL;
  int __pyx_t_11;
  char const *__pyx_t_12;
  PyObject *__pyx_t_13 = NULL;
  PyObject *__pyx_t_14 = NULL;
  PyObject *__pyx_t_15 = NULL;
  PyObject *__pyx_t_16 = NULL;
  PyObject *__pyx_t_17 = NULL;
  PyObject *__pyx_t_18 = NULL;
  char const *__pyx_t_19;
  __Pyx_RefNannySetupContext("extract", 0);

  /* "youtube_dl/extractor/common.py":345
 *     def extract(self, url):
 *         """Extracts URL information and returns it in list of dicts."""
 *         try:             # <<<<<<<<<<<<<<
 *             self.initialize()
 *             return self._real_extract(url)
 */
  {
    __Pyx_PyThreadState_declare
    __Pyx_PyThreadState_assign
    __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
    __Pyx_XGOTREF(__pyx_t_1);
    __Pyx_XGOTREF(__pyx_t_2);
    __Pyx_XGOTREF(__pyx_t_3);
    /*try:*/ {

      /* "youtube_dl/extractor/common.py":346
 *         """Extracts URL information and returns it in list of dicts."""
 *         try:
 *             self.initialize()             # <<<<<<<<<<<<<<
 *             return self._real_extract(url)
 *         except ExtractorError:
 */
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_initialize); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 346, __pyx_L3_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_6 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
        __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
        if (likely(__pyx_t_6)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
          __Pyx_INCREF(__pyx_t_6);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_5, function);
        }
      }
      if (__pyx_t_6) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 346, __pyx_L3_error)
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      } else {
        __pyx_t_4 = __Pyx_PyObject_CallNoArg(__pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 346, __pyx_L3_error)
      }
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":347
 *         try:
 *             self.initialize()
 *             return self._real_extract(url)             # <<<<<<<<<<<<<<
 *         except ExtractorError:
 *             raise
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_real_extract); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 347, __pyx_L3_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_6 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
        __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
        if (likely(__pyx_t_6)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
          __Pyx_INCREF(__pyx_t_6);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_5, function);
        }
      }
      if (!__pyx_t_6) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_v_url); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 347, __pyx_L3_error)
        __Pyx_GOTREF(__pyx_t_4);
      } else {
        __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 347, __pyx_L3_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_6); __pyx_t_6 = NULL;
        __Pyx_INCREF(__pyx_v_url);
        __Pyx_GIVEREF(__pyx_v_url);
        PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_v_url);
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 347, __pyx_L3_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_r = __pyx_t_4;
      __pyx_t_4 = 0;
      goto __pyx_L7_try_return;

      /* "youtube_dl/extractor/common.py":345
 *     def extract(self, url):
 *         """Extracts URL information and returns it in list of dicts."""
 *         try:             # <<<<<<<<<<<<<<
 *             self.initialize()
 *             return self._real_extract(url)
 */
    }
    __pyx_L3_error:;
    __Pyx_PyThreadState_assign
    __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":348
 *             self.initialize()
 *             return self._real_extract(url)
 *         except ExtractorError:             # <<<<<<<<<<<<<<
 *             raise
 *         except compat_http_client.IncompleteRead as e:
 */
    __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 348, __pyx_L5_except_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_8 = __Pyx_PyErr_ExceptionMatches(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_8) {
      __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (__Pyx_GetException(&__pyx_t_4, &__pyx_t_5, &__pyx_t_7) < 0) __PYX_ERR(0, 348, __pyx_L5_except_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_GOTREF(__pyx_t_7);

      /* "youtube_dl/extractor/common.py":349
 *             return self._real_extract(url)
 *         except ExtractorError:
 *             raise             # <<<<<<<<<<<<<<
 *         except compat_http_client.IncompleteRead as e:
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)
 */
      __Pyx_GIVEREF(__pyx_t_4);
      __Pyx_GIVEREF(__pyx_t_5);
      __Pyx_XGIVEREF(__pyx_t_7);
      __Pyx_ErrRestoreWithState(__pyx_t_4, __pyx_t_5, __pyx_t_7);
      __pyx_t_4 = 0; __pyx_t_5 = 0; __pyx_t_7 = 0; 
      __PYX_ERR(0, 349, __pyx_L5_except_error)
    }

    /* "youtube_dl/extractor/common.py":350
 *         except ExtractorError:
 *             raise
 *         except compat_http_client.IncompleteRead as e:             # <<<<<<<<<<<<<<
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)
 *         except (KeyError, StopIteration) as e:
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_http_client); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 350, __pyx_L5_except_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_IncompleteRead); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 350, __pyx_L5_except_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_8 = __Pyx_PyErr_ExceptionMatches(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (__pyx_t_8) {
      __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (__Pyx_GetException(&__pyx_t_5, &__pyx_t_7, &__pyx_t_4) < 0) __PYX_ERR(0, 350, __pyx_L5_except_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_7);
      __pyx_v_e = __pyx_t_7;
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":351
 *             raise
 *         except compat_http_client.IncompleteRead as e:
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)             # <<<<<<<<<<<<<<
 *         except (KeyError, StopIteration) as e:
 *             raise ExtractorError('An extractor error has occurred.', cause=e)
 */
        __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 351, __pyx_L18_error)
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_9 = PyDict_New(); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 351, __pyx_L18_error)
        __Pyx_GOTREF(__pyx_t_9);
        if (PyDict_SetItem(__pyx_t_9, __pyx_n_s_cause, __pyx_v_e) < 0) __PYX_ERR(0, 351, __pyx_L18_error)
        if (PyDict_SetItem(__pyx_t_9, __pyx_n_s_expected, Py_True) < 0) __PYX_ERR(0, 351, __pyx_L18_error)
        __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__2, __pyx_t_9); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 351, __pyx_L18_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
        __Pyx_Raise(__pyx_t_10, 0, 0, 0);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __PYX_ERR(0, 351, __pyx_L18_error)
      }

      /* "youtube_dl/extractor/common.py":350
 *         except ExtractorError:
 *             raise
 *         except compat_http_client.IncompleteRead as e:             # <<<<<<<<<<<<<<
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)
 *         except (KeyError, StopIteration) as e:
 */
      /*finally:*/ {
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __pyx_L18_error:;
          __pyx_t_13 = 0; __pyx_t_14 = 0; __pyx_t_15 = 0; __pyx_t_16 = 0; __pyx_t_17 = 0; __pyx_t_18 = 0;
          __Pyx_PyThreadState_assign
          __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
          __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
          __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
          if (PY_MAJOR_VERSION >= 3) __Pyx_ExceptionSwap(&__pyx_t_16, &__pyx_t_17, &__pyx_t_18);
          if ((PY_MAJOR_VERSION < 3) || unlikely(__Pyx_GetException(&__pyx_t_13, &__pyx_t_14, &__pyx_t_15) < 0)) __Pyx_ErrFetch(&__pyx_t_13, &__pyx_t_14, &__pyx_t_15);
          __Pyx_XGOTREF(__pyx_t_13);
          __Pyx_XGOTREF(__pyx_t_14);
          __Pyx_XGOTREF(__pyx_t_15);
          __Pyx_XGOTREF(__pyx_t_16);
          __Pyx_XGOTREF(__pyx_t_17);
          __Pyx_XGOTREF(__pyx_t_18);
          __pyx_t_8 = __pyx_lineno; __pyx_t_11 = __pyx_clineno; __pyx_t_12 = __pyx_filename;
          {
            __Pyx_DECREF(__pyx_v_e);
            __pyx_v_e = NULL;
          }
          __Pyx_PyThreadState_assign
          if (PY_MAJOR_VERSION >= 3) {
            __Pyx_XGIVEREF(__pyx_t_16);
            __Pyx_XGIVEREF(__pyx_t_17);
            __Pyx_XGIVEREF(__pyx_t_18);
            __Pyx_ExceptionReset(__pyx_t_16, __pyx_t_17, __pyx_t_18);
          }
          __Pyx_XGIVEREF(__pyx_t_13);
          __Pyx_XGIVEREF(__pyx_t_14);
          __Pyx_XGIVEREF(__pyx_t_15);
          __Pyx_ErrRestore(__pyx_t_13, __pyx_t_14, __pyx_t_15);
          __pyx_t_13 = 0; __pyx_t_14 = 0; __pyx_t_15 = 0; __pyx_t_16 = 0; __pyx_t_17 = 0; __pyx_t_18 = 0;
          __pyx_lineno = __pyx_t_8; __pyx_clineno = __pyx_t_11; __pyx_filename = __pyx_t_12;
          goto __pyx_L5_except_error;
        }
      }
    }

    /* "youtube_dl/extractor/common.py":352
 *         except compat_http_client.IncompleteRead as e:
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)
 *         except (KeyError, StopIteration) as e:             # <<<<<<<<<<<<<<
 *             raise ExtractorError('An extractor error has occurred.', cause=e)
 * 
 */
    __pyx_t_11 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_KeyError) || __Pyx_PyErr_ExceptionMatches(__pyx_builtin_StopIteration);
    if (__pyx_t_11) {
      __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (__Pyx_GetException(&__pyx_t_4, &__pyx_t_7, &__pyx_t_5) < 0) __PYX_ERR(0, 352, __pyx_L5_except_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_7);
      __pyx_v_e = __pyx_t_7;
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":353
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)
 *         except (KeyError, StopIteration) as e:
 *             raise ExtractorError('An extractor error has occurred.', cause=e)             # <<<<<<<<<<<<<<
 * 
 *     def set_downloader(self, downloader):
 */
        __pyx_t_10 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 353, __pyx_L29_error)
        __Pyx_GOTREF(__pyx_t_10);
        __pyx_t_9 = PyDict_New(); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 353, __pyx_L29_error)
        __Pyx_GOTREF(__pyx_t_9);
        if (PyDict_SetItem(__pyx_t_9, __pyx_n_s_cause, __pyx_v_e) < 0) __PYX_ERR(0, 353, __pyx_L29_error)
        __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__3, __pyx_t_9); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 353, __pyx_L29_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
        __Pyx_Raise(__pyx_t_6, 0, 0, 0);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __PYX_ERR(0, 353, __pyx_L29_error)
      }

      /* "youtube_dl/extractor/common.py":352
 *         except compat_http_client.IncompleteRead as e:
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)
 *         except (KeyError, StopIteration) as e:             # <<<<<<<<<<<<<<
 *             raise ExtractorError('An extractor error has occurred.', cause=e)
 * 
 */
      /*finally:*/ {
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __pyx_L29_error:;
          __pyx_t_18 = 0; __pyx_t_17 = 0; __pyx_t_16 = 0; __pyx_t_15 = 0; __pyx_t_14 = 0; __pyx_t_13 = 0;
          __Pyx_PyThreadState_assign
          __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
          __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
          if (PY_MAJOR_VERSION >= 3) __Pyx_ExceptionSwap(&__pyx_t_15, &__pyx_t_14, &__pyx_t_13);
          if ((PY_MAJOR_VERSION < 3) || unlikely(__Pyx_GetException(&__pyx_t_18, &__pyx_t_17, &__pyx_t_16) < 0)) __Pyx_ErrFetch(&__pyx_t_18, &__pyx_t_17, &__pyx_t_16);
          __Pyx_XGOTREF(__pyx_t_18);
          __Pyx_XGOTREF(__pyx_t_17);
          __Pyx_XGOTREF(__pyx_t_16);
          __Pyx_XGOTREF(__pyx_t_15);
          __Pyx_XGOTREF(__pyx_t_14);
          __Pyx_XGOTREF(__pyx_t_13);
          __pyx_t_11 = __pyx_lineno; __pyx_t_8 = __pyx_clineno; __pyx_t_19 = __pyx_filename;
          {
            __Pyx_DECREF(__pyx_v_e);
            __pyx_v_e = NULL;
          }
          __Pyx_PyThreadState_assign
          if (PY_MAJOR_VERSION >= 3) {
            __Pyx_XGIVEREF(__pyx_t_15);
            __Pyx_XGIVEREF(__pyx_t_14);
            __Pyx_XGIVEREF(__pyx_t_13);
            __Pyx_ExceptionReset(__pyx_t_15, __pyx_t_14, __pyx_t_13);
          }
          __Pyx_XGIVEREF(__pyx_t_18);
          __Pyx_XGIVEREF(__pyx_t_17);
          __Pyx_XGIVEREF(__pyx_t_16);
          __Pyx_ErrRestore(__pyx_t_18, __pyx_t_17, __pyx_t_16);
          __pyx_t_18 = 0; __pyx_t_17 = 0; __pyx_t_16 = 0; __pyx_t_15 = 0; __pyx_t_14 = 0; __pyx_t_13 = 0;
          __pyx_lineno = __pyx_t_11; __pyx_clineno = __pyx_t_8; __pyx_filename = __pyx_t_19;
          goto __pyx_L5_except_error;
        }
      }
    }
    goto __pyx_L5_except_error;
    __pyx_L5_except_error:;

    /* "youtube_dl/extractor/common.py":345
 *     def extract(self, url):
 *         """Extracts URL information and returns it in list of dicts."""
 *         try:             # <<<<<<<<<<<<<<
 *             self.initialize()
 *             return self._real_extract(url)
 */
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_1);
    __Pyx_XGIVEREF(__pyx_t_2);
    __Pyx_XGIVEREF(__pyx_t_3);
    __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
    goto __pyx_L1_error;
    __pyx_L7_try_return:;
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_1);
    __Pyx_XGIVEREF(__pyx_t_2);
    __Pyx_XGIVEREF(__pyx_t_3);
    __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
    goto __pyx_L0;
  }

  /* "youtube_dl/extractor/common.py":343
 *             self._ready = True
 * 
 *     def extract(self, url):             # <<<<<<<<<<<<<<
 *         """Extracts URL information and returns it in list of dicts."""
 *         try:
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_e);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":355
 *             raise ExtractorError('An extractor error has occurred.', cause=e)
 * 
 *     def set_downloader(self, downloader):             # <<<<<<<<<<<<<<
 *         """Sets the downloader for this IE."""
 *         self._downloader = downloader
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_13set_downloader(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_12set_downloader[] = "Sets the downloader for this IE.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_13set_downloader = {"set_downloader", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_13set_downloader, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_12set_downloader};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_13set_downloader(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_downloader = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("set_downloader (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_downloader,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_downloader)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("set_downloader", 1, 2, 2, 1); __PYX_ERR(0, 355, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "set_downloader") < 0)) __PYX_ERR(0, 355, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_downloader = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("set_downloader", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 355, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.set_downloader", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_12set_downloader(__pyx_self, __pyx_v_self, __pyx_v_downloader);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_12set_downloader(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_downloader) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("set_downloader", 0);

  /* "youtube_dl/extractor/common.py":357
 *     def set_downloader(self, downloader):
 *         """Sets the downloader for this IE."""
 *         self._downloader = downloader             # <<<<<<<<<<<<<<
 * 
 *     def _real_initialize(self):
 */
  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2, __pyx_v_downloader) < 0) __PYX_ERR(0, 357, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":355
 *             raise ExtractorError('An extractor error has occurred.', cause=e)
 * 
 *     def set_downloader(self, downloader):             # <<<<<<<<<<<<<<
 *         """Sets the downloader for this IE."""
 *         self._downloader = downloader
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.set_downloader", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":359
 *         self._downloader = downloader
 * 
 *     def _real_initialize(self):             # <<<<<<<<<<<<<<
 *         """Real initialization process. Redefine in subclasses."""
 *         pass
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_15_real_initialize(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_14_real_initialize[] = "Real initialization process. Redefine in subclasses.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_15_real_initialize = {"_real_initialize", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_15_real_initialize, METH_O, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_14_real_initialize};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_15_real_initialize(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_real_initialize (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_14_real_initialize(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_14_real_initialize(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_real_initialize", 0);

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":363
 *         pass
 * 
 *     def _real_extract(self, url):             # <<<<<<<<<<<<<<
 *         """Real extraction process. Redefine in subclasses."""
 *         pass
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_17_real_extract(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_16_real_extract[] = "Real extraction process. Redefine in subclasses.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_17_real_extract = {"_real_extract", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_17_real_extract, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_16_real_extract};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_17_real_extract(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  CYTHON_UNUSED PyObject *__pyx_v_url = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_real_extract (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_real_extract", 1, 2, 2, 1); __PYX_ERR(0, 363, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_real_extract") < 0)) __PYX_ERR(0, 363, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_url = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_real_extract", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 363, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._real_extract", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_16_real_extract(__pyx_self, __pyx_v_self, __pyx_v_url);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_16_real_extract(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_url) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_real_extract", 0);

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":368
 * 
 *     @classmethod
 *     def ie_key(cls):             # <<<<<<<<<<<<<<
 *         """A string for getting the InfoExtractor with get_info_extractor"""
 *         return compat_str(cls.__name__[:-2])
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_19ie_key(PyObject *__pyx_self, PyObject *__pyx_v_cls); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_18ie_key[] = "A string for getting the InfoExtractor with get_info_extractor";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_19ie_key = {"ie_key", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_19ie_key, METH_O, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_18ie_key};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_19ie_key(PyObject *__pyx_self, PyObject *__pyx_v_cls) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("ie_key (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18ie_key(__pyx_self, ((PyObject *)__pyx_v_cls));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18ie_key(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("ie_key", 0);

  /* "youtube_dl/extractor/common.py":370
 *     def ie_key(cls):
 *         """A string for getting the InfoExtractor with get_info_extractor"""
 *         return compat_str(cls.__name__[:-2])             # <<<<<<<<<<<<<<
 * 
 *     @property
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_str); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 370, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 370, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_GetSlice(__pyx_t_3, 0, -2L, NULL, NULL, &__pyx_slice__4, 0, 1, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 370, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 370, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 370, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_GIVEREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 370, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":368
 * 
 *     @classmethod
 *     def ie_key(cls):             # <<<<<<<<<<<<<<
 *         """A string for getting the InfoExtractor with get_info_extractor"""
 *         return compat_str(cls.__name__[:-2])
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.ie_key", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":373
 * 
 *     @property
 *     def IE_NAME(self):             # <<<<<<<<<<<<<<
 *         return compat_str(type(self).__name__[:-2])
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_21IE_NAME(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_21IE_NAME = {"IE_NAME", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_21IE_NAME, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_21IE_NAME(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("IE_NAME (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_20IE_NAME(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_20IE_NAME(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("IE_NAME", 0);

  /* "youtube_dl/extractor/common.py":374
 *     @property
 *     def IE_NAME(self):
 *         return compat_str(type(self).__name__[:-2])             # <<<<<<<<<<<<<<
 * 
 *     def _request_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, data=None, headers={}, query={}):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_str); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 374, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(((PyObject *)Py_TYPE(__pyx_v_self)), __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 374, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_GetSlice(__pyx_t_3, 0, -2L, NULL, NULL, &__pyx_slice__5, 0, 1, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 374, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 374, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 374, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_GIVEREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 374, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":373
 * 
 *     @property
 *     def IE_NAME(self):             # <<<<<<<<<<<<<<
 *         return compat_str(type(self).__name__[:-2])
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.IE_NAME", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":376
 *         return compat_str(type(self).__name__[:-2])
 * 
 *     def _request_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns the response handle """
 *         if note is None:
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_183__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 376, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 2, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_None));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_self)->__pyx_arg_headers);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_self)->__pyx_arg_headers);
  PyTuple_SET_ITEM(__pyx_t_1, 4, __Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_self)->__pyx_arg_headers);
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_self)->__pyx_arg_query);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_self)->__pyx_arg_query);
  PyTuple_SET_ITEM(__pyx_t_1, 5, __Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_self)->__pyx_arg_query);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 376, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_23_request_webpage(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_22_request_webpage[] = " Returns the response handle ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_23_request_webpage = {"_request_webpage", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_23_request_webpage, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_22_request_webpage};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_23_request_webpage(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url_or_request = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_note = 0;
  PyObject *__pyx_v_errnote = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_headers = 0;
  PyObject *__pyx_v_query = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_request_webpage (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url_or_request,&__pyx_n_s_video_id,&__pyx_n_s_note,&__pyx_n_s_errnote,&__pyx_n_s_fatal,&__pyx_n_s_data,&__pyx_n_s_headers,&__pyx_n_s_query,0};
    PyObject* values[9] = {0,0,0,0,0,0,0,0,0};
    __pyx_defaults *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_self);
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = ((PyObject *)((PyObject *)Py_True));
    values[6] = ((PyObject *)((PyObject *)Py_None));
    values[7] = __pyx_dynamic_args->__pyx_arg_headers;
    values[8] = __pyx_dynamic_args->__pyx_arg_query;
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url_or_request)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_request_webpage", 0, 3, 9, 1); __PYX_ERR(0, 376, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_request_webpage", 0, 3, 9, 2); __PYX_ERR(0, 376, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_errnote);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_data);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_headers);
          if (value) { values[7] = value; kw_args--; }
        }
        case  8:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_query);
          if (value) { values[8] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_request_webpage") < 0)) __PYX_ERR(0, 376, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_url_or_request = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_note = values[3];
    __pyx_v_errnote = values[4];
    __pyx_v_fatal = values[5];
    __pyx_v_data = values[6];
    __pyx_v_headers = values[7];
    __pyx_v_query = values[8];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_request_webpage", 0, 3, 9, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 376, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._request_webpage", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_22_request_webpage(__pyx_self, __pyx_v_self, __pyx_v_url_or_request, __pyx_v_video_id, __pyx_v_note, __pyx_v_errnote, __pyx_v_fatal, __pyx_v_data, __pyx_v_headers, __pyx_v_query);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_22_request_webpage(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query) {
  PyObject *__pyx_v_err = NULL;
  PyObject *__pyx_v_errmsg = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  Py_ssize_t __pyx_t_8;
  int __pyx_t_9;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  PyObject *__pyx_t_12 = NULL;
  int __pyx_t_13;
  PyObject *__pyx_t_14 = NULL;
  PyObject *__pyx_t_15 = NULL;
  int __pyx_t_16;
  char const *__pyx_t_17;
  PyObject *__pyx_t_18 = NULL;
  PyObject *__pyx_t_19 = NULL;
  PyObject *__pyx_t_20 = NULL;
  PyObject *__pyx_t_21 = NULL;
  PyObject *__pyx_t_22 = NULL;
  PyObject *__pyx_t_23 = NULL;
  __Pyx_RefNannySetupContext("_request_webpage", 0);
  __Pyx_INCREF(__pyx_v_url_or_request);
  __Pyx_INCREF(__pyx_v_errnote);

  /* "youtube_dl/extractor/common.py":378
 *     def _request_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, data=None, headers={}, query={}):
 *         """ Returns the response handle """
 *         if note is None:             # <<<<<<<<<<<<<<
 *             self.report_download_webpage(video_id)
 *         elif note is not False:
 */
  __pyx_t_1 = (__pyx_v_note == Py_None);
  __pyx_t_2 = (__pyx_t_1 != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":379
 *         """ Returns the response handle """
 *         if note is None:
 *             self.report_download_webpage(video_id)             # <<<<<<<<<<<<<<
 *         elif note is not False:
 *             if video_id is None:
 */
    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_report_download_webpage); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 379, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
      if (likely(__pyx_t_5)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
        __Pyx_INCREF(__pyx_t_5);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_4, function);
      }
    }
    if (!__pyx_t_5) {
      __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_v_video_id); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 379, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
    } else {
      __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 379, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_5); __pyx_t_5 = NULL;
      __Pyx_INCREF(__pyx_v_video_id);
      __Pyx_GIVEREF(__pyx_v_video_id);
      PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_v_video_id);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_6, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 379, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    }
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":378
 *     def _request_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, data=None, headers={}, query={}):
 *         """ Returns the response handle """
 *         if note is None:             # <<<<<<<<<<<<<<
 *             self.report_download_webpage(video_id)
 *         elif note is not False:
 */
    goto __pyx_L3;
  }

  /* "youtube_dl/extractor/common.py":380
 *         if note is None:
 *             self.report_download_webpage(video_id)
 *         elif note is not False:             # <<<<<<<<<<<<<<
 *             if video_id is None:
 *                 self.to_screen('%s' % (note,))
 */
  __pyx_t_2 = (__pyx_v_note != Py_False);
  __pyx_t_1 = (__pyx_t_2 != 0);
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":381
 *             self.report_download_webpage(video_id)
 *         elif note is not False:
 *             if video_id is None:             # <<<<<<<<<<<<<<
 *                 self.to_screen('%s' % (note,))
 *             else:
 */
    __pyx_t_1 = (__pyx_v_video_id == Py_None);
    __pyx_t_2 = (__pyx_t_1 != 0);
    if (__pyx_t_2) {

      /* "youtube_dl/extractor/common.py":382
 *         elif note is not False:
 *             if video_id is None:
 *                 self.to_screen('%s' % (note,))             # <<<<<<<<<<<<<<
 *             else:
 *                 self.to_screen('%s: %s' % (video_id, note))
 */
      __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 382, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 382, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_INCREF(__pyx_v_note);
      __Pyx_GIVEREF(__pyx_v_note);
      PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_note);
      __pyx_t_5 = PyUnicode_Format(__pyx_kp_u_s, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 382, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_6)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_6);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_6) {
        __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 382, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __Pyx_GOTREF(__pyx_t_3);
      } else {
        __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 382, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_6); __pyx_t_6 = NULL;
        __Pyx_GIVEREF(__pyx_t_5);
        PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_5);
        __pyx_t_5 = 0;
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_7, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 382, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":381
 *             self.report_download_webpage(video_id)
 *         elif note is not False:
 *             if video_id is None:             # <<<<<<<<<<<<<<
 *                 self.to_screen('%s' % (note,))
 *             else:
 */
      goto __pyx_L4;
    }

    /* "youtube_dl/extractor/common.py":384
 *                 self.to_screen('%s' % (note,))
 *             else:
 *                 self.to_screen('%s: %s' % (video_id, note))             # <<<<<<<<<<<<<<
 *         if isinstance(url_or_request, compat_urllib_request.Request):
 *             url_or_request = update_Request(
 */
    /*else*/ {
      __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 384, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_7 = PyTuple_New(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 384, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_INCREF(__pyx_v_video_id);
      __Pyx_GIVEREF(__pyx_v_video_id);
      PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_video_id);
      __Pyx_INCREF(__pyx_v_note);
      __Pyx_GIVEREF(__pyx_v_note);
      PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_v_note);
      __pyx_t_5 = PyUnicode_Format(__pyx_kp_u_s_s, __pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 384, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_7)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_7);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_7) {
        __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 384, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __Pyx_GOTREF(__pyx_t_3);
      } else {
        __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 384, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_7); __pyx_t_7 = NULL;
        __Pyx_GIVEREF(__pyx_t_5);
        PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_t_5);
        __pyx_t_5 = 0;
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_6, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 384, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_L4:;

    /* "youtube_dl/extractor/common.py":380
 *         if note is None:
 *             self.report_download_webpage(video_id)
 *         elif note is not False:             # <<<<<<<<<<<<<<
 *             if video_id is None:
 *                 self.to_screen('%s' % (note,))
 */
  }
  __pyx_L3:;

  /* "youtube_dl/extractor/common.py":385
 *             else:
 *                 self.to_screen('%s: %s' % (video_id, note))
 *         if isinstance(url_or_request, compat_urllib_request.Request):             # <<<<<<<<<<<<<<
 *             url_or_request = update_Request(
 *                 url_or_request, data=data, headers=headers, query=query)
 */
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_urllib_request); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 385, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_Request); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 385, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_url_or_request, __pyx_t_4); if (unlikely(__pyx_t_2 == -1)) __PYX_ERR(0, 385, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_1 = (__pyx_t_2 != 0);
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":386
 *                 self.to_screen('%s: %s' % (video_id, note))
 *         if isinstance(url_or_request, compat_urllib_request.Request):
 *             url_or_request = update_Request(             # <<<<<<<<<<<<<<
 *                 url_or_request, data=data, headers=headers, query=query)
 *         else:
 */
    __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_update_Request); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 386, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);

    /* "youtube_dl/extractor/common.py":387
 *         if isinstance(url_or_request, compat_urllib_request.Request):
 *             url_or_request = update_Request(
 *                 url_or_request, data=data, headers=headers, query=query)             # <<<<<<<<<<<<<<
 *         else:
 *             if query:
 */
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 386, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_url_or_request);
    __Pyx_GIVEREF(__pyx_v_url_or_request);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_url_or_request);
    __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 387, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_s_data, __pyx_v_data) < 0) __PYX_ERR(0, 387, __pyx_L1_error)
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_s_headers, __pyx_v_headers) < 0) __PYX_ERR(0, 387, __pyx_L1_error)
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_s_query, __pyx_v_query) < 0) __PYX_ERR(0, 387, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":386
 *                 self.to_screen('%s: %s' % (video_id, note))
 *         if isinstance(url_or_request, compat_urllib_request.Request):
 *             url_or_request = update_Request(             # <<<<<<<<<<<<<<
 *                 url_or_request, data=data, headers=headers, query=query)
 *         else:
 */
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 386, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_DECREF_SET(__pyx_v_url_or_request, __pyx_t_5);
    __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":385
 *             else:
 *                 self.to_screen('%s: %s' % (video_id, note))
 *         if isinstance(url_or_request, compat_urllib_request.Request):             # <<<<<<<<<<<<<<
 *             url_or_request = update_Request(
 *                 url_or_request, data=data, headers=headers, query=query)
 */
    goto __pyx_L5;
  }

  /* "youtube_dl/extractor/common.py":389
 *                 url_or_request, data=data, headers=headers, query=query)
 *         else:
 *             if query:             # <<<<<<<<<<<<<<
 *                 url_or_request = update_url_query(url_or_request, query)
 *             if data is not None or headers:
 */
  /*else*/ {
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_query); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 389, __pyx_L1_error)
    if (__pyx_t_1) {

      /* "youtube_dl/extractor/common.py":390
 *         else:
 *             if query:
 *                 url_or_request = update_url_query(url_or_request, query)             # <<<<<<<<<<<<<<
 *             if data is not None or headers:
 *                 url_or_request = sanitized_Request(url_or_request, data, headers)
 */
      __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_update_url_query); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 390, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_3 = NULL;
      __pyx_t_8 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_6);
        if (likely(__pyx_t_3)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_6, function);
          __pyx_t_8 = 1;
        }
      }
      __pyx_t_4 = PyTuple_New(2+__pyx_t_8); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 390, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      if (__pyx_t_3) {
        __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3); __pyx_t_3 = NULL;
      }
      __Pyx_INCREF(__pyx_v_url_or_request);
      __Pyx_GIVEREF(__pyx_v_url_or_request);
      PyTuple_SET_ITEM(__pyx_t_4, 0+__pyx_t_8, __pyx_v_url_or_request);
      __Pyx_INCREF(__pyx_v_query);
      __Pyx_GIVEREF(__pyx_v_query);
      PyTuple_SET_ITEM(__pyx_t_4, 1+__pyx_t_8, __pyx_v_query);
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_4, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 390, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF_SET(__pyx_v_url_or_request, __pyx_t_5);
      __pyx_t_5 = 0;

      /* "youtube_dl/extractor/common.py":389
 *                 url_or_request, data=data, headers=headers, query=query)
 *         else:
 *             if query:             # <<<<<<<<<<<<<<
 *                 url_or_request = update_url_query(url_or_request, query)
 *             if data is not None or headers:
 */
    }

    /* "youtube_dl/extractor/common.py":391
 *             if query:
 *                 url_or_request = update_url_query(url_or_request, query)
 *             if data is not None or headers:             # <<<<<<<<<<<<<<
 *                 url_or_request = sanitized_Request(url_or_request, data, headers)
 *         try:
 */
    __pyx_t_2 = (__pyx_v_data != Py_None);
    __pyx_t_9 = (__pyx_t_2 != 0);
    if (!__pyx_t_9) {
    } else {
      __pyx_t_1 = __pyx_t_9;
      goto __pyx_L8_bool_binop_done;
    }
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_headers); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 391, __pyx_L1_error)
    __pyx_t_1 = __pyx_t_9;
    __pyx_L8_bool_binop_done:;
    if (__pyx_t_1) {

      /* "youtube_dl/extractor/common.py":392
 *                 url_or_request = update_url_query(url_or_request, query)
 *             if data is not None or headers:
 *                 url_or_request = sanitized_Request(url_or_request, data, headers)             # <<<<<<<<<<<<<<
 *         try:
 *             return self._downloader.urlopen(url_or_request)
 */
      __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_sanitized_Request); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 392, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_4 = NULL;
      __pyx_t_8 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
        __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_6);
        if (likely(__pyx_t_4)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
          __Pyx_INCREF(__pyx_t_4);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_6, function);
          __pyx_t_8 = 1;
        }
      }
      __pyx_t_3 = PyTuple_New(3+__pyx_t_8); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 392, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      if (__pyx_t_4) {
        __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4); __pyx_t_4 = NULL;
      }
      __Pyx_INCREF(__pyx_v_url_or_request);
      __Pyx_GIVEREF(__pyx_v_url_or_request);
      PyTuple_SET_ITEM(__pyx_t_3, 0+__pyx_t_8, __pyx_v_url_or_request);
      __Pyx_INCREF(__pyx_v_data);
      __Pyx_GIVEREF(__pyx_v_data);
      PyTuple_SET_ITEM(__pyx_t_3, 1+__pyx_t_8, __pyx_v_data);
      __Pyx_INCREF(__pyx_v_headers);
      __Pyx_GIVEREF(__pyx_v_headers);
      PyTuple_SET_ITEM(__pyx_t_3, 2+__pyx_t_8, __pyx_v_headers);
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_3, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 392, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF_SET(__pyx_v_url_or_request, __pyx_t_5);
      __pyx_t_5 = 0;

      /* "youtube_dl/extractor/common.py":391
 *             if query:
 *                 url_or_request = update_url_query(url_or_request, query)
 *             if data is not None or headers:             # <<<<<<<<<<<<<<
 *                 url_or_request = sanitized_Request(url_or_request, data, headers)
 *         try:
 */
    }
  }
  __pyx_L5:;

  /* "youtube_dl/extractor/common.py":393
 *             if data is not None or headers:
 *                 url_or_request = sanitized_Request(url_or_request, data, headers)
 *         try:             # <<<<<<<<<<<<<<
 *             return self._downloader.urlopen(url_or_request)
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:
 */
  {
    __Pyx_PyThreadState_declare
    __Pyx_PyThreadState_assign
    __Pyx_ExceptionSave(&__pyx_t_10, &__pyx_t_11, &__pyx_t_12);
    __Pyx_XGOTREF(__pyx_t_10);
    __Pyx_XGOTREF(__pyx_t_11);
    __Pyx_XGOTREF(__pyx_t_12);
    /*try:*/ {

      /* "youtube_dl/extractor/common.py":394
 *                 url_or_request = sanitized_Request(url_or_request, data, headers)
 *         try:
 *             return self._downloader.urlopen(url_or_request)             # <<<<<<<<<<<<<<
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:
 *             if errnote is False:
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 394, __pyx_L10_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_urlopen); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 394, __pyx_L10_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
        __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_3);
        if (likely(__pyx_t_6)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_6);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_3, function);
        }
      }
      if (!__pyx_t_6) {
        __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_url_or_request); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 394, __pyx_L10_error)
        __Pyx_GOTREF(__pyx_t_5);
      } else {
        __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 394, __pyx_L10_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_6); __pyx_t_6 = NULL;
        __Pyx_INCREF(__pyx_v_url_or_request);
        __Pyx_GIVEREF(__pyx_v_url_or_request);
        PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_url_or_request);
        __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 394, __pyx_L10_error)
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      }
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_r = __pyx_t_5;
      __pyx_t_5 = 0;
      goto __pyx_L14_try_return;

      /* "youtube_dl/extractor/common.py":393
 *             if data is not None or headers:
 *                 url_or_request = sanitized_Request(url_or_request, data, headers)
 *         try:             # <<<<<<<<<<<<<<
 *             return self._downloader.urlopen(url_or_request)
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:
 */
    }
    __pyx_L10_error:;
    __Pyx_PyThreadState_assign
    __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":395
 *         try:
 *             return self._downloader.urlopen(url_or_request)
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:             # <<<<<<<<<<<<<<
 *             if errnote is False:
 *                 return False
 */
    __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_urllib_error); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 395, __pyx_L12_except_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_URLError); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 395, __pyx_L12_except_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_http_client); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 395, __pyx_L12_except_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_HTTPException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 395, __pyx_L12_except_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_socket); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 395, __pyx_L12_except_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_error); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 395, __pyx_L12_except_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_13 = __Pyx_PyErr_ExceptionMatches(__pyx_t_3) || __Pyx_PyErr_ExceptionMatches(__pyx_t_4) || __Pyx_PyErr_ExceptionMatches(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_13) {
      __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._request_webpage", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_4, &__pyx_t_3) < 0) __PYX_ERR(0, 395, __pyx_L12_except_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __pyx_v_err = __pyx_t_4;
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":396
 *             return self._downloader.urlopen(url_or_request)
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:
 *             if errnote is False:             # <<<<<<<<<<<<<<
 *                 return False
 *             if errnote is None:
 */
        __pyx_t_1 = (__pyx_v_errnote == Py_False);
        __pyx_t_9 = (__pyx_t_1 != 0);
        if (__pyx_t_9) {

          /* "youtube_dl/extractor/common.py":397
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:
 *             if errnote is False:
 *                 return False             # <<<<<<<<<<<<<<
 *             if errnote is None:
 *                 errnote = 'Unable to download webpage'
 */
          __Pyx_XDECREF(__pyx_r);
          __Pyx_INCREF(Py_False);
          __pyx_r = Py_False;
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          goto __pyx_L22_return;

          /* "youtube_dl/extractor/common.py":396
 *             return self._downloader.urlopen(url_or_request)
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:
 *             if errnote is False:             # <<<<<<<<<<<<<<
 *                 return False
 *             if errnote is None:
 */
        }

        /* "youtube_dl/extractor/common.py":398
 *             if errnote is False:
 *                 return False
 *             if errnote is None:             # <<<<<<<<<<<<<<
 *                 errnote = 'Unable to download webpage'
 * 
 */
        __pyx_t_9 = (__pyx_v_errnote == Py_None);
        __pyx_t_1 = (__pyx_t_9 != 0);
        if (__pyx_t_1) {

          /* "youtube_dl/extractor/common.py":399
 *                 return False
 *             if errnote is None:
 *                 errnote = 'Unable to download webpage'             # <<<<<<<<<<<<<<
 * 
 *             errmsg = '%s: %s' % (errnote, error_to_compat_str(err))
 */
          __Pyx_INCREF(__pyx_kp_u_Unable_to_download_webpage);
          __Pyx_DECREF_SET(__pyx_v_errnote, __pyx_kp_u_Unable_to_download_webpage);

          /* "youtube_dl/extractor/common.py":398
 *             if errnote is False:
 *                 return False
 *             if errnote is None:             # <<<<<<<<<<<<<<
 *                 errnote = 'Unable to download webpage'
 * 
 */
        }

        /* "youtube_dl/extractor/common.py":401
 *                 errnote = 'Unable to download webpage'
 * 
 *             errmsg = '%s: %s' % (errnote, error_to_compat_str(err))             # <<<<<<<<<<<<<<
 *             if fatal:
 *                 raise ExtractorError(errmsg, sys.exc_info()[2], cause=err)
 */
        __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_error_to_compat_str); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 401, __pyx_L23_error)
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_14 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
          __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_7);
          if (likely(__pyx_t_14)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
            __Pyx_INCREF(__pyx_t_14);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_7, function);
          }
        }
        if (!__pyx_t_14) {
          __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_err); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 401, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_5);
        } else {
          __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 401, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_GIVEREF(__pyx_t_14); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_14); __pyx_t_14 = NULL;
          __Pyx_INCREF(__pyx_v_err);
          __Pyx_GIVEREF(__pyx_v_err);
          PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_v_err);
          __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_15, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 401, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
        }
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_7 = PyTuple_New(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 401, __pyx_L23_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_INCREF(__pyx_v_errnote);
        __Pyx_GIVEREF(__pyx_v_errnote);
        PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_errnote);
        __Pyx_GIVEREF(__pyx_t_5);
        PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_t_5);
        __pyx_t_5 = 0;
        __pyx_t_5 = PyUnicode_Format(__pyx_kp_u_s_s, __pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 401, __pyx_L23_error)
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_v_errmsg = ((PyObject*)__pyx_t_5);
        __pyx_t_5 = 0;

        /* "youtube_dl/extractor/common.py":402
 * 
 *             errmsg = '%s: %s' % (errnote, error_to_compat_str(err))
 *             if fatal:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError(errmsg, sys.exc_info()[2], cause=err)
 *             else:
 */
        __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_fatal); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 402, __pyx_L23_error)
        if (__pyx_t_1) {

          /* "youtube_dl/extractor/common.py":403
 *             errmsg = '%s: %s' % (errnote, error_to_compat_str(err))
 *             if fatal:
 *                 raise ExtractorError(errmsg, sys.exc_info()[2], cause=err)             # <<<<<<<<<<<<<<
 *             else:
 *                 self._downloader.report_warning(errmsg)
 */
          __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 403, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_5);
          __pyx_t_15 = __Pyx_GetModuleGlobalName(__pyx_n_s_sys); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 403, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_15);
          __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_t_15, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 403, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_14);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __pyx_t_15 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_14))) {
            __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_14);
            if (likely(__pyx_t_15)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_14);
              __Pyx_INCREF(__pyx_t_15);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_14, function);
            }
          }
          if (__pyx_t_15) {
            __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_14, __pyx_t_15); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 403, __pyx_L23_error)
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          } else {
            __pyx_t_7 = __Pyx_PyObject_CallNoArg(__pyx_t_14); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 403, __pyx_L23_error)
          }
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
          __pyx_t_14 = __Pyx_GetItemInt(__pyx_t_7, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 403, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_14);
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          __pyx_t_7 = PyTuple_New(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 403, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_INCREF(__pyx_v_errmsg);
          __Pyx_GIVEREF(__pyx_v_errmsg);
          PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_errmsg);
          __Pyx_GIVEREF(__pyx_t_14);
          PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_t_14);
          __pyx_t_14 = 0;
          __pyx_t_14 = PyDict_New(); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 403, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_14);
          if (PyDict_SetItem(__pyx_t_14, __pyx_n_s_cause, __pyx_v_err) < 0) __PYX_ERR(0, 403, __pyx_L23_error)
          __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, __pyx_t_14); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 403, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
          __Pyx_Raise(__pyx_t_15, 0, 0, 0);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __PYX_ERR(0, 403, __pyx_L23_error)

          /* "youtube_dl/extractor/common.py":402
 * 
 *             errmsg = '%s: %s' % (errnote, error_to_compat_str(err))
 *             if fatal:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError(errmsg, sys.exc_info()[2], cause=err)
 *             else:
 */
        }

        /* "youtube_dl/extractor/common.py":405
 *                 raise ExtractorError(errmsg, sys.exc_info()[2], cause=err)
 *             else:
 *                 self._downloader.report_warning(errmsg)             # <<<<<<<<<<<<<<
 *                 return False
 * 
 */
        /*else*/ {
          __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 405, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_14);
          __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_14, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 405, __pyx_L23_error)
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
          __pyx_t_14 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_7))) {
            __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_7);
            if (likely(__pyx_t_14)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
              __Pyx_INCREF(__pyx_t_14);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_7, function);
            }
          }
          if (!__pyx_t_14) {
            __pyx_t_15 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_errmsg); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 405, __pyx_L23_error)
            __Pyx_GOTREF(__pyx_t_15);
          } else {
            __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 405, __pyx_L23_error)
            __Pyx_GOTREF(__pyx_t_5);
            __Pyx_GIVEREF(__pyx_t_14); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_14); __pyx_t_14 = NULL;
            __Pyx_INCREF(__pyx_v_errmsg);
            __Pyx_GIVEREF(__pyx_v_errmsg);
            PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_v_errmsg);
            __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_5, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 405, __pyx_L23_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
          }
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;

          /* "youtube_dl/extractor/common.py":406
 *             else:
 *                 self._downloader.report_warning(errmsg)
 *                 return False             # <<<<<<<<<<<<<<
 * 
 *     def _download_webpage_handle(self, url_or_request, video_id, note=None, errnote=None, fatal=True, encoding=None, data=None, headers={}, query={}):
 */
          __Pyx_XDECREF(__pyx_r);
          __Pyx_INCREF(Py_False);
          __pyx_r = Py_False;
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          goto __pyx_L22_return;
        }
      }

      /* "youtube_dl/extractor/common.py":395
 *         try:
 *             return self._downloader.urlopen(url_or_request)
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:             # <<<<<<<<<<<<<<
 *             if errnote is False:
 *                 return False
 */
      /*finally:*/ {
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __pyx_L23_error:;
          __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0;
          __Pyx_PyThreadState_assign
          __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
          __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
          __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
          __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
          if (PY_MAJOR_VERSION >= 3) __Pyx_ExceptionSwap(&__pyx_t_21, &__pyx_t_22, &__pyx_t_23);
          if ((PY_MAJOR_VERSION < 3) || unlikely(__Pyx_GetException(&__pyx_t_18, &__pyx_t_19, &__pyx_t_20) < 0)) __Pyx_ErrFetch(&__pyx_t_18, &__pyx_t_19, &__pyx_t_20);
          __Pyx_XGOTREF(__pyx_t_18);
          __Pyx_XGOTREF(__pyx_t_19);
          __Pyx_XGOTREF(__pyx_t_20);
          __Pyx_XGOTREF(__pyx_t_21);
          __Pyx_XGOTREF(__pyx_t_22);
          __Pyx_XGOTREF(__pyx_t_23);
          __pyx_t_13 = __pyx_lineno; __pyx_t_16 = __pyx_clineno; __pyx_t_17 = __pyx_filename;
          {
            __Pyx_DECREF(__pyx_v_err);
            __pyx_v_err = NULL;
          }
          __Pyx_PyThreadState_assign
          if (PY_MAJOR_VERSION >= 3) {
            __Pyx_XGIVEREF(__pyx_t_21);
            __Pyx_XGIVEREF(__pyx_t_22);
            __Pyx_XGIVEREF(__pyx_t_23);
            __Pyx_ExceptionReset(__pyx_t_21, __pyx_t_22, __pyx_t_23);
          }
          __Pyx_XGIVEREF(__pyx_t_18);
          __Pyx_XGIVEREF(__pyx_t_19);
          __Pyx_XGIVEREF(__pyx_t_20);
          __Pyx_ErrRestore(__pyx_t_18, __pyx_t_19, __pyx_t_20);
          __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0;
          __pyx_lineno = __pyx_t_13; __pyx_clineno = __pyx_t_16; __pyx_filename = __pyx_t_17;
          goto __pyx_L12_except_error;
        }
        __pyx_L22_return: {
          __pyx_t_23 = __pyx_r;
          __pyx_r = 0;
          __Pyx_DECREF(__pyx_v_err);
          __pyx_v_err = NULL;
          __pyx_r = __pyx_t_23;
          __pyx_t_23 = 0;
          goto __pyx_L13_except_return;
        }
      }
    }
    goto __pyx_L12_except_error;
    __pyx_L12_except_error:;

    /* "youtube_dl/extractor/common.py":393
 *             if data is not None or headers:
 *                 url_or_request = sanitized_Request(url_or_request, data, headers)
 *         try:             # <<<<<<<<<<<<<<
 *             return self._downloader.urlopen(url_or_request)
 *         except (compat_urllib_error.URLError, compat_http_client.HTTPException, socket.error) as err:
 */
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_10);
    __Pyx_XGIVEREF(__pyx_t_11);
    __Pyx_XGIVEREF(__pyx_t_12);
    __Pyx_ExceptionReset(__pyx_t_10, __pyx_t_11, __pyx_t_12);
    goto __pyx_L1_error;
    __pyx_L14_try_return:;
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_10);
    __Pyx_XGIVEREF(__pyx_t_11);
    __Pyx_XGIVEREF(__pyx_t_12);
    __Pyx_ExceptionReset(__pyx_t_10, __pyx_t_11, __pyx_t_12);
    goto __pyx_L0;
    __pyx_L13_except_return:;
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_10);
    __Pyx_XGIVEREF(__pyx_t_11);
    __Pyx_XGIVEREF(__pyx_t_12);
    __Pyx_ExceptionReset(__pyx_t_10, __pyx_t_11, __pyx_t_12);
    goto __pyx_L0;
  }

  /* "youtube_dl/extractor/common.py":376
 *         return compat_str(type(self).__name__[:-2])
 * 
 *     def _request_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns the response handle """
 *         if note is None:
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_14);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._request_webpage", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_err);
  __Pyx_XDECREF(__pyx_v_errmsg);
  __Pyx_XDECREF(__pyx_v_url_or_request);
  __Pyx_XDECREF(__pyx_v_errnote);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":408
 *                 return False
 * 
 *     def _download_webpage_handle(self, url_or_request, video_id, note=None, errnote=None, fatal=True, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns a tuple (page content as string, URL handle) """
 *         # Strip hashes from the URL (#1038)
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_185__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 408, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 2, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 4, ((PyObject *)Py_None));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_self)->__pyx_arg_headers);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_self)->__pyx_arg_headers);
  PyTuple_SET_ITEM(__pyx_t_1, 5, __Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_self)->__pyx_arg_headers);
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_self)->__pyx_arg_query);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_self)->__pyx_arg_query);
  PyTuple_SET_ITEM(__pyx_t_1, 6, __Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_self)->__pyx_arg_query);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 408, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_25_download_webpage_handle(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_24_download_webpage_handle[] = " Returns a tuple (page content as string, URL handle) ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_25_download_webpage_handle = {"_download_webpage_handle", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_25_download_webpage_handle, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_24_download_webpage_handle};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_25_download_webpage_handle(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url_or_request = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_note = 0;
  PyObject *__pyx_v_errnote = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_encoding = 0;
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_headers = 0;
  PyObject *__pyx_v_query = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_download_webpage_handle (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url_or_request,&__pyx_n_s_video_id,&__pyx_n_s_note,&__pyx_n_s_errnote,&__pyx_n_s_fatal,&__pyx_n_s_encoding,&__pyx_n_s_data,&__pyx_n_s_headers,&__pyx_n_s_query,0};
    PyObject* values[10] = {0,0,0,0,0,0,0,0,0,0};
    __pyx_defaults1 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_self);
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = ((PyObject *)((PyObject *)Py_True));
    values[6] = ((PyObject *)((PyObject *)Py_None));
    values[7] = ((PyObject *)((PyObject *)Py_None));
    values[8] = __pyx_dynamic_args->__pyx_arg_headers;
    values[9] = __pyx_dynamic_args->__pyx_arg_query;
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url_or_request)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_webpage_handle", 0, 3, 10, 1); __PYX_ERR(0, 408, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_webpage_handle", 0, 3, 10, 2); __PYX_ERR(0, 408, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_errnote);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_encoding);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_data);
          if (value) { values[7] = value; kw_args--; }
        }
        case  8:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_headers);
          if (value) { values[8] = value; kw_args--; }
        }
        case  9:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_query);
          if (value) { values[9] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_download_webpage_handle") < 0)) __PYX_ERR(0, 408, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_url_or_request = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_note = values[3];
    __pyx_v_errnote = values[4];
    __pyx_v_fatal = values[5];
    __pyx_v_encoding = values[6];
    __pyx_v_data = values[7];
    __pyx_v_headers = values[8];
    __pyx_v_query = values[9];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_download_webpage_handle", 0, 3, 10, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 408, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_webpage_handle", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_24_download_webpage_handle(__pyx_self, __pyx_v_self, __pyx_v_url_or_request, __pyx_v_video_id, __pyx_v_note, __pyx_v_errnote, __pyx_v_fatal, __pyx_v_encoding, __pyx_v_data, __pyx_v_headers, __pyx_v_query);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_24_download_webpage_handle(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_encoding, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query) {
  PyObject *__pyx_v_urlh = NULL;
  PyObject *__pyx_v_content = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  __Pyx_RefNannySetupContext("_download_webpage_handle", 0);
  __Pyx_INCREF(__pyx_v_url_or_request);

  /* "youtube_dl/extractor/common.py":411
 *         """ Returns a tuple (page content as string, URL handle) """
 *         # Strip hashes from the URL (#1038)
 *         if isinstance(url_or_request, (compat_str, str)):             # <<<<<<<<<<<<<<
 *             url_or_request = url_or_request.partition('#')[0]
 * 
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 411, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = PyObject_IsInstance(__pyx_v_url_or_request, __pyx_t_1); 
  __pyx_t_4 = (__pyx_t_3 != 0);
  if (!__pyx_t_4) {
  } else {
    __pyx_t_2 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_4 = PyUnicode_Check(__pyx_v_url_or_request); 
  __pyx_t_3 = (__pyx_t_4 != 0);
  __pyx_t_2 = __pyx_t_3;
  __pyx_L4_bool_binop_done:;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__pyx_t_2 != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":412
 *         # Strip hashes from the URL (#1038)
 *         if isinstance(url_or_request, (compat_str, str)):
 *             url_or_request = url_or_request.partition('#')[0]             # <<<<<<<<<<<<<<
 * 
 *         urlh = self._request_webpage(url_or_request, video_id, note, errnote, fatal, data=data, headers=headers, query=query)
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_url_or_request, __pyx_n_s_partition); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 412, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__7, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 412, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_5, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 412, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF_SET(__pyx_v_url_or_request, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":411
 *         """ Returns a tuple (page content as string, URL handle) """
 *         # Strip hashes from the URL (#1038)
 *         if isinstance(url_or_request, (compat_str, str)):             # <<<<<<<<<<<<<<
 *             url_or_request = url_or_request.partition('#')[0]
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":414
 *             url_or_request = url_or_request.partition('#')[0]
 * 
 *         urlh = self._request_webpage(url_or_request, video_id, note, errnote, fatal, data=data, headers=headers, query=query)             # <<<<<<<<<<<<<<
 *         if urlh is False:
 *             assert not fatal
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_request_webpage); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 414, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_5 = PyTuple_New(5); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 414, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_v_url_or_request);
  __Pyx_GIVEREF(__pyx_v_url_or_request);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_url_or_request);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_v_video_id);
  __Pyx_INCREF(__pyx_v_note);
  __Pyx_GIVEREF(__pyx_v_note);
  PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_v_note);
  __Pyx_INCREF(__pyx_v_errnote);
  __Pyx_GIVEREF(__pyx_v_errnote);
  PyTuple_SET_ITEM(__pyx_t_5, 3, __pyx_v_errnote);
  __Pyx_INCREF(__pyx_v_fatal);
  __Pyx_GIVEREF(__pyx_v_fatal);
  PyTuple_SET_ITEM(__pyx_t_5, 4, __pyx_v_fatal);
  __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 414, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  if (PyDict_SetItem(__pyx_t_6, __pyx_n_s_data, __pyx_v_data) < 0) __PYX_ERR(0, 414, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_6, __pyx_n_s_headers, __pyx_v_headers) < 0) __PYX_ERR(0, 414, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_6, __pyx_n_s_query, __pyx_v_query) < 0) __PYX_ERR(0, 414, __pyx_L1_error)
  __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_5, __pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 414, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_v_urlh = __pyx_t_7;
  __pyx_t_7 = 0;

  /* "youtube_dl/extractor/common.py":415
 * 
 *         urlh = self._request_webpage(url_or_request, video_id, note, errnote, fatal, data=data, headers=headers, query=query)
 *         if urlh is False:             # <<<<<<<<<<<<<<
 *             assert not fatal
 *             return False
 */
  __pyx_t_3 = (__pyx_v_urlh == Py_False);
  __pyx_t_2 = (__pyx_t_3 != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":416
 *         urlh = self._request_webpage(url_or_request, video_id, note, errnote, fatal, data=data, headers=headers, query=query)
 *         if urlh is False:
 *             assert not fatal             # <<<<<<<<<<<<<<
 *             return False
 *         content = self._webpage_read_content(urlh, url_or_request, video_id, note, errnote, fatal, encoding=encoding)
 */
    #ifndef CYTHON_WITHOUT_ASSERTIONS
    if (unlikely(!Py_OptimizeFlag)) {
      __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_fatal); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 416, __pyx_L1_error)
      if (unlikely(!((!__pyx_t_2) != 0))) {
        PyErr_SetNone(PyExc_AssertionError);
        __PYX_ERR(0, 416, __pyx_L1_error)
      }
    }
    #endif

    /* "youtube_dl/extractor/common.py":417
 *         if urlh is False:
 *             assert not fatal
 *             return False             # <<<<<<<<<<<<<<
 *         content = self._webpage_read_content(urlh, url_or_request, video_id, note, errnote, fatal, encoding=encoding)
 *         return (content, urlh)
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_False);
    __pyx_r = Py_False;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":415
 * 
 *         urlh = self._request_webpage(url_or_request, video_id, note, errnote, fatal, data=data, headers=headers, query=query)
 *         if urlh is False:             # <<<<<<<<<<<<<<
 *             assert not fatal
 *             return False
 */
  }

  /* "youtube_dl/extractor/common.py":418
 *             assert not fatal
 *             return False
 *         content = self._webpage_read_content(urlh, url_or_request, video_id, note, errnote, fatal, encoding=encoding)             # <<<<<<<<<<<<<<
 *         return (content, urlh)
 * 
 */
  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_webpage_read_content); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 418, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __pyx_t_6 = PyTuple_New(6); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 418, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_INCREF(__pyx_v_urlh);
  __Pyx_GIVEREF(__pyx_v_urlh);
  PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_urlh);
  __Pyx_INCREF(__pyx_v_url_or_request);
  __Pyx_GIVEREF(__pyx_v_url_or_request);
  PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_url_or_request);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_v_video_id);
  __Pyx_INCREF(__pyx_v_note);
  __Pyx_GIVEREF(__pyx_v_note);
  PyTuple_SET_ITEM(__pyx_t_6, 3, __pyx_v_note);
  __Pyx_INCREF(__pyx_v_errnote);
  __Pyx_GIVEREF(__pyx_v_errnote);
  PyTuple_SET_ITEM(__pyx_t_6, 4, __pyx_v_errnote);
  __Pyx_INCREF(__pyx_v_fatal);
  __Pyx_GIVEREF(__pyx_v_fatal);
  PyTuple_SET_ITEM(__pyx_t_6, 5, __pyx_v_fatal);
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 418, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyDict_SetItem(__pyx_t_5, __pyx_n_s_encoding, __pyx_v_encoding) < 0) __PYX_ERR(0, 418, __pyx_L1_error)
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_6, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 418, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_v_content = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":419
 *             return False
 *         content = self._webpage_read_content(urlh, url_or_request, video_id, note, errnote, fatal, encoding=encoding)
 *         return (content, urlh)             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 419, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_content);
  __Pyx_GIVEREF(__pyx_v_content);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_content);
  __Pyx_INCREF(__pyx_v_urlh);
  __Pyx_GIVEREF(__pyx_v_urlh);
  PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_urlh);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":408
 *                 return False
 * 
 *     def _download_webpage_handle(self, url_or_request, video_id, note=None, errnote=None, fatal=True, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns a tuple (page content as string, URL handle) """
 *         # Strip hashes from the URL (#1038)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_webpage_handle", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_urlh);
  __Pyx_XDECREF(__pyx_v_content);
  __Pyx_XDECREF(__pyx_v_url_or_request);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":422
 * 
 *     @staticmethod
 *     def _guess_encoding_from_content(content_type, webpage_bytes):             # <<<<<<<<<<<<<<
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 *         if m:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_27_guess_encoding_from_content(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_27_guess_encoding_from_content = {"_guess_encoding_from_content", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_27_guess_encoding_from_content, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_27_guess_encoding_from_content(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_content_type = 0;
  PyObject *__pyx_v_webpage_bytes = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_guess_encoding_from_content (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_content_type,&__pyx_n_s_webpage_bytes,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_content_type)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_webpage_bytes)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_guess_encoding_from_content", 1, 2, 2, 1); __PYX_ERR(0, 422, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_guess_encoding_from_content") < 0)) __PYX_ERR(0, 422, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_content_type = values[0];
    __pyx_v_webpage_bytes = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_guess_encoding_from_content", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 422, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._guess_encoding_from_content", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_guess_encoding_from_content(__pyx_self, __pyx_v_content_type, __pyx_v_webpage_bytes);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_guess_encoding_from_content(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_content_type, PyObject *__pyx_v_webpage_bytes) {
  PyObject *__pyx_v_m = NULL;
  PyObject *__pyx_v_encoding = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  __Pyx_RefNannySetupContext("_guess_encoding_from_content", 0);

  /* "youtube_dl/extractor/common.py":423
 *     @staticmethod
 *     def _guess_encoding_from_content(content_type, webpage_bytes):
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)             # <<<<<<<<<<<<<<
 *         if m:
 *             encoding = m.group(1)
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 423, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_match); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 423, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 423, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_2) {
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2); __pyx_t_2 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_a_zA_Z0_9__a_zA_Z0_9__s_s_chars);
  __Pyx_GIVEREF(__pyx_kp_u_a_zA_Z0_9__a_zA_Z0_9__s_s_chars);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_kp_u_a_zA_Z0_9__a_zA_Z0_9__s_s_chars);
  __Pyx_INCREF(__pyx_v_content_type);
  __Pyx_GIVEREF(__pyx_v_content_type);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_content_type);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 423, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_m = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":424
 *     def _guess_encoding_from_content(content_type, webpage_bytes):
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 *         if m:             # <<<<<<<<<<<<<<
 *             encoding = m.group(1)
 *         else:
 */
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_m); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 424, __pyx_L1_error)
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":425
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 *         if m:
 *             encoding = m.group(1)             # <<<<<<<<<<<<<<
 *         else:
 *             m = re.search(br'<meta[^>]+charset=[\'"]?([^\'")]+)[ /\'">]',
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_m, __pyx_n_s_group); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 425, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__8, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 425, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_encoding = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":424
 *     def _guess_encoding_from_content(content_type, webpage_bytes):
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 *         if m:             # <<<<<<<<<<<<<<
 *             encoding = m.group(1)
 *         else:
 */
    goto __pyx_L3;
  }

  /* "youtube_dl/extractor/common.py":427
 *             encoding = m.group(1)
 *         else:
 *             m = re.search(br'<meta[^>]+charset=[\'"]?([^\'")]+)[ /\'">]',             # <<<<<<<<<<<<<<
 *                           webpage_bytes[:1024])
 *             if m:
 */
  /*else*/ {
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 427, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_search); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 427, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":428
 *         else:
 *             m = re.search(br'<meta[^>]+charset=[\'"]?([^\'")]+)[ /\'">]',
 *                           webpage_bytes[:1024])             # <<<<<<<<<<<<<<
 *             if m:
 *                 encoding = m.group(1).decode('ascii')
 */
    __pyx_t_1 = __Pyx_PyObject_GetSlice(__pyx_v_webpage_bytes, 0, 0x400, NULL, NULL, &__pyx_slice__9, 0, 1, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 428, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
        __pyx_t_4 = 1;
      }
    }
    __pyx_t_7 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 427, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    if (__pyx_t_2) {
      __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_2); __pyx_t_2 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_b_meta_charset);
    __Pyx_GIVEREF(__pyx_kp_b_meta_charset);
    PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_4, __pyx_kp_b_meta_charset);
    __Pyx_GIVEREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_4, __pyx_t_1);
    __pyx_t_1 = 0;
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 427, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF_SET(__pyx_v_m, __pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":429
 *             m = re.search(br'<meta[^>]+charset=[\'"]?([^\'")]+)[ /\'">]',
 *                           webpage_bytes[:1024])
 *             if m:             # <<<<<<<<<<<<<<
 *                 encoding = m.group(1).decode('ascii')
 *             elif webpage_bytes.startswith(b'\xff\xfe'):
 */
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_m); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 429, __pyx_L1_error)
    if (__pyx_t_6) {

      /* "youtube_dl/extractor/common.py":430
 *                           webpage_bytes[:1024])
 *             if m:
 *                 encoding = m.group(1).decode('ascii')             # <<<<<<<<<<<<<<
 *             elif webpage_bytes.startswith(b'\xff\xfe'):
 *                 encoding = 'utf-16'
 */
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_m, __pyx_n_s_group); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 430, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__10, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 430, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_decode); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 430, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__11, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 430, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_v_encoding = __pyx_t_5;
      __pyx_t_5 = 0;

      /* "youtube_dl/extractor/common.py":429
 *             m = re.search(br'<meta[^>]+charset=[\'"]?([^\'")]+)[ /\'">]',
 *                           webpage_bytes[:1024])
 *             if m:             # <<<<<<<<<<<<<<
 *                 encoding = m.group(1).decode('ascii')
 *             elif webpage_bytes.startswith(b'\xff\xfe'):
 */
      goto __pyx_L4;
    }

    /* "youtube_dl/extractor/common.py":431
 *             if m:
 *                 encoding = m.group(1).decode('ascii')
 *             elif webpage_bytes.startswith(b'\xff\xfe'):             # <<<<<<<<<<<<<<
 *                 encoding = 'utf-16'
 *             else:
 */
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_webpage_bytes, __pyx_n_s_startswith); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 431, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__13, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 431, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 431, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_6) {

      /* "youtube_dl/extractor/common.py":432
 *                 encoding = m.group(1).decode('ascii')
 *             elif webpage_bytes.startswith(b'\xff\xfe'):
 *                 encoding = 'utf-16'             # <<<<<<<<<<<<<<
 *             else:
 *                 encoding = 'utf-8'
 */
      __Pyx_INCREF(__pyx_kp_u_utf_16);
      __pyx_v_encoding = __pyx_kp_u_utf_16;

      /* "youtube_dl/extractor/common.py":431
 *             if m:
 *                 encoding = m.group(1).decode('ascii')
 *             elif webpage_bytes.startswith(b'\xff\xfe'):             # <<<<<<<<<<<<<<
 *                 encoding = 'utf-16'
 *             else:
 */
      goto __pyx_L4;
    }

    /* "youtube_dl/extractor/common.py":434
 *                 encoding = 'utf-16'
 *             else:
 *                 encoding = 'utf-8'             # <<<<<<<<<<<<<<
 * 
 *         return encoding
 */
    /*else*/ {
      __Pyx_INCREF(__pyx_kp_u_utf_8);
      __pyx_v_encoding = __pyx_kp_u_utf_8;
    }
    __pyx_L4:;
  }
  __pyx_L3:;

  /* "youtube_dl/extractor/common.py":436
 *                 encoding = 'utf-8'
 * 
 *         return encoding             # <<<<<<<<<<<<<<
 * 
 *     def _webpage_read_content(self, urlh, url_or_request, video_id, note=None, errnote=None, fatal=True, prefix=None, encoding=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_encoding);
  __pyx_r = __pyx_v_encoding;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":422
 * 
 *     @staticmethod
 *     def _guess_encoding_from_content(content_type, webpage_bytes):             # <<<<<<<<<<<<<<
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 *         if m:
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._guess_encoding_from_content", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_m);
  __Pyx_XDECREF(__pyx_v_encoding);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":438
 *         return encoding
 * 
 *     def _webpage_read_content(self, urlh, url_or_request, video_id, note=None, errnote=None, fatal=True, prefix=None, encoding=None):             # <<<<<<<<<<<<<<
 *         content_type = urlh.headers.get('Content-Type', '')
 *         webpage_bytes = urlh.read()
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_29_webpage_read_content(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_29_webpage_read_content = {"_webpage_read_content", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_29_webpage_read_content, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_29_webpage_read_content(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_urlh = 0;
  PyObject *__pyx_v_url_or_request = 0;
  PyObject *__pyx_v_video_id = 0;
  CYTHON_UNUSED PyObject *__pyx_v_note = 0;
  CYTHON_UNUSED PyObject *__pyx_v_errnote = 0;
  CYTHON_UNUSED PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_prefix = 0;
  PyObject *__pyx_v_encoding = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_webpage_read_content (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_urlh,&__pyx_n_s_url_or_request,&__pyx_n_s_video_id,&__pyx_n_s_note,&__pyx_n_s_errnote,&__pyx_n_s_fatal,&__pyx_n_s_prefix,&__pyx_n_s_encoding,0};
    PyObject* values[9] = {0,0,0,0,0,0,0,0,0};
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = ((PyObject *)((PyObject *)Py_None));
    values[6] = ((PyObject *)((PyObject *)Py_True));
    values[7] = ((PyObject *)((PyObject *)Py_None));
    values[8] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_urlh)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_webpage_read_content", 0, 4, 9, 1); __PYX_ERR(0, 438, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url_or_request)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_webpage_read_content", 0, 4, 9, 2); __PYX_ERR(0, 438, __pyx_L3_error)
        }
        case  3:
        if (likely((values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_webpage_read_content", 0, 4, 9, 3); __PYX_ERR(0, 438, __pyx_L3_error)
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_errnote);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_prefix);
          if (value) { values[7] = value; kw_args--; }
        }
        case  8:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_encoding);
          if (value) { values[8] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_webpage_read_content") < 0)) __PYX_ERR(0, 438, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_urlh = values[1];
    __pyx_v_url_or_request = values[2];
    __pyx_v_video_id = values[3];
    __pyx_v_note = values[4];
    __pyx_v_errnote = values[5];
    __pyx_v_fatal = values[6];
    __pyx_v_prefix = values[7];
    __pyx_v_encoding = values[8];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_webpage_read_content", 0, 4, 9, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 438, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._webpage_read_content", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_28_webpage_read_content(__pyx_self, __pyx_v_self, __pyx_v_urlh, __pyx_v_url_or_request, __pyx_v_video_id, __pyx_v_note, __pyx_v_errnote, __pyx_v_fatal, __pyx_v_prefix, __pyx_v_encoding);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_28_webpage_read_content(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_urlh, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, CYTHON_UNUSED PyObject *__pyx_v_note, CYTHON_UNUSED PyObject *__pyx_v_errnote, CYTHON_UNUSED PyObject *__pyx_v_fatal, PyObject *__pyx_v_prefix, PyObject *__pyx_v_encoding) {
  PyObject *__pyx_v_content_type = NULL;
  PyObject *__pyx_v_webpage_bytes = NULL;
  PyObject *__pyx_v_url = NULL;
  PyObject *__pyx_v_dump = NULL;
  PyObject *__pyx_v_basen = NULL;
  PyObject *__pyx_v_h = NULL;
  PyObject *__pyx_v_raw_filename = NULL;
  PyObject *__pyx_v_filename = NULL;
  PyObject *__pyx_v_absfilepath = NULL;
  PyObject *__pyx_v_outf = NULL;
  PyObject *__pyx_v_content = NULL;
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_v_blocked_iframe = NULL;
  PyObject *__pyx_v_block_msg = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  int __pyx_t_5;
  Py_ssize_t __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  PyObject *__pyx_t_10 = NULL;
  int __pyx_t_11;
  PyObject *__pyx_t_12 = NULL;
  PyObject *__pyx_t_13 = NULL;
  PyObject *__pyx_t_14 = NULL;
  PyObject *__pyx_t_15 = NULL;
  int __pyx_t_16;
  __Pyx_RefNannySetupContext("_webpage_read_content", 0);
  __Pyx_INCREF(__pyx_v_encoding);

  /* "youtube_dl/extractor/common.py":439
 * 
 *     def _webpage_read_content(self, urlh, url_or_request, video_id, note=None, errnote=None, fatal=True, prefix=None, encoding=None):
 *         content_type = urlh.headers.get('Content-Type', '')             # <<<<<<<<<<<<<<
 *         webpage_bytes = urlh.read()
 *         if prefix is not None:
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_urlh, __pyx_n_s_headers); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 439, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 439, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__15, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 439, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_content_type = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":440
 *     def _webpage_read_content(self, urlh, url_or_request, video_id, note=None, errnote=None, fatal=True, prefix=None, encoding=None):
 *         content_type = urlh.headers.get('Content-Type', '')
 *         webpage_bytes = urlh.read()             # <<<<<<<<<<<<<<
 *         if prefix is not None:
 *             webpage_bytes = prefix + webpage_bytes
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_urlh, __pyx_n_s_read); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 440, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 440, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  } else {
    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 440, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_webpage_bytes = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":441
 *         content_type = urlh.headers.get('Content-Type', '')
 *         webpage_bytes = urlh.read()
 *         if prefix is not None:             # <<<<<<<<<<<<<<
 *             webpage_bytes = prefix + webpage_bytes
 *         if not encoding:
 */
  __pyx_t_4 = (__pyx_v_prefix != Py_None);
  __pyx_t_5 = (__pyx_t_4 != 0);
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":442
 *         webpage_bytes = urlh.read()
 *         if prefix is not None:
 *             webpage_bytes = prefix + webpage_bytes             # <<<<<<<<<<<<<<
 *         if not encoding:
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 */
    __pyx_t_1 = PyNumber_Add(__pyx_v_prefix, __pyx_v_webpage_bytes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 442, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF_SET(__pyx_v_webpage_bytes, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":441
 *         content_type = urlh.headers.get('Content-Type', '')
 *         webpage_bytes = urlh.read()
 *         if prefix is not None:             # <<<<<<<<<<<<<<
 *             webpage_bytes = prefix + webpage_bytes
 *         if not encoding:
 */
  }

  /* "youtube_dl/extractor/common.py":443
 *         if prefix is not None:
 *             webpage_bytes = prefix + webpage_bytes
 *         if not encoding:             # <<<<<<<<<<<<<<
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 *         if self._downloader.params.get('dump_intermediate_pages', False):
 */
  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_v_encoding); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 443, __pyx_L1_error)
  __pyx_t_4 = ((!__pyx_t_5) != 0);
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":444
 *             webpage_bytes = prefix + webpage_bytes
 *         if not encoding:
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)             # <<<<<<<<<<<<<<
 *         if self._downloader.params.get('dump_intermediate_pages', False):
 *             try:
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_guess_encoding_from_content); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 444, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = NULL;
    __pyx_t_6 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_3);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 444, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    if (__pyx_t_3) {
      __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_3); __pyx_t_3 = NULL;
    }
    __Pyx_INCREF(__pyx_v_content_type);
    __Pyx_GIVEREF(__pyx_v_content_type);
    PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_6, __pyx_v_content_type);
    __Pyx_INCREF(__pyx_v_webpage_bytes);
    __Pyx_GIVEREF(__pyx_v_webpage_bytes);
    PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_6, __pyx_v_webpage_bytes);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 444, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF_SET(__pyx_v_encoding, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":443
 *         if prefix is not None:
 *             webpage_bytes = prefix + webpage_bytes
 *         if not encoding:             # <<<<<<<<<<<<<<
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 *         if self._downloader.params.get('dump_intermediate_pages', False):
 */
  }

  /* "youtube_dl/extractor/common.py":445
 *         if not encoding:
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 *         if self._downloader.params.get('dump_intermediate_pages', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 url = url_or_request.get_full_url()
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 445, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_params); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 445, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 445, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__16, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 445, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 445, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":446
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 *         if self._downloader.params.get('dump_intermediate_pages', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:
 */
    {
      __Pyx_PyThreadState_declare
      __Pyx_PyThreadState_assign
      __Pyx_ExceptionSave(&__pyx_t_8, &__pyx_t_9, &__pyx_t_10);
      __Pyx_XGOTREF(__pyx_t_8);
      __Pyx_XGOTREF(__pyx_t_9);
      __Pyx_XGOTREF(__pyx_t_10);
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":447
 *         if self._downloader.params.get('dump_intermediate_pages', False):
 *             try:
 *                 url = url_or_request.get_full_url()             # <<<<<<<<<<<<<<
 *             except AttributeError:
 *                 url = url_or_request
 */
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_url_or_request, __pyx_n_s_get_full_url); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 447, __pyx_L6_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_7 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
          __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_1);
          if (likely(__pyx_t_7)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
            __Pyx_INCREF(__pyx_t_7);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_1, function);
          }
        }
        if (__pyx_t_7) {
          __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 447, __pyx_L6_error)
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        } else {
          __pyx_t_2 = __Pyx_PyObject_CallNoArg(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 447, __pyx_L6_error)
        }
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_v_url = __pyx_t_2;
        __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":446
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 *         if self._downloader.params.get('dump_intermediate_pages', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:
 */
      }
      __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
      goto __pyx_L13_try_end;
      __pyx_L6_error:;
      __Pyx_PyThreadState_assign
      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":448
 *             try:
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:             # <<<<<<<<<<<<<<
 *                 url = url_or_request
 *             self.to_screen('Dumping request to ' + url)
 */
      __pyx_t_11 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_AttributeError);
      if (__pyx_t_11) {
        __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._webpage_read_content", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (__Pyx_GetException(&__pyx_t_2, &__pyx_t_1, &__pyx_t_7) < 0) __PYX_ERR(0, 448, __pyx_L8_except_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GOTREF(__pyx_t_7);

        /* "youtube_dl/extractor/common.py":449
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:
 *                 url = url_or_request             # <<<<<<<<<<<<<<
 *             self.to_screen('Dumping request to ' + url)
 *             dump = base64.b64encode(webpage_bytes).decode('ascii')
 */
        __Pyx_INCREF(__pyx_v_url_or_request);
        __Pyx_XDECREF_SET(__pyx_v_url, __pyx_v_url_or_request);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        goto __pyx_L7_exception_handled;
      }
      goto __pyx_L8_except_error;
      __pyx_L8_except_error:;

      /* "youtube_dl/extractor/common.py":446
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 *         if self._downloader.params.get('dump_intermediate_pages', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:
 */
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_8);
      __Pyx_XGIVEREF(__pyx_t_9);
      __Pyx_XGIVEREF(__pyx_t_10);
      __Pyx_ExceptionReset(__pyx_t_8, __pyx_t_9, __pyx_t_10);
      goto __pyx_L1_error;
      __pyx_L7_exception_handled:;
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_8);
      __Pyx_XGIVEREF(__pyx_t_9);
      __Pyx_XGIVEREF(__pyx_t_10);
      __Pyx_ExceptionReset(__pyx_t_8, __pyx_t_9, __pyx_t_10);
      __pyx_L13_try_end:;
    }

    /* "youtube_dl/extractor/common.py":450
 *             except AttributeError:
 *                 url = url_or_request
 *             self.to_screen('Dumping request to ' + url)             # <<<<<<<<<<<<<<
 *             dump = base64.b64encode(webpage_bytes).decode('ascii')
 *             self._downloader.to_screen(dump)
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 450, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_2 = PyNumber_Add(__pyx_kp_u_Dumping_request_to, __pyx_v_url); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 450, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_3);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
      }
    }
    if (!__pyx_t_3) {
      __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 450, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_GOTREF(__pyx_t_7);
    } else {
      __pyx_t_12 = PyTuple_New(1+1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 450, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_3); __pyx_t_3 = NULL;
      __Pyx_GIVEREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_12, 0+1, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_12, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 450, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    }
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":451
 *                 url = url_or_request
 *             self.to_screen('Dumping request to ' + url)
 *             dump = base64.b64encode(webpage_bytes).decode('ascii')             # <<<<<<<<<<<<<<
 *             self._downloader.to_screen(dump)
 *         if self._downloader.params.get('write_pages', False):
 */
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_base64); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 451, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_b64encode); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 451, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_12))) {
      __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_12);
      if (likely(__pyx_t_1)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
        __Pyx_INCREF(__pyx_t_1);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_12, function);
      }
    }
    if (!__pyx_t_1) {
      __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_v_webpage_bytes); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 451, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
    } else {
      __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 451, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1); __pyx_t_1 = NULL;
      __Pyx_INCREF(__pyx_v_webpage_bytes);
      __Pyx_GIVEREF(__pyx_v_webpage_bytes);
      PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_v_webpage_bytes);
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_t_2, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 451, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    }
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_decode); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 451, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_tuple__17, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 451, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_v_dump = __pyx_t_7;
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":452
 *             self.to_screen('Dumping request to ' + url)
 *             dump = base64.b64encode(webpage_bytes).decode('ascii')
 *             self._downloader.to_screen(dump)             # <<<<<<<<<<<<<<
 *         if self._downloader.params.get('write_pages', False):
 *             try:
 */
    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 452, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_12, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 452, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_t_12 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_12)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_12);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
      }
    }
    if (!__pyx_t_12) {
      __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_dump); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 452, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
    } else {
      __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 452, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_GIVEREF(__pyx_t_12); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_12); __pyx_t_12 = NULL;
      __Pyx_INCREF(__pyx_v_dump);
      __Pyx_GIVEREF(__pyx_v_dump);
      PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_v_dump);
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_1, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 452, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    }
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":445
 *         if not encoding:
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 *         if self._downloader.params.get('dump_intermediate_pages', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 url = url_or_request.get_full_url()
 */
  }

  /* "youtube_dl/extractor/common.py":453
 *             dump = base64.b64encode(webpage_bytes).decode('ascii')
 *             self._downloader.to_screen(dump)
 *         if self._downloader.params.get('write_pages', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 url = url_or_request.get_full_url()
 */
  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 453, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_params); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 453, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 453, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__18, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 453, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 453, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":454
 *             self._downloader.to_screen(dump)
 *         if self._downloader.params.get('write_pages', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:
 */
    {
      __Pyx_PyThreadState_declare
      __Pyx_PyThreadState_assign
      __Pyx_ExceptionSave(&__pyx_t_10, &__pyx_t_9, &__pyx_t_8);
      __Pyx_XGOTREF(__pyx_t_10);
      __Pyx_XGOTREF(__pyx_t_9);
      __Pyx_XGOTREF(__pyx_t_8);
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":455
 *         if self._downloader.params.get('write_pages', False):
 *             try:
 *                 url = url_or_request.get_full_url()             # <<<<<<<<<<<<<<
 *             except AttributeError:
 *                 url = url_or_request
 */
        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_url_or_request, __pyx_n_s_get_full_url); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 455, __pyx_L17_error)
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_1 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_7))) {
          __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_7);
          if (likely(__pyx_t_1)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
            __Pyx_INCREF(__pyx_t_1);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_7, function);
          }
        }
        if (__pyx_t_1) {
          __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 455, __pyx_L17_error)
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        } else {
          __pyx_t_2 = __Pyx_PyObject_CallNoArg(__pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 455, __pyx_L17_error)
        }
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_XDECREF_SET(__pyx_v_url, __pyx_t_2);
        __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":454
 *             self._downloader.to_screen(dump)
 *         if self._downloader.params.get('write_pages', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:
 */
      }
      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
      __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
      __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L24_try_end;
      __pyx_L17_error:;
      __Pyx_PyThreadState_assign
      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
      __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":456
 *             try:
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:             # <<<<<<<<<<<<<<
 *                 url = url_or_request
 *             basen = '%s_%s' % (video_id, url)
 */
      __pyx_t_11 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_AttributeError);
      if (__pyx_t_11) {
        __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._webpage_read_content", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (__Pyx_GetException(&__pyx_t_2, &__pyx_t_7, &__pyx_t_1) < 0) __PYX_ERR(0, 456, __pyx_L19_except_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_GOTREF(__pyx_t_1);

        /* "youtube_dl/extractor/common.py":457
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:
 *                 url = url_or_request             # <<<<<<<<<<<<<<
 *             basen = '%s_%s' % (video_id, url)
 *             if len(basen) > 240:
 */
        __Pyx_INCREF(__pyx_v_url_or_request);
        __Pyx_XDECREF_SET(__pyx_v_url, __pyx_v_url_or_request);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        goto __pyx_L18_exception_handled;
      }
      goto __pyx_L19_except_error;
      __pyx_L19_except_error:;

      /* "youtube_dl/extractor/common.py":454
 *             self._downloader.to_screen(dump)
 *         if self._downloader.params.get('write_pages', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 url = url_or_request.get_full_url()
 *             except AttributeError:
 */
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_10);
      __Pyx_XGIVEREF(__pyx_t_9);
      __Pyx_XGIVEREF(__pyx_t_8);
      __Pyx_ExceptionReset(__pyx_t_10, __pyx_t_9, __pyx_t_8);
      goto __pyx_L1_error;
      __pyx_L18_exception_handled:;
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_10);
      __Pyx_XGIVEREF(__pyx_t_9);
      __Pyx_XGIVEREF(__pyx_t_8);
      __Pyx_ExceptionReset(__pyx_t_10, __pyx_t_9, __pyx_t_8);
      __pyx_L24_try_end:;
    }

    /* "youtube_dl/extractor/common.py":458
 *             except AttributeError:
 *                 url = url_or_request
 *             basen = '%s_%s' % (video_id, url)             # <<<<<<<<<<<<<<
 *             if len(basen) > 240:
 *                 h = '___' + hashlib.md5(basen.encode('utf-8')).hexdigest()
 */
    __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 458, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(__pyx_v_video_id);
    __Pyx_GIVEREF(__pyx_v_video_id);
    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_video_id);
    __Pyx_INCREF(__pyx_v_url);
    __Pyx_GIVEREF(__pyx_v_url);
    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_url);
    __pyx_t_7 = PyUnicode_Format(__pyx_kp_u_s__s, __pyx_t_1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 458, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_basen = __pyx_t_7;
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":459
 *                 url = url_or_request
 *             basen = '%s_%s' % (video_id, url)
 *             if len(basen) > 240:             # <<<<<<<<<<<<<<
 *                 h = '___' + hashlib.md5(basen.encode('utf-8')).hexdigest()
 *                 basen = basen[:240 - len(h)] + h
 */
    __pyx_t_6 = PyObject_Length(__pyx_v_basen); if (unlikely(__pyx_t_6 == -1)) __PYX_ERR(0, 459, __pyx_L1_error)
    __pyx_t_4 = ((__pyx_t_6 > 0xF0) != 0);
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":460
 *             basen = '%s_%s' % (video_id, url)
 *             if len(basen) > 240:
 *                 h = '___' + hashlib.md5(basen.encode('utf-8')).hexdigest()             # <<<<<<<<<<<<<<
 *                 basen = basen[:240 - len(h)] + h
 *             raw_filename = basen + '.dump'
 */
      __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_hashlib); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 460, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_md5); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 460, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_basen, __pyx_n_s_encode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 460, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__20, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 460, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_12))) {
        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_12);
        if (likely(__pyx_t_2)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
          __Pyx_INCREF(__pyx_t_2);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_12, function);
        }
      }
      if (!__pyx_t_2) {
        __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 460, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __Pyx_GOTREF(__pyx_t_1);
      } else {
        __pyx_t_13 = PyTuple_New(1+1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 460, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_13);
        __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_t_2); __pyx_t_2 = NULL;
        __Pyx_GIVEREF(__pyx_t_3);
        PyTuple_SET_ITEM(__pyx_t_13, 0+1, __pyx_t_3);
        __pyx_t_3 = 0;
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_t_13, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 460, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
      }
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_hexdigest); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 460, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_12))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_12);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_12, function);
        }
      }
      if (__pyx_t_1) {
        __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 460, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      } else {
        __pyx_t_7 = __Pyx_PyObject_CallNoArg(__pyx_t_12); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 460, __pyx_L1_error)
      }
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __pyx_t_12 = PyNumber_Add(__pyx_n_u__19, __pyx_t_7); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 460, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_v_h = __pyx_t_12;
      __pyx_t_12 = 0;

      /* "youtube_dl/extractor/common.py":461
 *             if len(basen) > 240:
 *                 h = '___' + hashlib.md5(basen.encode('utf-8')).hexdigest()
 *                 basen = basen[:240 - len(h)] + h             # <<<<<<<<<<<<<<
 *             raw_filename = basen + '.dump'
 *             filename = sanitize_filename(raw_filename, restricted=True)
 */
      __pyx_t_6 = PyObject_Length(__pyx_v_h); if (unlikely(__pyx_t_6 == -1)) __PYX_ERR(0, 461, __pyx_L1_error)
      __pyx_t_12 = __Pyx_PyUnicode_Substring(__pyx_v_basen, 0, (0xF0 - __pyx_t_6)); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 461, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __pyx_t_7 = PyNumber_Add(__pyx_t_12, __pyx_v_h); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 461, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __Pyx_DECREF_SET(__pyx_v_basen, __pyx_t_7);
      __pyx_t_7 = 0;

      /* "youtube_dl/extractor/common.py":459
 *                 url = url_or_request
 *             basen = '%s_%s' % (video_id, url)
 *             if len(basen) > 240:             # <<<<<<<<<<<<<<
 *                 h = '___' + hashlib.md5(basen.encode('utf-8')).hexdigest()
 *                 basen = basen[:240 - len(h)] + h
 */
    }

    /* "youtube_dl/extractor/common.py":462
 *                 h = '___' + hashlib.md5(basen.encode('utf-8')).hexdigest()
 *                 basen = basen[:240 - len(h)] + h
 *             raw_filename = basen + '.dump'             # <<<<<<<<<<<<<<
 *             filename = sanitize_filename(raw_filename, restricted=True)
 *             self.to_screen('Saving request to ' + filename)
 */
    __pyx_t_7 = PyNumber_Add(__pyx_v_basen, __pyx_kp_u_dump); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 462, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_v_raw_filename = __pyx_t_7;
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":463
 *                 basen = basen[:240 - len(h)] + h
 *             raw_filename = basen + '.dump'
 *             filename = sanitize_filename(raw_filename, restricted=True)             # <<<<<<<<<<<<<<
 *             self.to_screen('Saving request to ' + filename)
 *             # Working around MAX_PATH limitation on Windows (see
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_sanitize_filename); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 463, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_12 = PyTuple_New(1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 463, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __Pyx_INCREF(__pyx_v_raw_filename);
    __Pyx_GIVEREF(__pyx_v_raw_filename);
    PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_v_raw_filename);
    __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 463, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_restricted, Py_True) < 0) __PYX_ERR(0, 463, __pyx_L1_error)
    __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_12, __pyx_t_1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 463, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_13);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_filename = __pyx_t_13;
    __pyx_t_13 = 0;

    /* "youtube_dl/extractor/common.py":464
 *             raw_filename = basen + '.dump'
 *             filename = sanitize_filename(raw_filename, restricted=True)
 *             self.to_screen('Saving request to ' + filename)             # <<<<<<<<<<<<<<
 *             # Working around MAX_PATH limitation on Windows (see
 *             # http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx)
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 464, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_12 = PyNumber_Add(__pyx_kp_u_Saving_request_to, __pyx_v_filename); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 464, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
      }
    }
    if (!__pyx_t_7) {
      __pyx_t_13 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_12); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 464, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __Pyx_GOTREF(__pyx_t_13);
    } else {
      __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 464, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_7); __pyx_t_7 = NULL;
      __Pyx_GIVEREF(__pyx_t_12);
      PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_t_12);
      __pyx_t_12 = 0;
      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 464, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_13);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    }
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;

    /* "youtube_dl/extractor/common.py":467
 *             # Working around MAX_PATH limitation on Windows (see
 *             # http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx)
 *             if compat_os_name == 'nt':             # <<<<<<<<<<<<<<
 *                 absfilepath = os.path.abspath(filename)
 *                 if len(absfilepath) > 259:
 */
    __pyx_t_13 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_os_name); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 467, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_13);
    __pyx_t_4 = (__Pyx_PyUnicode_Equals(__pyx_t_13, __pyx_n_u_nt, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 467, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":468
 *             # http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx)
 *             if compat_os_name == 'nt':
 *                 absfilepath = os.path.abspath(filename)             # <<<<<<<<<<<<<<
 *                 if len(absfilepath) > 259:
 *                     filename = '\\\\?\\' + absfilepath
 */
      __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_os); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 468, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 468, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_abspath); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 468, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
        if (likely(__pyx_t_3)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_1, function);
        }
      }
      if (!__pyx_t_3) {
        __pyx_t_13 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_filename); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 468, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_13);
      } else {
        __pyx_t_12 = PyTuple_New(1+1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 468, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_12);
        __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_3); __pyx_t_3 = NULL;
        __Pyx_INCREF(__pyx_v_filename);
        __Pyx_GIVEREF(__pyx_v_filename);
        PyTuple_SET_ITEM(__pyx_t_12, 0+1, __pyx_v_filename);
        __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_12, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 468, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_13);
        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      }
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_v_absfilepath = __pyx_t_13;
      __pyx_t_13 = 0;

      /* "youtube_dl/extractor/common.py":469
 *             if compat_os_name == 'nt':
 *                 absfilepath = os.path.abspath(filename)
 *                 if len(absfilepath) > 259:             # <<<<<<<<<<<<<<
 *                     filename = '\\\\?\\' + absfilepath
 *             with open(filename, 'wb') as outf:
 */
      __pyx_t_6 = PyObject_Length(__pyx_v_absfilepath); if (unlikely(__pyx_t_6 == -1)) __PYX_ERR(0, 469, __pyx_L1_error)
      __pyx_t_4 = ((__pyx_t_6 > 0x103) != 0);
      if (__pyx_t_4) {

        /* "youtube_dl/extractor/common.py":470
 *                 absfilepath = os.path.abspath(filename)
 *                 if len(absfilepath) > 259:
 *                     filename = '\\\\?\\' + absfilepath             # <<<<<<<<<<<<<<
 *             with open(filename, 'wb') as outf:
 *                 outf.write(webpage_bytes)
 */
        __pyx_t_13 = PyNumber_Add(__pyx_kp_u__21, __pyx_v_absfilepath); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 470, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_13);
        __Pyx_DECREF_SET(__pyx_v_filename, __pyx_t_13);
        __pyx_t_13 = 0;

        /* "youtube_dl/extractor/common.py":469
 *             if compat_os_name == 'nt':
 *                 absfilepath = os.path.abspath(filename)
 *                 if len(absfilepath) > 259:             # <<<<<<<<<<<<<<
 *                     filename = '\\\\?\\' + absfilepath
 *             with open(filename, 'wb') as outf:
 */
      }

      /* "youtube_dl/extractor/common.py":467
 *             # Working around MAX_PATH limitation on Windows (see
 *             # http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx)
 *             if compat_os_name == 'nt':             # <<<<<<<<<<<<<<
 *                 absfilepath = os.path.abspath(filename)
 *                 if len(absfilepath) > 259:
 */
    }

    /* "youtube_dl/extractor/common.py":471
 *                 if len(absfilepath) > 259:
 *                     filename = '\\\\?\\' + absfilepath
 *             with open(filename, 'wb') as outf:             # <<<<<<<<<<<<<<
 *                 outf.write(webpage_bytes)
 * 
 */
    /*with:*/ {
      __pyx_t_13 = PyTuple_New(2); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 471, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_13);
      __Pyx_INCREF(__pyx_v_filename);
      __Pyx_GIVEREF(__pyx_v_filename);
      PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_v_filename);
      __Pyx_INCREF(__pyx_n_u_wb);
      __Pyx_GIVEREF(__pyx_n_u_wb);
      PyTuple_SET_ITEM(__pyx_t_13, 1, __pyx_n_u_wb);
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_open, __pyx_t_13, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 471, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
      __pyx_t_8 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_exit); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 471, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_12 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_enter); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 471, __pyx_L30_error)
      __Pyx_GOTREF(__pyx_t_12);
      __pyx_t_3 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_12))) {
        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_12);
        if (likely(__pyx_t_3)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_12, function);
        }
      }
      if (__pyx_t_3) {
        __pyx_t_13 = __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_3); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 471, __pyx_L30_error)
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      } else {
        __pyx_t_13 = __Pyx_PyObject_CallNoArg(__pyx_t_12); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 471, __pyx_L30_error)
      }
      __Pyx_GOTREF(__pyx_t_13);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __pyx_t_12 = __pyx_t_13;
      __pyx_t_13 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      /*try:*/ {
        {
          __Pyx_PyThreadState_declare
          __Pyx_PyThreadState_assign
          __Pyx_ExceptionSave(&__pyx_t_9, &__pyx_t_10, &__pyx_t_14);
          __Pyx_XGOTREF(__pyx_t_9);
          __Pyx_XGOTREF(__pyx_t_10);
          __Pyx_XGOTREF(__pyx_t_14);
          /*try:*/ {
            __pyx_v_outf = __pyx_t_12;
            __pyx_t_12 = 0;

            /* "youtube_dl/extractor/common.py":472
 *                     filename = '\\\\?\\' + absfilepath
 *             with open(filename, 'wb') as outf:
 *                 outf.write(webpage_bytes)             # <<<<<<<<<<<<<<
 * 
 *         try:
 */
            __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_outf, __pyx_n_s_write); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 472, __pyx_L34_error)
            __Pyx_GOTREF(__pyx_t_1);
            __pyx_t_13 = NULL;
            if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
              __pyx_t_13 = PyMethod_GET_SELF(__pyx_t_1);
              if (likely(__pyx_t_13)) {
                PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
                __Pyx_INCREF(__pyx_t_13);
                __Pyx_INCREF(function);
                __Pyx_DECREF_SET(__pyx_t_1, function);
              }
            }
            if (!__pyx_t_13) {
              __pyx_t_12 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_webpage_bytes); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 472, __pyx_L34_error)
              __Pyx_GOTREF(__pyx_t_12);
            } else {
              __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 472, __pyx_L34_error)
              __Pyx_GOTREF(__pyx_t_3);
              __Pyx_GIVEREF(__pyx_t_13); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_13); __pyx_t_13 = NULL;
              __Pyx_INCREF(__pyx_v_webpage_bytes);
              __Pyx_GIVEREF(__pyx_v_webpage_bytes);
              PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_v_webpage_bytes);
              __pyx_t_12 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 472, __pyx_L34_error)
              __Pyx_GOTREF(__pyx_t_12);
              __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
            }
            __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
            __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;

            /* "youtube_dl/extractor/common.py":471
 *                 if len(absfilepath) > 259:
 *                     filename = '\\\\?\\' + absfilepath
 *             with open(filename, 'wb') as outf:             # <<<<<<<<<<<<<<
 *                 outf.write(webpage_bytes)
 * 
 */
          }
          __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
          __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
          goto __pyx_L41_try_end;
          __pyx_L34_error:;
          __Pyx_PyThreadState_assign
          __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
          __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
          __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
          __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
          __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
          /*except:*/ {
            __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._webpage_read_content", __pyx_clineno, __pyx_lineno, __pyx_filename);
            if (__Pyx_GetException(&__pyx_t_12, &__pyx_t_1, &__pyx_t_3) < 0) __PYX_ERR(0, 471, __pyx_L36_except_error)
            __Pyx_GOTREF(__pyx_t_12);
            __Pyx_GOTREF(__pyx_t_1);
            __Pyx_GOTREF(__pyx_t_3);
            __pyx_t_13 = PyTuple_Pack(3, __pyx_t_12, __pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 471, __pyx_L36_except_error)
            __Pyx_GOTREF(__pyx_t_13);
            __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_13, NULL);
            __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
            __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
            if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 471, __pyx_L36_except_error)
            __Pyx_GOTREF(__pyx_t_15);
            __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_15);
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            if (__pyx_t_4 < 0) __PYX_ERR(0, 471, __pyx_L36_except_error)
            __pyx_t_5 = ((!(__pyx_t_4 != 0)) != 0);
            if (__pyx_t_5) {
              __Pyx_GIVEREF(__pyx_t_12);
              __Pyx_GIVEREF(__pyx_t_1);
              __Pyx_XGIVEREF(__pyx_t_3);
              __Pyx_ErrRestoreWithState(__pyx_t_12, __pyx_t_1, __pyx_t_3);
              __pyx_t_12 = 0; __pyx_t_1 = 0; __pyx_t_3 = 0; 
              __PYX_ERR(0, 471, __pyx_L36_except_error)
            }
            __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
            __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
            __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
            goto __pyx_L35_exception_handled;
          }
          __pyx_L36_except_error:;
          __Pyx_PyThreadState_assign
          __Pyx_XGIVEREF(__pyx_t_9);
          __Pyx_XGIVEREF(__pyx_t_10);
          __Pyx_XGIVEREF(__pyx_t_14);
          __Pyx_ExceptionReset(__pyx_t_9, __pyx_t_10, __pyx_t_14);
          goto __pyx_L1_error;
          __pyx_L35_exception_handled:;
          __Pyx_PyThreadState_assign
          __Pyx_XGIVEREF(__pyx_t_9);
          __Pyx_XGIVEREF(__pyx_t_10);
          __Pyx_XGIVEREF(__pyx_t_14);
          __Pyx_ExceptionReset(__pyx_t_9, __pyx_t_10, __pyx_t_14);
          __pyx_L41_try_end:;
        }
      }
      /*finally:*/ {
        /*normal exit:*/{
          if (__pyx_t_8) {
            __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_tuple__22, NULL);
            __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
            if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 471, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_14);
            __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
          }
          goto __pyx_L33;
        }
        __pyx_L33:;
      }
      goto __pyx_L45;
      __pyx_L30_error:;
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L1_error;
      __pyx_L45:;
    }

    /* "youtube_dl/extractor/common.py":453
 *             dump = base64.b64encode(webpage_bytes).decode('ascii')
 *             self._downloader.to_screen(dump)
 *         if self._downloader.params.get('write_pages', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 url = url_or_request.get_full_url()
 */
  }

  /* "youtube_dl/extractor/common.py":474
 *                 outf.write(webpage_bytes)
 * 
 *         try:             # <<<<<<<<<<<<<<
 *             content = webpage_bytes.decode(encoding, 'replace')
 *         except LookupError:
 */
  {
    __Pyx_PyThreadState_declare
    __Pyx_PyThreadState_assign
    __Pyx_ExceptionSave(&__pyx_t_8, &__pyx_t_14, &__pyx_t_10);
    __Pyx_XGOTREF(__pyx_t_8);
    __Pyx_XGOTREF(__pyx_t_14);
    __Pyx_XGOTREF(__pyx_t_10);
    /*try:*/ {

      /* "youtube_dl/extractor/common.py":475
 * 
 *         try:
 *             content = webpage_bytes.decode(encoding, 'replace')             # <<<<<<<<<<<<<<
 *         except LookupError:
 *             content = webpage_bytes.decode('utf-8', 'replace')
 */
      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_webpage_bytes, __pyx_n_s_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 475, __pyx_L46_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_12 = NULL;
      __pyx_t_6 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
        __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_1);
        if (likely(__pyx_t_12)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
          __Pyx_INCREF(__pyx_t_12);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_1, function);
          __pyx_t_6 = 1;
        }
      }
      __pyx_t_13 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 475, __pyx_L46_error)
      __Pyx_GOTREF(__pyx_t_13);
      if (__pyx_t_12) {
        __Pyx_GIVEREF(__pyx_t_12); PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_t_12); __pyx_t_12 = NULL;
      }
      __Pyx_INCREF(__pyx_v_encoding);
      __Pyx_GIVEREF(__pyx_v_encoding);
      PyTuple_SET_ITEM(__pyx_t_13, 0+__pyx_t_6, __pyx_v_encoding);
      __Pyx_INCREF(__pyx_n_u_replace);
      __Pyx_GIVEREF(__pyx_n_u_replace);
      PyTuple_SET_ITEM(__pyx_t_13, 1+__pyx_t_6, __pyx_n_u_replace);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_13, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 475, __pyx_L46_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_v_content = __pyx_t_3;
      __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":474
 *                 outf.write(webpage_bytes)
 * 
 *         try:             # <<<<<<<<<<<<<<
 *             content = webpage_bytes.decode(encoding, 'replace')
 *         except LookupError:
 */
    }
    __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
    __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
    goto __pyx_L53_try_end;
    __pyx_L46_error:;
    __Pyx_PyThreadState_assign
    __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
    __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
    __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":476
 *         try:
 *             content = webpage_bytes.decode(encoding, 'replace')
 *         except LookupError:             # <<<<<<<<<<<<<<
 *             content = webpage_bytes.decode('utf-8', 'replace')
 * 
 */
    __pyx_t_11 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_LookupError);
    if (__pyx_t_11) {
      __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._webpage_read_content", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_1, &__pyx_t_13) < 0) __PYX_ERR(0, 476, __pyx_L48_except_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_GOTREF(__pyx_t_13);

      /* "youtube_dl/extractor/common.py":477
 *             content = webpage_bytes.decode(encoding, 'replace')
 *         except LookupError:
 *             content = webpage_bytes.decode('utf-8', 'replace')             # <<<<<<<<<<<<<<
 * 
 *         if ('<title>Access to this site is blocked</title>' in content and
 */
      __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_webpage_bytes, __pyx_n_s_decode); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 477, __pyx_L48_except_error)
      __Pyx_GOTREF(__pyx_t_12);
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_tuple__23, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 477, __pyx_L48_except_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __Pyx_XDECREF_SET(__pyx_v_content, __pyx_t_7);
      __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
      goto __pyx_L47_exception_handled;
    }
    goto __pyx_L48_except_error;
    __pyx_L48_except_error:;

    /* "youtube_dl/extractor/common.py":474
 *                 outf.write(webpage_bytes)
 * 
 *         try:             # <<<<<<<<<<<<<<
 *             content = webpage_bytes.decode(encoding, 'replace')
 *         except LookupError:
 */
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_8);
    __Pyx_XGIVEREF(__pyx_t_14);
    __Pyx_XGIVEREF(__pyx_t_10);
    __Pyx_ExceptionReset(__pyx_t_8, __pyx_t_14, __pyx_t_10);
    goto __pyx_L1_error;
    __pyx_L47_exception_handled:;
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_8);
    __Pyx_XGIVEREF(__pyx_t_14);
    __Pyx_XGIVEREF(__pyx_t_10);
    __Pyx_ExceptionReset(__pyx_t_8, __pyx_t_14, __pyx_t_10);
    __pyx_L53_try_end:;
  }

  /* "youtube_dl/extractor/common.py":479
 *             content = webpage_bytes.decode('utf-8', 'replace')
 * 
 *         if ('<title>Access to this site is blocked</title>' in content and             # <<<<<<<<<<<<<<
 *                 'Websense' in content[:512]):
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'
 */
  __pyx_t_4 = (__Pyx_PySequence_ContainsTF(__pyx_kp_u_title_Access_to_this_site_is_bl, __pyx_v_content, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 479, __pyx_L1_error)
  __pyx_t_16 = (__pyx_t_4 != 0);
  if (__pyx_t_16) {
  } else {
    __pyx_t_5 = __pyx_t_16;
    goto __pyx_L57_bool_binop_done;
  }

  /* "youtube_dl/extractor/common.py":480
 * 
 *         if ('<title>Access to this site is blocked</title>' in content and
 *                 'Websense' in content[:512]):             # <<<<<<<<<<<<<<
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'
 *             blocked_iframe = self._html_search_regex(
 */
  __pyx_t_13 = __Pyx_PyObject_GetSlice(__pyx_v_content, 0, 0x200, NULL, NULL, &__pyx_slice__24, 0, 1, 1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 480, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_13);
  __pyx_t_16 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_Websense, __pyx_t_13, Py_EQ)); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 480, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
  __pyx_t_4 = (__pyx_t_16 != 0);
  __pyx_t_5 = __pyx_t_4;
  __pyx_L57_bool_binop_done:;

  /* "youtube_dl/extractor/common.py":479
 *             content = webpage_bytes.decode('utf-8', 'replace')
 * 
 *         if ('<title>Access to this site is blocked</title>' in content and             # <<<<<<<<<<<<<<
 *                 'Websense' in content[:512]):
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'
 */
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":481
 *         if ('<title>Access to this site is blocked</title>' in content and
 *                 'Websense' in content[:512]):
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'             # <<<<<<<<<<<<<<
 *             blocked_iframe = self._html_search_regex(
 *                 r'<iframe src="([^"]+)"', content,
 */
    __Pyx_INCREF(__pyx_kp_u_Access_to_this_webpage_has_been);
    __pyx_v_msg = __pyx_kp_u_Access_to_this_webpage_has_been;

    /* "youtube_dl/extractor/common.py":482
 *                 'Websense' in content[:512]):
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'
 *             blocked_iframe = self._html_search_regex(             # <<<<<<<<<<<<<<
 *                 r'<iframe src="([^"]+)"', content,
 *                 'Websense information URL', default=None)
 */
    __pyx_t_13 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_html_search_regex); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 482, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_13);

    /* "youtube_dl/extractor/common.py":483
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'
 *             blocked_iframe = self._html_search_regex(
 *                 r'<iframe src="([^"]+)"', content,             # <<<<<<<<<<<<<<
 *                 'Websense information URL', default=None)
 *             if blocked_iframe:
 */
    __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 482, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(__pyx_kp_u_iframe_src);
    __Pyx_GIVEREF(__pyx_kp_u_iframe_src);
    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_kp_u_iframe_src);
    __Pyx_INCREF(__pyx_v_content);
    __Pyx_GIVEREF(__pyx_v_content);
    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_content);
    __Pyx_INCREF(__pyx_kp_u_Websense_information_URL);
    __Pyx_GIVEREF(__pyx_kp_u_Websense_information_URL);
    PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_kp_u_Websense_information_URL);

    /* "youtube_dl/extractor/common.py":484
 *             blocked_iframe = self._html_search_regex(
 *                 r'<iframe src="([^"]+)"', content,
 *                 'Websense information URL', default=None)             # <<<<<<<<<<<<<<
 *             if blocked_iframe:
 *                 msg += ' Visit %s for more details' % blocked_iframe
 */
    __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 484, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_default, Py_None) < 0) __PYX_ERR(0, 484, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":482
 *                 'Websense' in content[:512]):
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'
 *             blocked_iframe = self._html_search_regex(             # <<<<<<<<<<<<<<
 *                 r'<iframe src="([^"]+)"', content,
 *                 'Websense information URL', default=None)
 */
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_13, __pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 482, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_blocked_iframe = __pyx_t_7;
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":485
 *                 r'<iframe src="([^"]+)"', content,
 *                 'Websense information URL', default=None)
 *             if blocked_iframe:             # <<<<<<<<<<<<<<
 *                 msg += ' Visit %s for more details' % blocked_iframe
 *             raise ExtractorError(msg, expected=True)
 */
    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_v_blocked_iframe); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 485, __pyx_L1_error)
    if (__pyx_t_5) {

      /* "youtube_dl/extractor/common.py":486
 *                 'Websense information URL', default=None)
 *             if blocked_iframe:
 *                 msg += ' Visit %s for more details' % blocked_iframe             # <<<<<<<<<<<<<<
 *             raise ExtractorError(msg, expected=True)
 *         if '<title>The URL you requested has been blocked</title>' in content[:512]:
 */
      __pyx_t_7 = PyUnicode_Format(__pyx_kp_u_Visit_s_for_more_details, __pyx_v_blocked_iframe); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 486, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __pyx_t_3 = __Pyx_PyUnicode_Concat(__pyx_v_msg, __pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 486, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF_SET(__pyx_v_msg, ((PyObject*)__pyx_t_3));
      __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":485
 *                 r'<iframe src="([^"]+)"', content,
 *                 'Websense information URL', default=None)
 *             if blocked_iframe:             # <<<<<<<<<<<<<<
 *                 msg += ' Visit %s for more details' % blocked_iframe
 *             raise ExtractorError(msg, expected=True)
 */
    }

    /* "youtube_dl/extractor/common.py":487
 *             if blocked_iframe:
 *                 msg += ' Visit %s for more details' % blocked_iframe
 *             raise ExtractorError(msg, expected=True)             # <<<<<<<<<<<<<<
 *         if '<title>The URL you requested has been blocked</title>' in content[:512]:
 *             msg = (
 */
    __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 487, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_7 = PyTuple_New(1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 487, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_INCREF(__pyx_v_msg);
    __Pyx_GIVEREF(__pyx_v_msg);
    PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_msg);
    __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 487, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_expected, Py_True) < 0) __PYX_ERR(0, 487, __pyx_L1_error)
    __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_7, __pyx_t_1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 487, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_13);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_13, 0, 0, 0);
    __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
    __PYX_ERR(0, 487, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":479
 *             content = webpage_bytes.decode('utf-8', 'replace')
 * 
 *         if ('<title>Access to this site is blocked</title>' in content and             # <<<<<<<<<<<<<<
 *                 'Websense' in content[:512]):
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'
 */
  }

  /* "youtube_dl/extractor/common.py":488
 *                 msg += ' Visit %s for more details' % blocked_iframe
 *             raise ExtractorError(msg, expected=True)
 *         if '<title>The URL you requested has been blocked</title>' in content[:512]:             # <<<<<<<<<<<<<<
 *             msg = (
 *                 'Access to this webpage has been blocked by Indian censorship. '
 */
  __pyx_t_13 = __Pyx_PyObject_GetSlice(__pyx_v_content, 0, 0x200, NULL, NULL, &__pyx_slice__25, 0, 1, 1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 488, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_13);
  __pyx_t_5 = (__Pyx_PySequence_ContainsTF(__pyx_kp_u_title_The_URL_you_requested_has, __pyx_t_13, Py_EQ)); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 488, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
  __pyx_t_4 = (__pyx_t_5 != 0);
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":490
 *         if '<title>The URL you requested has been blocked</title>' in content[:512]:
 *             msg = (
 *                 'Access to this webpage has been blocked by Indian censorship. '             # <<<<<<<<<<<<<<
 *                 'Use a VPN or proxy server (with --proxy) to route around it.')
 *             block_msg = self._html_search_regex(
 */
    __Pyx_INCREF(__pyx_kp_u_Access_to_this_webpage_has_been_2);
    __pyx_v_msg = __pyx_kp_u_Access_to_this_webpage_has_been_2;

    /* "youtube_dl/extractor/common.py":492
 *                 'Access to this webpage has been blocked by Indian censorship. '
 *                 'Use a VPN or proxy server (with --proxy) to route around it.')
 *             block_msg = self._html_search_regex(             # <<<<<<<<<<<<<<
 *                 r'</h1><p>(.*?)</p>',
 *                 content, 'block message', default=None)
 */
    __pyx_t_13 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_html_search_regex); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 492, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_13);

    /* "youtube_dl/extractor/common.py":494
 *             block_msg = self._html_search_regex(
 *                 r'</h1><p>(.*?)</p>',
 *                 content, 'block message', default=None)             # <<<<<<<<<<<<<<
 *             if block_msg:
 *                 msg += ' (Message: "%s")' % block_msg.replace('\n', ' ')
 */
    __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 492, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(__pyx_kp_u_h1_p_p);
    __Pyx_GIVEREF(__pyx_kp_u_h1_p_p);
    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_kp_u_h1_p_p);
    __Pyx_INCREF(__pyx_v_content);
    __Pyx_GIVEREF(__pyx_v_content);
    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_content);
    __Pyx_INCREF(__pyx_kp_u_block_message);
    __Pyx_GIVEREF(__pyx_kp_u_block_message);
    PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_kp_u_block_message);
    __pyx_t_7 = PyDict_New(); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 494, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_default, Py_None) < 0) __PYX_ERR(0, 494, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":492
 *                 'Access to this webpage has been blocked by Indian censorship. '
 *                 'Use a VPN or proxy server (with --proxy) to route around it.')
 *             block_msg = self._html_search_regex(             # <<<<<<<<<<<<<<
 *                 r'</h1><p>(.*?)</p>',
 *                 content, 'block message', default=None)
 */
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_13, __pyx_t_1, __pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 492, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_v_block_msg = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":495
 *                 r'</h1><p>(.*?)</p>',
 *                 content, 'block message', default=None)
 *             if block_msg:             # <<<<<<<<<<<<<<
 *                 msg += ' (Message: "%s")' % block_msg.replace('\n', ' ')
 *             raise ExtractorError(msg, expected=True)
 */
    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_block_msg); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 495, __pyx_L1_error)
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":496
 *                 content, 'block message', default=None)
 *             if block_msg:
 *                 msg += ' (Message: "%s")' % block_msg.replace('\n', ' ')             # <<<<<<<<<<<<<<
 *             raise ExtractorError(msg, expected=True)
 * 
 */
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_block_msg, __pyx_n_s_replace); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 496, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__28, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 496, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_Message_s, __pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 496, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = __Pyx_PyUnicode_Concat(__pyx_v_msg, __pyx_t_3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 496, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF_SET(__pyx_v_msg, ((PyObject*)__pyx_t_7));
      __pyx_t_7 = 0;

      /* "youtube_dl/extractor/common.py":495
 *                 r'</h1><p>(.*?)</p>',
 *                 content, 'block message', default=None)
 *             if block_msg:             # <<<<<<<<<<<<<<
 *                 msg += ' (Message: "%s")' % block_msg.replace('\n', ' ')
 *             raise ExtractorError(msg, expected=True)
 */
    }

    /* "youtube_dl/extractor/common.py":497
 *             if block_msg:
 *                 msg += ' (Message: "%s")' % block_msg.replace('\n', ' ')
 *             raise ExtractorError(msg, expected=True)             # <<<<<<<<<<<<<<
 * 
 *         return content
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 497, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 497, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_msg);
    __Pyx_GIVEREF(__pyx_v_msg);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_msg);
    __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 497, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_expected, Py_True) < 0) __PYX_ERR(0, 497, __pyx_L1_error)
    __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_3, __pyx_t_1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 497, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_13);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_13, 0, 0, 0);
    __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
    __PYX_ERR(0, 497, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":488
 *                 msg += ' Visit %s for more details' % blocked_iframe
 *             raise ExtractorError(msg, expected=True)
 *         if '<title>The URL you requested has been blocked</title>' in content[:512]:             # <<<<<<<<<<<<<<
 *             msg = (
 *                 'Access to this webpage has been blocked by Indian censorship. '
 */
  }

  /* "youtube_dl/extractor/common.py":499
 *             raise ExtractorError(msg, expected=True)
 * 
 *         return content             # <<<<<<<<<<<<<<
 * 
 *     def _download_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, tries=1, timeout=5, encoding=None, data=None, headers={}, query={}):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_content);
  __pyx_r = __pyx_v_content;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":438
 *         return encoding
 * 
 *     def _webpage_read_content(self, urlh, url_or_request, video_id, note=None, errnote=None, fatal=True, prefix=None, encoding=None):             # <<<<<<<<<<<<<<
 *         content_type = urlh.headers.get('Content-Type', '')
 *         webpage_bytes = urlh.read()
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_XDECREF(__pyx_t_13);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._webpage_read_content", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_content_type);
  __Pyx_XDECREF(__pyx_v_webpage_bytes);
  __Pyx_XDECREF(__pyx_v_url);
  __Pyx_XDECREF(__pyx_v_dump);
  __Pyx_XDECREF(__pyx_v_basen);
  __Pyx_XDECREF(__pyx_v_h);
  __Pyx_XDECREF(__pyx_v_raw_filename);
  __Pyx_XDECREF(__pyx_v_filename);
  __Pyx_XDECREF(__pyx_v_absfilepath);
  __Pyx_XDECREF(__pyx_v_outf);
  __Pyx_XDECREF(__pyx_v_content);
  __Pyx_XDECREF(__pyx_v_msg);
  __Pyx_XDECREF(__pyx_v_blocked_iframe);
  __Pyx_XDECREF(__pyx_v_block_msg);
  __Pyx_XDECREF(__pyx_v_encoding);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":501
 *         return content
 * 
 *     def _download_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, tries=1, timeout=5, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns the data of the page as a string """
 *         success = False
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_187__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 501, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 2, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)__pyx_int_1));
  __Pyx_GIVEREF(((PyObject *)__pyx_int_1));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)__pyx_int_1));
  __Pyx_INCREF(((PyObject *)__pyx_int_5));
  __Pyx_GIVEREF(((PyObject *)__pyx_int_5));
  PyTuple_SET_ITEM(__pyx_t_1, 4, ((PyObject *)__pyx_int_5));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 5, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 6, ((PyObject *)Py_None));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_self)->__pyx_arg_headers);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_self)->__pyx_arg_headers);
  PyTuple_SET_ITEM(__pyx_t_1, 7, __Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_self)->__pyx_arg_headers);
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_self)->__pyx_arg_query);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_self)->__pyx_arg_query);
  PyTuple_SET_ITEM(__pyx_t_1, 8, __Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_self)->__pyx_arg_query);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 501, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_31_download_webpage(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_30_download_webpage[] = " Returns the data of the page as a string ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_31_download_webpage = {"_download_webpage", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_31_download_webpage, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_30_download_webpage};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_31_download_webpage(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url_or_request = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_note = 0;
  PyObject *__pyx_v_errnote = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_tries = 0;
  PyObject *__pyx_v_timeout = 0;
  PyObject *__pyx_v_encoding = 0;
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_headers = 0;
  PyObject *__pyx_v_query = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_download_webpage (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url_or_request,&__pyx_n_s_video_id,&__pyx_n_s_note,&__pyx_n_s_errnote,&__pyx_n_s_fatal,&__pyx_n_s_tries,&__pyx_n_s_timeout,&__pyx_n_s_encoding,&__pyx_n_s_data,&__pyx_n_s_headers,&__pyx_n_s_query,0};
    PyObject* values[12] = {0,0,0,0,0,0,0,0,0,0,0,0};
    __pyx_defaults2 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_self);
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = ((PyObject *)((PyObject *)Py_True));
    values[6] = ((PyObject *)((PyObject *)__pyx_int_1));
    values[7] = ((PyObject *)((PyObject *)__pyx_int_5));
    values[8] = ((PyObject *)((PyObject *)Py_None));
    values[9] = ((PyObject *)((PyObject *)Py_None));
    values[10] = __pyx_dynamic_args->__pyx_arg_headers;
    values[11] = __pyx_dynamic_args->__pyx_arg_query;
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case 12: values[11] = PyTuple_GET_ITEM(__pyx_args, 11);
        case 11: values[10] = PyTuple_GET_ITEM(__pyx_args, 10);
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url_or_request)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_webpage", 0, 3, 12, 1); __PYX_ERR(0, 501, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_webpage", 0, 3, 12, 2); __PYX_ERR(0, 501, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_errnote);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_tries);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_timeout);
          if (value) { values[7] = value; kw_args--; }
        }
        case  8:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_encoding);
          if (value) { values[8] = value; kw_args--; }
        }
        case  9:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_data);
          if (value) { values[9] = value; kw_args--; }
        }
        case 10:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_headers);
          if (value) { values[10] = value; kw_args--; }
        }
        case 11:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_query);
          if (value) { values[11] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_download_webpage") < 0)) __PYX_ERR(0, 501, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case 12: values[11] = PyTuple_GET_ITEM(__pyx_args, 11);
        case 11: values[10] = PyTuple_GET_ITEM(__pyx_args, 10);
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_url_or_request = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_note = values[3];
    __pyx_v_errnote = values[4];
    __pyx_v_fatal = values[5];
    __pyx_v_tries = values[6];
    __pyx_v_timeout = values[7];
    __pyx_v_encoding = values[8];
    __pyx_v_data = values[9];
    __pyx_v_headers = values[10];
    __pyx_v_query = values[11];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_download_webpage", 0, 3, 12, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 501, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_webpage", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_30_download_webpage(__pyx_self, __pyx_v_self, __pyx_v_url_or_request, __pyx_v_video_id, __pyx_v_note, __pyx_v_errnote, __pyx_v_fatal, __pyx_v_tries, __pyx_v_timeout, __pyx_v_encoding, __pyx_v_data, __pyx_v_headers, __pyx_v_query);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_30_download_webpage(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_tries, PyObject *__pyx_v_timeout, PyObject *__pyx_v_encoding, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query) {
  int __pyx_v_success;
  PyObject *__pyx_v_try_count = NULL;
  PyObject *__pyx_v_res = NULL;
  PyObject *__pyx_v_e = NULL;
  PyObject *__pyx_v_content = NULL;
  CYTHON_UNUSED PyObject *__pyx_v__ = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  int __pyx_t_9;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  Py_ssize_t __pyx_t_12;
  PyObject *__pyx_t_13 = NULL;
  int __pyx_t_14;
  char const *__pyx_t_15;
  PyObject *__pyx_t_16 = NULL;
  PyObject *__pyx_t_17 = NULL;
  PyObject *__pyx_t_18 = NULL;
  PyObject *__pyx_t_19 = NULL;
  PyObject *__pyx_t_20 = NULL;
  PyObject *__pyx_t_21 = NULL;
  int __pyx_t_22;
  PyObject *(*__pyx_t_23)(PyObject *);
  __Pyx_RefNannySetupContext("_download_webpage", 0);

  /* "youtube_dl/extractor/common.py":503
 *     def _download_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, tries=1, timeout=5, encoding=None, data=None, headers={}, query={}):
 *         """ Returns the data of the page as a string """
 *         success = False             # <<<<<<<<<<<<<<
 *         try_count = 0
 *         while success is False:
 */
  __pyx_v_success = 0;

  /* "youtube_dl/extractor/common.py":504
 *         """ Returns the data of the page as a string """
 *         success = False
 *         try_count = 0             # <<<<<<<<<<<<<<
 *         while success is False:
 *             try:
 */
  __Pyx_INCREF(__pyx_int_0);
  __pyx_v_try_count = __pyx_int_0;

  /* "youtube_dl/extractor/common.py":505
 *         success = False
 *         try_count = 0
 *         while success is False:             # <<<<<<<<<<<<<<
 *             try:
 *                 res = self._download_webpage_handle(url_or_request, video_id, note, errnote, fatal, encoding=encoding, data=data, headers=headers, query=query)
 */
  while (1) {
    __pyx_t_1 = ((__pyx_v_success == 0) != 0);
    if (!__pyx_t_1) break;

    /* "youtube_dl/extractor/common.py":506
 *         try_count = 0
 *         while success is False:
 *             try:             # <<<<<<<<<<<<<<
 *                 res = self._download_webpage_handle(url_or_request, video_id, note, errnote, fatal, encoding=encoding, data=data, headers=headers, query=query)
 *                 success = True
 */
    {
      __Pyx_PyThreadState_declare
      __Pyx_PyThreadState_assign
      __Pyx_ExceptionSave(&__pyx_t_2, &__pyx_t_3, &__pyx_t_4);
      __Pyx_XGOTREF(__pyx_t_2);
      __Pyx_XGOTREF(__pyx_t_3);
      __Pyx_XGOTREF(__pyx_t_4);
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":507
 *         while success is False:
 *             try:
 *                 res = self._download_webpage_handle(url_or_request, video_id, note, errnote, fatal, encoding=encoding, data=data, headers=headers, query=query)             # <<<<<<<<<<<<<<
 *                 success = True
 *             except compat_http_client.IncompleteRead as e:
 */
        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_webpage_handle); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 507, __pyx_L5_error)
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_6 = PyTuple_New(5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 507, __pyx_L5_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_INCREF(__pyx_v_url_or_request);
        __Pyx_GIVEREF(__pyx_v_url_or_request);
        PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_url_or_request);
        __Pyx_INCREF(__pyx_v_video_id);
        __Pyx_GIVEREF(__pyx_v_video_id);
        PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_video_id);
        __Pyx_INCREF(__pyx_v_note);
        __Pyx_GIVEREF(__pyx_v_note);
        PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_v_note);
        __Pyx_INCREF(__pyx_v_errnote);
        __Pyx_GIVEREF(__pyx_v_errnote);
        PyTuple_SET_ITEM(__pyx_t_6, 3, __pyx_v_errnote);
        __Pyx_INCREF(__pyx_v_fatal);
        __Pyx_GIVEREF(__pyx_v_fatal);
        PyTuple_SET_ITEM(__pyx_t_6, 4, __pyx_v_fatal);
        __pyx_t_7 = PyDict_New(); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 507, __pyx_L5_error)
        __Pyx_GOTREF(__pyx_t_7);
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_encoding, __pyx_v_encoding) < 0) __PYX_ERR(0, 507, __pyx_L5_error)
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_data, __pyx_v_data) < 0) __PYX_ERR(0, 507, __pyx_L5_error)
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_headers, __pyx_v_headers) < 0) __PYX_ERR(0, 507, __pyx_L5_error)
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_query, __pyx_v_query) < 0) __PYX_ERR(0, 507, __pyx_L5_error)
        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_6, __pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 507, __pyx_L5_error)
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_XDECREF_SET(__pyx_v_res, __pyx_t_8);
        __pyx_t_8 = 0;

        /* "youtube_dl/extractor/common.py":508
 *             try:
 *                 res = self._download_webpage_handle(url_or_request, video_id, note, errnote, fatal, encoding=encoding, data=data, headers=headers, query=query)
 *                 success = True             # <<<<<<<<<<<<<<
 *             except compat_http_client.IncompleteRead as e:
 *                 try_count += 1
 */
        __pyx_v_success = 1;

        /* "youtube_dl/extractor/common.py":506
 *         try_count = 0
 *         while success is False:
 *             try:             # <<<<<<<<<<<<<<
 *                 res = self._download_webpage_handle(url_or_request, video_id, note, errnote, fatal, encoding=encoding, data=data, headers=headers, query=query)
 *                 success = True
 */
      }
      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L12_try_end;
      __pyx_L5_error:;
      __Pyx_PyThreadState_assign
      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;

      /* "youtube_dl/extractor/common.py":509
 *                 res = self._download_webpage_handle(url_or_request, video_id, note, errnote, fatal, encoding=encoding, data=data, headers=headers, query=query)
 *                 success = True
 *             except compat_http_client.IncompleteRead as e:             # <<<<<<<<<<<<<<
 *                 try_count += 1
 *                 if try_count >= tries:
 */
      __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_http_client); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 509, __pyx_L7_except_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_IncompleteRead); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 509, __pyx_L7_except_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_9 = __Pyx_PyErr_ExceptionMatches(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      if (__pyx_t_9) {
        __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_webpage", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (__Pyx_GetException(&__pyx_t_7, &__pyx_t_8, &__pyx_t_6) < 0) __PYX_ERR(0, 509, __pyx_L7_except_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_8);
        __pyx_v_e = __pyx_t_8;
        /*try:*/ {

          /* "youtube_dl/extractor/common.py":510
 *                 success = True
 *             except compat_http_client.IncompleteRead as e:
 *                 try_count += 1             # <<<<<<<<<<<<<<
 *                 if try_count >= tries:
 *                     raise e
 */
          __pyx_t_5 = __Pyx_PyInt_AddObjC(__pyx_v_try_count, __pyx_int_1, 1, 1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 510, __pyx_L18_error)
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF_SET(__pyx_v_try_count, __pyx_t_5);
          __pyx_t_5 = 0;

          /* "youtube_dl/extractor/common.py":511
 *             except compat_http_client.IncompleteRead as e:
 *                 try_count += 1
 *                 if try_count >= tries:             # <<<<<<<<<<<<<<
 *                     raise e
 *                 self._sleep(timeout, video_id)
 */
          __pyx_t_5 = PyObject_RichCompare(__pyx_v_try_count, __pyx_v_tries, Py_GE); __Pyx_XGOTREF(__pyx_t_5); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 511, __pyx_L18_error)
          __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 511, __pyx_L18_error)
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
          if (__pyx_t_1) {

            /* "youtube_dl/extractor/common.py":512
 *                 try_count += 1
 *                 if try_count >= tries:
 *                     raise e             # <<<<<<<<<<<<<<
 *                 self._sleep(timeout, video_id)
 *         if res is False:
 */
            __Pyx_Raise(__pyx_v_e, 0, 0, 0);
            __PYX_ERR(0, 512, __pyx_L18_error)

            /* "youtube_dl/extractor/common.py":511
 *             except compat_http_client.IncompleteRead as e:
 *                 try_count += 1
 *                 if try_count >= tries:             # <<<<<<<<<<<<<<
 *                     raise e
 *                 self._sleep(timeout, video_id)
 */
          }

          /* "youtube_dl/extractor/common.py":513
 *                 if try_count >= tries:
 *                     raise e
 *                 self._sleep(timeout, video_id)             # <<<<<<<<<<<<<<
 *         if res is False:
 *             return res
 */
          __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_sleep); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 513, __pyx_L18_error)
          __Pyx_GOTREF(__pyx_t_10);
          __pyx_t_11 = NULL;
          __pyx_t_12 = 0;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_10))) {
            __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_10);
            if (likely(__pyx_t_11)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
              __Pyx_INCREF(__pyx_t_11);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_10, function);
              __pyx_t_12 = 1;
            }
          }
          __pyx_t_13 = PyTuple_New(2+__pyx_t_12); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 513, __pyx_L18_error)
          __Pyx_GOTREF(__pyx_t_13);
          if (__pyx_t_11) {
            __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_t_11); __pyx_t_11 = NULL;
          }
          __Pyx_INCREF(__pyx_v_timeout);
          __Pyx_GIVEREF(__pyx_v_timeout);
          PyTuple_SET_ITEM(__pyx_t_13, 0+__pyx_t_12, __pyx_v_timeout);
          __Pyx_INCREF(__pyx_v_video_id);
          __Pyx_GIVEREF(__pyx_v_video_id);
          PyTuple_SET_ITEM(__pyx_t_13, 1+__pyx_t_12, __pyx_v_video_id);
          __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_13, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 513, __pyx_L18_error)
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        }

        /* "youtube_dl/extractor/common.py":509
 *                 res = self._download_webpage_handle(url_or_request, video_id, note, errnote, fatal, encoding=encoding, data=data, headers=headers, query=query)
 *                 success = True
 *             except compat_http_client.IncompleteRead as e:             # <<<<<<<<<<<<<<
 *                 try_count += 1
 *                 if try_count >= tries:
 */
        /*finally:*/ {
          /*normal exit:*/{
            __Pyx_DECREF(__pyx_v_e);
            __pyx_v_e = NULL;
            goto __pyx_L19;
          }
          /*exception exit:*/{
            __Pyx_PyThreadState_declare
            __pyx_L18_error:;
            __pyx_t_16 = 0; __pyx_t_17 = 0; __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0;
            __Pyx_PyThreadState_assign
            __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
            __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
            __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
            __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
            if (PY_MAJOR_VERSION >= 3) __Pyx_ExceptionSwap(&__pyx_t_19, &__pyx_t_20, &__pyx_t_21);
            if ((PY_MAJOR_VERSION < 3) || unlikely(__Pyx_GetException(&__pyx_t_16, &__pyx_t_17, &__pyx_t_18) < 0)) __Pyx_ErrFetch(&__pyx_t_16, &__pyx_t_17, &__pyx_t_18);
            __Pyx_XGOTREF(__pyx_t_16);
            __Pyx_XGOTREF(__pyx_t_17);
            __Pyx_XGOTREF(__pyx_t_18);
            __Pyx_XGOTREF(__pyx_t_19);
            __Pyx_XGOTREF(__pyx_t_20);
            __Pyx_XGOTREF(__pyx_t_21);
            __pyx_t_9 = __pyx_lineno; __pyx_t_14 = __pyx_clineno; __pyx_t_15 = __pyx_filename;
            {
              __Pyx_DECREF(__pyx_v_e);
              __pyx_v_e = NULL;
            }
            __Pyx_PyThreadState_assign
            if (PY_MAJOR_VERSION >= 3) {
              __Pyx_XGIVEREF(__pyx_t_19);
              __Pyx_XGIVEREF(__pyx_t_20);
              __Pyx_XGIVEREF(__pyx_t_21);
              __Pyx_ExceptionReset(__pyx_t_19, __pyx_t_20, __pyx_t_21);
            }
            __Pyx_XGIVEREF(__pyx_t_16);
            __Pyx_XGIVEREF(__pyx_t_17);
            __Pyx_XGIVEREF(__pyx_t_18);
            __Pyx_ErrRestore(__pyx_t_16, __pyx_t_17, __pyx_t_18);
            __pyx_t_16 = 0; __pyx_t_17 = 0; __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0;
            __pyx_lineno = __pyx_t_9; __pyx_clineno = __pyx_t_14; __pyx_filename = __pyx_t_15;
            goto __pyx_L7_except_error;
          }
          __pyx_L19:;
        }
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        goto __pyx_L6_exception_handled;
      }
      goto __pyx_L7_except_error;
      __pyx_L7_except_error:;

      /* "youtube_dl/extractor/common.py":506
 *         try_count = 0
 *         while success is False:
 *             try:             # <<<<<<<<<<<<<<
 *                 res = self._download_webpage_handle(url_or_request, video_id, note, errnote, fatal, encoding=encoding, data=data, headers=headers, query=query)
 *                 success = True
 */
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_2);
      __Pyx_XGIVEREF(__pyx_t_3);
      __Pyx_XGIVEREF(__pyx_t_4);
      __Pyx_ExceptionReset(__pyx_t_2, __pyx_t_3, __pyx_t_4);
      goto __pyx_L1_error;
      __pyx_L6_exception_handled:;
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_2);
      __Pyx_XGIVEREF(__pyx_t_3);
      __Pyx_XGIVEREF(__pyx_t_4);
      __Pyx_ExceptionReset(__pyx_t_2, __pyx_t_3, __pyx_t_4);
      __pyx_L12_try_end:;
    }
  }

  /* "youtube_dl/extractor/common.py":514
 *                     raise e
 *                 self._sleep(timeout, video_id)
 *         if res is False:             # <<<<<<<<<<<<<<
 *             return res
 *         else:
 */
  if (unlikely(!__pyx_v_res)) { __Pyx_RaiseUnboundLocalError("res"); __PYX_ERR(0, 514, __pyx_L1_error) }
  __pyx_t_1 = (__pyx_v_res == Py_False);
  __pyx_t_22 = (__pyx_t_1 != 0);
  if (__pyx_t_22) {

    /* "youtube_dl/extractor/common.py":515
 *                 self._sleep(timeout, video_id)
 *         if res is False:
 *             return res             # <<<<<<<<<<<<<<
 *         else:
 *             content, _ = res
 */
    __Pyx_XDECREF(__pyx_r);
    if (unlikely(!__pyx_v_res)) { __Pyx_RaiseUnboundLocalError("res"); __PYX_ERR(0, 515, __pyx_L1_error) }
    __Pyx_INCREF(__pyx_v_res);
    __pyx_r = __pyx_v_res;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":514
 *                     raise e
 *                 self._sleep(timeout, video_id)
 *         if res is False:             # <<<<<<<<<<<<<<
 *             return res
 *         else:
 */
  }

  /* "youtube_dl/extractor/common.py":517
 *             return res
 *         else:
 *             content, _ = res             # <<<<<<<<<<<<<<
 *             return content
 * 
 */
  /*else*/ {
    if (unlikely(!__pyx_v_res)) { __Pyx_RaiseUnboundLocalError("res"); __PYX_ERR(0, 517, __pyx_L1_error) }
    if ((likely(PyTuple_CheckExact(__pyx_v_res))) || (PyList_CheckExact(__pyx_v_res))) {
      PyObject* sequence = __pyx_v_res;
      #if CYTHON_COMPILING_IN_CPYTHON
      Py_ssize_t size = Py_SIZE(sequence);
      #else
      Py_ssize_t size = PySequence_Size(sequence);
      #endif
      if (unlikely(size != 2)) {
        if (size > 2) __Pyx_RaiseTooManyValuesError(2);
        else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
        __PYX_ERR(0, 517, __pyx_L1_error)
      }
      #if CYTHON_COMPILING_IN_CPYTHON
      if (likely(PyTuple_CheckExact(sequence))) {
        __pyx_t_6 = PyTuple_GET_ITEM(sequence, 0); 
        __pyx_t_8 = PyTuple_GET_ITEM(sequence, 1); 
      } else {
        __pyx_t_6 = PyList_GET_ITEM(sequence, 0); 
        __pyx_t_8 = PyList_GET_ITEM(sequence, 1); 
      }
      __Pyx_INCREF(__pyx_t_6);
      __Pyx_INCREF(__pyx_t_8);
      #else
      __pyx_t_6 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 517, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_8 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 517, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      #endif
    } else {
      Py_ssize_t index = -1;
      __pyx_t_7 = PyObject_GetIter(__pyx_v_res); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 517, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __pyx_t_23 = Py_TYPE(__pyx_t_7)->tp_iternext;
      index = 0; __pyx_t_6 = __pyx_t_23(__pyx_t_7); if (unlikely(!__pyx_t_6)) goto __pyx_L26_unpacking_failed;
      __Pyx_GOTREF(__pyx_t_6);
      index = 1; __pyx_t_8 = __pyx_t_23(__pyx_t_7); if (unlikely(!__pyx_t_8)) goto __pyx_L26_unpacking_failed;
      __Pyx_GOTREF(__pyx_t_8);
      if (__Pyx_IternextUnpackEndCheck(__pyx_t_23(__pyx_t_7), 2) < 0) __PYX_ERR(0, 517, __pyx_L1_error)
      __pyx_t_23 = NULL;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L27_unpacking_done;
      __pyx_L26_unpacking_failed:;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_23 = NULL;
      if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
      __PYX_ERR(0, 517, __pyx_L1_error)
      __pyx_L27_unpacking_done:;
    }
    __pyx_v_content = __pyx_t_6;
    __pyx_t_6 = 0;
    __pyx_v__ = __pyx_t_8;
    __pyx_t_8 = 0;

    /* "youtube_dl/extractor/common.py":518
 *         else:
 *             content, _ = res
 *             return content             # <<<<<<<<<<<<<<
 * 
 *     def _download_xml(self, url_or_request, video_id,
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_content);
    __pyx_r = __pyx_v_content;
    goto __pyx_L0;
  }

  /* "youtube_dl/extractor/common.py":501
 *         return content
 * 
 *     def _download_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, tries=1, timeout=5, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns the data of the page as a string """
 *         success = False
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_13);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_webpage", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_try_count);
  __Pyx_XDECREF(__pyx_v_res);
  __Pyx_XDECREF(__pyx_v_e);
  __Pyx_XDECREF(__pyx_v_content);
  __Pyx_XDECREF(__pyx_v__);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":520
 *             return content
 * 
 *     def _download_xml(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                       note='Downloading XML', errnote='Unable to download XML',
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_189__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":522
 *     def _download_xml(self, url_or_request, video_id,
 *                       note='Downloading XML', errnote='Unable to download XML',
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """Return the xml as an xml.etree.ElementTree.Element"""
 *         xml_string = self._download_webpage(
 */
  __pyx_t_1 = PyTuple_New(8); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 520, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject*)__pyx_kp_u_Downloading_XML));
  __Pyx_GIVEREF(((PyObject*)__pyx_kp_u_Downloading_XML));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject*)__pyx_kp_u_Downloading_XML));
  __Pyx_INCREF(((PyObject*)__pyx_kp_u_Unable_to_download_XML));
  __Pyx_GIVEREF(((PyObject*)__pyx_kp_u_Unable_to_download_XML));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject*)__pyx_kp_u_Unable_to_download_XML));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 2, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 4, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 5, ((PyObject *)Py_None));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_self)->__pyx_arg_headers);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_self)->__pyx_arg_headers);
  PyTuple_SET_ITEM(__pyx_t_1, 6, __Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_self)->__pyx_arg_headers);
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_self)->__pyx_arg_query);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_self)->__pyx_arg_query);
  PyTuple_SET_ITEM(__pyx_t_1, 7, __Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_self)->__pyx_arg_query);

  /* "youtube_dl/extractor/common.py":520
 *             return content
 * 
 *     def _download_xml(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                       note='Downloading XML', errnote='Unable to download XML',
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):
 */
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 520, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_33_download_xml(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_32_download_xml[] = "Return the xml as an xml.etree.ElementTree.Element";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_33_download_xml = {"_download_xml", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_33_download_xml, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_32_download_xml};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_33_download_xml(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url_or_request = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_note = 0;
  PyObject *__pyx_v_errnote = 0;
  PyObject *__pyx_v_transform_source = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_encoding = 0;
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_headers = 0;
  PyObject *__pyx_v_query = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_download_xml (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url_or_request,&__pyx_n_s_video_id,&__pyx_n_s_note,&__pyx_n_s_errnote,&__pyx_n_s_transform_source,&__pyx_n_s_fatal,&__pyx_n_s_encoding,&__pyx_n_s_data,&__pyx_n_s_headers,&__pyx_n_s_query,0};
    PyObject* values[11] = {0,0,0,0,0,0,0,0,0,0,0};
    __pyx_defaults3 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_self);
    values[3] = ((PyObject *)((PyObject*)__pyx_kp_u_Downloading_XML));
    values[4] = ((PyObject *)((PyObject*)__pyx_kp_u_Unable_to_download_XML));
    values[5] = ((PyObject *)((PyObject *)Py_None));
    values[6] = ((PyObject *)((PyObject *)Py_True));
    values[7] = ((PyObject *)((PyObject *)Py_None));
    values[8] = ((PyObject *)((PyObject *)Py_None));
    values[9] = __pyx_dynamic_args->__pyx_arg_headers;
    values[10] = __pyx_dynamic_args->__pyx_arg_query;
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case 11: values[10] = PyTuple_GET_ITEM(__pyx_args, 10);
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url_or_request)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_xml", 0, 3, 11, 1); __PYX_ERR(0, 520, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_xml", 0, 3, 11, 2); __PYX_ERR(0, 520, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_errnote);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_transform_source);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_encoding);
          if (value) { values[7] = value; kw_args--; }
        }
        case  8:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_data);
          if (value) { values[8] = value; kw_args--; }
        }
        case  9:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_headers);
          if (value) { values[9] = value; kw_args--; }
        }
        case 10:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_query);
          if (value) { values[10] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_download_xml") < 0)) __PYX_ERR(0, 520, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case 11: values[10] = PyTuple_GET_ITEM(__pyx_args, 10);
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_url_or_request = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_note = values[3];
    __pyx_v_errnote = values[4];
    __pyx_v_transform_source = values[5];
    __pyx_v_fatal = values[6];
    __pyx_v_encoding = values[7];
    __pyx_v_data = values[8];
    __pyx_v_headers = values[9];
    __pyx_v_query = values[10];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_download_xml", 0, 3, 11, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 520, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_xml", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_32_download_xml(__pyx_self, __pyx_v_self, __pyx_v_url_or_request, __pyx_v_video_id, __pyx_v_note, __pyx_v_errnote, __pyx_v_transform_source, __pyx_v_fatal, __pyx_v_encoding, __pyx_v_data, __pyx_v_headers, __pyx_v_query);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_32_download_xml(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal, PyObject *__pyx_v_encoding, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query) {
  PyObject *__pyx_v_xml_string = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  __Pyx_RefNannySetupContext("_download_xml", 0);

  /* "youtube_dl/extractor/common.py":524
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):
 *         """Return the xml as an xml.etree.ElementTree.Element"""
 *         xml_string = self._download_webpage(             # <<<<<<<<<<<<<<
 *             url_or_request, video_id, note, errnote, fatal=fatal, encoding=encoding, data=data, headers=headers, query=query)
 *         if xml_string is False:
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_webpage); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 524, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":525
 *         """Return the xml as an xml.etree.ElementTree.Element"""
 *         xml_string = self._download_webpage(
 *             url_or_request, video_id, note, errnote, fatal=fatal, encoding=encoding, data=data, headers=headers, query=query)             # <<<<<<<<<<<<<<
 *         if xml_string is False:
 *             return xml_string
 */
  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 524, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_url_or_request);
  __Pyx_GIVEREF(__pyx_v_url_or_request);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_url_or_request);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_video_id);
  __Pyx_INCREF(__pyx_v_note);
  __Pyx_GIVEREF(__pyx_v_note);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_v_note);
  __Pyx_INCREF(__pyx_v_errnote);
  __Pyx_GIVEREF(__pyx_v_errnote);
  PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_v_errnote);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 525, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 525, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_encoding, __pyx_v_encoding) < 0) __PYX_ERR(0, 525, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_data, __pyx_v_data) < 0) __PYX_ERR(0, 525, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_headers, __pyx_v_headers) < 0) __PYX_ERR(0, 525, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_query, __pyx_v_query) < 0) __PYX_ERR(0, 525, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":524
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):
 *         """Return the xml as an xml.etree.ElementTree.Element"""
 *         xml_string = self._download_webpage(             # <<<<<<<<<<<<<<
 *             url_or_request, video_id, note, errnote, fatal=fatal, encoding=encoding, data=data, headers=headers, query=query)
 *         if xml_string is False:
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 524, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_xml_string = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":526
 *         xml_string = self._download_webpage(
 *             url_or_request, video_id, note, errnote, fatal=fatal, encoding=encoding, data=data, headers=headers, query=query)
 *         if xml_string is False:             # <<<<<<<<<<<<<<
 *             return xml_string
 *         if transform_source:
 */
  __pyx_t_5 = (__pyx_v_xml_string == Py_False);
  __pyx_t_6 = (__pyx_t_5 != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":527
 *             url_or_request, video_id, note, errnote, fatal=fatal, encoding=encoding, data=data, headers=headers, query=query)
 *         if xml_string is False:
 *             return xml_string             # <<<<<<<<<<<<<<
 *         if transform_source:
 *             xml_string = transform_source(xml_string)
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_xml_string);
    __pyx_r = __pyx_v_xml_string;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":526
 *         xml_string = self._download_webpage(
 *             url_or_request, video_id, note, errnote, fatal=fatal, encoding=encoding, data=data, headers=headers, query=query)
 *         if xml_string is False:             # <<<<<<<<<<<<<<
 *             return xml_string
 *         if transform_source:
 */
  }

  /* "youtube_dl/extractor/common.py":528
 *         if xml_string is False:
 *             return xml_string
 *         if transform_source:             # <<<<<<<<<<<<<<
 *             xml_string = transform_source(xml_string)
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))
 */
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_transform_source); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 528, __pyx_L1_error)
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":529
 *             return xml_string
 *         if transform_source:
 *             xml_string = transform_source(xml_string)             # <<<<<<<<<<<<<<
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))
 * 
 */
    __Pyx_INCREF(__pyx_v_transform_source);
    __pyx_t_3 = __pyx_v_transform_source; __pyx_t_2 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
      }
    }
    if (!__pyx_t_2) {
      __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_xml_string); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 529, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
    } else {
      __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 529, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2); __pyx_t_2 = NULL;
      __Pyx_INCREF(__pyx_v_xml_string);
      __Pyx_GIVEREF(__pyx_v_xml_string);
      PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_v_xml_string);
      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 529, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    }
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF_SET(__pyx_v_xml_string, __pyx_t_4);
    __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":528
 *         if xml_string is False:
 *             return xml_string
 *         if transform_source:             # <<<<<<<<<<<<<<
 *             xml_string = transform_source(xml_string)
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))
 */
  }

  /* "youtube_dl/extractor/common.py":530
 *         if transform_source:
 *             xml_string = transform_source(xml_string)
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))             # <<<<<<<<<<<<<<
 * 
 *     def _download_json(self, url_or_request, video_id,
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_etree_fromstring); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 530, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_xml_string, __pyx_n_s_encode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 530, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__29, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 530, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_1)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_1);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_1) {
    __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 530, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_GOTREF(__pyx_t_4);
  } else {
    __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 530, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_1); __pyx_t_1 = NULL;
    __Pyx_GIVEREF(__pyx_t_2);
    PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_7, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 530, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":520
 *             return content
 * 
 *     def _download_xml(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                       note='Downloading XML', errnote='Unable to download XML',
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_xml", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_xml_string);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":532
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))
 * 
 *     def _download_json(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                        note='Downloading JSON metadata',
 *                        errnote='Unable to download JSON metadata',
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_191__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":536
 *                        errnote='Unable to download JSON metadata',
 *                        transform_source=None,
 *                        fatal=True, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         json_string = self._download_webpage(
 *             url_or_request, video_id, note, errnote, fatal=fatal,
 */
  __pyx_t_1 = PyTuple_New(8); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 532, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject*)__pyx_kp_u_Downloading_JSON_metadata));
  __Pyx_GIVEREF(((PyObject*)__pyx_kp_u_Downloading_JSON_metadata));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject*)__pyx_kp_u_Downloading_JSON_metadata));
  __Pyx_INCREF(((PyObject*)__pyx_kp_u_Unable_to_download_JSON_metadata));
  __Pyx_GIVEREF(((PyObject*)__pyx_kp_u_Unable_to_download_JSON_metadata));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject*)__pyx_kp_u_Unable_to_download_JSON_metadata));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 2, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 4, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 5, ((PyObject *)Py_None));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_self)->__pyx_arg_headers);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_self)->__pyx_arg_headers);
  PyTuple_SET_ITEM(__pyx_t_1, 6, __Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_self)->__pyx_arg_headers);
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_self)->__pyx_arg_query);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_self)->__pyx_arg_query);
  PyTuple_SET_ITEM(__pyx_t_1, 7, __Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_self)->__pyx_arg_query);

  /* "youtube_dl/extractor/common.py":532
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))
 * 
 *     def _download_json(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                        note='Downloading JSON metadata',
 *                        errnote='Unable to download JSON metadata',
 */
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 532, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_35_download_json(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_35_download_json = {"_download_json", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_35_download_json, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_35_download_json(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url_or_request = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_note = 0;
  PyObject *__pyx_v_errnote = 0;
  PyObject *__pyx_v_transform_source = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_encoding = 0;
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_headers = 0;
  PyObject *__pyx_v_query = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_download_json (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url_or_request,&__pyx_n_s_video_id,&__pyx_n_s_note,&__pyx_n_s_errnote,&__pyx_n_s_transform_source,&__pyx_n_s_fatal,&__pyx_n_s_encoding,&__pyx_n_s_data,&__pyx_n_s_headers,&__pyx_n_s_query,0};
    PyObject* values[11] = {0,0,0,0,0,0,0,0,0,0,0};
    __pyx_defaults4 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_self);
    values[3] = ((PyObject *)((PyObject*)__pyx_kp_u_Downloading_JSON_metadata));
    values[4] = ((PyObject *)((PyObject*)__pyx_kp_u_Unable_to_download_JSON_metadata));
    values[5] = ((PyObject *)((PyObject *)Py_None));
    values[6] = ((PyObject *)((PyObject *)Py_True));
    values[7] = ((PyObject *)((PyObject *)Py_None));
    values[8] = ((PyObject *)((PyObject *)Py_None));
    values[9] = __pyx_dynamic_args->__pyx_arg_headers;
    values[10] = __pyx_dynamic_args->__pyx_arg_query;
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case 11: values[10] = PyTuple_GET_ITEM(__pyx_args, 10);
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url_or_request)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_json", 0, 3, 11, 1); __PYX_ERR(0, 532, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_json", 0, 3, 11, 2); __PYX_ERR(0, 532, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_errnote);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_transform_source);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_encoding);
          if (value) { values[7] = value; kw_args--; }
        }
        case  8:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_data);
          if (value) { values[8] = value; kw_args--; }
        }
        case  9:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_headers);
          if (value) { values[9] = value; kw_args--; }
        }
        case 10:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_query);
          if (value) { values[10] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_download_json") < 0)) __PYX_ERR(0, 532, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case 11: values[10] = PyTuple_GET_ITEM(__pyx_args, 10);
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_url_or_request = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_note = values[3];
    __pyx_v_errnote = values[4];
    __pyx_v_transform_source = values[5];
    __pyx_v_fatal = values[6];
    __pyx_v_encoding = values[7];
    __pyx_v_data = values[8];
    __pyx_v_headers = values[9];
    __pyx_v_query = values[10];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_download_json", 0, 3, 11, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 532, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_json", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_34_download_json(__pyx_self, __pyx_v_self, __pyx_v_url_or_request, __pyx_v_video_id, __pyx_v_note, __pyx_v_errnote, __pyx_v_transform_source, __pyx_v_fatal, __pyx_v_encoding, __pyx_v_data, __pyx_v_headers, __pyx_v_query);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_34_download_json(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url_or_request, PyObject *__pyx_v_video_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal, PyObject *__pyx_v_encoding, PyObject *__pyx_v_data, PyObject *__pyx_v_headers, PyObject *__pyx_v_query) {
  PyObject *__pyx_v_json_string = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("_download_json", 0);

  /* "youtube_dl/extractor/common.py":537
 *                        transform_source=None,
 *                        fatal=True, encoding=None, data=None, headers={}, query={}):
 *         json_string = self._download_webpage(             # <<<<<<<<<<<<<<
 *             url_or_request, video_id, note, errnote, fatal=fatal,
 *             encoding=encoding, data=data, headers=headers, query=query)
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_webpage); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 537, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":538
 *                        fatal=True, encoding=None, data=None, headers={}, query={}):
 *         json_string = self._download_webpage(
 *             url_or_request, video_id, note, errnote, fatal=fatal,             # <<<<<<<<<<<<<<
 *             encoding=encoding, data=data, headers=headers, query=query)
 *         if (not fatal) and json_string is False:
 */
  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 537, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_url_or_request);
  __Pyx_GIVEREF(__pyx_v_url_or_request);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_url_or_request);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_video_id);
  __Pyx_INCREF(__pyx_v_note);
  __Pyx_GIVEREF(__pyx_v_note);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_v_note);
  __Pyx_INCREF(__pyx_v_errnote);
  __Pyx_GIVEREF(__pyx_v_errnote);
  PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_v_errnote);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 538, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 538, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":539
 *         json_string = self._download_webpage(
 *             url_or_request, video_id, note, errnote, fatal=fatal,
 *             encoding=encoding, data=data, headers=headers, query=query)             # <<<<<<<<<<<<<<
 *         if (not fatal) and json_string is False:
 *             return None
 */
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_encoding, __pyx_v_encoding) < 0) __PYX_ERR(0, 538, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_data, __pyx_v_data) < 0) __PYX_ERR(0, 538, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_headers, __pyx_v_headers) < 0) __PYX_ERR(0, 538, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_query, __pyx_v_query) < 0) __PYX_ERR(0, 538, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":537
 *                        transform_source=None,
 *                        fatal=True, encoding=None, data=None, headers={}, query={}):
 *         json_string = self._download_webpage(             # <<<<<<<<<<<<<<
 *             url_or_request, video_id, note, errnote, fatal=fatal,
 *             encoding=encoding, data=data, headers=headers, query=query)
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 537, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_json_string = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":540
 *             url_or_request, video_id, note, errnote, fatal=fatal,
 *             encoding=encoding, data=data, headers=headers, query=query)
 *         if (not fatal) and json_string is False:             # <<<<<<<<<<<<<<
 *             return None
 *         return self._parse_json(
 */
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_fatal); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 540, __pyx_L1_error)
  __pyx_t_7 = ((!__pyx_t_6) != 0);
  if (__pyx_t_7) {
  } else {
    __pyx_t_5 = __pyx_t_7;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_7 = (__pyx_v_json_string == Py_False);
  __pyx_t_6 = (__pyx_t_7 != 0);
  __pyx_t_5 = __pyx_t_6;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":541
 *             encoding=encoding, data=data, headers=headers, query=query)
 *         if (not fatal) and json_string is False:
 *             return None             # <<<<<<<<<<<<<<
 *         return self._parse_json(
 *             json_string, video_id, transform_source=transform_source, fatal=fatal)
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":540
 *             url_or_request, video_id, note, errnote, fatal=fatal,
 *             encoding=encoding, data=data, headers=headers, query=query)
 *         if (not fatal) and json_string is False:             # <<<<<<<<<<<<<<
 *             return None
 *         return self._parse_json(
 */
  }

  /* "youtube_dl/extractor/common.py":542
 *         if (not fatal) and json_string is False:
 *             return None
 *         return self._parse_json(             # <<<<<<<<<<<<<<
 *             json_string, video_id, transform_source=transform_source, fatal=fatal)
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_json); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 542, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":543
 *             return None
 *         return self._parse_json(
 *             json_string, video_id, transform_source=transform_source, fatal=fatal)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_json(self, json_string, video_id, transform_source=None, fatal=True):
 */
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 542, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_json_string);
  __Pyx_GIVEREF(__pyx_v_json_string);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_json_string);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_video_id);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 543, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_transform_source, __pyx_v_transform_source) < 0) __PYX_ERR(0, 543, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 543, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":542
 *         if (not fatal) and json_string is False:
 *             return None
 *         return self._parse_json(             # <<<<<<<<<<<<<<
 *             json_string, video_id, transform_source=transform_source, fatal=fatal)
 * 
 */
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 542, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":532
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))
 * 
 *     def _download_json(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                        note='Downloading JSON metadata',
 *                        errnote='Unable to download JSON metadata',
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_json", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_json_string);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":545
 *             json_string, video_id, transform_source=transform_source, fatal=fatal)
 * 
 *     def _parse_json(self, json_string, video_id, transform_source=None, fatal=True):             # <<<<<<<<<<<<<<
 *         if transform_source:
 *             json_string = transform_source(json_string)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_37_parse_json(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_37_parse_json = {"_parse_json", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_37_parse_json, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_37_parse_json(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_json_string = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_transform_source = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_json (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_json_string,&__pyx_n_s_video_id,&__pyx_n_s_transform_source,&__pyx_n_s_fatal,0};
    PyObject* values[5] = {0,0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject *)Py_True));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_json_string)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_json", 0, 3, 5, 1); __PYX_ERR(0, 545, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_json", 0, 3, 5, 2); __PYX_ERR(0, 545, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_transform_source);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_json") < 0)) __PYX_ERR(0, 545, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_json_string = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_transform_source = values[3];
    __pyx_v_fatal = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_json", 0, 3, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 545, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_json", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_36_parse_json(__pyx_self, __pyx_v_self, __pyx_v_json_string, __pyx_v_video_id, __pyx_v_transform_source, __pyx_v_fatal);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_36_parse_json(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_json_string, PyObject *__pyx_v_video_id, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal) {
  PyObject *__pyx_v_ve = NULL;
  PyObject *__pyx_v_errmsg = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  int __pyx_t_9;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  PyObject *__pyx_t_12 = NULL;
  PyObject *__pyx_t_13 = NULL;
  int __pyx_t_14;
  char const *__pyx_t_15;
  PyObject *__pyx_t_16 = NULL;
  PyObject *__pyx_t_17 = NULL;
  PyObject *__pyx_t_18 = NULL;
  PyObject *__pyx_t_19 = NULL;
  PyObject *__pyx_t_20 = NULL;
  PyObject *__pyx_t_21 = NULL;
  __Pyx_RefNannySetupContext("_parse_json", 0);
  __Pyx_INCREF(__pyx_v_json_string);

  /* "youtube_dl/extractor/common.py":546
 * 
 *     def _parse_json(self, json_string, video_id, transform_source=None, fatal=True):
 *         if transform_source:             # <<<<<<<<<<<<<<
 *             json_string = transform_source(json_string)
 *         try:
 */
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_transform_source); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 546, __pyx_L1_error)
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":547
 *     def _parse_json(self, json_string, video_id, transform_source=None, fatal=True):
 *         if transform_source:
 *             json_string = transform_source(json_string)             # <<<<<<<<<<<<<<
 *         try:
 *             return json.loads(json_string)
 */
    __Pyx_INCREF(__pyx_v_transform_source);
    __pyx_t_3 = __pyx_v_transform_source; __pyx_t_4 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_4);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
      }
    }
    if (!__pyx_t_4) {
      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_json_string); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 547, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
    } else {
      __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 547, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
      __Pyx_INCREF(__pyx_v_json_string);
      __Pyx_GIVEREF(__pyx_v_json_string);
      PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_v_json_string);
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 547, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    }
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF_SET(__pyx_v_json_string, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":546
 * 
 *     def _parse_json(self, json_string, video_id, transform_source=None, fatal=True):
 *         if transform_source:             # <<<<<<<<<<<<<<
 *             json_string = transform_source(json_string)
 *         try:
 */
  }

  /* "youtube_dl/extractor/common.py":548
 *         if transform_source:
 *             json_string = transform_source(json_string)
 *         try:             # <<<<<<<<<<<<<<
 *             return json.loads(json_string)
 *         except ValueError as ve:
 */
  {
    __Pyx_PyThreadState_declare
    __Pyx_PyThreadState_assign
    __Pyx_ExceptionSave(&__pyx_t_6, &__pyx_t_7, &__pyx_t_8);
    __Pyx_XGOTREF(__pyx_t_6);
    __Pyx_XGOTREF(__pyx_t_7);
    __Pyx_XGOTREF(__pyx_t_8);
    /*try:*/ {

      /* "youtube_dl/extractor/common.py":549
 *             json_string = transform_source(json_string)
 *         try:
 *             return json.loads(json_string)             # <<<<<<<<<<<<<<
 *         except ValueError as ve:
 *             errmsg = '%s: Failed to parse JSON ' % video_id
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_json); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 549, __pyx_L4_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_loads); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 549, __pyx_L4_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_5);
        if (likely(__pyx_t_3)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_5, function);
        }
      }
      if (!__pyx_t_3) {
        __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_v_json_string); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 549, __pyx_L4_error)
        __Pyx_GOTREF(__pyx_t_2);
      } else {
        __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 549, __pyx_L4_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3); __pyx_t_3 = NULL;
        __Pyx_INCREF(__pyx_v_json_string);
        __Pyx_GIVEREF(__pyx_v_json_string);
        PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_json_string);
        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_4, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 549, __pyx_L4_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L8_try_return;

      /* "youtube_dl/extractor/common.py":548
 *         if transform_source:
 *             json_string = transform_source(json_string)
 *         try:             # <<<<<<<<<<<<<<
 *             return json.loads(json_string)
 *         except ValueError as ve:
 */
    }
    __pyx_L4_error:;
    __Pyx_PyThreadState_assign
    __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":550
 *         try:
 *             return json.loads(json_string)
 *         except ValueError as ve:             # <<<<<<<<<<<<<<
 *             errmsg = '%s: Failed to parse JSON ' % video_id
 *             if fatal:
 */
    __pyx_t_9 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_ValueError);
    if (__pyx_t_9) {
      __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_json", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (__Pyx_GetException(&__pyx_t_2, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 550, __pyx_L6_except_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_5);
      __pyx_v_ve = __pyx_t_5;
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":551
 *             return json.loads(json_string)
 *         except ValueError as ve:
 *             errmsg = '%s: Failed to parse JSON ' % video_id             # <<<<<<<<<<<<<<
 *             if fatal:
 *                 raise ExtractorError(errmsg, cause=ve)
 */
        __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_s_Failed_to_parse_JSON, __pyx_v_video_id); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 551, __pyx_L17_error)
        __Pyx_GOTREF(__pyx_t_3);
        __pyx_v_errmsg = ((PyObject*)__pyx_t_3);
        __pyx_t_3 = 0;

        /* "youtube_dl/extractor/common.py":552
 *         except ValueError as ve:
 *             errmsg = '%s: Failed to parse JSON ' % video_id
 *             if fatal:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError(errmsg, cause=ve)
 *             else:
 */
        __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_fatal); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 552, __pyx_L17_error)
        if (__pyx_t_1) {

          /* "youtube_dl/extractor/common.py":553
 *             errmsg = '%s: Failed to parse JSON ' % video_id
 *             if fatal:
 *                 raise ExtractorError(errmsg, cause=ve)             # <<<<<<<<<<<<<<
 *             else:
 *                 self.report_warning(errmsg + str(ve))
 */
          __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 553, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_3);
          __pyx_t_10 = PyTuple_New(1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 553, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_10);
          __Pyx_INCREF(__pyx_v_errmsg);
          __Pyx_GIVEREF(__pyx_v_errmsg);
          PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_v_errmsg);
          __pyx_t_11 = PyDict_New(); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 553, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_11);
          if (PyDict_SetItem(__pyx_t_11, __pyx_n_s_cause, __pyx_v_ve) < 0) __PYX_ERR(0, 553, __pyx_L17_error)
          __pyx_t_12 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_10, __pyx_t_11); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 553, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_12);
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          __Pyx_Raise(__pyx_t_12, 0, 0, 0);
          __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
          __PYX_ERR(0, 553, __pyx_L17_error)

          /* "youtube_dl/extractor/common.py":552
 *         except ValueError as ve:
 *             errmsg = '%s: Failed to parse JSON ' % video_id
 *             if fatal:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError(errmsg, cause=ve)
 *             else:
 */
        }

        /* "youtube_dl/extractor/common.py":555
 *                 raise ExtractorError(errmsg, cause=ve)
 *             else:
 *                 self.report_warning(errmsg + str(ve))             # <<<<<<<<<<<<<<
 * 
 *     def report_warning(self, msg, video_id=None):
 */
        /*else*/ {
          __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 555, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_11);
          __pyx_t_10 = PyTuple_New(1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 555, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_10);
          __Pyx_INCREF(__pyx_v_ve);
          __Pyx_GIVEREF(__pyx_v_ve);
          PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_v_ve);
          __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)(&PyUnicode_Type)), __pyx_t_10, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 555, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_3);
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __pyx_t_10 = __Pyx_PyUnicode_Concat(__pyx_v_errmsg, __pyx_t_3); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 555, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_10);
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_3 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_11))) {
            __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_11);
            if (likely(__pyx_t_3)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
              __Pyx_INCREF(__pyx_t_3);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_11, function);
            }
          }
          if (!__pyx_t_3) {
            __pyx_t_12 = __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_t_10); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 555, __pyx_L17_error)
            __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
            __Pyx_GOTREF(__pyx_t_12);
          } else {
            __pyx_t_13 = PyTuple_New(1+1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 555, __pyx_L17_error)
            __Pyx_GOTREF(__pyx_t_13);
            __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_t_3); __pyx_t_3 = NULL;
            __Pyx_GIVEREF(__pyx_t_10);
            PyTuple_SET_ITEM(__pyx_t_13, 0+1, __pyx_t_10);
            __pyx_t_10 = 0;
            __pyx_t_12 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_t_13, NULL); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 555, __pyx_L17_error)
            __Pyx_GOTREF(__pyx_t_12);
            __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
          }
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
        }
      }

      /* "youtube_dl/extractor/common.py":550
 *         try:
 *             return json.loads(json_string)
 *         except ValueError as ve:             # <<<<<<<<<<<<<<
 *             errmsg = '%s: Failed to parse JSON ' % video_id
 *             if fatal:
 */
      /*finally:*/ {
        /*normal exit:*/{
          __Pyx_DECREF(__pyx_v_ve);
          __pyx_v_ve = NULL;
          goto __pyx_L18;
        }
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __pyx_L17_error:;
          __pyx_t_16 = 0; __pyx_t_17 = 0; __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0;
          __Pyx_PyThreadState_assign
          __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
          __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
          __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
          if (PY_MAJOR_VERSION >= 3) __Pyx_ExceptionSwap(&__pyx_t_19, &__pyx_t_20, &__pyx_t_21);
          if ((PY_MAJOR_VERSION < 3) || unlikely(__Pyx_GetException(&__pyx_t_16, &__pyx_t_17, &__pyx_t_18) < 0)) __Pyx_ErrFetch(&__pyx_t_16, &__pyx_t_17, &__pyx_t_18);
          __Pyx_XGOTREF(__pyx_t_16);
          __Pyx_XGOTREF(__pyx_t_17);
          __Pyx_XGOTREF(__pyx_t_18);
          __Pyx_XGOTREF(__pyx_t_19);
          __Pyx_XGOTREF(__pyx_t_20);
          __Pyx_XGOTREF(__pyx_t_21);
          __pyx_t_9 = __pyx_lineno; __pyx_t_14 = __pyx_clineno; __pyx_t_15 = __pyx_filename;
          {
            __Pyx_DECREF(__pyx_v_ve);
            __pyx_v_ve = NULL;
          }
          __Pyx_PyThreadState_assign
          if (PY_MAJOR_VERSION >= 3) {
            __Pyx_XGIVEREF(__pyx_t_19);
            __Pyx_XGIVEREF(__pyx_t_20);
            __Pyx_XGIVEREF(__pyx_t_21);
            __Pyx_ExceptionReset(__pyx_t_19, __pyx_t_20, __pyx_t_21);
          }
          __Pyx_XGIVEREF(__pyx_t_16);
          __Pyx_XGIVEREF(__pyx_t_17);
          __Pyx_XGIVEREF(__pyx_t_18);
          __Pyx_ErrRestore(__pyx_t_16, __pyx_t_17, __pyx_t_18);
          __pyx_t_16 = 0; __pyx_t_17 = 0; __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0;
          __pyx_lineno = __pyx_t_9; __pyx_clineno = __pyx_t_14; __pyx_filename = __pyx_t_15;
          goto __pyx_L6_except_error;
        }
        __pyx_L18:;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L5_exception_handled;
    }
    goto __pyx_L6_except_error;
    __pyx_L6_except_error:;

    /* "youtube_dl/extractor/common.py":548
 *         if transform_source:
 *             json_string = transform_source(json_string)
 *         try:             # <<<<<<<<<<<<<<
 *             return json.loads(json_string)
 *         except ValueError as ve:
 */
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_6);
    __Pyx_XGIVEREF(__pyx_t_7);
    __Pyx_XGIVEREF(__pyx_t_8);
    __Pyx_ExceptionReset(__pyx_t_6, __pyx_t_7, __pyx_t_8);
    goto __pyx_L1_error;
    __pyx_L8_try_return:;
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_6);
    __Pyx_XGIVEREF(__pyx_t_7);
    __Pyx_XGIVEREF(__pyx_t_8);
    __Pyx_ExceptionReset(__pyx_t_6, __pyx_t_7, __pyx_t_8);
    goto __pyx_L0;
    __pyx_L5_exception_handled:;
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_6);
    __Pyx_XGIVEREF(__pyx_t_7);
    __Pyx_XGIVEREF(__pyx_t_8);
    __Pyx_ExceptionReset(__pyx_t_6, __pyx_t_7, __pyx_t_8);
  }

  /* "youtube_dl/extractor/common.py":545
 *             json_string, video_id, transform_source=transform_source, fatal=fatal)
 * 
 *     def _parse_json(self, json_string, video_id, transform_source=None, fatal=True):             # <<<<<<<<<<<<<<
 *         if transform_source:
 *             json_string = transform_source(json_string)
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_XDECREF(__pyx_t_13);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_json", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_ve);
  __Pyx_XDECREF(__pyx_v_errmsg);
  __Pyx_XDECREF(__pyx_v_json_string);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":557
 *                 self.report_warning(errmsg + str(ve))
 * 
 *     def report_warning(self, msg, video_id=None):             # <<<<<<<<<<<<<<
 *         idstr = '' if video_id is None else '%s: ' % video_id
 *         self._downloader.report_warning(
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_39report_warning(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_39report_warning = {"report_warning", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_39report_warning, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_39report_warning(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_msg = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("report_warning (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_msg,&__pyx_n_s_video_id,0};
    PyObject* values[3] = {0,0,0};
    values[2] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_msg)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("report_warning", 0, 2, 3, 1); __PYX_ERR(0, 557, __pyx_L3_error)
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id);
          if (value) { values[2] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "report_warning") < 0)) __PYX_ERR(0, 557, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_msg = values[1];
    __pyx_v_video_id = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("report_warning", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 557, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.report_warning", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_38report_warning(__pyx_self, __pyx_v_self, __pyx_v_msg, __pyx_v_video_id);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_38report_warning(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_msg, PyObject *__pyx_v_video_id) {
  PyObject *__pyx_v_idstr = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  __Pyx_RefNannySetupContext("report_warning", 0);

  /* "youtube_dl/extractor/common.py":558
 * 
 *     def report_warning(self, msg, video_id=None):
 *         idstr = '' if video_id is None else '%s: ' % video_id             # <<<<<<<<<<<<<<
 *         self._downloader.report_warning(
 *             '[%s] %s%s' % (self.IE_NAME, idstr, msg))
 */
  __pyx_t_2 = (__pyx_v_video_id == Py_None);
  if ((__pyx_t_2 != 0)) {
    __Pyx_INCREF(__pyx_kp_u__14);
    __pyx_t_1 = __pyx_kp_u__14;
  } else {
    __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_s_2, __pyx_v_video_id); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 558, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = __pyx_t_3;
    __pyx_t_3 = 0;
  }
  __pyx_v_idstr = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":559
 *     def report_warning(self, msg, video_id=None):
 *         idstr = '' if video_id is None else '%s: ' % video_id
 *         self._downloader.report_warning(             # <<<<<<<<<<<<<<
 *             '[%s] %s%s' % (self.IE_NAME, idstr, msg))
 * 
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 559, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 559, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":560
 *         idstr = '' if video_id is None else '%s: ' % video_id
 *         self._downloader.report_warning(
 *             '[%s] %s%s' % (self.IE_NAME, idstr, msg))             # <<<<<<<<<<<<<<
 * 
 *     def to_screen(self, msg):
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_IE_NAME); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 560, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 560, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_3);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3);
  __Pyx_INCREF(__pyx_v_idstr);
  __Pyx_GIVEREF(__pyx_v_idstr);
  PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_v_idstr);
  __Pyx_INCREF(__pyx_v_msg);
  __Pyx_GIVEREF(__pyx_v_msg);
  PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_v_msg);
  __pyx_t_3 = 0;
  __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_s_s_s, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 560, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
    }
  }
  if (!__pyx_t_5) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 559, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 559, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_5); __pyx_t_5 = NULL;
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_6, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 559, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":557
 *                 self.report_warning(errmsg + str(ve))
 * 
 *     def report_warning(self, msg, video_id=None):             # <<<<<<<<<<<<<<
 *         idstr = '' if video_id is None else '%s: ' % video_id
 *         self._downloader.report_warning(
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.report_warning", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_idstr);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":562
 *             '[%s] %s%s' % (self.IE_NAME, idstr, msg))
 * 
 *     def to_screen(self, msg):             # <<<<<<<<<<<<<<
 *         """Print msg to screen, prefixing it with '[ie_name]'"""
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_41to_screen(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_40to_screen[] = "Print msg to screen, prefixing it with '[ie_name]'";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_41to_screen = {"to_screen", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_41to_screen, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_40to_screen};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_41to_screen(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_msg = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("to_screen (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_msg,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_msg)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("to_screen", 1, 2, 2, 1); __PYX_ERR(0, 562, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_screen") < 0)) __PYX_ERR(0, 562, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_msg = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("to_screen", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 562, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.to_screen", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_40to_screen(__pyx_self, __pyx_v_self, __pyx_v_msg);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_40to_screen(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_msg) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("to_screen", 0);

  /* "youtube_dl/extractor/common.py":564
 *     def to_screen(self, msg):
 *         """Print msg to screen, prefixing it with '[ie_name]'"""
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))             # <<<<<<<<<<<<<<
 * 
 *     def report_extraction(self, id_or_name):
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 564, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 564, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_IE_NAME); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 564, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 564, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2);
  __Pyx_INCREF(__pyx_v_msg);
  __Pyx_GIVEREF(__pyx_v_msg);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_msg);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_s_s_2, __pyx_t_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 564, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 564, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 564, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_2);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 564, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":562
 *             '[%s] %s%s' % (self.IE_NAME, idstr, msg))
 * 
 *     def to_screen(self, msg):             # <<<<<<<<<<<<<<
 *         """Print msg to screen, prefixing it with '[ie_name]'"""
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.to_screen", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":566
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))
 * 
 *     def report_extraction(self, id_or_name):             # <<<<<<<<<<<<<<
 *         """Report information extraction."""
 *         self.to_screen('%s: Extracting information' % id_or_name)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_43report_extraction(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_42report_extraction[] = "Report information extraction.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_43report_extraction = {"report_extraction", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_43report_extraction, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_42report_extraction};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_43report_extraction(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_id_or_name = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("report_extraction (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_id_or_name,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_id_or_name)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("report_extraction", 1, 2, 2, 1); __PYX_ERR(0, 566, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "report_extraction") < 0)) __PYX_ERR(0, 566, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_id_or_name = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("report_extraction", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 566, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.report_extraction", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_42report_extraction(__pyx_self, __pyx_v_self, __pyx_v_id_or_name);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_42report_extraction(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_id_or_name) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("report_extraction", 0);

  /* "youtube_dl/extractor/common.py":568
 *     def report_extraction(self, id_or_name):
 *         """Report information extraction."""
 *         self.to_screen('%s: Extracting information' % id_or_name)             # <<<<<<<<<<<<<<
 * 
 *     def report_download_webpage(self, video_id):
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 568, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_s_Extracting_information, __pyx_v_id_or_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 568, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 568, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 568, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 568, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":566
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))
 * 
 *     def report_extraction(self, id_or_name):             # <<<<<<<<<<<<<<
 *         """Report information extraction."""
 *         self.to_screen('%s: Extracting information' % id_or_name)
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.report_extraction", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":570
 *         self.to_screen('%s: Extracting information' % id_or_name)
 * 
 *     def report_download_webpage(self, video_id):             # <<<<<<<<<<<<<<
 *         """Report webpage download."""
 *         self.to_screen('%s: Downloading webpage' % video_id)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_45report_download_webpage(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_44report_download_webpage[] = "Report webpage download.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_45report_download_webpage = {"report_download_webpage", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_45report_download_webpage, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_44report_download_webpage};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_45report_download_webpage(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("report_download_webpage (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_video_id,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("report_download_webpage", 1, 2, 2, 1); __PYX_ERR(0, 570, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "report_download_webpage") < 0)) __PYX_ERR(0, 570, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_video_id = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("report_download_webpage", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 570, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.report_download_webpage", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_44report_download_webpage(__pyx_self, __pyx_v_self, __pyx_v_video_id);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_44report_download_webpage(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_video_id) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("report_download_webpage", 0);

  /* "youtube_dl/extractor/common.py":572
 *     def report_download_webpage(self, video_id):
 *         """Report webpage download."""
 *         self.to_screen('%s: Downloading webpage' % video_id)             # <<<<<<<<<<<<<<
 * 
 *     def report_age_confirmation(self):
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 572, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_s_Downloading_webpage, __pyx_v_video_id); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 572, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 572, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 572, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 572, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":570
 *         self.to_screen('%s: Extracting information' % id_or_name)
 * 
 *     def report_download_webpage(self, video_id):             # <<<<<<<<<<<<<<
 *         """Report webpage download."""
 *         self.to_screen('%s: Downloading webpage' % video_id)
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.report_download_webpage", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":574
 *         self.to_screen('%s: Downloading webpage' % video_id)
 * 
 *     def report_age_confirmation(self):             # <<<<<<<<<<<<<<
 *         """Report attempt to confirm age."""
 *         self.to_screen('Confirming age')
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_47report_age_confirmation(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_46report_age_confirmation[] = "Report attempt to confirm age.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_47report_age_confirmation = {"report_age_confirmation", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_47report_age_confirmation, METH_O, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_46report_age_confirmation};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_47report_age_confirmation(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("report_age_confirmation (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_46report_age_confirmation(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_46report_age_confirmation(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("report_age_confirmation", 0);

  /* "youtube_dl/extractor/common.py":576
 *     def report_age_confirmation(self):
 *         """Report attempt to confirm age."""
 *         self.to_screen('Confirming age')             # <<<<<<<<<<<<<<
 * 
 *     def report_login(self):
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 576, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__30, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 576, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":574
 *         self.to_screen('%s: Downloading webpage' % video_id)
 * 
 *     def report_age_confirmation(self):             # <<<<<<<<<<<<<<
 *         """Report attempt to confirm age."""
 *         self.to_screen('Confirming age')
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.report_age_confirmation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":578
 *         self.to_screen('Confirming age')
 * 
 *     def report_login(self):             # <<<<<<<<<<<<<<
 *         """Report attempt to log in."""
 *         self.to_screen('Logging in')
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_49report_login(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_48report_login[] = "Report attempt to log in.";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_49report_login = {"report_login", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_49report_login, METH_O, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_48report_login};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_49report_login(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("report_login (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_48report_login(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_48report_login(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("report_login", 0);

  /* "youtube_dl/extractor/common.py":580
 *     def report_login(self):
 *         """Report attempt to log in."""
 *         self.to_screen('Logging in')             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 580, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__31, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 580, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":578
 *         self.to_screen('Confirming age')
 * 
 *     def report_login(self):             # <<<<<<<<<<<<<<
 *         """Report attempt to log in."""
 *         self.to_screen('Logging in')
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.report_login", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":583
 * 
 *     @staticmethod
 *     def raise_login_required(msg='This video is only available for registered users'):             # <<<<<<<<<<<<<<
 *         raise ExtractorError(
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_51raise_login_required(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_51raise_login_required = {"raise_login_required", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_51raise_login_required, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_51raise_login_required(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_msg = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("raise_login_required (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_msg,0};
    PyObject* values[1] = {0};
    values[0] = ((PyObject *)((PyObject*)__pyx_kp_u_This_video_is_only_available_for));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_msg);
          if (value) { values[0] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "raise_login_required") < 0)) __PYX_ERR(0, 583, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_msg = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("raise_login_required", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 583, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.raise_login_required", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_50raise_login_required(__pyx_self, __pyx_v_msg);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_50raise_login_required(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_msg) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("raise_login_required", 0);

  /* "youtube_dl/extractor/common.py":584
 *     @staticmethod
 *     def raise_login_required(msg='This video is only available for registered users'):
 *         raise ExtractorError(             # <<<<<<<<<<<<<<
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,
 *             expected=True)
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 584, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":585
 *     def raise_login_required(msg='This video is only available for registered users'):
 *         raise ExtractorError(
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,             # <<<<<<<<<<<<<<
 *             expected=True)
 * 
 */
  __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_s_Use_username_and_password_or, __pyx_v_msg); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 585, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);

  /* "youtube_dl/extractor/common.py":584
 *     @staticmethod
 *     def raise_login_required(msg='This video is only available for registered users'):
 *         raise ExtractorError(             # <<<<<<<<<<<<<<
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,
 *             expected=True)
 */
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 584, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":586
 *         raise ExtractorError(
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,
 *             expected=True)             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 586, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_expected, Py_True) < 0) __PYX_ERR(0, 586, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":584
 *     @staticmethod
 *     def raise_login_required(msg='This video is only available for registered users'):
 *         raise ExtractorError(             # <<<<<<<<<<<<<<
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,
 *             expected=True)
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 584, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_Raise(__pyx_t_4, 0, 0, 0);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __PYX_ERR(0, 584, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":583
 * 
 *     @staticmethod
 *     def raise_login_required(msg='This video is only available for registered users'):             # <<<<<<<<<<<<<<
 *         raise ExtractorError(
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.raise_login_required", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":589
 * 
 *     @staticmethod
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):             # <<<<<<<<<<<<<<
 *         raise ExtractorError(
 *             '%s. You might want to use --proxy to workaround.' % msg,
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_53raise_geo_restricted(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_53raise_geo_restricted = {"raise_geo_restricted", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_53raise_geo_restricted, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_53raise_geo_restricted(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_msg = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("raise_geo_restricted (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_msg,0};
    PyObject* values[1] = {0};
    values[0] = ((PyObject *)((PyObject*)__pyx_kp_u_This_video_is_not_available_from));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_msg);
          if (value) { values[0] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "raise_geo_restricted") < 0)) __PYX_ERR(0, 589, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_msg = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("raise_geo_restricted", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 589, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.raise_geo_restricted", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_52raise_geo_restricted(__pyx_self, __pyx_v_msg);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_52raise_geo_restricted(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_msg) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("raise_geo_restricted", 0);

  /* "youtube_dl/extractor/common.py":590
 *     @staticmethod
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):
 *         raise ExtractorError(             # <<<<<<<<<<<<<<
 *             '%s. You might want to use --proxy to workaround.' % msg,
 *             expected=True)
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 590, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":591
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):
 *         raise ExtractorError(
 *             '%s. You might want to use --proxy to workaround.' % msg,             # <<<<<<<<<<<<<<
 *             expected=True)
 * 
 */
  __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_s_You_might_want_to_use_proxy_t, __pyx_v_msg); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 591, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);

  /* "youtube_dl/extractor/common.py":590
 *     @staticmethod
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):
 *         raise ExtractorError(             # <<<<<<<<<<<<<<
 *             '%s. You might want to use --proxy to workaround.' % msg,
 *             expected=True)
 */
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 590, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":592
 *         raise ExtractorError(
 *             '%s. You might want to use --proxy to workaround.' % msg,
 *             expected=True)             # <<<<<<<<<<<<<<
 * 
 *     # Methods for following #608
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 592, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_expected, Py_True) < 0) __PYX_ERR(0, 592, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":590
 *     @staticmethod
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):
 *         raise ExtractorError(             # <<<<<<<<<<<<<<
 *             '%s. You might want to use --proxy to workaround.' % msg,
 *             expected=True)
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 590, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_Raise(__pyx_t_4, 0, 0, 0);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __PYX_ERR(0, 590, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":589
 * 
 *     @staticmethod
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):             # <<<<<<<<<<<<<<
 *         raise ExtractorError(
 *             '%s. You might want to use --proxy to workaround.' % msg,
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.raise_geo_restricted", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":596
 *     # Methods for following #608
 *     @staticmethod
 *     def url_result(url, ie=None, video_id=None, video_title=None):             # <<<<<<<<<<<<<<
 *         """Returns a URL that points to a page that should be processed"""
 *         # TODO: ie should be the class used for getting the info
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_55url_result(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_54url_result[] = "Returns a URL that points to a page that should be processed";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_55url_result = {"url_result", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_55url_result, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_54url_result};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_55url_result(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_v_ie = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_video_title = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("url_result (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_url,&__pyx_n_s_ie,&__pyx_n_s_video_id,&__pyx_n_s_video_title,0};
    PyObject* values[4] = {0,0,0,0};
    values[1] = ((PyObject *)((PyObject *)Py_None));
    values[2] = ((PyObject *)((PyObject *)Py_None));
    values[3] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_ie);
          if (value) { values[1] = value; kw_args--; }
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id);
          if (value) { values[2] = value; kw_args--; }
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_title);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "url_result") < 0)) __PYX_ERR(0, 596, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_url = values[0];
    __pyx_v_ie = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_video_title = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("url_result", 0, 1, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 596, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.url_result", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_54url_result(__pyx_self, __pyx_v_url, __pyx_v_ie, __pyx_v_video_id, __pyx_v_video_title);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_54url_result(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_url, PyObject *__pyx_v_ie, PyObject *__pyx_v_video_id, PyObject *__pyx_v_video_title) {
  PyObject *__pyx_v_video_info = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  __Pyx_RefNannySetupContext("url_result", 0);

  /* "youtube_dl/extractor/common.py":599
 *         """Returns a URL that points to a page that should be processed"""
 *         # TODO: ie should be the class used for getting the info
 *         video_info = {'_type': 'url',             # <<<<<<<<<<<<<<
 *                       'url': url,
 *                       'ie_key': ie}
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 599, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_type, __pyx_n_u_url) < 0) __PYX_ERR(0, 599, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":600
 *         # TODO: ie should be the class used for getting the info
 *         video_info = {'_type': 'url',
 *                       'url': url,             # <<<<<<<<<<<<<<
 *                       'ie_key': ie}
 *         if video_id is not None:
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_url, __pyx_v_url) < 0) __PYX_ERR(0, 599, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":601
 *         video_info = {'_type': 'url',
 *                       'url': url,
 *                       'ie_key': ie}             # <<<<<<<<<<<<<<
 *         if video_id is not None:
 *             video_info['id'] = video_id
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_ie_key, __pyx_v_ie) < 0) __PYX_ERR(0, 599, __pyx_L1_error)
  __pyx_v_video_info = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":602
 *                       'url': url,
 *                       'ie_key': ie}
 *         if video_id is not None:             # <<<<<<<<<<<<<<
 *             video_info['id'] = video_id
 *         if video_title is not None:
 */
  __pyx_t_2 = (__pyx_v_video_id != Py_None);
  __pyx_t_3 = (__pyx_t_2 != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":603
 *                       'ie_key': ie}
 *         if video_id is not None:
 *             video_info['id'] = video_id             # <<<<<<<<<<<<<<
 *         if video_title is not None:
 *             video_info['title'] = video_title
 */
    if (unlikely(PyDict_SetItem(__pyx_v_video_info, __pyx_n_u_id, __pyx_v_video_id) < 0)) __PYX_ERR(0, 603, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":602
 *                       'url': url,
 *                       'ie_key': ie}
 *         if video_id is not None:             # <<<<<<<<<<<<<<
 *             video_info['id'] = video_id
 *         if video_title is not None:
 */
  }

  /* "youtube_dl/extractor/common.py":604
 *         if video_id is not None:
 *             video_info['id'] = video_id
 *         if video_title is not None:             # <<<<<<<<<<<<<<
 *             video_info['title'] = video_title
 *         return video_info
 */
  __pyx_t_3 = (__pyx_v_video_title != Py_None);
  __pyx_t_2 = (__pyx_t_3 != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":605
 *             video_info['id'] = video_id
 *         if video_title is not None:
 *             video_info['title'] = video_title             # <<<<<<<<<<<<<<
 *         return video_info
 * 
 */
    if (unlikely(PyDict_SetItem(__pyx_v_video_info, __pyx_n_u_title, __pyx_v_video_title) < 0)) __PYX_ERR(0, 605, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":604
 *         if video_id is not None:
 *             video_info['id'] = video_id
 *         if video_title is not None:             # <<<<<<<<<<<<<<
 *             video_info['title'] = video_title
 *         return video_info
 */
  }

  /* "youtube_dl/extractor/common.py":606
 *         if video_title is not None:
 *             video_info['title'] = video_title
 *         return video_info             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_video_info);
  __pyx_r = __pyx_v_video_info;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":596
 *     # Methods for following #608
 *     @staticmethod
 *     def url_result(url, ie=None, video_id=None, video_title=None):             # <<<<<<<<<<<<<<
 *         """Returns a URL that points to a page that should be processed"""
 *         # TODO: ie should be the class used for getting the info
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.url_result", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_video_info);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":609
 * 
 *     @staticmethod
 *     def playlist_result(entries, playlist_id=None, playlist_title=None, playlist_description=None):             # <<<<<<<<<<<<<<
 *         """Returns a playlist"""
 *         video_info = {'_type': 'playlist',
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_57playlist_result(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_56playlist_result[] = "Returns a playlist";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_57playlist_result = {"playlist_result", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_57playlist_result, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_56playlist_result};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_57playlist_result(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_entries = 0;
  PyObject *__pyx_v_playlist_id = 0;
  PyObject *__pyx_v_playlist_title = 0;
  PyObject *__pyx_v_playlist_description = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("playlist_result (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_entries,&__pyx_n_s_playlist_id,&__pyx_n_s_playlist_title,&__pyx_n_s_playlist_description,0};
    PyObject* values[4] = {0,0,0,0};
    values[1] = ((PyObject *)((PyObject *)Py_None));
    values[2] = ((PyObject *)((PyObject *)Py_None));
    values[3] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_entries)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_playlist_id);
          if (value) { values[1] = value; kw_args--; }
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_playlist_title);
          if (value) { values[2] = value; kw_args--; }
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_playlist_description);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "playlist_result") < 0)) __PYX_ERR(0, 609, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_entries = values[0];
    __pyx_v_playlist_id = values[1];
    __pyx_v_playlist_title = values[2];
    __pyx_v_playlist_description = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("playlist_result", 0, 1, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 609, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.playlist_result", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_56playlist_result(__pyx_self, __pyx_v_entries, __pyx_v_playlist_id, __pyx_v_playlist_title, __pyx_v_playlist_description);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_56playlist_result(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_entries, PyObject *__pyx_v_playlist_id, PyObject *__pyx_v_playlist_title, PyObject *__pyx_v_playlist_description) {
  PyObject *__pyx_v_video_info = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  __Pyx_RefNannySetupContext("playlist_result", 0);

  /* "youtube_dl/extractor/common.py":611
 *     def playlist_result(entries, playlist_id=None, playlist_title=None, playlist_description=None):
 *         """Returns a playlist"""
 *         video_info = {'_type': 'playlist',             # <<<<<<<<<<<<<<
 *                       'entries': entries}
 *         if playlist_id:
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 611, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_type, __pyx_n_u_playlist) < 0) __PYX_ERR(0, 611, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":612
 *         """Returns a playlist"""
 *         video_info = {'_type': 'playlist',
 *                       'entries': entries}             # <<<<<<<<<<<<<<
 *         if playlist_id:
 *             video_info['id'] = playlist_id
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_entries, __pyx_v_entries) < 0) __PYX_ERR(0, 611, __pyx_L1_error)
  __pyx_v_video_info = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":613
 *         video_info = {'_type': 'playlist',
 *                       'entries': entries}
 *         if playlist_id:             # <<<<<<<<<<<<<<
 *             video_info['id'] = playlist_id
 *         if playlist_title:
 */
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_playlist_id); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 613, __pyx_L1_error)
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":614
 *                       'entries': entries}
 *         if playlist_id:
 *             video_info['id'] = playlist_id             # <<<<<<<<<<<<<<
 *         if playlist_title:
 *             video_info['title'] = playlist_title
 */
    if (unlikely(PyDict_SetItem(__pyx_v_video_info, __pyx_n_u_id, __pyx_v_playlist_id) < 0)) __PYX_ERR(0, 614, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":613
 *         video_info = {'_type': 'playlist',
 *                       'entries': entries}
 *         if playlist_id:             # <<<<<<<<<<<<<<
 *             video_info['id'] = playlist_id
 *         if playlist_title:
 */
  }

  /* "youtube_dl/extractor/common.py":615
 *         if playlist_id:
 *             video_info['id'] = playlist_id
 *         if playlist_title:             # <<<<<<<<<<<<<<
 *             video_info['title'] = playlist_title
 *         if playlist_description:
 */
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_playlist_title); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 615, __pyx_L1_error)
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":616
 *             video_info['id'] = playlist_id
 *         if playlist_title:
 *             video_info['title'] = playlist_title             # <<<<<<<<<<<<<<
 *         if playlist_description:
 *             video_info['description'] = playlist_description
 */
    if (unlikely(PyDict_SetItem(__pyx_v_video_info, __pyx_n_u_title, __pyx_v_playlist_title) < 0)) __PYX_ERR(0, 616, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":615
 *         if playlist_id:
 *             video_info['id'] = playlist_id
 *         if playlist_title:             # <<<<<<<<<<<<<<
 *             video_info['title'] = playlist_title
 *         if playlist_description:
 */
  }

  /* "youtube_dl/extractor/common.py":617
 *         if playlist_title:
 *             video_info['title'] = playlist_title
 *         if playlist_description:             # <<<<<<<<<<<<<<
 *             video_info['description'] = playlist_description
 *         return video_info
 */
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_playlist_description); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 617, __pyx_L1_error)
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":618
 *             video_info['title'] = playlist_title
 *         if playlist_description:
 *             video_info['description'] = playlist_description             # <<<<<<<<<<<<<<
 *         return video_info
 * 
 */
    if (unlikely(PyDict_SetItem(__pyx_v_video_info, __pyx_n_u_description, __pyx_v_playlist_description) < 0)) __PYX_ERR(0, 618, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":617
 *         if playlist_title:
 *             video_info['title'] = playlist_title
 *         if playlist_description:             # <<<<<<<<<<<<<<
 *             video_info['description'] = playlist_description
 *         return video_info
 */
  }

  /* "youtube_dl/extractor/common.py":619
 *         if playlist_description:
 *             video_info['description'] = playlist_description
 *         return video_info             # <<<<<<<<<<<<<<
 * 
 *     def _search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_video_info);
  __pyx_r = __pyx_v_video_info;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":609
 * 
 *     @staticmethod
 *     def playlist_result(entries, playlist_id=None, playlist_title=None, playlist_description=None):             # <<<<<<<<<<<<<<
 *         """Returns a playlist"""
 *         video_info = {'_type': 'playlist',
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.playlist_result", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_video_info);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":621
 *         return video_info
 * 
 *     def _search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Perform a regex search on the given string, using a single or a list of
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_193__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 621, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults5, __pyx_self)->__pyx_arg_default);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults5, __pyx_self)->__pyx_arg_default);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __Pyx_CyFunction_Defaults(__pyx_defaults5, __pyx_self)->__pyx_arg_default);
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)__pyx_int_0));
  __Pyx_GIVEREF(((PyObject *)__pyx_int_0));
  PyTuple_SET_ITEM(__pyx_t_1, 2, ((PyObject *)__pyx_int_0));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_None));
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 621, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_59_search_regex(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_58_search_regex[] = "\n        Perform a regex search on the given string, using a single or a list of\n        patterns returning the first matching group.\n        In case of failure return a default value or raise a WARNING or a\n        RegexNotFoundError, depending on fatal, specifying the field name.\n        ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_59_search_regex = {"_search_regex", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_59_search_regex, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_58_search_regex};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_59_search_regex(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_pattern = 0;
  PyObject *__pyx_v_string = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_default = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_flags = 0;
  PyObject *__pyx_v_group = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_search_regex (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_pattern,&__pyx_n_s_string,&__pyx_n_s_name_2,&__pyx_n_s_default,&__pyx_n_s_fatal,&__pyx_n_s_flags,&__pyx_n_s_group,0};
    PyObject* values[8] = {0,0,0,0,0,0,0,0};
    __pyx_defaults5 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults5, __pyx_self);
    values[4] = __pyx_dynamic_args->__pyx_arg_default;
    values[5] = ((PyObject *)((PyObject *)Py_True));
    values[6] = ((PyObject *)((PyObject *)__pyx_int_0));
    values[7] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_pattern)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_search_regex", 0, 4, 8, 1); __PYX_ERR(0, 621, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_string)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_search_regex", 0, 4, 8, 2); __PYX_ERR(0, 621, __pyx_L3_error)
        }
        case  3:
        if (likely((values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_search_regex", 0, 4, 8, 3); __PYX_ERR(0, 621, __pyx_L3_error)
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_default);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_flags);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_group);
          if (value) { values[7] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_search_regex") < 0)) __PYX_ERR(0, 621, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_pattern = values[1];
    __pyx_v_string = values[2];
    __pyx_v_name = values[3];
    __pyx_v_default = values[4];
    __pyx_v_fatal = values[5];
    __pyx_v_flags = values[6];
    __pyx_v_group = values[7];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_search_regex", 0, 4, 8, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 621, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._search_regex", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_58_search_regex(__pyx_self, __pyx_v_self, __pyx_v_pattern, __pyx_v_string, __pyx_v_name, __pyx_v_default, __pyx_v_fatal, __pyx_v_flags, __pyx_v_group);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}
static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_13_search_regex_2generator1(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value); /* proto */

/* "youtube_dl/extractor/common.py":644
 *             if group is None:
 *                 # return the first matching group
 *                 return next(g for g in mobj.groups() if g is not None)             # <<<<<<<<<<<<<<
 *             else:
 *                 return mobj.group(group)
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_search_regex_genexpr(PyObject *__pyx_self) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("genexpr", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *) __pyx_self;
  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
  {
    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_13_search_regex_2generator1, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_InfoExtractor__search_regex_loca, __pyx_n_s_youtube_dl_extractor_common); if (unlikely(!gen)) __PYX_ERR(0, 644, __pyx_L1_error)
    __Pyx_DECREF(__pyx_cur_scope);
    __Pyx_RefNannyFinishContext();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._search_regex.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_13_search_regex_2generator1(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value) /* generator body */
{
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *__pyx_cur_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *)__pyx_generator->closure);
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *(*__pyx_t_5)(PyObject *);
  int __pyx_t_6;
  int __pyx_t_7;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("None", 0);
  switch (__pyx_generator->resume_label) {
    case 0: goto __pyx_L3_first_run;
    case 1: goto __pyx_L7_resume_from_yield;
    default: /* CPython raises the right error here */
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 644, __pyx_L1_error)
  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mobj)) { __Pyx_RaiseClosureNameError("mobj"); __PYX_ERR(0, 644, __pyx_L1_error) }
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mobj, __pyx_n_s_groups); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 644, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  } else {
    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (likely(PyList_CheckExact(__pyx_t_1)) || PyTuple_CheckExact(__pyx_t_1)) {
    __pyx_t_2 = __pyx_t_1; __Pyx_INCREF(__pyx_t_2); __pyx_t_4 = 0;
    __pyx_t_5 = NULL;
  } else {
    __pyx_t_4 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 644, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_5 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 644, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  for (;;) {
    if (likely(!__pyx_t_5)) {
      if (likely(PyList_CheckExact(__pyx_t_2))) {
        if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 644, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      } else {
        if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 644, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      }
    } else {
      __pyx_t_1 = __pyx_t_5(__pyx_t_2);
      if (unlikely(!__pyx_t_1)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 644, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_g);
    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_g, __pyx_t_1);
    __Pyx_GIVEREF(__pyx_t_1);
    __pyx_t_1 = 0;
    __pyx_t_6 = (__pyx_cur_scope->__pyx_v_g != Py_None);
    __pyx_t_7 = (__pyx_t_6 != 0);
    if (__pyx_t_7) {
      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_g);
      __pyx_r = __pyx_cur_scope->__pyx_v_g;
      __Pyx_XGIVEREF(__pyx_t_2);
      __pyx_cur_scope->__pyx_t_0 = __pyx_t_2;
      __pyx_cur_scope->__pyx_t_1 = __pyx_t_4;
      __pyx_cur_scope->__pyx_t_2 = __pyx_t_5;
      __Pyx_XGIVEREF(__pyx_r);
      __Pyx_RefNannyFinishContext();
      /* return from generator, yielding value */
      __pyx_generator->resume_label = 1;
      return __pyx_r;
      __pyx_L7_resume_from_yield:;
      __pyx_t_2 = __pyx_cur_scope->__pyx_t_0;
      __pyx_cur_scope->__pyx_t_0 = 0;
      __Pyx_XGOTREF(__pyx_t_2);
      __pyx_t_4 = __pyx_cur_scope->__pyx_t_1;
      __pyx_t_5 = __pyx_cur_scope->__pyx_t_2;
      if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 644, __pyx_L1_error)
    }
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* function exit code */
  PyErr_SetNone(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
  __pyx_generator->resume_label = -1;
  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":621
 *         return video_info
 * 
 *     def _search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Perform a regex search on the given string, using a single or a list of
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_58_search_regex(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_pattern, PyObject *__pyx_v_string, PyObject *__pyx_v_name, PyObject *__pyx_v_default, PyObject *__pyx_v_fatal, PyObject *__pyx_v_flags, PyObject *__pyx_v_group) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *__pyx_cur_scope;
  PyObject *__pyx_v_p = NULL;
  PyObject *__pyx_v__name = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  int __pyx_t_4;
  int __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  PyObject *(*__pyx_t_9)(PyObject *);
  Py_ssize_t __pyx_t_10;
  PyObject *__pyx_t_11 = NULL;
  PyObject *__pyx_t_12 = NULL;
  __Pyx_RefNannySetupContext("_search_regex", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);

  /* "youtube_dl/extractor/common.py":628
 *         RegexNotFoundError, depending on fatal, specifying the field name.
 *         """
 *         if isinstance(pattern, (str, compat_str, compiled_regex_type)):             # <<<<<<<<<<<<<<
 *             mobj = re.search(pattern, string, flags)
 *         else:
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 628, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_compiled_regex_type); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 628, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = PyUnicode_Check(__pyx_v_pattern); 
  __pyx_t_5 = (__pyx_t_4 != 0);
  if (!__pyx_t_5) {
  } else {
    __pyx_t_3 = __pyx_t_5;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_5 = PyObject_IsInstance(__pyx_v_pattern, __pyx_t_1); 
  __pyx_t_4 = (__pyx_t_5 != 0);
  if (!__pyx_t_4) {
  } else {
    __pyx_t_3 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_4 = PyObject_IsInstance(__pyx_v_pattern, __pyx_t_2); 
  __pyx_t_5 = (__pyx_t_4 != 0);
  __pyx_t_3 = __pyx_t_5;
  __pyx_L4_bool_binop_done:;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = (__pyx_t_3 != 0);
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":629
 *         """
 *         if isinstance(pattern, (str, compat_str, compiled_regex_type)):
 *             mobj = re.search(pattern, string, flags)             # <<<<<<<<<<<<<<
 *         else:
 *             for p in pattern:
 */
    __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 629, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_search); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 629, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_7 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    __pyx_t_8 = PyTuple_New(3+__pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 629, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    if (__pyx_t_2) {
      __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_2); __pyx_t_2 = NULL;
    }
    __Pyx_INCREF(__pyx_v_pattern);
    __Pyx_GIVEREF(__pyx_v_pattern);
    PyTuple_SET_ITEM(__pyx_t_8, 0+__pyx_t_7, __pyx_v_pattern);
    __Pyx_INCREF(__pyx_v_string);
    __Pyx_GIVEREF(__pyx_v_string);
    PyTuple_SET_ITEM(__pyx_t_8, 1+__pyx_t_7, __pyx_v_string);
    __Pyx_INCREF(__pyx_v_flags);
    __Pyx_GIVEREF(__pyx_v_flags);
    PyTuple_SET_ITEM(__pyx_t_8, 2+__pyx_t_7, __pyx_v_flags);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 629, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_GIVEREF(__pyx_t_1);
    __pyx_cur_scope->__pyx_v_mobj = __pyx_t_1;
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":628
 *         RegexNotFoundError, depending on fatal, specifying the field name.
 *         """
 *         if isinstance(pattern, (str, compat_str, compiled_regex_type)):             # <<<<<<<<<<<<<<
 *             mobj = re.search(pattern, string, flags)
 *         else:
 */
    goto __pyx_L3;
  }

  /* "youtube_dl/extractor/common.py":631
 *             mobj = re.search(pattern, string, flags)
 *         else:
 *             for p in pattern:             # <<<<<<<<<<<<<<
 *                 mobj = re.search(p, string, flags)
 *                 if mobj:
 */
  /*else*/ {
    if (likely(PyList_CheckExact(__pyx_v_pattern)) || PyTuple_CheckExact(__pyx_v_pattern)) {
      __pyx_t_1 = __pyx_v_pattern; __Pyx_INCREF(__pyx_t_1); __pyx_t_7 = 0;
      __pyx_t_9 = NULL;
    } else {
      __pyx_t_7 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_pattern); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 631, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_9 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 631, __pyx_L1_error)
    }
    for (;;) {
      if (likely(!__pyx_t_9)) {
        if (likely(PyList_CheckExact(__pyx_t_1))) {
          if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_1)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_6 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_6); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 631, __pyx_L1_error)
          #else
          __pyx_t_6 = PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 631, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          #endif
        } else {
          if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_6); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 631, __pyx_L1_error)
          #else
          __pyx_t_6 = PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 631, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          #endif
        }
      } else {
        __pyx_t_6 = __pyx_t_9(__pyx_t_1);
        if (unlikely(!__pyx_t_6)) {
          PyObject* exc_type = PyErr_Occurred();
          if (exc_type) {
            if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
            else __PYX_ERR(0, 631, __pyx_L1_error)
          }
          break;
        }
        __Pyx_GOTREF(__pyx_t_6);
      }
      __Pyx_XDECREF_SET(__pyx_v_p, __pyx_t_6);
      __pyx_t_6 = 0;

      /* "youtube_dl/extractor/common.py":632
 *         else:
 *             for p in pattern:
 *                 mobj = re.search(p, string, flags)             # <<<<<<<<<<<<<<
 *                 if mobj:
 *                     break
 */
      __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 632, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_search); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 632, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_8 = NULL;
      __pyx_t_10 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
        __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_2);
        if (likely(__pyx_t_8)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
          __Pyx_INCREF(__pyx_t_8);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_2, function);
          __pyx_t_10 = 1;
        }
      }
      __pyx_t_11 = PyTuple_New(3+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 632, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      if (__pyx_t_8) {
        __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_8); __pyx_t_8 = NULL;
      }
      __Pyx_INCREF(__pyx_v_p);
      __Pyx_GIVEREF(__pyx_v_p);
      PyTuple_SET_ITEM(__pyx_t_11, 0+__pyx_t_10, __pyx_v_p);
      __Pyx_INCREF(__pyx_v_string);
      __Pyx_GIVEREF(__pyx_v_string);
      PyTuple_SET_ITEM(__pyx_t_11, 1+__pyx_t_10, __pyx_v_string);
      __Pyx_INCREF(__pyx_v_flags);
      __Pyx_GIVEREF(__pyx_v_flags);
      PyTuple_SET_ITEM(__pyx_t_11, 2+__pyx_t_10, __pyx_v_flags);
      __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_11, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 632, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_mobj);
      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_mobj, __pyx_t_6);
      __Pyx_GIVEREF(__pyx_t_6);
      __pyx_t_6 = 0;

      /* "youtube_dl/extractor/common.py":633
 *             for p in pattern:
 *                 mobj = re.search(p, string, flags)
 *                 if mobj:             # <<<<<<<<<<<<<<
 *                     break
 * 
 */
      __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_cur_scope->__pyx_v_mobj); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 633, __pyx_L1_error)
      if (__pyx_t_5) {

        /* "youtube_dl/extractor/common.py":634
 *                 mobj = re.search(p, string, flags)
 *                 if mobj:
 *                     break             # <<<<<<<<<<<<<<
 * 
 *         if not self._downloader.params.get('no_color') and compat_os_name != 'nt' and sys.stderr.isatty():
 */
        goto __pyx_L8_break;

        /* "youtube_dl/extractor/common.py":633
 *             for p in pattern:
 *                 mobj = re.search(p, string, flags)
 *                 if mobj:             # <<<<<<<<<<<<<<
 *                     break
 * 
 */
      }

      /* "youtube_dl/extractor/common.py":631
 *             mobj = re.search(pattern, string, flags)
 *         else:
 *             for p in pattern:             # <<<<<<<<<<<<<<
 *                 mobj = re.search(p, string, flags)
 *                 if mobj:
 */
    }
    __pyx_L8_break:;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_L3:;

  /* "youtube_dl/extractor/common.py":636
 *                     break
 * 
 *         if not self._downloader.params.get('no_color') and compat_os_name != 'nt' and sys.stderr.isatty():             # <<<<<<<<<<<<<<
 *             _name = '\033[0;34m%s\033[0m' % name
 *         else:
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_params); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__32, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_4 = ((!__pyx_t_3) != 0);
  if (__pyx_t_4) {
  } else {
    __pyx_t_5 = __pyx_t_4;
    goto __pyx_L11_bool_binop_done;
  }
  __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_os_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_4 = (__Pyx_PyUnicode_Equals(__pyx_t_6, __pyx_n_u_nt, Py_NE)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  if (__pyx_t_4) {
  } else {
    __pyx_t_5 = __pyx_t_4;
    goto __pyx_L11_bool_binop_done;
  }
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_sys); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_stderr); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_isatty); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_1, function);
    }
  }
  if (__pyx_t_2) {
    __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 636, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  } else {
    __pyx_t_6 = __Pyx_PyObject_CallNoArg(__pyx_t_1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 636, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_5 = __pyx_t_4;
  __pyx_L11_bool_binop_done:;
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":637
 * 
 *         if not self._downloader.params.get('no_color') and compat_os_name != 'nt' and sys.stderr.isatty():
 *             _name = '\033[0;34m%s\033[0m' % name             # <<<<<<<<<<<<<<
 *         else:
 *             _name = name
 */
    __pyx_t_6 = PyUnicode_Format(__pyx_kp_u_0_34m_s_0m, __pyx_v_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 637, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_v__name = __pyx_t_6;
    __pyx_t_6 = 0;

    /* "youtube_dl/extractor/common.py":636
 *                     break
 * 
 *         if not self._downloader.params.get('no_color') and compat_os_name != 'nt' and sys.stderr.isatty():             # <<<<<<<<<<<<<<
 *             _name = '\033[0;34m%s\033[0m' % name
 *         else:
 */
    goto __pyx_L10;
  }

  /* "youtube_dl/extractor/common.py":639
 *             _name = '\033[0;34m%s\033[0m' % name
 *         else:
 *             _name = name             # <<<<<<<<<<<<<<
 * 
 *         if mobj:
 */
  /*else*/ {
    __Pyx_INCREF(__pyx_v_name);
    __pyx_v__name = __pyx_v_name;
  }
  __pyx_L10:;

  /* "youtube_dl/extractor/common.py":641
 *             _name = name
 * 
 *         if mobj:             # <<<<<<<<<<<<<<
 *             if group is None:
 *                 # return the first matching group
 */
  if (unlikely(!__pyx_cur_scope->__pyx_v_mobj)) { __Pyx_RaiseUnboundLocalError("mobj"); __PYX_ERR(0, 641, __pyx_L1_error) }
  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_cur_scope->__pyx_v_mobj); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 641, __pyx_L1_error)
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":642
 * 
 *         if mobj:
 *             if group is None:             # <<<<<<<<<<<<<<
 *                 # return the first matching group
 *                 return next(g for g in mobj.groups() if g is not None)
 */
    __pyx_t_5 = (__pyx_v_group == Py_None);
    __pyx_t_4 = (__pyx_t_5 != 0);
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":644
 *             if group is None:
 *                 # return the first matching group
 *                 return next(g for g in mobj.groups() if g is not None)             # <<<<<<<<<<<<<<
 *             else:
 *                 return mobj.group(group)
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_6 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_search_regex_genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 644, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_1 = __Pyx_PyIter_Next(__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_r = __pyx_t_1;
      __pyx_t_1 = 0;
      goto __pyx_L0;

      /* "youtube_dl/extractor/common.py":642
 * 
 *         if mobj:
 *             if group is None:             # <<<<<<<<<<<<<<
 *                 # return the first matching group
 *                 return next(g for g in mobj.groups() if g is not None)
 */
    }

    /* "youtube_dl/extractor/common.py":646
 *                 return next(g for g in mobj.groups() if g is not None)
 *             else:
 *                 return mobj.group(group)             # <<<<<<<<<<<<<<
 *         elif default is not NO_DEFAULT:
 *             return default
 */
    /*else*/ {
      __Pyx_XDECREF(__pyx_r);
      if (unlikely(!__pyx_cur_scope->__pyx_v_mobj)) { __Pyx_RaiseUnboundLocalError("mobj"); __PYX_ERR(0, 646, __pyx_L1_error) }
      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_mobj, __pyx_n_s_group); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 646, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_2 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
        if (likely(__pyx_t_2)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
          __Pyx_INCREF(__pyx_t_2);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_6, function);
        }
      }
      if (!__pyx_t_2) {
        __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_group); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 646, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
      } else {
        __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 646, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_2); __pyx_t_2 = NULL;
        __Pyx_INCREF(__pyx_v_group);
        __Pyx_GIVEREF(__pyx_v_group);
        PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_v_group);
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_11, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 646, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_r = __pyx_t_1;
      __pyx_t_1 = 0;
      goto __pyx_L0;
    }

    /* "youtube_dl/extractor/common.py":641
 *             _name = name
 * 
 *         if mobj:             # <<<<<<<<<<<<<<
 *             if group is None:
 *                 # return the first matching group
 */
  }

  /* "youtube_dl/extractor/common.py":647
 *             else:
 *                 return mobj.group(group)
 *         elif default is not NO_DEFAULT:             # <<<<<<<<<<<<<<
 *             return default
 *         elif fatal:
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_NO_DEFAULT); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 647, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = (__pyx_v_default != __pyx_t_1);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = (__pyx_t_4 != 0);
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":648
 *                 return mobj.group(group)
 *         elif default is not NO_DEFAULT:
 *             return default             # <<<<<<<<<<<<<<
 *         elif fatal:
 *             raise RegexNotFoundError('Unable to extract %s' % _name)
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_default);
    __pyx_r = __pyx_v_default;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":647
 *             else:
 *                 return mobj.group(group)
 *         elif default is not NO_DEFAULT:             # <<<<<<<<<<<<<<
 *             return default
 *         elif fatal:
 */
  }

  /* "youtube_dl/extractor/common.py":649
 *         elif default is not NO_DEFAULT:
 *             return default
 *         elif fatal:             # <<<<<<<<<<<<<<
 *             raise RegexNotFoundError('Unable to extract %s' % _name)
 *         else:
 */
  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_v_fatal); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 649, __pyx_L1_error)
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":650
 *             return default
 *         elif fatal:
 *             raise RegexNotFoundError('Unable to extract %s' % _name)             # <<<<<<<<<<<<<<
 *         else:
 *             self._downloader.report_warning('unable to extract %s' % _name + bug_reports_message())
 */
    __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_RegexNotFoundError); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 650, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_11 = PyUnicode_Format(__pyx_kp_u_Unable_to_extract_s, __pyx_v__name); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 650, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_11);
    __pyx_t_2 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
      }
    }
    if (!__pyx_t_2) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_11); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 650, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 650, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_2); __pyx_t_2 = NULL;
      __Pyx_GIVEREF(__pyx_t_11);
      PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_t_11);
      __pyx_t_11 = 0;
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 650, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_Raise(__pyx_t_1, 0, 0, 0);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __PYX_ERR(0, 650, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":649
 *         elif default is not NO_DEFAULT:
 *             return default
 *         elif fatal:             # <<<<<<<<<<<<<<
 *             raise RegexNotFoundError('Unable to extract %s' % _name)
 *         else:
 */
  }

  /* "youtube_dl/extractor/common.py":652
 *             raise RegexNotFoundError('Unable to extract %s' % _name)
 *         else:
 *             self._downloader.report_warning('unable to extract %s' % _name + bug_reports_message())             # <<<<<<<<<<<<<<
 *             return None
 * 
 */
  /*else*/ {
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 652, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 652, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = PyUnicode_Format(__pyx_kp_u_unable_to_extract_s, __pyx_v__name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 652, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_bug_reports_message); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 652, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_12 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_12)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_12);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
      }
    }
    if (__pyx_t_12) {
      __pyx_t_11 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_12); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 652, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    } else {
      __pyx_t_11 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 652, __pyx_L1_error)
    }
    __Pyx_GOTREF(__pyx_t_11);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = PyNumber_Add(__pyx_t_6, __pyx_t_11); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 652, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __pyx_t_11 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_8))) {
      __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_8);
      if (likely(__pyx_t_11)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
        __Pyx_INCREF(__pyx_t_11);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_8, function);
      }
    }
    if (!__pyx_t_11) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 652, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 652, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_11); __pyx_t_11 = NULL;
      __Pyx_GIVEREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_6, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 652, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    }
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":653
 *         else:
 *             self._downloader.report_warning('unable to extract %s' % _name + bug_reports_message())
 *             return None             # <<<<<<<<<<<<<<
 * 
 *     def _html_search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
  }

  /* "youtube_dl/extractor/common.py":621
 *         return video_info
 * 
 *     def _search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Perform a regex search on the given string, using a single or a list of
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._search_regex", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_p);
  __Pyx_XDECREF(__pyx_v__name);
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":655
 *             return None
 * 
 *     def _html_search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Like _search_regex, but strips HTML tags and unescapes entities.
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_195__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 655, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults6, __pyx_self)->__pyx_arg_default);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults6, __pyx_self)->__pyx_arg_default);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __Pyx_CyFunction_Defaults(__pyx_defaults6, __pyx_self)->__pyx_arg_default);
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)__pyx_int_0));
  __Pyx_GIVEREF(((PyObject *)__pyx_int_0));
  PyTuple_SET_ITEM(__pyx_t_1, 2, ((PyObject *)__pyx_int_0));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_None));
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 655, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_61_html_search_regex(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_60_html_search_regex[] = "\n        Like _search_regex, but strips HTML tags and unescapes entities.\n        ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_61_html_search_regex = {"_html_search_regex", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_61_html_search_regex, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_60_html_search_regex};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_61_html_search_regex(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_pattern = 0;
  PyObject *__pyx_v_string = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_default = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_flags = 0;
  PyObject *__pyx_v_group = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_html_search_regex (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_pattern,&__pyx_n_s_string,&__pyx_n_s_name_2,&__pyx_n_s_default,&__pyx_n_s_fatal,&__pyx_n_s_flags,&__pyx_n_s_group,0};
    PyObject* values[8] = {0,0,0,0,0,0,0,0};
    __pyx_defaults6 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults6, __pyx_self);
    values[4] = __pyx_dynamic_args->__pyx_arg_default;
    values[5] = ((PyObject *)((PyObject *)Py_True));
    values[6] = ((PyObject *)((PyObject *)__pyx_int_0));
    values[7] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_pattern)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_html_search_regex", 0, 4, 8, 1); __PYX_ERR(0, 655, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_string)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_html_search_regex", 0, 4, 8, 2); __PYX_ERR(0, 655, __pyx_L3_error)
        }
        case  3:
        if (likely((values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_html_search_regex", 0, 4, 8, 3); __PYX_ERR(0, 655, __pyx_L3_error)
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_default);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_flags);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_group);
          if (value) { values[7] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_html_search_regex") < 0)) __PYX_ERR(0, 655, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_pattern = values[1];
    __pyx_v_string = values[2];
    __pyx_v_name = values[3];
    __pyx_v_default = values[4];
    __pyx_v_fatal = values[5];
    __pyx_v_flags = values[6];
    __pyx_v_group = values[7];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_html_search_regex", 0, 4, 8, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 655, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._html_search_regex", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_60_html_search_regex(__pyx_self, __pyx_v_self, __pyx_v_pattern, __pyx_v_string, __pyx_v_name, __pyx_v_default, __pyx_v_fatal, __pyx_v_flags, __pyx_v_group);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_60_html_search_regex(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_pattern, PyObject *__pyx_v_string, PyObject *__pyx_v_name, PyObject *__pyx_v_default, PyObject *__pyx_v_fatal, PyObject *__pyx_v_flags, PyObject *__pyx_v_group) {
  PyObject *__pyx_v_res = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  __Pyx_RefNannySetupContext("_html_search_regex", 0);

  /* "youtube_dl/extractor/common.py":659
 *         Like _search_regex, but strips HTML tags and unescapes entities.
 *         """
 *         res = self._search_regex(pattern, string, name, default, fatal, flags, group)             # <<<<<<<<<<<<<<
 *         if res:
 *             return clean_html(res).strip()
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_search_regex); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 659, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(7+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 659, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_v_pattern);
  __Pyx_GIVEREF(__pyx_v_pattern);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_v_pattern);
  __Pyx_INCREF(__pyx_v_string);
  __Pyx_GIVEREF(__pyx_v_string);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_string);
  __Pyx_INCREF(__pyx_v_name);
  __Pyx_GIVEREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_t_5, 2+__pyx_t_4, __pyx_v_name);
  __Pyx_INCREF(__pyx_v_default);
  __Pyx_GIVEREF(__pyx_v_default);
  PyTuple_SET_ITEM(__pyx_t_5, 3+__pyx_t_4, __pyx_v_default);
  __Pyx_INCREF(__pyx_v_fatal);
  __Pyx_GIVEREF(__pyx_v_fatal);
  PyTuple_SET_ITEM(__pyx_t_5, 4+__pyx_t_4, __pyx_v_fatal);
  __Pyx_INCREF(__pyx_v_flags);
  __Pyx_GIVEREF(__pyx_v_flags);
  PyTuple_SET_ITEM(__pyx_t_5, 5+__pyx_t_4, __pyx_v_flags);
  __Pyx_INCREF(__pyx_v_group);
  __Pyx_GIVEREF(__pyx_v_group);
  PyTuple_SET_ITEM(__pyx_t_5, 6+__pyx_t_4, __pyx_v_group);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 659, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_res = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":660
 *         """
 *         res = self._search_regex(pattern, string, name, default, fatal, flags, group)
 *         if res:             # <<<<<<<<<<<<<<
 *             return clean_html(res).strip()
 *         else:
 */
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_res); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 660, __pyx_L1_error)
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":661
 *         res = self._search_regex(pattern, string, name, default, fatal, flags, group)
 *         if res:
 *             return clean_html(res).strip()             # <<<<<<<<<<<<<<
 *         else:
 *             return res
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_clean_html); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 661, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_3 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_3)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_3);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
      }
    }
    if (!__pyx_t_3) {
      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_v_res); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 661, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
    } else {
      __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 661, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_3); __pyx_t_3 = NULL;
      __Pyx_INCREF(__pyx_v_res);
      __Pyx_GIVEREF(__pyx_v_res);
      PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_v_res);
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 661, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    }
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_strip); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 661, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
      }
    }
    if (__pyx_t_2) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 661, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 661, __pyx_L1_error)
    }
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":660
 *         """
 *         res = self._search_regex(pattern, string, name, default, fatal, flags, group)
 *         if res:             # <<<<<<<<<<<<<<
 *             return clean_html(res).strip()
 *         else:
 */
  }

  /* "youtube_dl/extractor/common.py":663
 *             return clean_html(res).strip()
 *         else:
 *             return res             # <<<<<<<<<<<<<<
 * 
 *     def _get_login_info(self):
 */
  /*else*/ {
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_res);
    __pyx_r = __pyx_v_res;
    goto __pyx_L0;
  }

  /* "youtube_dl/extractor/common.py":655
 *             return None
 * 
 *     def _html_search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Like _search_regex, but strips HTML tags and unescapes entities.
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._html_search_regex", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_res);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":665
 *             return res
 * 
 *     def _get_login_info(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get the login info as (username, password)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_63_get_login_info(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_62_get_login_info[] = "\n        Get the login info as (username, password)\n        It will look in the netrc file using the _NETRC_MACHINE value\n        If there's no info available, return (None, None)\n        ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_63_get_login_info = {"_get_login_info", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_63_get_login_info, METH_O, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_62_get_login_info};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_63_get_login_info(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_get_login_info (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_62_get_login_info(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_62_get_login_info(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_v_username = NULL;
  PyObject *__pyx_v_password = NULL;
  PyObject *__pyx_v_downloader_params = NULL;
  PyObject *__pyx_v_info = NULL;
  PyObject *__pyx_v_err = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  PyObject *__pyx_t_10 = NULL;
  int __pyx_t_11;
  PyObject *__pyx_t_12 = NULL;
  PyObject *__pyx_t_13 = NULL;
  PyObject *__pyx_t_14 = NULL;
  PyObject *__pyx_t_15 = NULL;
  int __pyx_t_16;
  char const *__pyx_t_17;
  PyObject *__pyx_t_18 = NULL;
  PyObject *__pyx_t_19 = NULL;
  PyObject *__pyx_t_20 = NULL;
  PyObject *__pyx_t_21 = NULL;
  PyObject *__pyx_t_22 = NULL;
  PyObject *__pyx_t_23 = NULL;
  __Pyx_RefNannySetupContext("_get_login_info", 0);

  /* "youtube_dl/extractor/common.py":671
 *         If there's no info available, return (None, None)
 *         """
 *         if self._downloader is None:             # <<<<<<<<<<<<<<
 *             return (None, None)
 * 
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 671, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = (__pyx_t_1 == Py_None);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__pyx_t_2 != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":672
 *         """
 *         if self._downloader is None:
 *             return (None, None)             # <<<<<<<<<<<<<<
 * 
 *         username = None
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_tuple__33);
    __pyx_r = __pyx_tuple__33;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":671
 *         If there's no info available, return (None, None)
 *         """
 *         if self._downloader is None:             # <<<<<<<<<<<<<<
 *             return (None, None)
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":674
 *             return (None, None)
 * 
 *         username = None             # <<<<<<<<<<<<<<
 *         password = None
 *         downloader_params = self._downloader.params
 */
  __Pyx_INCREF(Py_None);
  __pyx_v_username = Py_None;

  /* "youtube_dl/extractor/common.py":675
 * 
 *         username = None
 *         password = None             # <<<<<<<<<<<<<<
 *         downloader_params = self._downloader.params
 * 
 */
  __Pyx_INCREF(Py_None);
  __pyx_v_password = Py_None;

  /* "youtube_dl/extractor/common.py":676
 *         username = None
 *         password = None
 *         downloader_params = self._downloader.params             # <<<<<<<<<<<<<<
 * 
 *         # Attempt to use provided username and password or .netrc data
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 676, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_params); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 676, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_downloader_params = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":679
 * 
 *         # Attempt to use provided username and password or .netrc data
 *         if downloader_params.get('username') is not None:             # <<<<<<<<<<<<<<
 *             username = downloader_params['username']
 *             password = downloader_params['password']
 */
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_downloader_params, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 679, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__34, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 679, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_3 = (__pyx_t_1 != Py_None);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_2 = (__pyx_t_3 != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":680
 *         # Attempt to use provided username and password or .netrc data
 *         if downloader_params.get('username') is not None:
 *             username = downloader_params['username']             # <<<<<<<<<<<<<<
 *             password = downloader_params['password']
 *         elif downloader_params.get('usenetrc', False):
 */
    __pyx_t_1 = PyObject_GetItem(__pyx_v_downloader_params, __pyx_n_u_username); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 680, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF_SET(__pyx_v_username, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":681
 *         if downloader_params.get('username') is not None:
 *             username = downloader_params['username']
 *             password = downloader_params['password']             # <<<<<<<<<<<<<<
 *         elif downloader_params.get('usenetrc', False):
 *             try:
 */
    __pyx_t_1 = PyObject_GetItem(__pyx_v_downloader_params, __pyx_n_u_password); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 681, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF_SET(__pyx_v_password, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":679
 * 
 *         # Attempt to use provided username and password or .netrc data
 *         if downloader_params.get('username') is not None:             # <<<<<<<<<<<<<<
 *             username = downloader_params['username']
 *             password = downloader_params['password']
 */
    goto __pyx_L4;
  }

  /* "youtube_dl/extractor/common.py":682
 *             username = downloader_params['username']
 *             password = downloader_params['password']
 *         elif downloader_params.get('usenetrc', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_downloader_params, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 682, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__35, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 682, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 682, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":683
 *             password = downloader_params['password']
 *         elif downloader_params.get('usenetrc', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 *                 if info is not None:
 */
    {
      __Pyx_PyThreadState_declare
      __Pyx_PyThreadState_assign
      __Pyx_ExceptionSave(&__pyx_t_5, &__pyx_t_6, &__pyx_t_7);
      __Pyx_XGOTREF(__pyx_t_5);
      __Pyx_XGOTREF(__pyx_t_6);
      __Pyx_XGOTREF(__pyx_t_7);
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":684
 *         elif downloader_params.get('usenetrc', False):
 *             try:
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)             # <<<<<<<<<<<<<<
 *                 if info is not None:
 *                     username = info[0]
 */
        __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_netrc); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 684, __pyx_L5_error)
        __Pyx_GOTREF(__pyx_t_8);
        __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_netrc); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 684, __pyx_L5_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_9))) {
          __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_9);
          if (likely(__pyx_t_8)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
            __Pyx_INCREF(__pyx_t_8);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_9, function);
          }
        }
        if (__pyx_t_8) {
          __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_8); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 684, __pyx_L5_error)
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        } else {
          __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 684, __pyx_L5_error)
        }
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
        __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_authenticators); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 684, __pyx_L5_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_NETRC_MACHINE); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 684, __pyx_L5_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_8 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_9))) {
          __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_9);
          if (likely(__pyx_t_8)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
            __Pyx_INCREF(__pyx_t_8);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_9, function);
          }
        }
        if (!__pyx_t_8) {
          __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 684, __pyx_L5_error)
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
          __Pyx_GOTREF(__pyx_t_4);
        } else {
          __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 684, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_10);
          __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_8); __pyx_t_8 = NULL;
          __Pyx_GIVEREF(__pyx_t_1);
          PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_t_1);
          __pyx_t_1 = 0;
          __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_t_10, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 684, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        }
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
        __pyx_v_info = __pyx_t_4;
        __pyx_t_4 = 0;

        /* "youtube_dl/extractor/common.py":685
 *             try:
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 *                 if info is not None:             # <<<<<<<<<<<<<<
 *                     username = info[0]
 *                     password = info[2]
 */
        __pyx_t_2 = (__pyx_v_info != Py_None);
        __pyx_t_3 = (__pyx_t_2 != 0);
        if (__pyx_t_3) {

          /* "youtube_dl/extractor/common.py":686
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 *                 if info is not None:
 *                     username = info[0]             # <<<<<<<<<<<<<<
 *                     password = info[2]
 *                 else:
 */
          __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_info, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 686, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_DECREF_SET(__pyx_v_username, __pyx_t_4);
          __pyx_t_4 = 0;

          /* "youtube_dl/extractor/common.py":687
 *                 if info is not None:
 *                     username = info[0]
 *                     password = info[2]             # <<<<<<<<<<<<<<
 *                 else:
 *                     raise netrc.NetrcParseError('No authenticators for %s' % self._NETRC_MACHINE)
 */
          __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_info, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 687, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_DECREF_SET(__pyx_v_password, __pyx_t_4);
          __pyx_t_4 = 0;

          /* "youtube_dl/extractor/common.py":685
 *             try:
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 *                 if info is not None:             # <<<<<<<<<<<<<<
 *                     username = info[0]
 *                     password = info[2]
 */
          goto __pyx_L13;
        }

        /* "youtube_dl/extractor/common.py":689
 *                     password = info[2]
 *                 else:
 *                     raise netrc.NetrcParseError('No authenticators for %s' % self._NETRC_MACHINE)             # <<<<<<<<<<<<<<
 *             except (IOError, netrc.NetrcParseError) as err:
 *                 self._downloader.report_warning('parsing .netrc: %s' % error_to_compat_str(err))
 */
        /*else*/ {
          __pyx_t_9 = __Pyx_GetModuleGlobalName(__pyx_n_s_netrc); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 689, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_9);
          __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_t_9, __pyx_n_s_NetrcParseError); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 689, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_10);
          __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
          __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_NETRC_MACHINE); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 689, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_9);
          __pyx_t_1 = PyUnicode_Format(__pyx_kp_u_No_authenticators_for_s, __pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 689, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
          __pyx_t_9 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_10))) {
            __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_10);
            if (likely(__pyx_t_9)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
              __Pyx_INCREF(__pyx_t_9);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_10, function);
            }
          }
          if (!__pyx_t_9) {
            __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_10, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 689, __pyx_L5_error)
            __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
            __Pyx_GOTREF(__pyx_t_4);
          } else {
            __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 689, __pyx_L5_error)
            __Pyx_GOTREF(__pyx_t_8);
            __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_9); __pyx_t_9 = NULL;
            __Pyx_GIVEREF(__pyx_t_1);
            PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_t_1);
            __pyx_t_1 = 0;
            __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_8, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 689, __pyx_L5_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
          }
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_Raise(__pyx_t_4, 0, 0, 0);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __PYX_ERR(0, 689, __pyx_L5_error)
        }
        __pyx_L13:;

        /* "youtube_dl/extractor/common.py":683
 *             password = downloader_params['password']
 *         elif downloader_params.get('usenetrc', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 *                 if info is not None:
 */
      }
      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L12_try_end;
      __pyx_L5_error:;
      __Pyx_PyThreadState_assign
      __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
      __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
      __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":690
 *                 else:
 *                     raise netrc.NetrcParseError('No authenticators for %s' % self._NETRC_MACHINE)
 *             except (IOError, netrc.NetrcParseError) as err:             # <<<<<<<<<<<<<<
 *                 self._downloader.report_warning('parsing .netrc: %s' % error_to_compat_str(err))
 * 
 */
      __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_netrc); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 690, __pyx_L7_except_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_NetrcParseError); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 690, __pyx_L7_except_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_11 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_IOError) || __Pyx_PyErr_ExceptionMatches(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      if (__pyx_t_11) {
        __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_login_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (__Pyx_GetException(&__pyx_t_10, &__pyx_t_4, &__pyx_t_8) < 0) __PYX_ERR(0, 690, __pyx_L7_except_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_INCREF(__pyx_t_4);
        __pyx_v_err = __pyx_t_4;
        /*try:*/ {

          /* "youtube_dl/extractor/common.py":691
 *                     raise netrc.NetrcParseError('No authenticators for %s' % self._NETRC_MACHINE)
 *             except (IOError, netrc.NetrcParseError) as err:
 *                 self._downloader.report_warning('parsing .netrc: %s' % error_to_compat_str(err))             # <<<<<<<<<<<<<<
 * 
 *         return (username, password)
 */
          __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 691, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_9);
          __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_t_9, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 691, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_12);
          __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
          __pyx_t_13 = __Pyx_GetModuleGlobalName(__pyx_n_s_error_to_compat_str); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 691, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_13);
          __pyx_t_14 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_13))) {
            __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_13);
            if (likely(__pyx_t_14)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_13);
              __Pyx_INCREF(__pyx_t_14);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_13, function);
            }
          }
          if (!__pyx_t_14) {
            __pyx_t_9 = __Pyx_PyObject_CallOneArg(__pyx_t_13, __pyx_v_err); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 691, __pyx_L19_error)
            __Pyx_GOTREF(__pyx_t_9);
          } else {
            __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 691, __pyx_L19_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_GIVEREF(__pyx_t_14); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_14); __pyx_t_14 = NULL;
            __Pyx_INCREF(__pyx_v_err);
            __Pyx_GIVEREF(__pyx_v_err);
            PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_v_err);
            __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_13, __pyx_t_15, NULL); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 691, __pyx_L19_error)
            __Pyx_GOTREF(__pyx_t_9);
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          }
          __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
          __pyx_t_13 = PyUnicode_Format(__pyx_kp_u_parsing_netrc_s, __pyx_t_9); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 691, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_13);
          __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
          __pyx_t_9 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_12))) {
            __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_12);
            if (likely(__pyx_t_9)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
              __Pyx_INCREF(__pyx_t_9);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_12, function);
            }
          }
          if (!__pyx_t_9) {
            __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_13); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 691, __pyx_L19_error)
            __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
            __Pyx_GOTREF(__pyx_t_1);
          } else {
            __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 691, __pyx_L19_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_9); __pyx_t_9 = NULL;
            __Pyx_GIVEREF(__pyx_t_13);
            PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_t_13);
            __pyx_t_13 = 0;
            __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_t_15, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 691, __pyx_L19_error)
            __Pyx_GOTREF(__pyx_t_1);
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          }
          __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        }

        /* "youtube_dl/extractor/common.py":690
 *                 else:
 *                     raise netrc.NetrcParseError('No authenticators for %s' % self._NETRC_MACHINE)
 *             except (IOError, netrc.NetrcParseError) as err:             # <<<<<<<<<<<<<<
 *                 self._downloader.report_warning('parsing .netrc: %s' % error_to_compat_str(err))
 * 
 */
        /*finally:*/ {
          /*normal exit:*/{
            __Pyx_DECREF(__pyx_v_err);
            __pyx_v_err = NULL;
            goto __pyx_L20;
          }
          /*exception exit:*/{
            __Pyx_PyThreadState_declare
            __pyx_L19_error:;
            __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0;
            __Pyx_PyThreadState_assign
            __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
            __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
            __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
            __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
            __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
            if (PY_MAJOR_VERSION >= 3) __Pyx_ExceptionSwap(&__pyx_t_21, &__pyx_t_22, &__pyx_t_23);
            if ((PY_MAJOR_VERSION < 3) || unlikely(__Pyx_GetException(&__pyx_t_18, &__pyx_t_19, &__pyx_t_20) < 0)) __Pyx_ErrFetch(&__pyx_t_18, &__pyx_t_19, &__pyx_t_20);
            __Pyx_XGOTREF(__pyx_t_18);
            __Pyx_XGOTREF(__pyx_t_19);
            __Pyx_XGOTREF(__pyx_t_20);
            __Pyx_XGOTREF(__pyx_t_21);
            __Pyx_XGOTREF(__pyx_t_22);
            __Pyx_XGOTREF(__pyx_t_23);
            __pyx_t_11 = __pyx_lineno; __pyx_t_16 = __pyx_clineno; __pyx_t_17 = __pyx_filename;
            {
              __Pyx_DECREF(__pyx_v_err);
              __pyx_v_err = NULL;
            }
            __Pyx_PyThreadState_assign
            if (PY_MAJOR_VERSION >= 3) {
              __Pyx_XGIVEREF(__pyx_t_21);
              __Pyx_XGIVEREF(__pyx_t_22);
              __Pyx_XGIVEREF(__pyx_t_23);
              __Pyx_ExceptionReset(__pyx_t_21, __pyx_t_22, __pyx_t_23);
            }
            __Pyx_XGIVEREF(__pyx_t_18);
            __Pyx_XGIVEREF(__pyx_t_19);
            __Pyx_XGIVEREF(__pyx_t_20);
            __Pyx_ErrRestore(__pyx_t_18, __pyx_t_19, __pyx_t_20);
            __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0;
            __pyx_lineno = __pyx_t_11; __pyx_clineno = __pyx_t_16; __pyx_filename = __pyx_t_17;
            goto __pyx_L7_except_error;
          }
          __pyx_L20:;
        }
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        goto __pyx_L6_exception_handled;
      }
      goto __pyx_L7_except_error;
      __pyx_L7_except_error:;

      /* "youtube_dl/extractor/common.py":683
 *             password = downloader_params['password']
 *         elif downloader_params.get('usenetrc', False):
 *             try:             # <<<<<<<<<<<<<<
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 *                 if info is not None:
 */
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_5);
      __Pyx_XGIVEREF(__pyx_t_6);
      __Pyx_XGIVEREF(__pyx_t_7);
      __Pyx_ExceptionReset(__pyx_t_5, __pyx_t_6, __pyx_t_7);
      goto __pyx_L1_error;
      __pyx_L6_exception_handled:;
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_5);
      __Pyx_XGIVEREF(__pyx_t_6);
      __Pyx_XGIVEREF(__pyx_t_7);
      __Pyx_ExceptionReset(__pyx_t_5, __pyx_t_6, __pyx_t_7);
      __pyx_L12_try_end:;
    }

    /* "youtube_dl/extractor/common.py":682
 *             username = downloader_params['username']
 *             password = downloader_params['password']
 *         elif downloader_params.get('usenetrc', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 */
  }
  __pyx_L4:;

  /* "youtube_dl/extractor/common.py":693
 *                 self._downloader.report_warning('parsing .netrc: %s' % error_to_compat_str(err))
 * 
 *         return (username, password)             # <<<<<<<<<<<<<<
 * 
 *     def _get_tfa_info(self, note='two-factor verification code'):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_8 = PyTuple_New(2); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 693, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_8);
  __Pyx_INCREF(__pyx_v_username);
  __Pyx_GIVEREF(__pyx_v_username);
  PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_v_username);
  __Pyx_INCREF(__pyx_v_password);
  __Pyx_GIVEREF(__pyx_v_password);
  PyTuple_SET_ITEM(__pyx_t_8, 1, __pyx_v_password);
  __pyx_r = __pyx_t_8;
  __pyx_t_8 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":665
 *             return res
 * 
 *     def _get_login_info(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get the login info as (username, password)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_XDECREF(__pyx_t_13);
  __Pyx_XDECREF(__pyx_t_14);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_login_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_username);
  __Pyx_XDECREF(__pyx_v_password);
  __Pyx_XDECREF(__pyx_v_downloader_params);
  __Pyx_XDECREF(__pyx_v_info);
  __Pyx_XDECREF(__pyx_v_err);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":695
 *         return (username, password)
 * 
 *     def _get_tfa_info(self, note='two-factor verification code'):             # <<<<<<<<<<<<<<
 *         """
 *         Get the two-factor authentication info
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_65_get_tfa_info(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_64_get_tfa_info[] = "\n        Get the two-factor authentication info\n        TODO - asking the user will be required for sms/phone verify\n        currently just uses the command line option\n        If there's no info available, return None\n        ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_65_get_tfa_info = {"_get_tfa_info", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_65_get_tfa_info, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_64_get_tfa_info};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_65_get_tfa_info(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_note = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_get_tfa_info (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_note,0};
    PyObject* values[2] = {0,0};
    values[1] = ((PyObject *)((PyObject*)__pyx_kp_u_two_factor_verification_code));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[1] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_get_tfa_info") < 0)) __PYX_ERR(0, 695, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_note = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_get_tfa_info", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 695, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_tfa_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_64_get_tfa_info(__pyx_self, __pyx_v_self, __pyx_v_note);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_64_get_tfa_info(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_note) {
  PyObject *__pyx_v_downloader_params = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  __Pyx_RefNannySetupContext("_get_tfa_info", 0);

  /* "youtube_dl/extractor/common.py":702
 *         If there's no info available, return None
 *         """
 *         if self._downloader is None:             # <<<<<<<<<<<<<<
 *             return None
 *         downloader_params = self._downloader.params
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 702, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = (__pyx_t_1 == Py_None);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__pyx_t_2 != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":703
 *         """
 *         if self._downloader is None:
 *             return None             # <<<<<<<<<<<<<<
 *         downloader_params = self._downloader.params
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":702
 *         If there's no info available, return None
 *         """
 *         if self._downloader is None:             # <<<<<<<<<<<<<<
 *             return None
 *         downloader_params = self._downloader.params
 */
  }

  /* "youtube_dl/extractor/common.py":704
 *         if self._downloader is None:
 *             return None
 *         downloader_params = self._downloader.params             # <<<<<<<<<<<<<<
 * 
 *         if downloader_params.get('twofactor') is not None:
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 704, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_params); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 704, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_downloader_params = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":706
 *         downloader_params = self._downloader.params
 * 
 *         if downloader_params.get('twofactor') is not None:             # <<<<<<<<<<<<<<
 *             return downloader_params['twofactor']
 * 
 */
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_downloader_params, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 706, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__36, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 706, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_3 = (__pyx_t_1 != Py_None);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_2 = (__pyx_t_3 != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":707
 * 
 *         if downloader_params.get('twofactor') is not None:
 *             return downloader_params['twofactor']             # <<<<<<<<<<<<<<
 * 
 *         return compat_getpass('Type %s and press [Return]: ' % note)
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_1 = PyObject_GetItem(__pyx_v_downloader_params, __pyx_n_u_twofactor); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 707, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":706
 *         downloader_params = self._downloader.params
 * 
 *         if downloader_params.get('twofactor') is not None:             # <<<<<<<<<<<<<<
 *             return downloader_params['twofactor']
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":709
 *             return downloader_params['twofactor']
 * 
 *         return compat_getpass('Type %s and press [Return]: ' % note)             # <<<<<<<<<<<<<<
 * 
 *     # Helper functions for extracting OpenGraph info
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_getpass); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 709, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = PyUnicode_Format(__pyx_kp_u_Type_s_and_press_Return, __pyx_v_note); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 709, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_6 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_6)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_6);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
    }
  }
  if (!__pyx_t_6) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 709, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 709, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_6); __pyx_t_6 = NULL;
    __Pyx_GIVEREF(__pyx_t_5);
    PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_5);
    __pyx_t_5 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 709, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":695
 *         return (username, password)
 * 
 *     def _get_tfa_info(self, note='two-factor verification code'):             # <<<<<<<<<<<<<<
 *         """
 *         Get the two-factor authentication info
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_tfa_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_downloader_params);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":713
 *     # Helper functions for extracting OpenGraph info
 *     @staticmethod
 *     def _og_regexes(prop):             # <<<<<<<<<<<<<<
 *         content_re = r'content=(?:"([^"]+?)"|\'([^\']+?)\'|\s*([^\s"\'=<>`]+?))'
 *         property_re = (r'(?:name|property)=(?:\'og:%(prop)s\'|"og:%(prop)s"|\s*og:%(prop)s\b)'
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_67_og_regexes(PyObject *__pyx_self, PyObject *__pyx_v_prop); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_67_og_regexes = {"_og_regexes", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_67_og_regexes, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_67_og_regexes(PyObject *__pyx_self, PyObject *__pyx_v_prop) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_og_regexes (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_66_og_regexes(__pyx_self, ((PyObject *)__pyx_v_prop));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_66_og_regexes(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_prop) {
  PyObject *__pyx_v_content_re = NULL;
  PyObject *__pyx_v_property_re = NULL;
  PyObject *__pyx_v_template = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("_og_regexes", 0);

  /* "youtube_dl/extractor/common.py":714
 *     @staticmethod
 *     def _og_regexes(prop):
 *         content_re = r'content=(?:"([^"]+?)"|\'([^\']+?)\'|\s*([^\s"\'=<>`]+?))'             # <<<<<<<<<<<<<<
 *         property_re = (r'(?:name|property)=(?:\'og:%(prop)s\'|"og:%(prop)s"|\s*og:%(prop)s\b)'
 *                        % {'prop': re.escape(prop)})
 */
  __Pyx_INCREF(__pyx_kp_u_content_s_s);
  __pyx_v_content_re = __pyx_kp_u_content_s_s;

  /* "youtube_dl/extractor/common.py":716
 *         content_re = r'content=(?:"([^"]+?)"|\'([^\']+?)\'|\s*([^\s"\'=<>`]+?))'
 *         property_re = (r'(?:name|property)=(?:\'og:%(prop)s\'|"og:%(prop)s"|\s*og:%(prop)s\b)'
 *                        % {'prop': re.escape(prop)})             # <<<<<<<<<<<<<<
 *         template = r'<meta[^>]+?%s[^>]+?%s'
 *         return [
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 716, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 716, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_escape); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 716, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_v_prop); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 716, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 716, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_INCREF(__pyx_v_prop);
    __Pyx_GIVEREF(__pyx_v_prop);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_v_prop);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 716, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_prop, __pyx_t_2) < 0) __PYX_ERR(0, 716, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_name_property_og_prop_s_og_prop, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 716, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_property_re = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":717
 *         property_re = (r'(?:name|property)=(?:\'og:%(prop)s\'|"og:%(prop)s"|\s*og:%(prop)s\b)'
 *                        % {'prop': re.escape(prop)})
 *         template = r'<meta[^>]+?%s[^>]+?%s'             # <<<<<<<<<<<<<<
 *         return [
 *             template % (property_re, content_re),
 */
  __Pyx_INCREF(__pyx_kp_u_meta_s_s);
  __pyx_v_template = __pyx_kp_u_meta_s_s;

  /* "youtube_dl/extractor/common.py":718
 *                        % {'prop': re.escape(prop)})
 *         template = r'<meta[^>]+?%s[^>]+?%s'
 *         return [             # <<<<<<<<<<<<<<
 *             template % (property_re, content_re),
 *             template % (content_re, property_re),
 */
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":719
 *         template = r'<meta[^>]+?%s[^>]+?%s'
 *         return [
 *             template % (property_re, content_re),             # <<<<<<<<<<<<<<
 *             template % (content_re, property_re),
 *         ]
 */
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 719, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_property_re);
  __Pyx_GIVEREF(__pyx_v_property_re);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_property_re);
  __Pyx_INCREF(__pyx_v_content_re);
  __Pyx_GIVEREF(__pyx_v_content_re);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_content_re);
  __pyx_t_1 = PyUnicode_Format(__pyx_v_template, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 719, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":720
 *         return [
 *             template % (property_re, content_re),
 *             template % (content_re, property_re),             # <<<<<<<<<<<<<<
 *         ]
 * 
 */
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 720, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_content_re);
  __Pyx_GIVEREF(__pyx_v_content_re);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_content_re);
  __Pyx_INCREF(__pyx_v_property_re);
  __Pyx_GIVEREF(__pyx_v_property_re);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_property_re);
  __pyx_t_4 = PyUnicode_Format(__pyx_v_template, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 720, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":718
 *                        % {'prop': re.escape(prop)})
 *         template = r'<meta[^>]+?%s[^>]+?%s'
 *         return [             # <<<<<<<<<<<<<<
 *             template % (property_re, content_re),
 *             template % (content_re, property_re),
 */
  __pyx_t_2 = PyList_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 718, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_4);
  PyList_SET_ITEM(__pyx_t_2, 1, __pyx_t_4);
  __pyx_t_1 = 0;
  __pyx_t_4 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":713
 *     # Helper functions for extracting OpenGraph info
 *     @staticmethod
 *     def _og_regexes(prop):             # <<<<<<<<<<<<<<
 *         content_re = r'content=(?:"([^"]+?)"|\'([^\']+?)\'|\s*([^\s"\'=<>`]+?))'
 *         property_re = (r'(?:name|property)=(?:\'og:%(prop)s\'|"og:%(prop)s"|\s*og:%(prop)s\b)'
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_regexes", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_content_re);
  __Pyx_XDECREF(__pyx_v_property_re);
  __Pyx_XDECREF(__pyx_v_template);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":724
 * 
 *     @staticmethod
 *     def _meta_regex(prop):             # <<<<<<<<<<<<<<
 *         return r'''(?isx)<meta
 *                     (?=[^>]+(?:itemprop|name|property|id|http-equiv)=(["\']?)%s\1)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_69_meta_regex(PyObject *__pyx_self, PyObject *__pyx_v_prop); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_69_meta_regex = {"_meta_regex", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_69_meta_regex, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_69_meta_regex(PyObject *__pyx_self, PyObject *__pyx_v_prop) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_meta_regex (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_68_meta_regex(__pyx_self, ((PyObject *)__pyx_v_prop));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_68_meta_regex(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_prop) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("_meta_regex", 0);

  /* "youtube_dl/extractor/common.py":725
 *     @staticmethod
 *     def _meta_regex(prop):
 *         return r'''(?isx)<meta             # <<<<<<<<<<<<<<
 *                     (?=[^>]+(?:itemprop|name|property|id|http-equiv)=(["\']?)%s\1)
 *                     [^>]+?content=(["\'])(?P<content>.*?)\2''' % re.escape(prop)
 */
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":727
 *         return r'''(?isx)<meta
 *                     (?=[^>]+(?:itemprop|name|property|id|http-equiv)=(["\']?)%s\1)
 *                     [^>]+?content=(["\'])(?P<content>.*?)\2''' % re.escape(prop)             # <<<<<<<<<<<<<<
 * 
 *     def _og_search_property(self, prop, html, name=None, **kargs):
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 727, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_escape); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 727, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_2) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_prop); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 727, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 727, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2); __pyx_t_2 = NULL;
    __Pyx_INCREF(__pyx_v_prop);
    __Pyx_GIVEREF(__pyx_v_prop);
    PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_prop);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 727, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_isx_meta_itemprop_name_property, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 727, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":724
 * 
 *     @staticmethod
 *     def _meta_regex(prop):             # <<<<<<<<<<<<<<
 *         return r'''(?isx)<meta
 *                     (?=[^>]+(?:itemprop|name|property|id|http-equiv)=(["\']?)%s\1)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._meta_regex", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":729
 *                     [^>]+?content=(["\'])(?P<content>.*?)\2''' % re.escape(prop)
 * 
 *     def _og_search_property(self, prop, html, name=None, **kargs):             # <<<<<<<<<<<<<<
 *         if name is None:
 *             name = 'OpenGraph %s' % prop
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_71_og_search_property(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_71_og_search_property = {"_og_search_property", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_71_og_search_property, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_71_og_search_property(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_prop = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_kargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_og_search_property (wrapper)", 0);
  __pyx_v_kargs = PyDict_New(); if (unlikely(!__pyx_v_kargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_prop,&__pyx_n_s_html,&__pyx_n_s_name_2,0};
    PyObject* values[4] = {0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_prop)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_og_search_property", 0, 3, 4, 1); __PYX_ERR(0, 729, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_og_search_property", 0, 3, 4, 2); __PYX_ERR(0, 729, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kargs, values, pos_args, "_og_search_property") < 0)) __PYX_ERR(0, 729, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_prop = values[1];
    __pyx_v_html = values[2];
    __pyx_v_name = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_og_search_property", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 729, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kargs); __pyx_v_kargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_property", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_70_og_search_property(__pyx_self, __pyx_v_self, __pyx_v_prop, __pyx_v_html, __pyx_v_name, __pyx_v_kargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_70_og_search_property(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_prop, PyObject *__pyx_v_html, PyObject *__pyx_v_name, PyObject *__pyx_v_kargs) {
  PyObject *__pyx_v_escaped = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  __Pyx_RefNannySetupContext("_og_search_property", 0);
  __Pyx_INCREF(__pyx_v_name);

  /* "youtube_dl/extractor/common.py":730
 * 
 *     def _og_search_property(self, prop, html, name=None, **kargs):
 *         if name is None:             # <<<<<<<<<<<<<<
 *             name = 'OpenGraph %s' % prop
 *         escaped = self._search_regex(self._og_regexes(prop), html, name, flags=re.DOTALL, **kargs)
 */
  __pyx_t_1 = (__pyx_v_name == Py_None);
  __pyx_t_2 = (__pyx_t_1 != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":731
 *     def _og_search_property(self, prop, html, name=None, **kargs):
 *         if name is None:
 *             name = 'OpenGraph %s' % prop             # <<<<<<<<<<<<<<
 *         escaped = self._search_regex(self._og_regexes(prop), html, name, flags=re.DOTALL, **kargs)
 *         if escaped is None:
 */
    __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_OpenGraph_s, __pyx_v_prop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 731, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF_SET(__pyx_v_name, __pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":730
 * 
 *     def _og_search_property(self, prop, html, name=None, **kargs):
 *         if name is None:             # <<<<<<<<<<<<<<
 *             name = 'OpenGraph %s' % prop
 *         escaped = self._search_regex(self._og_regexes(prop), html, name, flags=re.DOTALL, **kargs)
 */
  }

  /* "youtube_dl/extractor/common.py":732
 *         if name is None:
 *             name = 'OpenGraph %s' % prop
 *         escaped = self._search_regex(self._og_regexes(prop), html, name, flags=re.DOTALL, **kargs)             # <<<<<<<<<<<<<<
 *         if escaped is None:
 *             return None
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_search_regex); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_og_regexes); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_6 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
    __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
    if (likely(__pyx_t_6)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_6);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_5, function);
    }
  }
  if (!__pyx_t_6) {
    __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_v_prop); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 732, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
  } else {
    __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 732, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_6); __pyx_t_6 = NULL;
    __Pyx_INCREF(__pyx_v_prop);
    __Pyx_GIVEREF(__pyx_v_prop);
    PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_v_prop);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 732, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_v_html);
  __Pyx_INCREF(__pyx_v_name);
  __Pyx_GIVEREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_v_name);
  __pyx_t_4 = 0;
  __pyx_t_7 = PyDict_New(); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_DOTALL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_8);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_flags, __pyx_t_8) < 0) __PYX_ERR(0, 732, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_4 = __pyx_t_7;
  __pyx_t_7 = 0;
  if (__Pyx_MergeKeywords(__pyx_t_4, __pyx_v_kargs) < 0) __PYX_ERR(0, 732, __pyx_L1_error)
  __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, __pyx_t_4); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_v_escaped = __pyx_t_7;
  __pyx_t_7 = 0;

  /* "youtube_dl/extractor/common.py":733
 *             name = 'OpenGraph %s' % prop
 *         escaped = self._search_regex(self._og_regexes(prop), html, name, flags=re.DOTALL, **kargs)
 *         if escaped is None:             # <<<<<<<<<<<<<<
 *             return None
 *         return unescapeHTML(escaped)
 */
  __pyx_t_2 = (__pyx_v_escaped == Py_None);
  __pyx_t_1 = (__pyx_t_2 != 0);
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":734
 *         escaped = self._search_regex(self._og_regexes(prop), html, name, flags=re.DOTALL, **kargs)
 *         if escaped is None:
 *             return None             # <<<<<<<<<<<<<<
 *         return unescapeHTML(escaped)
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":733
 *             name = 'OpenGraph %s' % prop
 *         escaped = self._search_regex(self._og_regexes(prop), html, name, flags=re.DOTALL, **kargs)
 *         if escaped is None:             # <<<<<<<<<<<<<<
 *             return None
 *         return unescapeHTML(escaped)
 */
  }

  /* "youtube_dl/extractor/common.py":735
 *         if escaped is None:
 *             return None
 *         return unescapeHTML(escaped)             # <<<<<<<<<<<<<<
 * 
 *     def _og_search_thumbnail(self, html, **kargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 735, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
    }
  }
  if (!__pyx_t_5) {
    __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_v_escaped); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 735, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
  } else {
    __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 735, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_5); __pyx_t_5 = NULL;
    __Pyx_INCREF(__pyx_v_escaped);
    __Pyx_GIVEREF(__pyx_v_escaped);
    PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_v_escaped);
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 735, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_r = __pyx_t_7;
  __pyx_t_7 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":729
 *                     [^>]+?content=(["\'])(?P<content>.*?)\2''' % re.escape(prop)
 * 
 *     def _og_search_property(self, prop, html, name=None, **kargs):             # <<<<<<<<<<<<<<
 *         if name is None:
 *             name = 'OpenGraph %s' % prop
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_property", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_escaped);
  __Pyx_XDECREF(__pyx_v_name);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":737
 *         return unescapeHTML(escaped)
 * 
 *     def _og_search_thumbnail(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_73_og_search_thumbnail(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_73_og_search_thumbnail = {"_og_search_thumbnail", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_73_og_search_thumbnail, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_73_og_search_thumbnail(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_v_kargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_og_search_thumbnail (wrapper)", 0);
  __pyx_v_kargs = PyDict_New(); if (unlikely(!__pyx_v_kargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_og_search_thumbnail", 1, 2, 2, 1); __PYX_ERR(0, 737, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kargs, values, pos_args, "_og_search_thumbnail") < 0)) __PYX_ERR(0, 737, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_og_search_thumbnail", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 737, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kargs); __pyx_v_kargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_thumbnail", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_72_og_search_thumbnail(__pyx_self, __pyx_v_self, __pyx_v_html, __pyx_v_kargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_72_og_search_thumbnail(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_kargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("_og_search_thumbnail", 0);

  /* "youtube_dl/extractor/common.py":738
 * 
 *     def _og_search_thumbnail(self, html, **kargs):
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)             # <<<<<<<<<<<<<<
 * 
 *     def _og_search_description(self, html, **kargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_og_search_property); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 738, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 738, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_n_u_image);
  __Pyx_GIVEREF(__pyx_n_u_image);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_image);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_html);
  __Pyx_INCREF(__pyx_kp_u_thumbnail_URL);
  __Pyx_GIVEREF(__pyx_kp_u_thumbnail_URL);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_kp_u_thumbnail_URL);
  __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 738, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyDict_SetItem(__pyx_t_4, __pyx_n_s_fatal, Py_False) < 0) __PYX_ERR(0, 738, __pyx_L1_error)
  __pyx_t_3 = __pyx_t_4;
  __pyx_t_4 = 0;
  if (__Pyx_MergeKeywords(__pyx_t_3, __pyx_v_kargs) < 0) __PYX_ERR(0, 738, __pyx_L1_error)
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 738, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":737
 *         return unescapeHTML(escaped)
 * 
 *     def _og_search_thumbnail(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_thumbnail", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":740
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)
 * 
 *     def _og_search_description(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('description', html, fatal=False, **kargs)
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_75_og_search_description(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_75_og_search_description = {"_og_search_description", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_75_og_search_description, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_75_og_search_description(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_v_kargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_og_search_description (wrapper)", 0);
  __pyx_v_kargs = PyDict_New(); if (unlikely(!__pyx_v_kargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_og_search_description", 1, 2, 2, 1); __PYX_ERR(0, 740, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kargs, values, pos_args, "_og_search_description") < 0)) __PYX_ERR(0, 740, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_og_search_description", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 740, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kargs); __pyx_v_kargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_description", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_74_og_search_description(__pyx_self, __pyx_v_self, __pyx_v_html, __pyx_v_kargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_74_og_search_description(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_kargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("_og_search_description", 0);

  /* "youtube_dl/extractor/common.py":741
 * 
 *     def _og_search_description(self, html, **kargs):
 *         return self._og_search_property('description', html, fatal=False, **kargs)             # <<<<<<<<<<<<<<
 * 
 *     def _og_search_title(self, html, **kargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_og_search_property); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 741, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 741, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_n_u_description);
  __Pyx_GIVEREF(__pyx_n_u_description);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_description);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_html);
  __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 741, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyDict_SetItem(__pyx_t_4, __pyx_n_s_fatal, Py_False) < 0) __PYX_ERR(0, 741, __pyx_L1_error)
  __pyx_t_3 = __pyx_t_4;
  __pyx_t_4 = 0;
  if (__Pyx_MergeKeywords(__pyx_t_3, __pyx_v_kargs) < 0) __PYX_ERR(0, 741, __pyx_L1_error)
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 741, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":740
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)
 * 
 *     def _og_search_description(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('description', html, fatal=False, **kargs)
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_description", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":743
 *         return self._og_search_property('description', html, fatal=False, **kargs)
 * 
 *     def _og_search_title(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('title', html, **kargs)
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_77_og_search_title(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_77_og_search_title = {"_og_search_title", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_77_og_search_title, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_77_og_search_title(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_v_kargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_og_search_title (wrapper)", 0);
  __pyx_v_kargs = PyDict_New(); if (unlikely(!__pyx_v_kargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_og_search_title", 1, 2, 2, 1); __PYX_ERR(0, 743, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kargs, values, pos_args, "_og_search_title") < 0)) __PYX_ERR(0, 743, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_og_search_title", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 743, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kargs); __pyx_v_kargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_title", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_76_og_search_title(__pyx_self, __pyx_v_self, __pyx_v_html, __pyx_v_kargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_76_og_search_title(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_kargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("_og_search_title", 0);

  /* "youtube_dl/extractor/common.py":744
 * 
 *     def _og_search_title(self, html, **kargs):
 *         return self._og_search_property('title', html, **kargs)             # <<<<<<<<<<<<<<
 * 
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_og_search_property); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 744, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 744, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_n_u_title);
  __Pyx_GIVEREF(__pyx_n_u_title);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_title);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_html);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_v_kargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 744, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":743
 *         return self._og_search_property('description', html, fatal=False, **kargs)
 * 
 *     def _og_search_title(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('title', html, **kargs)
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_title", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":746
 *         return self._og_search_property('title', html, **kargs)
 * 
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):             # <<<<<<<<<<<<<<
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')
 *         if secure:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_79_og_search_video_url(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_79_og_search_video_url = {"_og_search_video_url", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_79_og_search_video_url, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_79_og_search_video_url(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_secure = 0;
  PyObject *__pyx_v_kargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_og_search_video_url (wrapper)", 0);
  __pyx_v_kargs = PyDict_New(); if (unlikely(!__pyx_v_kargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,&__pyx_n_s_name_2,&__pyx_n_s_secure,0};
    PyObject* values[4] = {0,0,0,0};
    values[2] = ((PyObject *)((PyObject*)__pyx_kp_u_video_url));
    values[3] = ((PyObject *)((PyObject *)Py_True));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_og_search_video_url", 0, 2, 4, 1); __PYX_ERR(0, 746, __pyx_L3_error)
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2);
          if (value) { values[2] = value; kw_args--; }
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_secure);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kargs, values, pos_args, "_og_search_video_url") < 0)) __PYX_ERR(0, 746, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
    __pyx_v_name = values[2];
    __pyx_v_secure = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_og_search_video_url", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 746, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kargs); __pyx_v_kargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_video_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_78_og_search_video_url(__pyx_self, __pyx_v_self, __pyx_v_html, __pyx_v_name, __pyx_v_secure, __pyx_v_kargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_78_og_search_video_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_name, PyObject *__pyx_v_secure, PyObject *__pyx_v_kargs) {
  PyObject *__pyx_v_regexes = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  __Pyx_RefNannySetupContext("_og_search_video_url", 0);

  /* "youtube_dl/extractor/common.py":747
 * 
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')             # <<<<<<<<<<<<<<
 *         if secure:
 *             regexes = self._og_regexes('video:secure_url') + regexes
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_og_regexes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__37, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_og_regexes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__38, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyNumber_Add(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_regexes = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":748
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')
 *         if secure:             # <<<<<<<<<<<<<<
 *             regexes = self._og_regexes('video:secure_url') + regexes
 *         return self._html_search_regex(regexes, html, name, **kargs)
 */
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_secure); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 748, __pyx_L1_error)
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":749
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')
 *         if secure:
 *             regexes = self._og_regexes('video:secure_url') + regexes             # <<<<<<<<<<<<<<
 *         return self._html_search_regex(regexes, html, name, **kargs)
 * 
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_og_regexes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 749, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__39, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 749, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = PyNumber_Add(__pyx_t_3, __pyx_v_regexes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 749, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF_SET(__pyx_v_regexes, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":748
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')
 *         if secure:             # <<<<<<<<<<<<<<
 *             regexes = self._og_regexes('video:secure_url') + regexes
 *         return self._html_search_regex(regexes, html, name, **kargs)
 */
  }

  /* "youtube_dl/extractor/common.py":750
 *         if secure:
 *             regexes = self._og_regexes('video:secure_url') + regexes
 *         return self._html_search_regex(regexes, html, name, **kargs)             # <<<<<<<<<<<<<<
 * 
 *     def _og_search_url(self, html, **kargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_html_search_regex); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 750, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 750, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_regexes);
  __Pyx_GIVEREF(__pyx_v_regexes);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_regexes);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_html);
  __Pyx_INCREF(__pyx_v_name);
  __Pyx_GIVEREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_v_name);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_v_kargs); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 750, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":746
 *         return self._og_search_property('title', html, **kargs)
 * 
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):             # <<<<<<<<<<<<<<
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')
 *         if secure:
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_video_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_regexes);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":752
 *         return self._html_search_regex(regexes, html, name, **kargs)
 * 
 *     def _og_search_url(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('url', html, **kargs)
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_81_og_search_url(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_81_og_search_url = {"_og_search_url", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_81_og_search_url, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_81_og_search_url(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_v_kargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_og_search_url (wrapper)", 0);
  __pyx_v_kargs = PyDict_New(); if (unlikely(!__pyx_v_kargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_og_search_url", 1, 2, 2, 1); __PYX_ERR(0, 752, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kargs, values, pos_args, "_og_search_url") < 0)) __PYX_ERR(0, 752, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_og_search_url", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 752, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kargs); __pyx_v_kargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_80_og_search_url(__pyx_self, __pyx_v_self, __pyx_v_html, __pyx_v_kargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_80_og_search_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_kargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("_og_search_url", 0);

  /* "youtube_dl/extractor/common.py":753
 * 
 *     def _og_search_url(self, html, **kargs):
 *         return self._og_search_property('url', html, **kargs)             # <<<<<<<<<<<<<<
 * 
 *     def _html_search_meta(self, name, html, display_name=None, fatal=False, **kwargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_og_search_property); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 753, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 753, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_n_u_url);
  __Pyx_GIVEREF(__pyx_n_u_url);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_url);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_html);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_v_kargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 753, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":752
 *         return self._html_search_regex(regexes, html, name, **kargs)
 * 
 *     def _og_search_url(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('url', html, **kargs)
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._og_search_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":755
 *         return self._og_search_property('url', html, **kargs)
 * 
 *     def _html_search_meta(self, name, html, display_name=None, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         if not isinstance(name, (list, tuple)):
 *             name = [name]
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_83_html_search_meta(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_83_html_search_meta = {"_html_search_meta", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_83_html_search_meta, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_83_html_search_meta(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_v_display_name = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_html_search_meta (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_name_2,&__pyx_n_s_html,&__pyx_n_s_display_name,&__pyx_n_s_fatal,0};
    PyObject* values[5] = {0,0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject *)Py_False));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_html_search_meta", 0, 3, 5, 1); __PYX_ERR(0, 755, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_html_search_meta", 0, 3, 5, 2); __PYX_ERR(0, 755, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_display_name);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "_html_search_meta") < 0)) __PYX_ERR(0, 755, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_name = values[1];
    __pyx_v_html = values[2];
    __pyx_v_display_name = values[3];
    __pyx_v_fatal = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_html_search_meta", 0, 3, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 755, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._html_search_meta", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_82_html_search_meta(__pyx_self, __pyx_v_self, __pyx_v_name, __pyx_v_html, __pyx_v_display_name, __pyx_v_fatal, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_82_html_search_meta(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_html, PyObject *__pyx_v_display_name, PyObject *__pyx_v_fatal, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  PyObject *(*__pyx_t_8)(PyObject *);
  PyObject *__pyx_t_9 = NULL;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  PyObject *__pyx_t_12 = NULL;
  __Pyx_RefNannySetupContext("_html_search_meta", 0);
  __Pyx_INCREF(__pyx_v_name);
  __Pyx_INCREF(__pyx_v_display_name);

  /* "youtube_dl/extractor/common.py":756
 * 
 *     def _html_search_meta(self, name, html, display_name=None, fatal=False, **kwargs):
 *         if not isinstance(name, (list, tuple)):             # <<<<<<<<<<<<<<
 *             name = [name]
 *         if display_name is None:
 */
  __pyx_t_2 = PyList_Check(__pyx_v_name); 
  __pyx_t_3 = (__pyx_t_2 != 0);
  if (!__pyx_t_3) {
  } else {
    __pyx_t_1 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = PyTuple_Check(__pyx_v_name); 
  __pyx_t_2 = (__pyx_t_3 != 0);
  __pyx_t_1 = __pyx_t_2;
  __pyx_L4_bool_binop_done:;
  __pyx_t_2 = ((!(__pyx_t_1 != 0)) != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":757
 *     def _html_search_meta(self, name, html, display_name=None, fatal=False, **kwargs):
 *         if not isinstance(name, (list, tuple)):
 *             name = [name]             # <<<<<<<<<<<<<<
 *         if display_name is None:
 *             display_name = name[0]
 */
    __pyx_t_4 = PyList_New(1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 757, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_INCREF(__pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    PyList_SET_ITEM(__pyx_t_4, 0, __pyx_v_name);
    __Pyx_DECREF_SET(__pyx_v_name, __pyx_t_4);
    __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":756
 * 
 *     def _html_search_meta(self, name, html, display_name=None, fatal=False, **kwargs):
 *         if not isinstance(name, (list, tuple)):             # <<<<<<<<<<<<<<
 *             name = [name]
 *         if display_name is None:
 */
  }

  /* "youtube_dl/extractor/common.py":758
 *         if not isinstance(name, (list, tuple)):
 *             name = [name]
 *         if display_name is None:             # <<<<<<<<<<<<<<
 *             display_name = name[0]
 *         return self._html_search_regex(
 */
  __pyx_t_2 = (__pyx_v_display_name == Py_None);
  __pyx_t_1 = (__pyx_t_2 != 0);
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":759
 *             name = [name]
 *         if display_name is None:
 *             display_name = name[0]             # <<<<<<<<<<<<<<
 *         return self._html_search_regex(
 *             [self._meta_regex(n) for n in name],
 */
    __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_name, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 759, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF_SET(__pyx_v_display_name, __pyx_t_4);
    __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":758
 *         if not isinstance(name, (list, tuple)):
 *             name = [name]
 *         if display_name is None:             # <<<<<<<<<<<<<<
 *             display_name = name[0]
 *         return self._html_search_regex(
 */
  }

  /* "youtube_dl/extractor/common.py":760
 *         if display_name is None:
 *             display_name = name[0]
 *         return self._html_search_regex(             # <<<<<<<<<<<<<<
 *             [self._meta_regex(n) for n in name],
 *             html, display_name, fatal=fatal, group='content', **kwargs)
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_html_search_regex); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 760, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  { /* enter inner scope */
    PyObject *__pyx_8genexpr1__pyx_v_n = NULL;

    /* "youtube_dl/extractor/common.py":761
 *             display_name = name[0]
 *         return self._html_search_regex(
 *             [self._meta_regex(n) for n in name],             # <<<<<<<<<<<<<<
 *             html, display_name, fatal=fatal, group='content', **kwargs)
 * 
 */
    __pyx_t_5 = PyList_New(0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 761, __pyx_L9_error)
    __Pyx_GOTREF(__pyx_t_5);
    if (likely(PyList_CheckExact(__pyx_v_name)) || PyTuple_CheckExact(__pyx_v_name)) {
      __pyx_t_6 = __pyx_v_name; __Pyx_INCREF(__pyx_t_6); __pyx_t_7 = 0;
      __pyx_t_8 = NULL;
    } else {
      __pyx_t_7 = -1; __pyx_t_6 = PyObject_GetIter(__pyx_v_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 761, __pyx_L9_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_8 = Py_TYPE(__pyx_t_6)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 761, __pyx_L9_error)
    }
    for (;;) {
      if (likely(!__pyx_t_8)) {
        if (likely(PyList_CheckExact(__pyx_t_6))) {
          if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_6)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_9 = PyList_GET_ITEM(__pyx_t_6, __pyx_t_7); __Pyx_INCREF(__pyx_t_9); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 761, __pyx_L9_error)
          #else
          __pyx_t_9 = PySequence_ITEM(__pyx_t_6, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 761, __pyx_L9_error)
          __Pyx_GOTREF(__pyx_t_9);
          #endif
        } else {
          if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_6)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_9 = PyTuple_GET_ITEM(__pyx_t_6, __pyx_t_7); __Pyx_INCREF(__pyx_t_9); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 761, __pyx_L9_error)
          #else
          __pyx_t_9 = PySequence_ITEM(__pyx_t_6, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 761, __pyx_L9_error)
          __Pyx_GOTREF(__pyx_t_9);
          #endif
        }
      } else {
        __pyx_t_9 = __pyx_t_8(__pyx_t_6);
        if (unlikely(!__pyx_t_9)) {
          PyObject* exc_type = PyErr_Occurred();
          if (exc_type) {
            if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
            else __PYX_ERR(0, 761, __pyx_L9_error)
          }
          break;
        }
        __Pyx_GOTREF(__pyx_t_9);
      }
      __Pyx_XDECREF_SET(__pyx_8genexpr1__pyx_v_n, __pyx_t_9);
      __pyx_t_9 = 0;
      __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_meta_regex); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 761, __pyx_L9_error)
      __Pyx_GOTREF(__pyx_t_10);
      __pyx_t_11 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_10))) {
        __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_10);
        if (likely(__pyx_t_11)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
          __Pyx_INCREF(__pyx_t_11);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_10, function);
        }
      }
      if (!__pyx_t_11) {
        __pyx_t_9 = __Pyx_PyObject_CallOneArg(__pyx_t_10, __pyx_8genexpr1__pyx_v_n); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 761, __pyx_L9_error)
        __Pyx_GOTREF(__pyx_t_9);
      } else {
        __pyx_t_12 = PyTuple_New(1+1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 761, __pyx_L9_error)
        __Pyx_GOTREF(__pyx_t_12);
        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_11); __pyx_t_11 = NULL;
        __Pyx_INCREF(__pyx_8genexpr1__pyx_v_n);
        __Pyx_GIVEREF(__pyx_8genexpr1__pyx_v_n);
        PyTuple_SET_ITEM(__pyx_t_12, 0+1, __pyx_8genexpr1__pyx_v_n);
        __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_12, NULL); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 761, __pyx_L9_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      }
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(__Pyx_ListComp_Append(__pyx_t_5, (PyObject*)__pyx_t_9))) __PYX_ERR(0, 761, __pyx_L9_error)
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_XDECREF(__pyx_8genexpr1__pyx_v_n);
    goto __pyx_L12_exit_scope;
    __pyx_L9_error:;
    __Pyx_XDECREF(__pyx_8genexpr1__pyx_v_n);
    goto __pyx_L1_error;
    __pyx_L12_exit_scope:;
  } /* exit inner scope */

  /* "youtube_dl/extractor/common.py":760
 *         if display_name is None:
 *             display_name = name[0]
 *         return self._html_search_regex(             # <<<<<<<<<<<<<<
 *             [self._meta_regex(n) for n in name],
 *             html, display_name, fatal=fatal, group='content', **kwargs)
 */
  __pyx_t_6 = PyTuple_New(3); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 760, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_GIVEREF(__pyx_t_5);
  PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_5);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_html);
  __Pyx_INCREF(__pyx_v_display_name);
  __Pyx_GIVEREF(__pyx_v_display_name);
  PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_v_display_name);
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":762
 *         return self._html_search_regex(
 *             [self._meta_regex(n) for n in name],
 *             html, display_name, fatal=fatal, group='content', **kwargs)             # <<<<<<<<<<<<<<
 * 
 *     def _dc_search_uploader(self, html):
 */
  __pyx_t_9 = PyDict_New(); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 762, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_9);
  if (PyDict_SetItem(__pyx_t_9, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 762, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_9, __pyx_n_s_group, __pyx_n_u_content) < 0) __PYX_ERR(0, 762, __pyx_L1_error)
  __pyx_t_5 = __pyx_t_9;
  __pyx_t_9 = 0;
  if (__Pyx_MergeKeywords(__pyx_t_5, __pyx_v_kwargs) < 0) __PYX_ERR(0, 762, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":760
 *         if display_name is None:
 *             display_name = name[0]
 *         return self._html_search_regex(             # <<<<<<<<<<<<<<
 *             [self._meta_regex(n) for n in name],
 *             html, display_name, fatal=fatal, group='content', **kwargs)
 */
  __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_6, __pyx_t_5); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 760, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_9);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_r = __pyx_t_9;
  __pyx_t_9 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":755
 *         return self._og_search_property('url', html, **kargs)
 * 
 *     def _html_search_meta(self, name, html, display_name=None, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         if not isinstance(name, (list, tuple)):
 *             name = [name]
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._html_search_meta", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_name);
  __Pyx_XDECREF(__pyx_v_display_name);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":764
 *             html, display_name, fatal=fatal, group='content', **kwargs)
 * 
 *     def _dc_search_uploader(self, html):             # <<<<<<<<<<<<<<
 *         return self._html_search_meta('dc.creator', html, 'uploader')
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_85_dc_search_uploader(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_85_dc_search_uploader = {"_dc_search_uploader", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_85_dc_search_uploader, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_85_dc_search_uploader(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_dc_search_uploader (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_dc_search_uploader", 1, 2, 2, 1); __PYX_ERR(0, 764, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_dc_search_uploader") < 0)) __PYX_ERR(0, 764, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_dc_search_uploader", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 764, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._dc_search_uploader", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_84_dc_search_uploader(__pyx_self, __pyx_v_self, __pyx_v_html);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_84_dc_search_uploader(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("_dc_search_uploader", 0);

  /* "youtube_dl/extractor/common.py":765
 * 
 *     def _dc_search_uploader(self, html):
 *         return self._html_search_meta('dc.creator', html, 'uploader')             # <<<<<<<<<<<<<<
 * 
 *     def _rta_search(self, html):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_html_search_meta); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 765, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(3+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 765, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_dc_creator);
  __Pyx_GIVEREF(__pyx_kp_u_dc_creator);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_kp_u_dc_creator);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_html);
  __Pyx_INCREF(__pyx_n_u_uploader);
  __Pyx_GIVEREF(__pyx_n_u_uploader);
  PyTuple_SET_ITEM(__pyx_t_5, 2+__pyx_t_4, __pyx_n_u_uploader);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 765, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":764
 *             html, display_name, fatal=fatal, group='content', **kwargs)
 * 
 *     def _dc_search_uploader(self, html):             # <<<<<<<<<<<<<<
 *         return self._html_search_meta('dc.creator', html, 'uploader')
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._dc_search_uploader", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":767
 *         return self._html_search_meta('dc.creator', html, 'uploader')
 * 
 *     def _rta_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://www.rtalabel.org/index.php?content=howtofaq#single
 *         if re.search(r'(?ix)<meta\s+name="rating"\s+'
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_87_rta_search(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_87_rta_search = {"_rta_search", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_87_rta_search, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_87_rta_search(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_rta_search (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_rta_search", 1, 2, 2, 1); __PYX_ERR(0, 767, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_rta_search") < 0)) __PYX_ERR(0, 767, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_rta_search", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 767, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._rta_search", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_86_rta_search(__pyx_self, __pyx_v_self, __pyx_v_html);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_86_rta_search(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_html) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  __Pyx_RefNannySetupContext("_rta_search", 0);

  /* "youtube_dl/extractor/common.py":769
 *     def _rta_search(self, html):
 *         # See http://www.rtalabel.org/index.php?content=howtofaq#single
 *         if re.search(r'(?ix)<meta\s+name="rating"\s+'             # <<<<<<<<<<<<<<
 *                      r'     content="RTA-5042-1996-1400-1577-RTA"',
 *                      html):
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 769, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_search); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 769, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":771
 *         if re.search(r'(?ix)<meta\s+name="rating"\s+'
 *                      r'     content="RTA-5042-1996-1400-1577-RTA"',
 *                      html):             # <<<<<<<<<<<<<<
 *             return 18
 *         return 0
 */
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 769, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_2) {
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2); __pyx_t_2 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_ix_meta_s_name_rating_s_content);
  __Pyx_GIVEREF(__pyx_kp_u_ix_meta_s_name_rating_s_content);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_kp_u_ix_meta_s_name_rating_s_content);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_html);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 769, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":769
 *     def _rta_search(self, html):
 *         # See http://www.rtalabel.org/index.php?content=howtofaq#single
 *         if re.search(r'(?ix)<meta\s+name="rating"\s+'             # <<<<<<<<<<<<<<
 *                      r'     content="RTA-5042-1996-1400-1577-RTA"',
 *                      html):
 */
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 769, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":772
 *                      r'     content="RTA-5042-1996-1400-1577-RTA"',
 *                      html):
 *             return 18             # <<<<<<<<<<<<<<
 *         return 0
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_int_18);
    __pyx_r = __pyx_int_18;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":769
 *     def _rta_search(self, html):
 *         # See http://www.rtalabel.org/index.php?content=howtofaq#single
 *         if re.search(r'(?ix)<meta\s+name="rating"\s+'             # <<<<<<<<<<<<<<
 *                      r'     content="RTA-5042-1996-1400-1577-RTA"',
 *                      html):
 */
  }

  /* "youtube_dl/extractor/common.py":773
 *                      html):
 *             return 18
 *         return 0             # <<<<<<<<<<<<<<
 * 
 *     def _media_rating_search(self, html):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_int_0);
  __pyx_r = __pyx_int_0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":767
 *         return self._html_search_meta('dc.creator', html, 'uploader')
 * 
 *     def _rta_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://www.rtalabel.org/index.php?content=howtofaq#single
 *         if re.search(r'(?ix)<meta\s+name="rating"\s+'
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._rta_search", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":775
 *         return 0
 * 
 *     def _media_rating_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://www.tjg-designs.com/WP/metadata-code-examples-adding-metadata-to-your-web-pages/
 *         rating = self._html_search_meta('rating', html)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_89_media_rating_search(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_89_media_rating_search = {"_media_rating_search", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_89_media_rating_search, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_89_media_rating_search(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_media_rating_search (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_media_rating_search", 1, 2, 2, 1); __PYX_ERR(0, 775, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_media_rating_search") < 0)) __PYX_ERR(0, 775, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_media_rating_search", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 775, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._media_rating_search", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_88_media_rating_search(__pyx_self, __pyx_v_self, __pyx_v_html);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_88_media_rating_search(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html) {
  PyObject *__pyx_v_rating = NULL;
  PyObject *__pyx_v_RATING_TABLE = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("_media_rating_search", 0);

  /* "youtube_dl/extractor/common.py":777
 *     def _media_rating_search(self, html):
 *         # See http://www.tjg-designs.com/WP/metadata-code-examples-adding-metadata-to-your-web-pages/
 *         rating = self._html_search_meta('rating', html)             # <<<<<<<<<<<<<<
 * 
 *         if not rating:
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_html_search_meta); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 777, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 777, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_n_u_rating);
  __Pyx_GIVEREF(__pyx_n_u_rating);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_n_u_rating);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_html);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 777, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_rating = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":779
 *         rating = self._html_search_meta('rating', html)
 * 
 *         if not rating:             # <<<<<<<<<<<<<<
 *             return None
 * 
 */
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_rating); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 779, __pyx_L1_error)
  __pyx_t_7 = ((!__pyx_t_6) != 0);
  if (__pyx_t_7) {

    /* "youtube_dl/extractor/common.py":780
 * 
 *         if not rating:
 *             return None             # <<<<<<<<<<<<<<
 * 
 *         RATING_TABLE = {
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":779
 *         rating = self._html_search_meta('rating', html)
 * 
 *         if not rating:             # <<<<<<<<<<<<<<
 *             return None
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":783
 * 
 *         RATING_TABLE = {
 *             'safe for kids': 0,             # <<<<<<<<<<<<<<
 *             'general': 8,
 *             '14 years': 14,
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 783, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_safe_for_kids, __pyx_int_0) < 0) __PYX_ERR(0, 783, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_general, __pyx_int_8) < 0) __PYX_ERR(0, 783, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_14_years, __pyx_int_14) < 0) __PYX_ERR(0, 783, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_mature, __pyx_int_17) < 0) __PYX_ERR(0, 783, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_restricted, __pyx_int_19) < 0) __PYX_ERR(0, 783, __pyx_L1_error)
  __pyx_v_RATING_TABLE = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":789
 *             'restricted': 19,
 *         }
 *         return RATING_TABLE.get(rating.lower())             # <<<<<<<<<<<<<<
 * 
 *     def _family_friendly_search(self, html):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_rating, __pyx_n_s_lower); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 789, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (__pyx_t_5) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 789, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  } else {
    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 789, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyDict_GetItemDefault(__pyx_v_RATING_TABLE, __pyx_t_1, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 789, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":775
 *         return 0
 * 
 *     def _media_rating_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://www.tjg-designs.com/WP/metadata-code-examples-adding-metadata-to-your-web-pages/
 *         rating = self._html_search_meta('rating', html)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._media_rating_search", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_rating);
  __Pyx_XDECREF(__pyx_v_RATING_TABLE);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":791
 *         return RATING_TABLE.get(rating.lower())
 * 
 *     def _family_friendly_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://schema.org/VideoObject
 *         family_friendly = self._html_search_meta('isFamilyFriendly', html)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_91_family_friendly_search(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_91_family_friendly_search = {"_family_friendly_search", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_91_family_friendly_search, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_91_family_friendly_search(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_family_friendly_search (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_family_friendly_search", 1, 2, 2, 1); __PYX_ERR(0, 791, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_family_friendly_search") < 0)) __PYX_ERR(0, 791, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_family_friendly_search", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 791, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._family_friendly_search", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_90_family_friendly_search(__pyx_self, __pyx_v_self, __pyx_v_html);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_90_family_friendly_search(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html) {
  PyObject *__pyx_v_family_friendly = NULL;
  PyObject *__pyx_v_RATING_TABLE = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("_family_friendly_search", 0);

  /* "youtube_dl/extractor/common.py":793
 *     def _family_friendly_search(self, html):
 *         # See http://schema.org/VideoObject
 *         family_friendly = self._html_search_meta('isFamilyFriendly', html)             # <<<<<<<<<<<<<<
 * 
 *         if not family_friendly:
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_html_search_meta); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 793, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 793, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_n_u_isFamilyFriendly);
  __Pyx_GIVEREF(__pyx_n_u_isFamilyFriendly);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_n_u_isFamilyFriendly);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_html);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 793, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_family_friendly = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":795
 *         family_friendly = self._html_search_meta('isFamilyFriendly', html)
 * 
 *         if not family_friendly:             # <<<<<<<<<<<<<<
 *             return None
 * 
 */
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_family_friendly); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 795, __pyx_L1_error)
  __pyx_t_7 = ((!__pyx_t_6) != 0);
  if (__pyx_t_7) {

    /* "youtube_dl/extractor/common.py":796
 * 
 *         if not family_friendly:
 *             return None             # <<<<<<<<<<<<<<
 * 
 *         RATING_TABLE = {
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":795
 *         family_friendly = self._html_search_meta('isFamilyFriendly', html)
 * 
 *         if not family_friendly:             # <<<<<<<<<<<<<<
 *             return None
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":799
 * 
 *         RATING_TABLE = {
 *             '1': 0,             # <<<<<<<<<<<<<<
 *             'true': 0,
 *             '0': 18,
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 799, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_1, __pyx_int_0) < 0) __PYX_ERR(0, 799, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_true, __pyx_int_0) < 0) __PYX_ERR(0, 799, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_0, __pyx_int_18) < 0) __PYX_ERR(0, 799, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_false, __pyx_int_18) < 0) __PYX_ERR(0, 799, __pyx_L1_error)
  __pyx_v_RATING_TABLE = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":804
 *             'false': 18,
 *         }
 *         return RATING_TABLE.get(family_friendly.lower())             # <<<<<<<<<<<<<<
 * 
 *     def _twitter_search_player(self, html):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_family_friendly, __pyx_n_s_lower); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 804, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (__pyx_t_5) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 804, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  } else {
    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 804, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyDict_GetItemDefault(__pyx_v_RATING_TABLE, __pyx_t_1, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 804, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":791
 *         return RATING_TABLE.get(rating.lower())
 * 
 *     def _family_friendly_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://schema.org/VideoObject
 *         family_friendly = self._html_search_meta('isFamilyFriendly', html)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._family_friendly_search", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_family_friendly);
  __Pyx_XDECREF(__pyx_v_RATING_TABLE);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":806
 *         return RATING_TABLE.get(family_friendly.lower())
 * 
 *     def _twitter_search_player(self, html):             # <<<<<<<<<<<<<<
 *         return self._html_search_meta('twitter:player', html,
 *                                       'twitter card player')
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_93_twitter_search_player(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_93_twitter_search_player = {"_twitter_search_player", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_93_twitter_search_player, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_93_twitter_search_player(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_twitter_search_player (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_twitter_search_player", 1, 2, 2, 1); __PYX_ERR(0, 806, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_twitter_search_player") < 0)) __PYX_ERR(0, 806, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_twitter_search_player", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 806, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._twitter_search_player", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_92_twitter_search_player(__pyx_self, __pyx_v_self, __pyx_v_html);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_92_twitter_search_player(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("_twitter_search_player", 0);

  /* "youtube_dl/extractor/common.py":807
 * 
 *     def _twitter_search_player(self, html):
 *         return self._html_search_meta('twitter:player', html,             # <<<<<<<<<<<<<<
 *                                       'twitter card player')
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_html_search_meta); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 807, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(3+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 807, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_twitter_player);
  __Pyx_GIVEREF(__pyx_kp_u_twitter_player);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_kp_u_twitter_player);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_html);
  __Pyx_INCREF(__pyx_kp_u_twitter_card_player);
  __Pyx_GIVEREF(__pyx_kp_u_twitter_card_player);
  PyTuple_SET_ITEM(__pyx_t_5, 2+__pyx_t_4, __pyx_kp_u_twitter_card_player);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 807, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":806
 *         return RATING_TABLE.get(family_friendly.lower())
 * 
 *     def _twitter_search_player(self, html):             # <<<<<<<<<<<<<<
 *         return self._html_search_meta('twitter:player', html,
 *                                       'twitter card player')
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._twitter_search_player", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":810
 *                                       'twitter card player')
 * 
 *     def _search_json_ld(self, html, video_id, expected_type=None, **kwargs):             # <<<<<<<<<<<<<<
 *         json_ld = self._search_regex(
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_95_search_json_ld(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_95_search_json_ld = {"_search_json_ld", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_95_search_json_ld, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_95_search_json_ld(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_expected_type = 0;
  PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_search_json_ld (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_html,&__pyx_n_s_video_id,&__pyx_n_s_expected_type,0};
    PyObject* values[4] = {0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_search_json_ld", 0, 3, 4, 1); __PYX_ERR(0, 810, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_search_json_ld", 0, 3, 4, 2); __PYX_ERR(0, 810, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_expected_type);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "_search_json_ld") < 0)) __PYX_ERR(0, 810, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_html = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_expected_type = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_search_json_ld", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 810, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._search_json_ld", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_94_search_json_ld(__pyx_self, __pyx_v_self, __pyx_v_html, __pyx_v_video_id, __pyx_v_expected_type, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_94_search_json_ld(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_html, PyObject *__pyx_v_video_id, PyObject *__pyx_v_expected_type, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_json_ld = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  __Pyx_RefNannySetupContext("_search_json_ld", 0);

  /* "youtube_dl/extractor/common.py":811
 * 
 *     def _search_json_ld(self, html, video_id, expected_type=None, **kwargs):
 *         json_ld = self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 *             html, 'JSON-LD', group='json_ld', **kwargs)
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_search_regex); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 811, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":813
 *         json_ld = self._search_regex(
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 *             html, 'JSON-LD', group='json_ld', **kwargs)             # <<<<<<<<<<<<<<
 *         if not json_ld:
 *             return {}
 */
  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 811, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_kp_u_s_script_type_application_ld_js);
  __Pyx_GIVEREF(__pyx_kp_u_s_script_type_application_ld_js);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_kp_u_s_script_type_application_ld_js);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_html);
  __Pyx_INCREF(__pyx_kp_u_JSON_LD);
  __Pyx_GIVEREF(__pyx_kp_u_JSON_LD);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_kp_u_JSON_LD);

  /* "youtube_dl/extractor/common.py":811
 * 
 *     def _search_json_ld(self, html, video_id, expected_type=None, **kwargs):
 *         json_ld = self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 *             html, 'JSON-LD', group='json_ld', **kwargs)
 */
  __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 813, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyDict_SetItem(__pyx_t_4, __pyx_n_s_group, __pyx_n_u_json_ld) < 0) __PYX_ERR(0, 813, __pyx_L1_error)
  __pyx_t_3 = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":813
 *         json_ld = self._search_regex(
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 *             html, 'JSON-LD', group='json_ld', **kwargs)             # <<<<<<<<<<<<<<
 *         if not json_ld:
 *             return {}
 */
  if (__Pyx_MergeKeywords(__pyx_t_3, __pyx_v_kwargs) < 0) __PYX_ERR(0, 813, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":811
 * 
 *     def _search_json_ld(self, html, video_id, expected_type=None, **kwargs):
 *         json_ld = self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 *             html, 'JSON-LD', group='json_ld', **kwargs)
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 811, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_json_ld = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":814
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 *             html, 'JSON-LD', group='json_ld', **kwargs)
 *         if not json_ld:             # <<<<<<<<<<<<<<
 *             return {}
 *         return self._json_ld(
 */
  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_v_json_ld); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 814, __pyx_L1_error)
  __pyx_t_6 = ((!__pyx_t_5) != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":815
 *             html, 'JSON-LD', group='json_ld', **kwargs)
 *         if not json_ld:
 *             return {}             # <<<<<<<<<<<<<<
 *         return self._json_ld(
 *             json_ld, video_id, fatal=kwargs.get('fatal', True),
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 815, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":814
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 *             html, 'JSON-LD', group='json_ld', **kwargs)
 *         if not json_ld:             # <<<<<<<<<<<<<<
 *             return {}
 *         return self._json_ld(
 */
  }

  /* "youtube_dl/extractor/common.py":816
 *         if not json_ld:
 *             return {}
 *         return self._json_ld(             # <<<<<<<<<<<<<<
 *             json_ld, video_id, fatal=kwargs.get('fatal', True),
 *             expected_type=expected_type)
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_json_ld_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 816, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":817
 *             return {}
 *         return self._json_ld(
 *             json_ld, video_id, fatal=kwargs.get('fatal', True),             # <<<<<<<<<<<<<<
 *             expected_type=expected_type)
 * 
 */
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 816, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_json_ld);
  __Pyx_GIVEREF(__pyx_v_json_ld);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_json_ld);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_video_id);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 817, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = __Pyx_PyDict_GetItemDefault(__pyx_v_kwargs, __pyx_n_u_fatal, Py_True); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 817, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_fatal, __pyx_t_1) < 0) __PYX_ERR(0, 817, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":818
 *         return self._json_ld(
 *             json_ld, video_id, fatal=kwargs.get('fatal', True),
 *             expected_type=expected_type)             # <<<<<<<<<<<<<<
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):
 */
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_expected_type, __pyx_v_expected_type) < 0) __PYX_ERR(0, 817, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":816
 *         if not json_ld:
 *             return {}
 *         return self._json_ld(             # <<<<<<<<<<<<<<
 *             json_ld, video_id, fatal=kwargs.get('fatal', True),
 *             expected_type=expected_type)
 */
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 816, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":810
 *                                       'twitter card player')
 * 
 *     def _search_json_ld(self, html, video_id, expected_type=None, **kwargs):             # <<<<<<<<<<<<<<
 *         json_ld = self._search_regex(
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._search_json_ld", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_json_ld);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":820
 *             expected_type=expected_type)
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):             # <<<<<<<<<<<<<<
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_97_json_ld(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_97_json_ld = {"_json_ld", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_97_json_ld, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_97_json_ld(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_json_ld = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_expected_type = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_json_ld (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_json_ld,&__pyx_n_s_video_id,&__pyx_n_s_fatal,&__pyx_n_s_expected_type,0};
    PyObject* values[5] = {0,0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_True));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_json_ld)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_json_ld", 0, 3, 5, 1); __PYX_ERR(0, 820, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_json_ld", 0, 3, 5, 2); __PYX_ERR(0, 820, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_expected_type);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_json_ld") < 0)) __PYX_ERR(0, 820, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_json_ld = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_fatal = values[3];
    __pyx_v_expected_type = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_json_ld", 0, 3, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 820, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._json_ld", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_96_json_ld(__pyx_self, __pyx_v_self, __pyx_v_json_ld, __pyx_v_video_id, __pyx_v_fatal, __pyx_v_expected_type);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}
static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_8_json_ld_2generator2(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value); /* proto */

/* "youtube_dl/extractor/common.py":861
 *                     'height': int_or_none(json_ld.get('height')),
 *                 })
 *         return dict((k, v) for k, v in info.items() if v is not None)             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_8_json_ld_genexpr(PyObject *__pyx_self) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("genexpr", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *) __pyx_self;
  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
  {
    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_8_json_ld_2generator2, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_InfoExtractor__json_ld_locals_ge, __pyx_n_s_youtube_dl_extractor_common); if (unlikely(!gen)) __PYX_ERR(0, 861, __pyx_L1_error)
    __Pyx_DECREF(__pyx_cur_scope);
    __Pyx_RefNannyFinishContext();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._json_ld.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_8_json_ld_2generator2(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value) /* generator body */
{
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *__pyx_cur_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *)__pyx_generator->closure);
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  int __pyx_t_7;
  int __pyx_t_8;
  int __pyx_t_9;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("None", 0);
  switch (__pyx_generator->resume_label) {
    case 0: goto __pyx_L3_first_run;
    default: /* CPython raises the right error here */
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 861, __pyx_L1_error)
  __pyx_r = PyDict_New(); if (unlikely(!__pyx_r)) __PYX_ERR(0, 861, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_r);
  __pyx_t_2 = 0;
  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_info)) { __Pyx_RaiseClosureNameError("info"); __PYX_ERR(0, 861, __pyx_L1_error) }
  if (unlikely(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_info == Py_None)) {
    PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%s'", "items");
    __PYX_ERR(0, 861, __pyx_L1_error)
  }
  __pyx_t_5 = __Pyx_dict_iterator(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_info, 1, __pyx_n_s_items, (&__pyx_t_3), (&__pyx_t_4)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 861, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_1);
  __pyx_t_1 = __pyx_t_5;
  __pyx_t_5 = 0;
  while (1) {
    __pyx_t_7 = __Pyx_dict_iter_next(__pyx_t_1, __pyx_t_3, &__pyx_t_2, &__pyx_t_5, &__pyx_t_6, NULL, __pyx_t_4);
    if (unlikely(__pyx_t_7 == 0)) break;
    if (unlikely(__pyx_t_7 == -1)) __PYX_ERR(0, 861, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_k);
    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_k, __pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_5);
    __pyx_t_5 = 0;
    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_v);
    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_v, __pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_6);
    __pyx_t_6 = 0;
    __pyx_t_8 = (__pyx_cur_scope->__pyx_v_v != Py_None);
    __pyx_t_9 = (__pyx_t_8 != 0);
    if (__pyx_t_9) {
      if (unlikely(PyDict_SetItem(__pyx_r, (PyObject*)__pyx_cur_scope->__pyx_v_k, (PyObject*)__pyx_cur_scope->__pyx_v_v))) __PYX_ERR(0, 861, __pyx_L1_error)
    }
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __pyx_generator->resume_label = -1;
  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":820
 *             expected_type=expected_type)
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):             # <<<<<<<<<<<<<<
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_96_json_ld(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_json_ld, PyObject *__pyx_v_video_id, PyObject *__pyx_v_fatal, PyObject *__pyx_v_expected_type) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *__pyx_cur_scope;
  PyObject *__pyx_v_item_type = NULL;
  PyObject *__pyx_v_part_of_season = NULL;
  PyObject *__pyx_v_part_of_series = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  int __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  __Pyx_RefNannySetupContext("_json_ld", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __Pyx_INCREF(__pyx_v_json_ld);

  /* "youtube_dl/extractor/common.py":821
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):
 *         if isinstance(json_ld, compat_str):             # <<<<<<<<<<<<<<
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 *         if not json_ld:
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 821, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_json_ld, __pyx_t_1); if (unlikely(__pyx_t_2 == -1)) __PYX_ERR(0, 821, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__pyx_t_2 != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":822
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)             # <<<<<<<<<<<<<<
 *         if not json_ld:
 *             return {}
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_json); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 822, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 822, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_INCREF(__pyx_v_json_ld);
    __Pyx_GIVEREF(__pyx_v_json_ld);
    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_json_ld);
    __Pyx_INCREF(__pyx_v_video_id);
    __Pyx_GIVEREF(__pyx_v_video_id);
    PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_video_id);
    __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 822, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 822, __pyx_L1_error)
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 822, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF_SET(__pyx_v_json_ld, __pyx_t_6);
    __pyx_t_6 = 0;

    /* "youtube_dl/extractor/common.py":821
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):
 *         if isinstance(json_ld, compat_str):             # <<<<<<<<<<<<<<
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 *         if not json_ld:
 */
  }

  /* "youtube_dl/extractor/common.py":823
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 *         if not json_ld:             # <<<<<<<<<<<<<<
 *             return {}
 *         info = {}
 */
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_json_ld); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 823, __pyx_L1_error)
  __pyx_t_2 = ((!__pyx_t_3) != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":824
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 *         if not json_ld:
 *             return {}             # <<<<<<<<<<<<<<
 *         info = {}
 *         if json_ld.get('@context') == 'http://schema.org':
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 824, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_r = __pyx_t_6;
    __pyx_t_6 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":823
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 *         if not json_ld:             # <<<<<<<<<<<<<<
 *             return {}
 *         info = {}
 */
  }

  /* "youtube_dl/extractor/common.py":825
 *         if not json_ld:
 *             return {}
 *         info = {}             # <<<<<<<<<<<<<<
 *         if json_ld.get('@context') == 'http://schema.org':
 *             item_type = json_ld.get('@type')
 */
  __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 825, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_GIVEREF(__pyx_t_6);
  __pyx_cur_scope->__pyx_v_info = ((PyObject*)__pyx_t_6);
  __pyx_t_6 = 0;

  /* "youtube_dl/extractor/common.py":826
 *             return {}
 *         info = {}
 *         if json_ld.get('@context') == 'http://schema.org':             # <<<<<<<<<<<<<<
 *             item_type = json_ld.get('@type')
 *             if expected_type is not None and expected_type != item_type:
 */
  __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 826, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__40, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 826, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_2 = (__Pyx_PyUnicode_Equals(__pyx_t_5, __pyx_kp_u_http_schema_org, Py_EQ)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 826, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":827
 *         info = {}
 *         if json_ld.get('@context') == 'http://schema.org':
 *             item_type = json_ld.get('@type')             # <<<<<<<<<<<<<<
 *             if expected_type is not None and expected_type != item_type:
 *                 return info
 */
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 827, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__41, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 827, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_v_item_type = __pyx_t_6;
    __pyx_t_6 = 0;

    /* "youtube_dl/extractor/common.py":828
 *         if json_ld.get('@context') == 'http://schema.org':
 *             item_type = json_ld.get('@type')
 *             if expected_type is not None and expected_type != item_type:             # <<<<<<<<<<<<<<
 *                 return info
 *             if item_type == 'TVEpisode':
 */
    __pyx_t_3 = (__pyx_v_expected_type != Py_None);
    __pyx_t_7 = (__pyx_t_3 != 0);
    if (__pyx_t_7) {
    } else {
      __pyx_t_2 = __pyx_t_7;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_6 = PyObject_RichCompare(__pyx_v_expected_type, __pyx_v_item_type, Py_NE); __Pyx_XGOTREF(__pyx_t_6); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 828, __pyx_L1_error)
    __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 828, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_2 = __pyx_t_7;
    __pyx_L7_bool_binop_done:;
    if (__pyx_t_2) {

      /* "youtube_dl/extractor/common.py":829
 *             item_type = json_ld.get('@type')
 *             if expected_type is not None and expected_type != item_type:
 *                 return info             # <<<<<<<<<<<<<<
 *             if item_type == 'TVEpisode':
 *                 info.update({
 */
      __Pyx_XDECREF(__pyx_r);
      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_info);
      __pyx_r = __pyx_cur_scope->__pyx_v_info;
      goto __pyx_L0;

      /* "youtube_dl/extractor/common.py":828
 *         if json_ld.get('@context') == 'http://schema.org':
 *             item_type = json_ld.get('@type')
 *             if expected_type is not None and expected_type != item_type:             # <<<<<<<<<<<<<<
 *                 return info
 *             if item_type == 'TVEpisode':
 */
    }

    /* "youtube_dl/extractor/common.py":830
 *             if expected_type is not None and expected_type != item_type:
 *                 return info
 *             if item_type == 'TVEpisode':             # <<<<<<<<<<<<<<
 *                 info.update({
 *                     'episode': unescapeHTML(json_ld.get('name')),
 */
    __pyx_t_2 = (__Pyx_PyUnicode_Equals(__pyx_v_item_type, __pyx_n_u_TVEpisode, Py_EQ)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 830, __pyx_L1_error)
    if (__pyx_t_2) {

      /* "youtube_dl/extractor/common.py":831
 *                 return info
 *             if item_type == 'TVEpisode':
 *                 info.update({             # <<<<<<<<<<<<<<
 *                     'episode': unescapeHTML(json_ld.get('name')),
 *                     'episode_number': int_or_none(json_ld.get('episodeNumber')),
 */
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_info, __pyx_n_s_update); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 831, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);

      /* "youtube_dl/extractor/common.py":832
 *             if item_type == 'TVEpisode':
 *                 info.update({
 *                     'episode': unescapeHTML(json_ld.get('name')),             # <<<<<<<<<<<<<<
 *                     'episode_number': int_or_none(json_ld.get('episodeNumber')),
 *                     'description': unescapeHTML(json_ld.get('description')),
 */
      __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 832, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 832, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 832, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__42, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 832, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_8))) {
        __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_8);
        if (likely(__pyx_t_9)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
          __Pyx_INCREF(__pyx_t_9);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_8, function);
        }
      }
      if (!__pyx_t_9) {
        __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 832, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_1);
      } else {
        __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 832, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_11, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 832, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      if (PyDict_SetItem(__pyx_t_4, __pyx_n_u_episode, __pyx_t_1) < 0) __PYX_ERR(0, 832, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":833
 *                 info.update({
 *                     'episode': unescapeHTML(json_ld.get('name')),
 *                     'episode_number': int_or_none(json_ld.get('episodeNumber')),             # <<<<<<<<<<<<<<
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                 })
 */
      __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 833, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 833, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__43, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 833, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_8))) {
        __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_8);
        if (likely(__pyx_t_11)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
          __Pyx_INCREF(__pyx_t_11);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_8, function);
        }
      }
      if (!__pyx_t_11) {
        __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 833, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_1);
      } else {
        __pyx_t_9 = PyTuple_New(1+1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 833, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_11); __pyx_t_11 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_9, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_9, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 833, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      }
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      if (PyDict_SetItem(__pyx_t_4, __pyx_n_u_episode_number, __pyx_t_1) < 0) __PYX_ERR(0, 832, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":834
 *                     'episode': unescapeHTML(json_ld.get('name')),
 *                     'episode_number': int_or_none(json_ld.get('episodeNumber')),
 *                     'description': unescapeHTML(json_ld.get('description')),             # <<<<<<<<<<<<<<
 *                 })
 *                 part_of_season = json_ld.get('partOfSeason')
 */
      __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 834, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 834, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__44, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 834, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_8))) {
        __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_8);
        if (likely(__pyx_t_9)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
          __Pyx_INCREF(__pyx_t_9);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_8, function);
        }
      }
      if (!__pyx_t_9) {
        __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 834, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_1);
      } else {
        __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 834, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_11, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 834, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      if (PyDict_SetItem(__pyx_t_4, __pyx_n_u_description, __pyx_t_1) < 0) __PYX_ERR(0, 832, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_5);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_5, function);
        }
      }
      if (!__pyx_t_1) {
        __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 831, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_GOTREF(__pyx_t_6);
      } else {
        __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 831, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_1); __pyx_t_1 = NULL;
        __Pyx_GIVEREF(__pyx_t_4);
        PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_t_4);
        __pyx_t_4 = 0;
        __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_8, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 831, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

      /* "youtube_dl/extractor/common.py":836
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                 })
 *                 part_of_season = json_ld.get('partOfSeason')             # <<<<<<<<<<<<<<
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 */
      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 836, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__45, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 836, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_v_part_of_season = __pyx_t_5;
      __pyx_t_5 = 0;

      /* "youtube_dl/extractor/common.py":837
 *                 })
 *                 part_of_season = json_ld.get('partOfSeason')
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':             # <<<<<<<<<<<<<<
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 *                 part_of_series = json_ld.get('partOfSeries')
 */
      __pyx_t_7 = PyDict_Check(__pyx_v_part_of_season); 
      __pyx_t_3 = (__pyx_t_7 != 0);
      if (__pyx_t_3) {
      } else {
        __pyx_t_2 = __pyx_t_3;
        goto __pyx_L11_bool_binop_done;
      }
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_part_of_season, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 837, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__46, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 837, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_3 = (__Pyx_PyUnicode_Equals(__pyx_t_6, __pyx_n_u_TVSeason, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 837, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_2 = __pyx_t_3;
      __pyx_L11_bool_binop_done:;
      if (__pyx_t_2) {

        /* "youtube_dl/extractor/common.py":838
 *                 part_of_season = json_ld.get('partOfSeason')
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))             # <<<<<<<<<<<<<<
 *                 part_of_series = json_ld.get('partOfSeries')
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':
 */
        __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 838, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_part_of_season, __pyx_n_s_get); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 838, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_tuple__47, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 838, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
          __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_5);
          if (likely(__pyx_t_8)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
            __Pyx_INCREF(__pyx_t_8);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_5, function);
          }
        }
        if (!__pyx_t_8) {
          __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 838, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_GOTREF(__pyx_t_6);
        } else {
          __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 838, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_8); __pyx_t_8 = NULL;
          __Pyx_GIVEREF(__pyx_t_4);
          PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_t_4);
          __pyx_t_4 = 0;
          __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_1, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 838, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        }
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(PyDict_SetItem(__pyx_cur_scope->__pyx_v_info, __pyx_n_u_season_number, __pyx_t_6) < 0)) __PYX_ERR(0, 838, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

        /* "youtube_dl/extractor/common.py":837
 *                 })
 *                 part_of_season = json_ld.get('partOfSeason')
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':             # <<<<<<<<<<<<<<
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 *                 part_of_series = json_ld.get('partOfSeries')
 */
      }

      /* "youtube_dl/extractor/common.py":839
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 *                 part_of_series = json_ld.get('partOfSeries')             # <<<<<<<<<<<<<<
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))
 */
      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 839, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__48, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 839, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_v_part_of_series = __pyx_t_5;
      __pyx_t_5 = 0;

      /* "youtube_dl/extractor/common.py":840
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 *                 part_of_series = json_ld.get('partOfSeries')
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':             # <<<<<<<<<<<<<<
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))
 *             elif item_type == 'Article':
 */
      __pyx_t_3 = PyDict_Check(__pyx_v_part_of_series); 
      __pyx_t_7 = (__pyx_t_3 != 0);
      if (__pyx_t_7) {
      } else {
        __pyx_t_2 = __pyx_t_7;
        goto __pyx_L14_bool_binop_done;
      }
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_part_of_series, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 840, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__49, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 840, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_7 = (__Pyx_PyUnicode_Equals(__pyx_t_6, __pyx_n_u_TVSeries, Py_EQ)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 840, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_2 = __pyx_t_7;
      __pyx_L14_bool_binop_done:;
      if (__pyx_t_2) {

        /* "youtube_dl/extractor/common.py":841
 *                 part_of_series = json_ld.get('partOfSeries')
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))             # <<<<<<<<<<<<<<
 *             elif item_type == 'Article':
 *                 info.update({
 */
        __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 841, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_part_of_series, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 841, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__50, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 841, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_1 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
          __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_5);
          if (likely(__pyx_t_1)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
            __Pyx_INCREF(__pyx_t_1);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_5, function);
          }
        }
        if (!__pyx_t_1) {
          __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 841, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_GOTREF(__pyx_t_6);
        } else {
          __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 841, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_8);
          __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_1); __pyx_t_1 = NULL;
          __Pyx_GIVEREF(__pyx_t_4);
          PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_t_4);
          __pyx_t_4 = 0;
          __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_8, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 841, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        }
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(PyDict_SetItem(__pyx_cur_scope->__pyx_v_info, __pyx_n_u_series, __pyx_t_6) < 0)) __PYX_ERR(0, 841, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

        /* "youtube_dl/extractor/common.py":840
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 *                 part_of_series = json_ld.get('partOfSeries')
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':             # <<<<<<<<<<<<<<
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))
 *             elif item_type == 'Article':
 */
      }

      /* "youtube_dl/extractor/common.py":830
 *             if expected_type is not None and expected_type != item_type:
 *                 return info
 *             if item_type == 'TVEpisode':             # <<<<<<<<<<<<<<
 *                 info.update({
 *                     'episode': unescapeHTML(json_ld.get('name')),
 */
      goto __pyx_L9;
    }

    /* "youtube_dl/extractor/common.py":842
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))
 *             elif item_type == 'Article':             # <<<<<<<<<<<<<<
 *                 info.update({
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),
 */
    __pyx_t_2 = (__Pyx_PyUnicode_Equals(__pyx_v_item_type, __pyx_n_u_Article, Py_EQ)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 842, __pyx_L1_error)
    if (__pyx_t_2) {

      /* "youtube_dl/extractor/common.py":843
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))
 *             elif item_type == 'Article':
 *                 info.update({             # <<<<<<<<<<<<<<
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),
 *                     'title': unescapeHTML(json_ld.get('headline')),
 */
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_info, __pyx_n_s_update); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 843, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);

      /* "youtube_dl/extractor/common.py":844
 *             elif item_type == 'Article':
 *                 info.update({
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),             # <<<<<<<<<<<<<<
 *                     'title': unescapeHTML(json_ld.get('headline')),
 *                     'description': unescapeHTML(json_ld.get('articleBody')),
 */
      __pyx_t_8 = PyDict_New(); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 844, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_parse_iso8601); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 844, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 844, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__51, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 844, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
        __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_1);
        if (likely(__pyx_t_11)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
          __Pyx_INCREF(__pyx_t_11);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_1, function);
        }
      }
      if (!__pyx_t_11) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 844, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_4);
      } else {
        __pyx_t_9 = PyTuple_New(1+1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 844, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_11); __pyx_t_11 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_9, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_9, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 844, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      }
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      if (PyDict_SetItem(__pyx_t_8, __pyx_n_u_timestamp, __pyx_t_4) < 0) __PYX_ERR(0, 844, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":845
 *                 info.update({
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),
 *                     'title': unescapeHTML(json_ld.get('headline')),             # <<<<<<<<<<<<<<
 *                     'description': unescapeHTML(json_ld.get('articleBody')),
 *                 })
 */
      __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 845, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 845, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__52, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 845, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
        __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_1);
        if (likely(__pyx_t_9)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
          __Pyx_INCREF(__pyx_t_9);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_1, function);
        }
      }
      if (!__pyx_t_9) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 845, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_4);
      } else {
        __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 845, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_11, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 845, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      if (PyDict_SetItem(__pyx_t_8, __pyx_n_u_title, __pyx_t_4) < 0) __PYX_ERR(0, 844, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":846
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),
 *                     'title': unescapeHTML(json_ld.get('headline')),
 *                     'description': unescapeHTML(json_ld.get('articleBody')),             # <<<<<<<<<<<<<<
 *                 })
 *             elif item_type == 'VideoObject':
 */
      __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 846, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 846, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__53, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 846, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
        __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_1);
        if (likely(__pyx_t_11)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
          __Pyx_INCREF(__pyx_t_11);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_1, function);
        }
      }
      if (!__pyx_t_11) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 846, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_4);
      } else {
        __pyx_t_9 = PyTuple_New(1+1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 846, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_11); __pyx_t_11 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_9, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_9, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 846, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      }
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      if (PyDict_SetItem(__pyx_t_8, __pyx_n_u_description, __pyx_t_4) < 0) __PYX_ERR(0, 844, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
        __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_5);
        if (likely(__pyx_t_4)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
          __Pyx_INCREF(__pyx_t_4);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_5, function);
        }
      }
      if (!__pyx_t_4) {
        __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_8); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 843, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        __Pyx_GOTREF(__pyx_t_6);
      } else {
        __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 843, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_4); __pyx_t_4 = NULL;
        __Pyx_GIVEREF(__pyx_t_8);
        PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_t_8);
        __pyx_t_8 = 0;
        __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_1, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 843, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

      /* "youtube_dl/extractor/common.py":842
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))
 *             elif item_type == 'Article':             # <<<<<<<<<<<<<<
 *                 info.update({
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),
 */
      goto __pyx_L9;
    }

    /* "youtube_dl/extractor/common.py":848
 *                     'description': unescapeHTML(json_ld.get('articleBody')),
 *                 })
 *             elif item_type == 'VideoObject':             # <<<<<<<<<<<<<<
 *                 info.update({
 *                     'url': json_ld.get('contentUrl'),
 */
    __pyx_t_2 = (__Pyx_PyUnicode_Equals(__pyx_v_item_type, __pyx_n_u_VideoObject, Py_EQ)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 848, __pyx_L1_error)
    if (__pyx_t_2) {

      /* "youtube_dl/extractor/common.py":849
 *                 })
 *             elif item_type == 'VideoObject':
 *                 info.update({             # <<<<<<<<<<<<<<
 *                     'url': json_ld.get('contentUrl'),
 *                     'title': unescapeHTML(json_ld.get('name')),
 */
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_info, __pyx_n_s_update); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 849, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);

      /* "youtube_dl/extractor/common.py":850
 *             elif item_type == 'VideoObject':
 *                 info.update({
 *                     'url': json_ld.get('contentUrl'),             # <<<<<<<<<<<<<<
 *                     'title': unescapeHTML(json_ld.get('name')),
 *                     'description': unescapeHTML(json_ld.get('description')),
 */
      __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_tuple__54, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_url, __pyx_t_4) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":851
 *                 info.update({
 *                     'url': json_ld.get('contentUrl'),
 *                     'title': unescapeHTML(json_ld.get('name')),             # <<<<<<<<<<<<<<
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                     'thumbnail': json_ld.get('thumbnailUrl'),
 */
      __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 851, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 851, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__55, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 851, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_8))) {
        __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_8);
        if (likely(__pyx_t_9)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
          __Pyx_INCREF(__pyx_t_9);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_8, function);
        }
      }
      if (!__pyx_t_9) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 851, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_4);
      } else {
        __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 851, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_11, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 851, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_title, __pyx_t_4) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":852
 *                     'url': json_ld.get('contentUrl'),
 *                     'title': unescapeHTML(json_ld.get('name')),
 *                     'description': unescapeHTML(json_ld.get('description')),             # <<<<<<<<<<<<<<
 *                     'thumbnail': json_ld.get('thumbnailUrl'),
 *                     'duration': parse_duration(json_ld.get('duration')),
 */
      __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 852, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 852, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__56, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 852, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_8))) {
        __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_8);
        if (likely(__pyx_t_11)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
          __Pyx_INCREF(__pyx_t_11);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_8, function);
        }
      }
      if (!__pyx_t_11) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 852, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_4);
      } else {
        __pyx_t_9 = PyTuple_New(1+1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 852, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_11); __pyx_t_11 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_9, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_9, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 852, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      }
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_description, __pyx_t_4) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":853
 *                     'title': unescapeHTML(json_ld.get('name')),
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                     'thumbnail': json_ld.get('thumbnailUrl'),             # <<<<<<<<<<<<<<
 *                     'duration': parse_duration(json_ld.get('duration')),
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),
 */
      __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 853, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__57, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 853, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_thumbnail, __pyx_t_8) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

      /* "youtube_dl/extractor/common.py":854
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                     'thumbnail': json_ld.get('thumbnailUrl'),
 *                     'duration': parse_duration(json_ld.get('duration')),             # <<<<<<<<<<<<<<
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),
 *                     'filesize': float_or_none(json_ld.get('contentSize')),
 */
      __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_parse_duration); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 854, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 854, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__58, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 854, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_9)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_9);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_9) {
        __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 854, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_8);
      } else {
        __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 854, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_11, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 854, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_duration, __pyx_t_8) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

      /* "youtube_dl/extractor/common.py":855
 *                     'thumbnail': json_ld.get('thumbnailUrl'),
 *                     'duration': parse_duration(json_ld.get('duration')),
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),             # <<<<<<<<<<<<<<
 *                     'filesize': float_or_none(json_ld.get('contentSize')),
 *                     'tbr': int_or_none(json_ld.get('bitrate')),
 */
      __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_unified_timestamp); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 855, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 855, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__59, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 855, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_11)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_11);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_11) {
        __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 855, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_8);
      } else {
        __pyx_t_9 = PyTuple_New(1+1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 855, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_11); __pyx_t_11 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_9, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_9, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 855, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_timestamp, __pyx_t_8) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

      /* "youtube_dl/extractor/common.py":856
 *                     'duration': parse_duration(json_ld.get('duration')),
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),
 *                     'filesize': float_or_none(json_ld.get('contentSize')),             # <<<<<<<<<<<<<<
 *                     'tbr': int_or_none(json_ld.get('bitrate')),
 *                     'width': int_or_none(json_ld.get('width')),
 */
      __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_float_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 856, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 856, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__60, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 856, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_9)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_9);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_9) {
        __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 856, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_8);
      } else {
        __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 856, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_11, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 856, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_filesize, __pyx_t_8) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

      /* "youtube_dl/extractor/common.py":857
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),
 *                     'filesize': float_or_none(json_ld.get('contentSize')),
 *                     'tbr': int_or_none(json_ld.get('bitrate')),             # <<<<<<<<<<<<<<
 *                     'width': int_or_none(json_ld.get('width')),
 *                     'height': int_or_none(json_ld.get('height')),
 */
      __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 857, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 857, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__61, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 857, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_11)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_11);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_11) {
        __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 857, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_8);
      } else {
        __pyx_t_9 = PyTuple_New(1+1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 857, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_11); __pyx_t_11 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_9, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_9, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 857, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_tbr, __pyx_t_8) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

      /* "youtube_dl/extractor/common.py":858
 *                     'filesize': float_or_none(json_ld.get('contentSize')),
 *                     'tbr': int_or_none(json_ld.get('bitrate')),
 *                     'width': int_or_none(json_ld.get('width')),             # <<<<<<<<<<<<<<
 *                     'height': int_or_none(json_ld.get('height')),
 *                 })
 */
      __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 858, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 858, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__62, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 858, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_9)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_9);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_9) {
        __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 858, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_8);
      } else {
        __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 858, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_11, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 858, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_width, __pyx_t_8) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

      /* "youtube_dl/extractor/common.py":859
 *                     'tbr': int_or_none(json_ld.get('bitrate')),
 *                     'width': int_or_none(json_ld.get('width')),
 *                     'height': int_or_none(json_ld.get('height')),             # <<<<<<<<<<<<<<
 *                 })
 *         return dict((k, v) for k, v in info.items() if v is not None)
 */
      __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 859, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_json_ld, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 859, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__63, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 859, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_11)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_11);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_11) {
        __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 859, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_GOTREF(__pyx_t_8);
      } else {
        __pyx_t_9 = PyTuple_New(1+1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 859, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_11); __pyx_t_11 = NULL;
        __Pyx_GIVEREF(__pyx_t_10);
        PyTuple_SET_ITEM(__pyx_t_9, 0+1, __pyx_t_10);
        __pyx_t_10 = 0;
        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_9, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 859, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_height, __pyx_t_8) < 0) __PYX_ERR(0, 850, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_8 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
        __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_5);
        if (likely(__pyx_t_8)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
          __Pyx_INCREF(__pyx_t_8);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_5, function);
        }
      }
      if (!__pyx_t_8) {
        __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 849, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_GOTREF(__pyx_t_6);
      } else {
        __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 849, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_8); __pyx_t_8 = NULL;
        __Pyx_GIVEREF(__pyx_t_1);
        PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_1);
        __pyx_t_1 = 0;
        __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_4, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 849, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

      /* "youtube_dl/extractor/common.py":848
 *                     'description': unescapeHTML(json_ld.get('articleBody')),
 *                 })
 *             elif item_type == 'VideoObject':             # <<<<<<<<<<<<<<
 *                 info.update({
 *                     'url': json_ld.get('contentUrl'),
 */
    }
    __pyx_L9:;

    /* "youtube_dl/extractor/common.py":826
 *             return {}
 *         info = {}
 *         if json_ld.get('@context') == 'http://schema.org':             # <<<<<<<<<<<<<<
 *             item_type = json_ld.get('@type')
 *             if expected_type is not None and expected_type != item_type:
 */
  }

  /* "youtube_dl/extractor/common.py":861
 *                     'height': int_or_none(json_ld.get('height')),
 *                 })
 *         return dict((k, v) for k, v in info.items() if v is not None)             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_6 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_8_json_ld_genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 861, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_5 = __Pyx_Generator_Next(__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 861, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_r = __pyx_t_5;
  __pyx_t_5 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":820
 *             expected_type=expected_type)
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):             # <<<<<<<<<<<<<<
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._json_ld", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_item_type);
  __Pyx_XDECREF(__pyx_v_part_of_season);
  __Pyx_XDECREF(__pyx_v_part_of_series);
  __Pyx_XDECREF(__pyx_v_json_ld);
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":864
 * 
 *     @staticmethod
 *     def _hidden_inputs(html):             # <<<<<<<<<<<<<<
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)
 *         hidden_inputs = {}
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_99_hidden_inputs(PyObject *__pyx_self, PyObject *__pyx_v_html); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_99_hidden_inputs = {"_hidden_inputs", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_99_hidden_inputs, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_99_hidden_inputs(PyObject *__pyx_self, PyObject *__pyx_v_html) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_hidden_inputs (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_98_hidden_inputs(__pyx_self, ((PyObject *)__pyx_v_html));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_98_hidden_inputs(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_html) {
  PyObject *__pyx_v_hidden_inputs = NULL;
  PyObject *__pyx_v_input = NULL;
  PyObject *__pyx_v_name = NULL;
  PyObject *__pyx_v_value = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *(*__pyx_t_6)(PyObject *);
  Py_ssize_t __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  int __pyx_t_9;
  int __pyx_t_10;
  __Pyx_RefNannySetupContext("_hidden_inputs", 0);
  __Pyx_INCREF(__pyx_v_html);

  /* "youtube_dl/extractor/common.py":865
 *     @staticmethod
 *     def _hidden_inputs(html):
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)             # <<<<<<<<<<<<<<
 *         hidden_inputs = {}
 *         for input in re.findall(r'(?i)<input([^>]+)>', html):
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 865, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_sub); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 865, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(3+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 865, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_2) {
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2); __pyx_t_2 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u__64);
  __Pyx_GIVEREF(__pyx_kp_u__64);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_kp_u__64);
  __Pyx_INCREF(__pyx_kp_u__14);
  __Pyx_GIVEREF(__pyx_kp_u__14);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_kp_u__14);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_5, 2+__pyx_t_4, __pyx_v_html);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 865, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF_SET(__pyx_v_html, __pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":866
 *     def _hidden_inputs(html):
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)
 *         hidden_inputs = {}             # <<<<<<<<<<<<<<
 *         for input in re.findall(r'(?i)<input([^>]+)>', html):
 *             if not re.search(r'type=(["\'])(?:hidden|submit)\1', input):
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 866, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_hidden_inputs = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":867
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)
 *         hidden_inputs = {}
 *         for input in re.findall(r'(?i)<input([^>]+)>', html):             # <<<<<<<<<<<<<<
 *             if not re.search(r'type=(["\'])(?:hidden|submit)\1', input):
 *                 continue
 */
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 867, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_findall); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 867, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_5, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_2 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 867, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_i_input);
  __Pyx_GIVEREF(__pyx_kp_u_i_input);
  PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_4, __pyx_kp_u_i_input);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_4, __pyx_v_html);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 867, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (likely(PyList_CheckExact(__pyx_t_1)) || PyTuple_CheckExact(__pyx_t_1)) {
    __pyx_t_5 = __pyx_t_1; __Pyx_INCREF(__pyx_t_5); __pyx_t_4 = 0;
    __pyx_t_6 = NULL;
  } else {
    __pyx_t_4 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 867, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_6 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 867, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  for (;;) {
    if (likely(!__pyx_t_6)) {
      if (likely(PyList_CheckExact(__pyx_t_5))) {
        if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_5)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 867, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_5, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 867, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      } else {
        if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 867, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_5, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 867, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      }
    } else {
      __pyx_t_1 = __pyx_t_6(__pyx_t_5);
      if (unlikely(!__pyx_t_1)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 867, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    __Pyx_XDECREF_SET(__pyx_v_input, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":868
 *         hidden_inputs = {}
 *         for input in re.findall(r'(?i)<input([^>]+)>', html):
 *             if not re.search(r'type=(["\'])(?:hidden|submit)\1', input):             # <<<<<<<<<<<<<<
 *                 continue
 *             name = re.search(r'(?:name|id)=(["\'])(?P<value>.+?)\1', input)
 */
    __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 868, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_search); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 868, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_7 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
        __pyx_t_7 = 1;
      }
    }
    __pyx_t_8 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 868, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    if (__pyx_t_2) {
      __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_2); __pyx_t_2 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_u_type_hidden_submit_1);
    __Pyx_GIVEREF(__pyx_kp_u_type_hidden_submit_1);
    PyTuple_SET_ITEM(__pyx_t_8, 0+__pyx_t_7, __pyx_kp_u_type_hidden_submit_1);
    __Pyx_INCREF(__pyx_v_input);
    __Pyx_GIVEREF(__pyx_v_input);
    PyTuple_SET_ITEM(__pyx_t_8, 1+__pyx_t_7, __pyx_v_input);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 868, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 868, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_10 = ((!__pyx_t_9) != 0);
    if (__pyx_t_10) {

      /* "youtube_dl/extractor/common.py":869
 *         for input in re.findall(r'(?i)<input([^>]+)>', html):
 *             if not re.search(r'type=(["\'])(?:hidden|submit)\1', input):
 *                 continue             # <<<<<<<<<<<<<<
 *             name = re.search(r'(?:name|id)=(["\'])(?P<value>.+?)\1', input)
 *             if not name:
 */
      goto __pyx_L3_continue;

      /* "youtube_dl/extractor/common.py":868
 *         hidden_inputs = {}
 *         for input in re.findall(r'(?i)<input([^>]+)>', html):
 *             if not re.search(r'type=(["\'])(?:hidden|submit)\1', input):             # <<<<<<<<<<<<<<
 *                 continue
 *             name = re.search(r'(?:name|id)=(["\'])(?P<value>.+?)\1', input)
 */
    }

    /* "youtube_dl/extractor/common.py":870
 *             if not re.search(r'type=(["\'])(?:hidden|submit)\1', input):
 *                 continue
 *             name = re.search(r'(?:name|id)=(["\'])(?P<value>.+?)\1', input)             # <<<<<<<<<<<<<<
 *             if not name:
 *                 continue
 */
    __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 870, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_search); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 870, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_7 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_8))) {
      __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_8);
      if (likely(__pyx_t_3)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
        __Pyx_INCREF(__pyx_t_3);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_8, function);
        __pyx_t_7 = 1;
      }
    }
    __pyx_t_2 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 870, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    if (__pyx_t_3) {
      __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3); __pyx_t_3 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_u_name_id_P_value_1);
    __Pyx_GIVEREF(__pyx_kp_u_name_id_P_value_1);
    PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_7, __pyx_kp_u_name_id_P_value_1);
    __Pyx_INCREF(__pyx_v_input);
    __Pyx_GIVEREF(__pyx_v_input);
    PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_7, __pyx_v_input);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 870, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_XDECREF_SET(__pyx_v_name, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":871
 *                 continue
 *             name = re.search(r'(?:name|id)=(["\'])(?P<value>.+?)\1', input)
 *             if not name:             # <<<<<<<<<<<<<<
 *                 continue
 *             value = re.search(r'value=(["\'])(?P<value>.*?)\1', input)
 */
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_v_name); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 871, __pyx_L1_error)
    __pyx_t_9 = ((!__pyx_t_10) != 0);
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":872
 *             name = re.search(r'(?:name|id)=(["\'])(?P<value>.+?)\1', input)
 *             if not name:
 *                 continue             # <<<<<<<<<<<<<<
 *             value = re.search(r'value=(["\'])(?P<value>.*?)\1', input)
 *             if not value:
 */
      goto __pyx_L3_continue;

      /* "youtube_dl/extractor/common.py":871
 *                 continue
 *             name = re.search(r'(?:name|id)=(["\'])(?P<value>.+?)\1', input)
 *             if not name:             # <<<<<<<<<<<<<<
 *                 continue
 *             value = re.search(r'value=(["\'])(?P<value>.*?)\1', input)
 */
    }

    /* "youtube_dl/extractor/common.py":873
 *             if not name:
 *                 continue
 *             value = re.search(r'value=(["\'])(?P<value>.*?)\1', input)             # <<<<<<<<<<<<<<
 *             if not value:
 *                 continue
 */
    __pyx_t_8 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 873, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_search); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 873, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = NULL;
    __pyx_t_7 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_8)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_8);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
        __pyx_t_7 = 1;
      }
    }
    __pyx_t_3 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 873, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    if (__pyx_t_8) {
      __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_8); __pyx_t_8 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_u_value_P_value_1);
    __Pyx_GIVEREF(__pyx_kp_u_value_P_value_1);
    PyTuple_SET_ITEM(__pyx_t_3, 0+__pyx_t_7, __pyx_kp_u_value_P_value_1);
    __Pyx_INCREF(__pyx_v_input);
    __Pyx_GIVEREF(__pyx_v_input);
    PyTuple_SET_ITEM(__pyx_t_3, 1+__pyx_t_7, __pyx_v_input);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 873, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF_SET(__pyx_v_value, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":874
 *                 continue
 *             value = re.search(r'value=(["\'])(?P<value>.*?)\1', input)
 *             if not value:             # <<<<<<<<<<<<<<
 *                 continue
 *             hidden_inputs[name.group('value')] = value.group('value')
 */
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 874, __pyx_L1_error)
    __pyx_t_10 = ((!__pyx_t_9) != 0);
    if (__pyx_t_10) {

      /* "youtube_dl/extractor/common.py":875
 *             value = re.search(r'value=(["\'])(?P<value>.*?)\1', input)
 *             if not value:
 *                 continue             # <<<<<<<<<<<<<<
 *             hidden_inputs[name.group('value')] = value.group('value')
 *         return hidden_inputs
 */
      goto __pyx_L3_continue;

      /* "youtube_dl/extractor/common.py":874
 *                 continue
 *             value = re.search(r'value=(["\'])(?P<value>.*?)\1', input)
 *             if not value:             # <<<<<<<<<<<<<<
 *                 continue
 *             hidden_inputs[name.group('value')] = value.group('value')
 */
    }

    /* "youtube_dl/extractor/common.py":876
 *             if not value:
 *                 continue
 *             hidden_inputs[name.group('value')] = value.group('value')             # <<<<<<<<<<<<<<
 *         return hidden_inputs
 * 
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_group); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 876, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__65, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 876, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_name, __pyx_n_s_group); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 876, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__66, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 876, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(PyDict_SetItem(__pyx_v_hidden_inputs, __pyx_t_3, __pyx_t_2) < 0)) __PYX_ERR(0, 876, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":867
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)
 *         hidden_inputs = {}
 *         for input in re.findall(r'(?i)<input([^>]+)>', html):             # <<<<<<<<<<<<<<
 *             if not re.search(r'type=(["\'])(?:hidden|submit)\1', input):
 *                 continue
 */
    __pyx_L3_continue:;
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":877
 *                 continue
 *             hidden_inputs[name.group('value')] = value.group('value')
 *         return hidden_inputs             # <<<<<<<<<<<<<<
 * 
 *     def _form_hidden_inputs(self, form_id, html):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_hidden_inputs);
  __pyx_r = __pyx_v_hidden_inputs;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":864
 * 
 *     @staticmethod
 *     def _hidden_inputs(html):             # <<<<<<<<<<<<<<
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)
 *         hidden_inputs = {}
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._hidden_inputs", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_hidden_inputs);
  __Pyx_XDECREF(__pyx_v_input);
  __Pyx_XDECREF(__pyx_v_name);
  __Pyx_XDECREF(__pyx_v_value);
  __Pyx_XDECREF(__pyx_v_html);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":879
 *         return hidden_inputs
 * 
 *     def _form_hidden_inputs(self, form_id, html):             # <<<<<<<<<<<<<<
 *         form = self._search_regex(
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_101_form_hidden_inputs(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_101_form_hidden_inputs = {"_form_hidden_inputs", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_101_form_hidden_inputs, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_101_form_hidden_inputs(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_form_id = 0;
  PyObject *__pyx_v_html = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_form_hidden_inputs (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_form_id,&__pyx_n_s_html,0};
    PyObject* values[3] = {0,0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_form_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_form_hidden_inputs", 1, 3, 3, 1); __PYX_ERR(0, 879, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_html)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_form_hidden_inputs", 1, 3, 3, 2); __PYX_ERR(0, 879, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_form_hidden_inputs") < 0)) __PYX_ERR(0, 879, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
    }
    __pyx_v_self = values[0];
    __pyx_v_form_id = values[1];
    __pyx_v_html = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_form_hidden_inputs", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 879, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._form_hidden_inputs", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_100_form_hidden_inputs(__pyx_self, __pyx_v_self, __pyx_v_form_id, __pyx_v_html);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_100_form_hidden_inputs(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_form_id, PyObject *__pyx_v_html) {
  PyObject *__pyx_v_form = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("_form_hidden_inputs", 0);

  /* "youtube_dl/extractor/common.py":880
 * 
 *     def _form_hidden_inputs(self, form_id, html):
 *         form = self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 *             html, '%s form' % form_id, group='form')
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_search_regex); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 880, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":881
 *     def _form_hidden_inputs(self, form_id, html):
 *         form = self._search_regex(
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,             # <<<<<<<<<<<<<<
 *             html, '%s form' % form_id, group='form')
 *         return self._hidden_inputs(form)
 */
  __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_is_form_id_s_1_P_form_form, __pyx_v_form_id); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 881, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);

  /* "youtube_dl/extractor/common.py":882
 *         form = self._search_regex(
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 *             html, '%s form' % form_id, group='form')             # <<<<<<<<<<<<<<
 *         return self._hidden_inputs(form)
 * 
 */
  __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_s_form, __pyx_v_form_id); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 882, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);

  /* "youtube_dl/extractor/common.py":880
 * 
 *     def _form_hidden_inputs(self, form_id, html):
 *         form = self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 *             html, '%s form' % form_id, group='form')
 */
  __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 880, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2);
  __Pyx_INCREF(__pyx_v_html);
  __Pyx_GIVEREF(__pyx_v_html);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_html);
  __Pyx_GIVEREF(__pyx_t_3);
  PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_t_3);
  __pyx_t_2 = 0;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":882
 *         form = self._search_regex(
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 *             html, '%s form' % form_id, group='form')             # <<<<<<<<<<<<<<
 *         return self._hidden_inputs(form)
 * 
 */
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 882, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_group, __pyx_n_u_form) < 0) __PYX_ERR(0, 882, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":880
 * 
 *     def _form_hidden_inputs(self, form_id, html):
 *         form = self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 *             html, '%s form' % form_id, group='form')
 */
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_4, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 880, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_form = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":883
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 *             html, '%s form' % form_id, group='form')
 *         return self._hidden_inputs(form)             # <<<<<<<<<<<<<<
 * 
 *     def _sort_formats(self, formats, field_preference=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_hidden_inputs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 883, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_form); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 883, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
  } else {
    __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 883, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_INCREF(__pyx_v_form);
    __Pyx_GIVEREF(__pyx_v_form);
    PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_v_form);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 883, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":879
 *         return hidden_inputs
 * 
 *     def _form_hidden_inputs(self, form_id, html):             # <<<<<<<<<<<<<<
 *         form = self._search_regex(
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._form_hidden_inputs", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_form);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":885
 *         return self._hidden_inputs(form)
 * 
 *     def _sort_formats(self, formats, field_preference=None):             # <<<<<<<<<<<<<<
 *         if not formats:
 *             raise ExtractorError('No video formats found')
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_103_sort_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_103_sort_formats = {"_sort_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_103_sort_formats, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_103_sort_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_formats = 0;
  PyObject *__pyx_v_field_preference = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_sort_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_formats,&__pyx_n_s_field_preference,0};
    PyObject* values[3] = {0,0,0};
    values[2] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_formats)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_sort_formats", 0, 2, 3, 1); __PYX_ERR(0, 885, __pyx_L3_error)
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_field_preference);
          if (value) { values[2] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_sort_formats") < 0)) __PYX_ERR(0, 885, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_formats = values[1];
    __pyx_v_field_preference = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_sort_formats", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 885, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._sort_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_102_sort_formats(__pyx_self, __pyx_v_self, __pyx_v_formats, __pyx_v_field_preference);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":895
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 *         def _formats_key(f):             # <<<<<<<<<<<<<<
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_1_formats_key(PyObject *__pyx_self, PyObject *__pyx_v_f); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_1_formats_key = {"_formats_key", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_1_formats_key, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_1_formats_key(PyObject *__pyx_self, PyObject *__pyx_v_f) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_formats_key (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats__formats_key(__pyx_self, ((PyObject *)__pyx_v_f));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}
static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_12_formats_key_2generator3(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value); /* proto */

/* "youtube_dl/extractor/common.py":903
 *             if isinstance(field_preference, (list, tuple)):
 *                 return tuple(
 *                     f.get(field)             # <<<<<<<<<<<<<<
 *                     if f.get(field) is not None
 *                     else ('' if field == 'format_id' else -1)
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_12_formats_key_genexpr(PyObject *__pyx_self) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("genexpr", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *) __pyx_self;
  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
  {
    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_12_formats_key_2generator3, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_InfoExtractor__sort_formats_loca, __pyx_n_s_youtube_dl_extractor_common); if (unlikely(!gen)) __PYX_ERR(0, 903, __pyx_L1_error)
    __Pyx_DECREF(__pyx_cur_scope);
    __Pyx_RefNannyFinishContext();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._sort_formats._formats_key.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_12_formats_key_2generator3(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value) /* generator body */
{
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *__pyx_cur_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *)__pyx_generator->closure);
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *(*__pyx_t_3)(PyObject *);
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  int __pyx_t_9;
  int __pyx_t_10;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("None", 0);
  switch (__pyx_generator->resume_label) {
    case 0: goto __pyx_L3_first_run;
    case 1: goto __pyx_L6_resume_from_yield;
    default: /* CPython raises the right error here */
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 903, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":906
 *                     if f.get(field) is not None
 *                     else ('' if field == 'format_id' else -1)
 *                     for field in field_preference)             # <<<<<<<<<<<<<<
 * 
 *             preference = f.get('preference')
 */
  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_outer_scope->__pyx_v_field_preference)) { __Pyx_RaiseClosureNameError("field_preference"); __PYX_ERR(0, 906, __pyx_L1_error) }
  if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_outer_scope->__pyx_v_field_preference)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_outer_scope->__pyx_v_field_preference)) {
    __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_outer_scope->__pyx_v_field_preference; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_outer_scope->__pyx_v_field_preference); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 906, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 906, __pyx_L1_error)
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(PyList_CheckExact(__pyx_t_1))) {
        if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(0, 906, __pyx_L1_error)
        #else
        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 906, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        #endif
      } else {
        if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(0, 906, __pyx_L1_error)
        #else
        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 906, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 906, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_4);
    }
    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_field);
    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_field, __pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_4);
    __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":904
 *                 return tuple(
 *                     f.get(field)
 *                     if f.get(field) is not None             # <<<<<<<<<<<<<<
 *                     else ('' if field == 'format_id' else -1)
 *                     for field in field_preference)
 */
    if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_f)) { __Pyx_RaiseClosureNameError("f"); __PYX_ERR(0, 904, __pyx_L1_error) }
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 904, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
      }
    }
    if (!__pyx_t_7) {
      __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_cur_scope->__pyx_v_field); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 904, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
    } else {
      __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 904, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_7); __pyx_t_7 = NULL;
      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_field);
      __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_field);
      PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_cur_scope->__pyx_v_field);
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_8, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 904, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_9 = (__pyx_t_5 != Py_None);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if ((__pyx_t_9 != 0)) {

      /* "youtube_dl/extractor/common.py":903
 *             if isinstance(field_preference, (list, tuple)):
 *                 return tuple(
 *                     f.get(field)             # <<<<<<<<<<<<<<
 *                     if f.get(field) is not None
 *                     else ('' if field == 'format_id' else -1)
 */
      if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_f)) { __Pyx_RaiseClosureNameError("f"); __PYX_ERR(0, 903, __pyx_L1_error) }
      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 903, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_8 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
        __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_6);
        if (likely(__pyx_t_8)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
          __Pyx_INCREF(__pyx_t_8);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_6, function);
        }
      }
      if (!__pyx_t_8) {
        __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_cur_scope->__pyx_v_field); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 903, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
      } else {
        __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 903, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_8); __pyx_t_8 = NULL;
        __Pyx_INCREF(__pyx_cur_scope->__pyx_v_field);
        __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_field);
        PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_cur_scope->__pyx_v_field);
        __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_7, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 903, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      }
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_4 = __pyx_t_5;
      __pyx_t_5 = 0;
    } else {

      /* "youtube_dl/extractor/common.py":905
 *                     f.get(field)
 *                     if f.get(field) is not None
 *                     else ('' if field == 'format_id' else -1)             # <<<<<<<<<<<<<<
 *                     for field in field_preference)
 * 
 */
      __pyx_t_10 = (__Pyx_PyUnicode_Equals(__pyx_cur_scope->__pyx_v_field, __pyx_n_u_format_id, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 905, __pyx_L1_error)
      if (__pyx_t_10) {
        __Pyx_INCREF(__pyx_kp_u__14);
        __pyx_t_5 = __pyx_kp_u__14;
      } else {
        __Pyx_INCREF(__pyx_int_neg_1);
        __pyx_t_5 = __pyx_int_neg_1;
      }
      __pyx_t_4 = __pyx_t_5;
      __pyx_t_5 = 0;
    }
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    __Pyx_XGIVEREF(__pyx_t_1);
    __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
    __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
    __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
    __Pyx_XGIVEREF(__pyx_r);
    __Pyx_RefNannyFinishContext();
    /* return from generator, yielding value */
    __pyx_generator->resume_label = 1;
    return __pyx_r;
    __pyx_L6_resume_from_yield:;
    __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
    __pyx_cur_scope->__pyx_t_0 = 0;
    __Pyx_XGOTREF(__pyx_t_1);
    __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
    __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 903, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":906
 *                     if f.get(field) is not None
 *                     else ('' if field == 'format_id' else -1)
 *                     for field in field_preference)             # <<<<<<<<<<<<<<
 * 
 *             preference = f.get('preference')
 */
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":903
 *             if isinstance(field_preference, (list, tuple)):
 *                 return tuple(
 *                     f.get(field)             # <<<<<<<<<<<<<<
 *                     if f.get(field) is not None
 *                     else ('' if field == 'format_id' else -1)
 */

  /* function exit code */
  PyErr_SetNone(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
  __pyx_generator->resume_label = -1;
  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":895
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 *         def _formats_key(f):             # <<<<<<<<<<<<<<
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats__formats_key(PyObject *__pyx_self, PyObject *__pyx_v_f) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *__pyx_cur_scope;
  PyObject *__pyx_v_determine_ext = NULL;
  PyObject *__pyx_v_preference = NULL;
  double __pyx_v_proto_preference;
  PyObject *__pyx_v_ORDER = NULL;
  PyObject *__pyx_v_ext_preference = NULL;
  PyObject *__pyx_v_audio_ext_preference = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  int __pyx_t_4;
  int __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  double __pyx_t_9;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  PyObject *__pyx_t_12 = NULL;
  int __pyx_t_13;
  PyObject *__pyx_t_14 = NULL;
  PyObject *__pyx_t_15 = NULL;
  PyObject *__pyx_t_16 = NULL;
  PyObject *__pyx_t_17 = NULL;
  PyObject *__pyx_t_18 = NULL;
  PyObject *__pyx_t_19 = NULL;
  PyObject *__pyx_t_20 = NULL;
  PyObject *__pyx_t_21 = NULL;
  PyObject *__pyx_t_22 = NULL;
  PyObject *__pyx_t_23 = NULL;
  __Pyx_RefNannySetupContext("_formats_key", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *) __Pyx_CyFunction_GetClosure(__pyx_self);
  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
  __pyx_cur_scope->__pyx_v_f = __pyx_v_f;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_f);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_f);

  /* "youtube_dl/extractor/common.py":897
 *         def _formats_key(f):
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext             # <<<<<<<<<<<<<<
 *             if not f.get('ext') and 'url' in f:
 *                 f['ext'] = determine_ext(f['url'])
 */
  __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 897, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_n_s_determine_ext);
  __Pyx_GIVEREF(__pyx_n_s_determine_ext);
  PyList_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_determine_ext);
  __pyx_t_2 = __Pyx_Import(__pyx_n_s_utils, __pyx_t_1, 2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 897, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_determine_ext); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 897, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_t_1);
  __pyx_v_determine_ext = __pyx_t_1;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":898
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 *             if not f.get('ext') and 'url' in f:             # <<<<<<<<<<<<<<
 *                 f['ext'] = determine_ext(f['url'])
 * 
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 898, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__67, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 898, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 898, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = ((!__pyx_t_4) != 0);
  if (__pyx_t_5) {
  } else {
    __pyx_t_3 = __pyx_t_5;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_5 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_url, __pyx_cur_scope->__pyx_v_f, Py_EQ)); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 898, __pyx_L1_error)
  __pyx_t_4 = (__pyx_t_5 != 0);
  __pyx_t_3 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":899
 *             from ..utils import determine_ext
 *             if not f.get('ext') and 'url' in f:
 *                 f['ext'] = determine_ext(f['url'])             # <<<<<<<<<<<<<<
 * 
 *             if isinstance(field_preference, (list, tuple)):
 */
    __pyx_t_2 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_f, __pyx_n_u_url); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 899, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_determine_ext);
    __pyx_t_6 = __pyx_v_determine_ext; __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
      }
    }
    if (!__pyx_t_7) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 899, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 899, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_7); __pyx_t_7 = NULL;
      __Pyx_GIVEREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 899, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(PyObject_SetItem(__pyx_cur_scope->__pyx_v_f, __pyx_n_u_ext, __pyx_t_1) < 0)) __PYX_ERR(0, 899, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":898
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 *             if not f.get('ext') and 'url' in f:             # <<<<<<<<<<<<<<
 *                 f['ext'] = determine_ext(f['url'])
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":901
 *                 f['ext'] = determine_ext(f['url'])
 * 
 *             if isinstance(field_preference, (list, tuple)):             # <<<<<<<<<<<<<<
 *                 return tuple(
 *                     f.get(field)
 */
  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_field_preference)) { __Pyx_RaiseClosureNameError("field_preference"); __PYX_ERR(0, 901, __pyx_L1_error) }
  __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_field_preference;
  __Pyx_INCREF(__pyx_t_1);
  __pyx_t_4 = PyList_Check(__pyx_t_1); 
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = (__pyx_t_4 != 0);
  if (!__pyx_t_5) {
  } else {
    __pyx_t_3 = __pyx_t_5;
    goto __pyx_L7_bool_binop_done;
  }
  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_field_preference)) { __Pyx_RaiseClosureNameError("field_preference"); __PYX_ERR(0, 901, __pyx_L1_error) }
  __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_field_preference;
  __Pyx_INCREF(__pyx_t_1);
  __pyx_t_5 = PyTuple_Check(__pyx_t_1); 
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = (__pyx_t_5 != 0);
  __pyx_t_3 = __pyx_t_4;
  __pyx_L7_bool_binop_done:;
  __pyx_t_4 = (__pyx_t_3 != 0);
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":902
 * 
 *             if isinstance(field_preference, (list, tuple)):
 *                 return tuple(             # <<<<<<<<<<<<<<
 *                     f.get(field)
 *                     if f.get(field) is not None
 */
    __Pyx_XDECREF(__pyx_r);

    /* "youtube_dl/extractor/common.py":903
 *             if isinstance(field_preference, (list, tuple)):
 *                 return tuple(
 *                     f.get(field)             # <<<<<<<<<<<<<<
 *                     if f.get(field) is not None
 *                     else ('' if field == 'format_id' else -1)
 */
    __pyx_t_1 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_12_formats_key_genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 903, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);

    /* "youtube_dl/extractor/common.py":902
 * 
 *             if isinstance(field_preference, (list, tuple)):
 *                 return tuple(             # <<<<<<<<<<<<<<
 *                     f.get(field)
 *                     if f.get(field) is not None
 */
    __pyx_t_6 = PySequence_Tuple(__pyx_t_1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 902, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_r = __pyx_t_6;
    __pyx_t_6 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":901
 *                 f['ext'] = determine_ext(f['url'])
 * 
 *             if isinstance(field_preference, (list, tuple)):             # <<<<<<<<<<<<<<
 *                 return tuple(
 *                     f.get(field)
 */
  }

  /* "youtube_dl/extractor/common.py":908
 *                     for field in field_preference)
 * 
 *             preference = f.get('preference')             # <<<<<<<<<<<<<<
 *             if preference is None:
 *                 preference = 0
 */
  __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 908, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__68, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 908, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_v_preference = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":909
 * 
 *             preference = f.get('preference')
 *             if preference is None:             # <<<<<<<<<<<<<<
 *                 preference = 0
 *                 if f.get('ext') in ['f4f', 'f4m']:  # Not yet supported
 */
  __pyx_t_4 = (__pyx_v_preference == Py_None);
  __pyx_t_3 = (__pyx_t_4 != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":910
 *             preference = f.get('preference')
 *             if preference is None:
 *                 preference = 0             # <<<<<<<<<<<<<<
 *                 if f.get('ext') in ['f4f', 'f4m']:  # Not yet supported
 *                     preference -= 0.5
 */
    __Pyx_INCREF(__pyx_int_0);
    __Pyx_DECREF_SET(__pyx_v_preference, __pyx_int_0);

    /* "youtube_dl/extractor/common.py":911
 *             if preference is None:
 *                 preference = 0
 *                 if f.get('ext') in ['f4f', 'f4m']:  # Not yet supported             # <<<<<<<<<<<<<<
 *                     preference -= 0.5
 * 
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 911, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__69, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 911, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_4 = (__Pyx_PyUnicode_Equals(__pyx_t_6, __pyx_n_u_f4f, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 911, __pyx_L1_error)
    if (!__pyx_t_4) {
    } else {
      __pyx_t_3 = __pyx_t_4;
      goto __pyx_L11_bool_binop_done;
    }
    __pyx_t_4 = (__Pyx_PyUnicode_Equals(__pyx_t_6, __pyx_n_u_f4m, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 911, __pyx_L1_error)
    __pyx_t_3 = __pyx_t_4;
    __pyx_L11_bool_binop_done:;
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_4 = (__pyx_t_3 != 0);
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":912
 *                 preference = 0
 *                 if f.get('ext') in ['f4f', 'f4m']:  # Not yet supported
 *                     preference -= 0.5             # <<<<<<<<<<<<<<
 * 
 *             proto_preference = 0 if determine_protocol(f) in ['http', 'https'] else -0.1
 */
      __pyx_t_6 = __Pyx_PyFloat_SubtractObjC(__pyx_v_preference, __pyx_float_0_5, 0.5, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 912, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF_SET(__pyx_v_preference, __pyx_t_6);
      __pyx_t_6 = 0;

      /* "youtube_dl/extractor/common.py":911
 *             if preference is None:
 *                 preference = 0
 *                 if f.get('ext') in ['f4f', 'f4m']:  # Not yet supported             # <<<<<<<<<<<<<<
 *                     preference -= 0.5
 * 
 */
    }

    /* "youtube_dl/extractor/common.py":909
 * 
 *             preference = f.get('preference')
 *             if preference is None:             # <<<<<<<<<<<<<<
 *                 preference = 0
 *                 if f.get('ext') in ['f4f', 'f4m']:  # Not yet supported
 */
  }

  /* "youtube_dl/extractor/common.py":914
 *                     preference -= 0.5
 * 
 *             proto_preference = 0 if determine_protocol(f) in ['http', 'https'] else -0.1             # <<<<<<<<<<<<<<
 * 
 *             if f.get('vcodec') == 'none':  # audio only
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_determine_protocol); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 914, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_8 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
    __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_1);
    if (likely(__pyx_t_8)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
      __Pyx_INCREF(__pyx_t_8);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_1, function);
    }
  }
  if (!__pyx_t_8) {
    __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_cur_scope->__pyx_v_f); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 914, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
  } else {
    __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 914, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_8); __pyx_t_8 = NULL;
    __Pyx_INCREF(__pyx_cur_scope->__pyx_v_f);
    __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_f);
    PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_cur_scope->__pyx_v_f);
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 914, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__Pyx_PyUnicode_Equals(__pyx_t_6, __pyx_n_u_http, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 914, __pyx_L1_error)
  if (!__pyx_t_3) {
  } else {
    __pyx_t_4 = __pyx_t_3;
    goto __pyx_L13_bool_binop_done;
  }
  __pyx_t_3 = (__Pyx_PyUnicode_Equals(__pyx_t_6, __pyx_n_u_https, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 914, __pyx_L1_error)
  __pyx_t_4 = __pyx_t_3;
  __pyx_L13_bool_binop_done:;
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_9 = 0.0;
  } else {
    __pyx_t_9 = -0.1;
  }
  __pyx_v_proto_preference = __pyx_t_9;

  /* "youtube_dl/extractor/common.py":916
 *             proto_preference = 0 if determine_protocol(f) in ['http', 'https'] else -0.1
 * 
 *             if f.get('vcodec') == 'none':  # audio only             # <<<<<<<<<<<<<<
 *                 preference -= 50
 *                 if self._downloader.params.get('prefer_free_formats'):
 */
  __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 916, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__70, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 916, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_4 = (__Pyx_PyUnicode_Equals(__pyx_t_1, __pyx_n_u_none, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 916, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":917
 * 
 *             if f.get('vcodec') == 'none':  # audio only
 *                 preference -= 50             # <<<<<<<<<<<<<<
 *                 if self._downloader.params.get('prefer_free_formats'):
 *                     ORDER = ['aac', 'mp3', 'm4a', 'webm', 'ogg', 'opus']
 */
    __pyx_t_1 = __Pyx_PyInt_SubtractObjC(__pyx_v_preference, __pyx_int_50, 50, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 917, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF_SET(__pyx_v_preference, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":918
 *             if f.get('vcodec') == 'none':  # audio only
 *                 preference -= 50
 *                 if self._downloader.params.get('prefer_free_formats'):             # <<<<<<<<<<<<<<
 *                     ORDER = ['aac', 'mp3', 'm4a', 'webm', 'ogg', 'opus']
 *                 else:
 */
    if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 918, __pyx_L1_error) }
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 918, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_params); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 918, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 918, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__71, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 918, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 918, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":919
 *                 preference -= 50
 *                 if self._downloader.params.get('prefer_free_formats'):
 *                     ORDER = ['aac', 'mp3', 'm4a', 'webm', 'ogg', 'opus']             # <<<<<<<<<<<<<<
 *                 else:
 *                     ORDER = ['webm', 'opus', 'ogg', 'mp3', 'aac', 'm4a']
 */
      __pyx_t_6 = PyList_New(6); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 919, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_INCREF(__pyx_n_u_aac);
      __Pyx_GIVEREF(__pyx_n_u_aac);
      PyList_SET_ITEM(__pyx_t_6, 0, __pyx_n_u_aac);
      __Pyx_INCREF(__pyx_n_u_mp3);
      __Pyx_GIVEREF(__pyx_n_u_mp3);
      PyList_SET_ITEM(__pyx_t_6, 1, __pyx_n_u_mp3);
      __Pyx_INCREF(__pyx_n_u_m4a);
      __Pyx_GIVEREF(__pyx_n_u_m4a);
      PyList_SET_ITEM(__pyx_t_6, 2, __pyx_n_u_m4a);
      __Pyx_INCREF(__pyx_n_u_webm);
      __Pyx_GIVEREF(__pyx_n_u_webm);
      PyList_SET_ITEM(__pyx_t_6, 3, __pyx_n_u_webm);
      __Pyx_INCREF(__pyx_n_u_ogg);
      __Pyx_GIVEREF(__pyx_n_u_ogg);
      PyList_SET_ITEM(__pyx_t_6, 4, __pyx_n_u_ogg);
      __Pyx_INCREF(__pyx_n_u_opus);
      __Pyx_GIVEREF(__pyx_n_u_opus);
      PyList_SET_ITEM(__pyx_t_6, 5, __pyx_n_u_opus);
      __pyx_v_ORDER = ((PyObject*)__pyx_t_6);
      __pyx_t_6 = 0;

      /* "youtube_dl/extractor/common.py":918
 *             if f.get('vcodec') == 'none':  # audio only
 *                 preference -= 50
 *                 if self._downloader.params.get('prefer_free_formats'):             # <<<<<<<<<<<<<<
 *                     ORDER = ['aac', 'mp3', 'm4a', 'webm', 'ogg', 'opus']
 *                 else:
 */
      goto __pyx_L16;
    }

    /* "youtube_dl/extractor/common.py":921
 *                     ORDER = ['aac', 'mp3', 'm4a', 'webm', 'ogg', 'opus']
 *                 else:
 *                     ORDER = ['webm', 'opus', 'ogg', 'mp3', 'aac', 'm4a']             # <<<<<<<<<<<<<<
 *                 ext_preference = 0
 *                 try:
 */
    /*else*/ {
      __pyx_t_6 = PyList_New(6); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 921, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_INCREF(__pyx_n_u_webm);
      __Pyx_GIVEREF(__pyx_n_u_webm);
      PyList_SET_ITEM(__pyx_t_6, 0, __pyx_n_u_webm);
      __Pyx_INCREF(__pyx_n_u_opus);
      __Pyx_GIVEREF(__pyx_n_u_opus);
      PyList_SET_ITEM(__pyx_t_6, 1, __pyx_n_u_opus);
      __Pyx_INCREF(__pyx_n_u_ogg);
      __Pyx_GIVEREF(__pyx_n_u_ogg);
      PyList_SET_ITEM(__pyx_t_6, 2, __pyx_n_u_ogg);
      __Pyx_INCREF(__pyx_n_u_mp3);
      __Pyx_GIVEREF(__pyx_n_u_mp3);
      PyList_SET_ITEM(__pyx_t_6, 3, __pyx_n_u_mp3);
      __Pyx_INCREF(__pyx_n_u_aac);
      __Pyx_GIVEREF(__pyx_n_u_aac);
      PyList_SET_ITEM(__pyx_t_6, 4, __pyx_n_u_aac);
      __Pyx_INCREF(__pyx_n_u_m4a);
      __Pyx_GIVEREF(__pyx_n_u_m4a);
      PyList_SET_ITEM(__pyx_t_6, 5, __pyx_n_u_m4a);
      __pyx_v_ORDER = ((PyObject*)__pyx_t_6);
      __pyx_t_6 = 0;
    }
    __pyx_L16:;

    /* "youtube_dl/extractor/common.py":922
 *                 else:
 *                     ORDER = ['webm', 'opus', 'ogg', 'mp3', 'aac', 'm4a']
 *                 ext_preference = 0             # <<<<<<<<<<<<<<
 *                 try:
 *                     audio_ext_preference = ORDER.index(f['ext'])
 */
    __Pyx_INCREF(__pyx_int_0);
    __pyx_v_ext_preference = __pyx_int_0;

    /* "youtube_dl/extractor/common.py":923
 *                     ORDER = ['webm', 'opus', 'ogg', 'mp3', 'aac', 'm4a']
 *                 ext_preference = 0
 *                 try:             # <<<<<<<<<<<<<<
 *                     audio_ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:
 */
    {
      __Pyx_PyThreadState_declare
      __Pyx_PyThreadState_assign
      __Pyx_ExceptionSave(&__pyx_t_10, &__pyx_t_11, &__pyx_t_12);
      __Pyx_XGOTREF(__pyx_t_10);
      __Pyx_XGOTREF(__pyx_t_11);
      __Pyx_XGOTREF(__pyx_t_12);
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":924
 *                 ext_preference = 0
 *                 try:
 *                     audio_ext_preference = ORDER.index(f['ext'])             # <<<<<<<<<<<<<<
 *                 except ValueError:
 *                     audio_ext_preference = -1
 */
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_ORDER, __pyx_n_s_index); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 924, __pyx_L17_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_2 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_f, __pyx_n_u_ext); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 924, __pyx_L17_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_8 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
          __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_1);
          if (likely(__pyx_t_8)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
            __Pyx_INCREF(__pyx_t_8);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_1, function);
          }
        }
        if (!__pyx_t_8) {
          __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 924, __pyx_L17_error)
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __Pyx_GOTREF(__pyx_t_6);
        } else {
          __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 924, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_8); __pyx_t_8 = NULL;
          __Pyx_GIVEREF(__pyx_t_2);
          PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_2);
          __pyx_t_2 = 0;
          __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 924, __pyx_L17_error)
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        }
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_v_audio_ext_preference = __pyx_t_6;
        __pyx_t_6 = 0;

        /* "youtube_dl/extractor/common.py":923
 *                     ORDER = ['webm', 'opus', 'ogg', 'mp3', 'aac', 'm4a']
 *                 ext_preference = 0
 *                 try:             # <<<<<<<<<<<<<<
 *                     audio_ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:
 */
      }
      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
      __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
      goto __pyx_L24_try_end;
      __pyx_L17_error:;
      __Pyx_PyThreadState_assign
      __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;

      /* "youtube_dl/extractor/common.py":925
 *                 try:
 *                     audio_ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:             # <<<<<<<<<<<<<<
 *                     audio_ext_preference = -1
 *             else:
 */
      __pyx_t_13 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_ValueError);
      if (__pyx_t_13) {
        __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._sort_formats._formats_key", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_1, &__pyx_t_7) < 0) __PYX_ERR(0, 925, __pyx_L19_except_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GOTREF(__pyx_t_7);

        /* "youtube_dl/extractor/common.py":926
 *                     audio_ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:
 *                     audio_ext_preference = -1             # <<<<<<<<<<<<<<
 *             else:
 *                 if f.get('acodec') == 'none':  # video only
 */
        __Pyx_INCREF(__pyx_int_neg_1);
        __Pyx_XDECREF_SET(__pyx_v_audio_ext_preference, __pyx_int_neg_1);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        goto __pyx_L18_exception_handled;
      }
      goto __pyx_L19_except_error;
      __pyx_L19_except_error:;

      /* "youtube_dl/extractor/common.py":923
 *                     ORDER = ['webm', 'opus', 'ogg', 'mp3', 'aac', 'm4a']
 *                 ext_preference = 0
 *                 try:             # <<<<<<<<<<<<<<
 *                     audio_ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:
 */
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_10);
      __Pyx_XGIVEREF(__pyx_t_11);
      __Pyx_XGIVEREF(__pyx_t_12);
      __Pyx_ExceptionReset(__pyx_t_10, __pyx_t_11, __pyx_t_12);
      goto __pyx_L1_error;
      __pyx_L18_exception_handled:;
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_10);
      __Pyx_XGIVEREF(__pyx_t_11);
      __Pyx_XGIVEREF(__pyx_t_12);
      __Pyx_ExceptionReset(__pyx_t_10, __pyx_t_11, __pyx_t_12);
      __pyx_L24_try_end:;
    }

    /* "youtube_dl/extractor/common.py":916
 *             proto_preference = 0 if determine_protocol(f) in ['http', 'https'] else -0.1
 * 
 *             if f.get('vcodec') == 'none':  # audio only             # <<<<<<<<<<<<<<
 *                 preference -= 50
 *                 if self._downloader.params.get('prefer_free_formats'):
 */
    goto __pyx_L15;
  }

  /* "youtube_dl/extractor/common.py":928
 *                     audio_ext_preference = -1
 *             else:
 *                 if f.get('acodec') == 'none':  # video only             # <<<<<<<<<<<<<<
 *                     preference -= 40
 *                 if self._downloader.params.get('prefer_free_formats'):
 */
  /*else*/ {
    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 928, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__72, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 928, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_4 = (__Pyx_PyUnicode_Equals(__pyx_t_1, __pyx_n_u_none, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 928, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":929
 *             else:
 *                 if f.get('acodec') == 'none':  # video only
 *                     preference -= 40             # <<<<<<<<<<<<<<
 *                 if self._downloader.params.get('prefer_free_formats'):
 *                     ORDER = ['flv', 'mp4', 'webm']
 */
      __pyx_t_1 = __Pyx_PyInt_SubtractObjC(__pyx_v_preference, __pyx_int_40, 40, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 929, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF_SET(__pyx_v_preference, __pyx_t_1);
      __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":928
 *                     audio_ext_preference = -1
 *             else:
 *                 if f.get('acodec') == 'none':  # video only             # <<<<<<<<<<<<<<
 *                     preference -= 40
 *                 if self._downloader.params.get('prefer_free_formats'):
 */
    }

    /* "youtube_dl/extractor/common.py":930
 *                 if f.get('acodec') == 'none':  # video only
 *                     preference -= 40
 *                 if self._downloader.params.get('prefer_free_formats'):             # <<<<<<<<<<<<<<
 *                     ORDER = ['flv', 'mp4', 'webm']
 *                 else:
 */
    if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 930, __pyx_L1_error) }
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 930, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_params); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 930, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 930, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__73, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 930, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_7); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 930, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":931
 *                     preference -= 40
 *                 if self._downloader.params.get('prefer_free_formats'):
 *                     ORDER = ['flv', 'mp4', 'webm']             # <<<<<<<<<<<<<<
 *                 else:
 *                     ORDER = ['webm', 'flv', 'mp4']
 */
      __pyx_t_7 = PyList_New(3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 931, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_INCREF(__pyx_n_u_flv);
      __Pyx_GIVEREF(__pyx_n_u_flv);
      PyList_SET_ITEM(__pyx_t_7, 0, __pyx_n_u_flv);
      __Pyx_INCREF(__pyx_n_u_mp4);
      __Pyx_GIVEREF(__pyx_n_u_mp4);
      PyList_SET_ITEM(__pyx_t_7, 1, __pyx_n_u_mp4);
      __Pyx_INCREF(__pyx_n_u_webm);
      __Pyx_GIVEREF(__pyx_n_u_webm);
      PyList_SET_ITEM(__pyx_t_7, 2, __pyx_n_u_webm);
      __pyx_v_ORDER = ((PyObject*)__pyx_t_7);
      __pyx_t_7 = 0;

      /* "youtube_dl/extractor/common.py":930
 *                 if f.get('acodec') == 'none':  # video only
 *                     preference -= 40
 *                 if self._downloader.params.get('prefer_free_formats'):             # <<<<<<<<<<<<<<
 *                     ORDER = ['flv', 'mp4', 'webm']
 *                 else:
 */
      goto __pyx_L28;
    }

    /* "youtube_dl/extractor/common.py":933
 *                     ORDER = ['flv', 'mp4', 'webm']
 *                 else:
 *                     ORDER = ['webm', 'flv', 'mp4']             # <<<<<<<<<<<<<<
 *                 try:
 *                     ext_preference = ORDER.index(f['ext'])
 */
    /*else*/ {
      __pyx_t_7 = PyList_New(3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 933, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_INCREF(__pyx_n_u_webm);
      __Pyx_GIVEREF(__pyx_n_u_webm);
      PyList_SET_ITEM(__pyx_t_7, 0, __pyx_n_u_webm);
      __Pyx_INCREF(__pyx_n_u_flv);
      __Pyx_GIVEREF(__pyx_n_u_flv);
      PyList_SET_ITEM(__pyx_t_7, 1, __pyx_n_u_flv);
      __Pyx_INCREF(__pyx_n_u_mp4);
      __Pyx_GIVEREF(__pyx_n_u_mp4);
      PyList_SET_ITEM(__pyx_t_7, 2, __pyx_n_u_mp4);
      __pyx_v_ORDER = ((PyObject*)__pyx_t_7);
      __pyx_t_7 = 0;
    }
    __pyx_L28:;

    /* "youtube_dl/extractor/common.py":934
 *                 else:
 *                     ORDER = ['webm', 'flv', 'mp4']
 *                 try:             # <<<<<<<<<<<<<<
 *                     ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:
 */
    {
      __Pyx_PyThreadState_declare
      __Pyx_PyThreadState_assign
      __Pyx_ExceptionSave(&__pyx_t_12, &__pyx_t_11, &__pyx_t_10);
      __Pyx_XGOTREF(__pyx_t_12);
      __Pyx_XGOTREF(__pyx_t_11);
      __Pyx_XGOTREF(__pyx_t_10);
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":935
 *                     ORDER = ['webm', 'flv', 'mp4']
 *                 try:
 *                     ext_preference = ORDER.index(f['ext'])             # <<<<<<<<<<<<<<
 *                 except ValueError:
 *                     ext_preference = -1
 */
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_ORDER, __pyx_n_s_index); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 935, __pyx_L29_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_6 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_f, __pyx_n_u_ext); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 935, __pyx_L29_error)
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_2 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
          __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
          if (likely(__pyx_t_2)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
            __Pyx_INCREF(__pyx_t_2);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_1, function);
          }
        }
        if (!__pyx_t_2) {
          __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 935, __pyx_L29_error)
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __Pyx_GOTREF(__pyx_t_7);
        } else {
          __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 935, __pyx_L29_error)
          __Pyx_GOTREF(__pyx_t_8);
          __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_2); __pyx_t_2 = NULL;
          __Pyx_GIVEREF(__pyx_t_6);
          PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_t_6);
          __pyx_t_6 = 0;
          __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_8, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 935, __pyx_L29_error)
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        }
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_v_ext_preference = __pyx_t_7;
        __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":934
 *                 else:
 *                     ORDER = ['webm', 'flv', 'mp4']
 *                 try:             # <<<<<<<<<<<<<<
 *                     ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:
 */
      }
      __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
      __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
      goto __pyx_L36_try_end;
      __pyx_L29_error:;
      __Pyx_PyThreadState_assign
      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;

      /* "youtube_dl/extractor/common.py":936
 *                 try:
 *                     ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:             # <<<<<<<<<<<<<<
 *                     ext_preference = -1
 *                 audio_ext_preference = 0
 */
      __pyx_t_13 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_ValueError);
      if (__pyx_t_13) {
        __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._sort_formats._formats_key", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (__Pyx_GetException(&__pyx_t_7, &__pyx_t_1, &__pyx_t_8) < 0) __PYX_ERR(0, 936, __pyx_L31_except_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GOTREF(__pyx_t_8);

        /* "youtube_dl/extractor/common.py":937
 *                     ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:
 *                     ext_preference = -1             # <<<<<<<<<<<<<<
 *                 audio_ext_preference = 0
 * 
 */
        __Pyx_INCREF(__pyx_int_neg_1);
        __Pyx_XDECREF_SET(__pyx_v_ext_preference, __pyx_int_neg_1);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        goto __pyx_L30_exception_handled;
      }
      goto __pyx_L31_except_error;
      __pyx_L31_except_error:;

      /* "youtube_dl/extractor/common.py":934
 *                 else:
 *                     ORDER = ['webm', 'flv', 'mp4']
 *                 try:             # <<<<<<<<<<<<<<
 *                     ext_preference = ORDER.index(f['ext'])
 *                 except ValueError:
 */
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_12);
      __Pyx_XGIVEREF(__pyx_t_11);
      __Pyx_XGIVEREF(__pyx_t_10);
      __Pyx_ExceptionReset(__pyx_t_12, __pyx_t_11, __pyx_t_10);
      goto __pyx_L1_error;
      __pyx_L30_exception_handled:;
      __Pyx_PyThreadState_assign
      __Pyx_XGIVEREF(__pyx_t_12);
      __Pyx_XGIVEREF(__pyx_t_11);
      __Pyx_XGIVEREF(__pyx_t_10);
      __Pyx_ExceptionReset(__pyx_t_12, __pyx_t_11, __pyx_t_10);
      __pyx_L36_try_end:;
    }

    /* "youtube_dl/extractor/common.py":938
 *                 except ValueError:
 *                     ext_preference = -1
 *                 audio_ext_preference = 0             # <<<<<<<<<<<<<<
 * 
 *             return (
 */
    __Pyx_INCREF(__pyx_int_0);
    __pyx_v_audio_ext_preference = __pyx_int_0;
  }
  __pyx_L15:;

  /* "youtube_dl/extractor/common.py":940
 *                 audio_ext_preference = 0
 * 
 *             return (             # <<<<<<<<<<<<<<
 *                 preference,
 *                 f.get('language_preference') if f.get('language_preference') is not None else -1,
 */
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":942
 *             return (
 *                 preference,
 *                 f.get('language_preference') if f.get('language_preference') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('quality') if f.get('quality') is not None else -1,
 *                 f.get('tbr') if f.get('tbr') is not None else -1,
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 942, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__74, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 942, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = (__pyx_t_7 != Py_None);
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 942, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__75, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 942, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_8 = __pyx_t_1;
    __pyx_t_1 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_8 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":943
 *                 preference,
 *                 f.get('language_preference') if f.get('language_preference') is not None else -1,
 *                 f.get('quality') if f.get('quality') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('tbr') if f.get('tbr') is not None else -1,
 *                 f.get('filesize') if f.get('filesize') is not None else -1,
 */
  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 943, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__76, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 943, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_4 = (__pyx_t_6 != Py_None);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 943, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__77, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 943, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_1 = __pyx_t_7;
    __pyx_t_7 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_1 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":944
 *                 f.get('language_preference') if f.get('language_preference') is not None else -1,
 *                 f.get('quality') if f.get('quality') is not None else -1,
 *                 f.get('tbr') if f.get('tbr') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('filesize') if f.get('filesize') is not None else -1,
 *                 f.get('vbr') if f.get('vbr') is not None else -1,
 */
  __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 944, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__78, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 944, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_4 = (__pyx_t_2 != Py_None);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 944, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__79, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 944, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_7 = __pyx_t_6;
    __pyx_t_6 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_7 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":945
 *                 f.get('quality') if f.get('quality') is not None else -1,
 *                 f.get('tbr') if f.get('tbr') is not None else -1,
 *                 f.get('filesize') if f.get('filesize') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('vbr') if f.get('vbr') is not None else -1,
 *                 f.get('height') if f.get('height') is not None else -1,
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 945, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__80, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 945, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_14);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = (__pyx_t_14 != Py_None);
  __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 945, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_14);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_tuple__81, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 945, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
    __pyx_t_6 = __pyx_t_2;
    __pyx_t_2 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_6 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":946
 *                 f.get('tbr') if f.get('tbr') is not None else -1,
 *                 f.get('filesize') if f.get('filesize') is not None else -1,
 *                 f.get('vbr') if f.get('vbr') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('height') if f.get('height') is not None else -1,
 *                 f.get('width') if f.get('width') is not None else -1,
 */
  __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 946, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_14);
  __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_tuple__82, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 946, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_15);
  __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
  __pyx_t_4 = (__pyx_t_15 != Py_None);
  __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 946, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_15);
    __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_tuple__83, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 946, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_14);
    __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
    __pyx_t_2 = __pyx_t_14;
    __pyx_t_14 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_2 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":947
 *                 f.get('filesize') if f.get('filesize') is not None else -1,
 *                 f.get('vbr') if f.get('vbr') is not None else -1,
 *                 f.get('height') if f.get('height') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('width') if f.get('width') is not None else -1,
 *                 proto_preference,
 */
  __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 947, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_15);
  __pyx_t_16 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_tuple__84, NULL); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 947, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_16);
  __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
  __pyx_t_4 = (__pyx_t_16 != Py_None);
  __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_16 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 947, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_16);
    __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_16, __pyx_tuple__85, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 947, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_15);
    __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
    __pyx_t_14 = __pyx_t_15;
    __pyx_t_15 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_14 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":948
 *                 f.get('vbr') if f.get('vbr') is not None else -1,
 *                 f.get('height') if f.get('height') is not None else -1,
 *                 f.get('width') if f.get('width') is not None else -1,             # <<<<<<<<<<<<<<
 *                 proto_preference,
 *                 ext_preference,
 */
  __pyx_t_16 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 948, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_16);
  __pyx_t_17 = __Pyx_PyObject_Call(__pyx_t_16, __pyx_tuple__86, NULL); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 948, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_17);
  __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
  __pyx_t_4 = (__pyx_t_17 != Py_None);
  __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_17 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 948, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_17);
    __pyx_t_16 = __Pyx_PyObject_Call(__pyx_t_17, __pyx_tuple__87, NULL); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 948, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_16);
    __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
    __pyx_t_15 = __pyx_t_16;
    __pyx_t_16 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_15 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":949
 *                 f.get('height') if f.get('height') is not None else -1,
 *                 f.get('width') if f.get('width') is not None else -1,
 *                 proto_preference,             # <<<<<<<<<<<<<<
 *                 ext_preference,
 *                 f.get('abr') if f.get('abr') is not None else -1,
 */
  __pyx_t_16 = PyFloat_FromDouble(__pyx_v_proto_preference); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 949, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_16);

  /* "youtube_dl/extractor/common.py":951
 *                 proto_preference,
 *                 ext_preference,
 *                 f.get('abr') if f.get('abr') is not None else -1,             # <<<<<<<<<<<<<<
 *                 audio_ext_preference,
 *                 f.get('fps') if f.get('fps') is not None else -1,
 */
  __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 951, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_18);
  __pyx_t_19 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_tuple__88, NULL); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 951, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_19);
  __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
  __pyx_t_4 = (__pyx_t_19 != Py_None);
  __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_19 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 951, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_19);
    __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_19, __pyx_tuple__89, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 951, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_18);
    __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
    __pyx_t_17 = __pyx_t_18;
    __pyx_t_18 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_17 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":953
 *                 f.get('abr') if f.get('abr') is not None else -1,
 *                 audio_ext_preference,
 *                 f.get('fps') if f.get('fps') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('filesize_approx') if f.get('filesize_approx') is not None else -1,
 *                 f.get('source_preference') if f.get('source_preference') is not None else -1,
 */
  __pyx_t_19 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 953, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_19);
  __pyx_t_20 = __Pyx_PyObject_Call(__pyx_t_19, __pyx_tuple__90, NULL); if (unlikely(!__pyx_t_20)) __PYX_ERR(0, 953, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_20);
  __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
  __pyx_t_4 = (__pyx_t_20 != Py_None);
  __Pyx_DECREF(__pyx_t_20); __pyx_t_20 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_20 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_20)) __PYX_ERR(0, 953, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_20);
    __pyx_t_19 = __Pyx_PyObject_Call(__pyx_t_20, __pyx_tuple__91, NULL); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 953, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_19);
    __Pyx_DECREF(__pyx_t_20); __pyx_t_20 = 0;
    __pyx_t_18 = __pyx_t_19;
    __pyx_t_19 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_18 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":954
 *                 audio_ext_preference,
 *                 f.get('fps') if f.get('fps') is not None else -1,
 *                 f.get('filesize_approx') if f.get('filesize_approx') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('source_preference') if f.get('source_preference') is not None else -1,
 *                 f.get('format_id') if f.get('format_id') is not None else '',
 */
  __pyx_t_20 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_20)) __PYX_ERR(0, 954, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_20);
  __pyx_t_21 = __Pyx_PyObject_Call(__pyx_t_20, __pyx_tuple__92, NULL); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 954, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_21);
  __Pyx_DECREF(__pyx_t_20); __pyx_t_20 = 0;
  __pyx_t_4 = (__pyx_t_21 != Py_None);
  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_21 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 954, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_21);
    __pyx_t_20 = __Pyx_PyObject_Call(__pyx_t_21, __pyx_tuple__93, NULL); if (unlikely(!__pyx_t_20)) __PYX_ERR(0, 954, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_20);
    __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
    __pyx_t_19 = __pyx_t_20;
    __pyx_t_20 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_19 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":955
 *                 f.get('fps') if f.get('fps') is not None else -1,
 *                 f.get('filesize_approx') if f.get('filesize_approx') is not None else -1,
 *                 f.get('source_preference') if f.get('source_preference') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('format_id') if f.get('format_id') is not None else '',
 *             )
 */
  __pyx_t_21 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 955, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_21);
  __pyx_t_22 = __Pyx_PyObject_Call(__pyx_t_21, __pyx_tuple__94, NULL); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 955, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_22);
  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
  __pyx_t_4 = (__pyx_t_22 != Py_None);
  __Pyx_DECREF(__pyx_t_22); __pyx_t_22 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_22 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 955, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_22);
    __pyx_t_21 = __Pyx_PyObject_Call(__pyx_t_22, __pyx_tuple__95, NULL); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 955, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_21);
    __Pyx_DECREF(__pyx_t_22); __pyx_t_22 = 0;
    __pyx_t_20 = __pyx_t_21;
    __pyx_t_21 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_20 = __pyx_int_neg_1;
  }

  /* "youtube_dl/extractor/common.py":956
 *                 f.get('filesize_approx') if f.get('filesize_approx') is not None else -1,
 *                 f.get('source_preference') if f.get('source_preference') is not None else -1,
 *                 f.get('format_id') if f.get('format_id') is not None else '',             # <<<<<<<<<<<<<<
 *             )
 *         formats.sort(key=_formats_key)
 */
  __pyx_t_22 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 956, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_22);
  __pyx_t_23 = __Pyx_PyObject_Call(__pyx_t_22, __pyx_tuple__96, NULL); if (unlikely(!__pyx_t_23)) __PYX_ERR(0, 956, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_23);
  __Pyx_DECREF(__pyx_t_22); __pyx_t_22 = 0;
  __pyx_t_4 = (__pyx_t_23 != Py_None);
  __Pyx_DECREF(__pyx_t_23); __pyx_t_23 = 0;
  if ((__pyx_t_4 != 0)) {
    __pyx_t_23 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_23)) __PYX_ERR(0, 956, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_23);
    __pyx_t_22 = __Pyx_PyObject_Call(__pyx_t_23, __pyx_tuple__97, NULL); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 956, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_22);
    __Pyx_DECREF(__pyx_t_23); __pyx_t_23 = 0;
    __pyx_t_21 = __pyx_t_22;
    __pyx_t_22 = 0;
  } else {
    __Pyx_INCREF(__pyx_kp_u__14);
    __pyx_t_21 = __pyx_kp_u__14;
  }

  /* "youtube_dl/extractor/common.py":941
 * 
 *             return (
 *                 preference,             # <<<<<<<<<<<<<<
 *                 f.get('language_preference') if f.get('language_preference') is not None else -1,
 *                 f.get('quality') if f.get('quality') is not None else -1,
 */
  __pyx_t_22 = PyTuple_New(16); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 941, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_22);
  __Pyx_INCREF(__pyx_v_preference);
  __Pyx_GIVEREF(__pyx_v_preference);
  PyTuple_SET_ITEM(__pyx_t_22, 0, __pyx_v_preference);
  __Pyx_GIVEREF(__pyx_t_8);
  PyTuple_SET_ITEM(__pyx_t_22, 1, __pyx_t_8);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_22, 2, __pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_7);
  PyTuple_SET_ITEM(__pyx_t_22, 3, __pyx_t_7);
  __Pyx_GIVEREF(__pyx_t_6);
  PyTuple_SET_ITEM(__pyx_t_22, 4, __pyx_t_6);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_22, 5, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_14);
  PyTuple_SET_ITEM(__pyx_t_22, 6, __pyx_t_14);
  __Pyx_GIVEREF(__pyx_t_15);
  PyTuple_SET_ITEM(__pyx_t_22, 7, __pyx_t_15);
  __Pyx_GIVEREF(__pyx_t_16);
  PyTuple_SET_ITEM(__pyx_t_22, 8, __pyx_t_16);
  __Pyx_INCREF(__pyx_v_ext_preference);
  __Pyx_GIVEREF(__pyx_v_ext_preference);
  PyTuple_SET_ITEM(__pyx_t_22, 9, __pyx_v_ext_preference);
  __Pyx_GIVEREF(__pyx_t_17);
  PyTuple_SET_ITEM(__pyx_t_22, 10, __pyx_t_17);
  __Pyx_INCREF(__pyx_v_audio_ext_preference);
  __Pyx_GIVEREF(__pyx_v_audio_ext_preference);
  PyTuple_SET_ITEM(__pyx_t_22, 11, __pyx_v_audio_ext_preference);
  __Pyx_GIVEREF(__pyx_t_18);
  PyTuple_SET_ITEM(__pyx_t_22, 12, __pyx_t_18);
  __Pyx_GIVEREF(__pyx_t_19);
  PyTuple_SET_ITEM(__pyx_t_22, 13, __pyx_t_19);
  __Pyx_GIVEREF(__pyx_t_20);
  PyTuple_SET_ITEM(__pyx_t_22, 14, __pyx_t_20);
  __Pyx_GIVEREF(__pyx_t_21);
  PyTuple_SET_ITEM(__pyx_t_22, 15, __pyx_t_21);
  __pyx_t_8 = 0;
  __pyx_t_1 = 0;
  __pyx_t_7 = 0;
  __pyx_t_6 = 0;
  __pyx_t_2 = 0;
  __pyx_t_14 = 0;
  __pyx_t_15 = 0;
  __pyx_t_16 = 0;
  __pyx_t_17 = 0;
  __pyx_t_18 = 0;
  __pyx_t_19 = 0;
  __pyx_t_20 = 0;
  __pyx_t_21 = 0;
  __pyx_r = __pyx_t_22;
  __pyx_t_22 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":895
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 *         def _formats_key(f):             # <<<<<<<<<<<<<<
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_14);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_XDECREF(__pyx_t_16);
  __Pyx_XDECREF(__pyx_t_17);
  __Pyx_XDECREF(__pyx_t_18);
  __Pyx_XDECREF(__pyx_t_19);
  __Pyx_XDECREF(__pyx_t_20);
  __Pyx_XDECREF(__pyx_t_21);
  __Pyx_XDECREF(__pyx_t_22);
  __Pyx_XDECREF(__pyx_t_23);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._sort_formats._formats_key", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_determine_ext);
  __Pyx_XDECREF(__pyx_v_preference);
  __Pyx_XDECREF(__pyx_v_ORDER);
  __Pyx_XDECREF(__pyx_v_ext_preference);
  __Pyx_XDECREF(__pyx_v_audio_ext_preference);
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":885
 *         return self._hidden_inputs(form)
 * 
 *     def _sort_formats(self, formats, field_preference=None):             # <<<<<<<<<<<<<<
 *         if not formats:
 *             raise ExtractorError('No video formats found')
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_102_sort_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_formats, PyObject *__pyx_v_field_preference) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *__pyx_cur_scope;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_v__formats_key = 0;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  Py_ssize_t __pyx_t_5;
  PyObject *(*__pyx_t_6)(PyObject *);
  int __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  __Pyx_RefNannySetupContext("_sort_formats", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_self);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_self);
  __pyx_cur_scope->__pyx_v_field_preference = __pyx_v_field_preference;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_field_preference);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_field_preference);

  /* "youtube_dl/extractor/common.py":886
 * 
 *     def _sort_formats(self, formats, field_preference=None):
 *         if not formats:             # <<<<<<<<<<<<<<
 *             raise ExtractorError('No video formats found')
 * 
 */
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_formats); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 886, __pyx_L1_error)
  __pyx_t_2 = ((!__pyx_t_1) != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":887
 *     def _sort_formats(self, formats, field_preference=None):
 *         if not formats:
 *             raise ExtractorError('No video formats found')             # <<<<<<<<<<<<<<
 * 
 *         for f in formats:
 */
    __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 887, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__98, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 887, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __PYX_ERR(0, 887, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":886
 * 
 *     def _sort_formats(self, formats, field_preference=None):
 *         if not formats:             # <<<<<<<<<<<<<<
 *             raise ExtractorError('No video formats found')
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":889
 *             raise ExtractorError('No video formats found')
 * 
 *         for f in formats:             # <<<<<<<<<<<<<<
 *             # Automatically determine tbr when missing based on abr and vbr (improves
 *             # formats sorting in some cases)
 */
  if (likely(PyList_CheckExact(__pyx_v_formats)) || PyTuple_CheckExact(__pyx_v_formats)) {
    __pyx_t_4 = __pyx_v_formats; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
    __pyx_t_6 = NULL;
  } else {
    __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_formats); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 889, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 889, __pyx_L1_error)
  }
  for (;;) {
    if (likely(!__pyx_t_6)) {
      if (likely(PyList_CheckExact(__pyx_t_4))) {
        if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_3); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(0, 889, __pyx_L1_error)
        #else
        __pyx_t_3 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 889, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        #endif
      } else {
        if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_3); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(0, 889, __pyx_L1_error)
        #else
        __pyx_t_3 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 889, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        #endif
      }
    } else {
      __pyx_t_3 = __pyx_t_6(__pyx_t_4);
      if (unlikely(!__pyx_t_3)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 889, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_3);
    }
    __Pyx_XDECREF_SET(__pyx_v_f, __pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":892
 *             # Automatically determine tbr when missing based on abr and vbr (improves
 *             # formats sorting in some cases)
 *             if 'tbr' not in f and f.get('abr') is not None and f.get('vbr') is not None:             # <<<<<<<<<<<<<<
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 */
    __pyx_t_1 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_tbr, __pyx_v_f, Py_NE)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 892, __pyx_L1_error)
    __pyx_t_7 = (__pyx_t_1 != 0);
    if (__pyx_t_7) {
    } else {
      __pyx_t_2 = __pyx_t_7;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 892, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__99, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 892, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_7 = (__pyx_t_8 != Py_None);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_1 = (__pyx_t_7 != 0);
    if (__pyx_t_1) {
    } else {
      __pyx_t_2 = __pyx_t_1;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 892, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_tuple__100, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 892, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_1 = (__pyx_t_3 != Py_None);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_7 = (__pyx_t_1 != 0);
    __pyx_t_2 = __pyx_t_7;
    __pyx_L7_bool_binop_done:;
    if (__pyx_t_2) {

      /* "youtube_dl/extractor/common.py":893
 *             # formats sorting in some cases)
 *             if 'tbr' not in f and f.get('abr') is not None and f.get('vbr') is not None:
 *                 f['tbr'] = f['abr'] + f['vbr']             # <<<<<<<<<<<<<<
 * 
 *         def _formats_key(f):
 */
      __pyx_t_3 = PyObject_GetItem(__pyx_v_f, __pyx_n_u_abr); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 893, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_8 = PyObject_GetItem(__pyx_v_f, __pyx_n_u_vbr); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 893, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_9 = PyNumber_Add(__pyx_t_3, __pyx_t_8); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 893, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(PyObject_SetItem(__pyx_v_f, __pyx_n_u_tbr, __pyx_t_9) < 0)) __PYX_ERR(0, 893, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;

      /* "youtube_dl/extractor/common.py":892
 *             # Automatically determine tbr when missing based on abr and vbr (improves
 *             # formats sorting in some cases)
 *             if 'tbr' not in f and f.get('abr') is not None and f.get('vbr') is not None:             # <<<<<<<<<<<<<<
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 */
    }

    /* "youtube_dl/extractor/common.py":889
 *             raise ExtractorError('No video formats found')
 * 
 *         for f in formats:             # <<<<<<<<<<<<<<
 *             # Automatically determine tbr when missing based on abr and vbr (improves
 *             # formats sorting in some cases)
 */
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":895
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 *         def _formats_key(f):             # <<<<<<<<<<<<<<
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_13_sort_formats_1_formats_key, 0, __pyx_n_s_InfoExtractor__sort_formats_loca_2, ((PyObject*)__pyx_cur_scope), __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__102)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 895, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_v__formats_key = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":958
 *                 f.get('format_id') if f.get('format_id') is not None else '',
 *             )
 *         formats.sort(key=_formats_key)             # <<<<<<<<<<<<<<
 * 
 *     def _check_formats(self, formats, video_id):
 */
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_formats, __pyx_n_s_sort); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 958, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_9 = PyDict_New(); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 958, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_9);
  if (PyDict_SetItem(__pyx_t_9, __pyx_n_s_key, __pyx_v__formats_key) < 0) __PYX_ERR(0, 958, __pyx_L1_error)
  __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_empty_tuple, __pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 958, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_8);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

  /* "youtube_dl/extractor/common.py":885
 *         return self._hidden_inputs(form)
 * 
 *     def _sort_formats(self, formats, field_preference=None):             # <<<<<<<<<<<<<<
 *         if not formats:
 *             raise ExtractorError('No video formats found')
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._sort_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_f);
  __Pyx_XDECREF(__pyx_v__formats_key);
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":960
 *         formats.sort(key=_formats_key)
 * 
 *     def _check_formats(self, formats, video_id):             # <<<<<<<<<<<<<<
 *         if formats:
 *             formats[:] = filter(
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_105_check_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_105_check_formats = {"_check_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_105_check_formats, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_105_check_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_formats = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_check_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_formats,&__pyx_n_s_video_id,0};
    PyObject* values[3] = {0,0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_formats)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_check_formats", 1, 3, 3, 1); __PYX_ERR(0, 960, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_check_formats", 1, 3, 3, 2); __PYX_ERR(0, 960, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_check_formats") < 0)) __PYX_ERR(0, 960, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
    }
    __pyx_v_self = values[0];
    __pyx_v_formats = values[1];
    __pyx_v_video_id = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_check_formats", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 960, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._check_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_104_check_formats(__pyx_self, __pyx_v_self, __pyx_v_formats, __pyx_v_video_id);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":963
 *         if formats:
 *             formats[:] = filter(
 *                 lambda f: self._is_valid_url(             # <<<<<<<<<<<<<<
 *                     f['url'], video_id,
 *                     item='%s video format' % f.get('format_id') if f.get('format_id') else 'video'),
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_14_check_formats_lambda3(PyObject *__pyx_self, PyObject *__pyx_v_f); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_14_check_formats_lambda3 = {"lambda3", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_14_check_formats_lambda3, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_14_check_formats_lambda3(PyObject *__pyx_self, PyObject *__pyx_v_f) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("lambda3 (wrapper)", 0);
  __pyx_r = __pyx_lambda_funcdef_lambda3(__pyx_self, ((PyObject *)__pyx_v_f));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_lambda3(PyObject *__pyx_self, PyObject *__pyx_v_f) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *__pyx_cur_scope;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("lambda3", 0);
  __pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *) __Pyx_CyFunction_GetClosure(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  __Pyx_XDECREF(__pyx_r);
  if (unlikely(!__pyx_cur_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 963, __pyx_L1_error) }
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_is_valid_url); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 963, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":964
 *             formats[:] = filter(
 *                 lambda f: self._is_valid_url(
 *                     f['url'], video_id,             # <<<<<<<<<<<<<<
 *                     item='%s video format' % f.get('format_id') if f.get('format_id') else 'video'),
 *                 formats)
 */
  __pyx_t_2 = PyObject_GetItem(__pyx_v_f, __pyx_n_u_url); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 964, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (unlikely(!__pyx_cur_scope->__pyx_v_video_id)) { __Pyx_RaiseClosureNameError("video_id"); __PYX_ERR(0, 964, __pyx_L1_error) }

  /* "youtube_dl/extractor/common.py":963
 *         if formats:
 *             formats[:] = filter(
 *                 lambda f: self._is_valid_url(             # <<<<<<<<<<<<<<
 *                     f['url'], video_id,
 *                     item='%s video format' % f.get('format_id') if f.get('format_id') else 'video'),
 */
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 963, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_2);
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_cur_scope->__pyx_v_video_id);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":965
 *                 lambda f: self._is_valid_url(
 *                     f['url'], video_id,
 *                     item='%s video format' % f.get('format_id') if f.get('format_id') else 'video'),             # <<<<<<<<<<<<<<
 *                 formats)
 * 
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 965, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 965, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__103, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 965, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 965, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  if (__pyx_t_7) {
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 965, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__104, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 965, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = PyUnicode_Format(__pyx_kp_u_s_video_format, __pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 965, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_4 = __pyx_t_6;
    __pyx_t_6 = 0;
  } else {
    __Pyx_INCREF(__pyx_n_u_video);
    __pyx_t_4 = __pyx_n_u_video;
  }
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_item, __pyx_t_4) < 0) __PYX_ERR(0, 965, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":963
 *         if formats:
 *             formats[:] = filter(
 *                 lambda f: self._is_valid_url(             # <<<<<<<<<<<<<<
 *                     f['url'], video_id,
 *                     item='%s video format' % f.get('format_id') if f.get('format_id') else 'video'),
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 963, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._check_formats.lambda3", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":960
 *         formats.sort(key=_formats_key)
 * 
 *     def _check_formats(self, formats, video_id):             # <<<<<<<<<<<<<<
 *         if formats:
 *             formats[:] = filter(
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_104_check_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_formats, PyObject *__pyx_v_video_id) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("_check_formats", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_self);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_self);
  __pyx_cur_scope->__pyx_v_video_id = __pyx_v_video_id;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_video_id);

  /* "youtube_dl/extractor/common.py":961
 * 
 *     def _check_formats(self, formats, video_id):
 *         if formats:             # <<<<<<<<<<<<<<
 *             formats[:] = filter(
 *                 lambda f: self._is_valid_url(
 */
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_formats); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 961, __pyx_L1_error)
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":963
 *         if formats:
 *             formats[:] = filter(
 *                 lambda f: self._is_valid_url(             # <<<<<<<<<<<<<<
 *                     f['url'], video_id,
 *                     item='%s video format' % f.get('format_id') if f.get('format_id') else 'video'),
 */
    __pyx_t_2 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_14_check_formats_lambda3, 0, __pyx_n_s_InfoExtractor__check_formats_loc, ((PyObject*)__pyx_cur_scope), __pyx_n_s_youtube_dl_extractor_common, __pyx_d, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 963, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);

    /* "youtube_dl/extractor/common.py":962
 *     def _check_formats(self, formats, video_id):
 *         if formats:
 *             formats[:] = filter(             # <<<<<<<<<<<<<<
 *                 lambda f: self._is_valid_url(
 *                     f['url'], video_id,
 */
    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 962, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_2);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_2);
    __Pyx_INCREF(__pyx_v_formats);
    __Pyx_GIVEREF(__pyx_v_formats);
    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_formats);
    __pyx_t_2 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_filter, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 962, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__Pyx_PyObject_SetSlice(__pyx_v_formats, __pyx_t_2, 0, 0, NULL, NULL, &__pyx_slice__105, 0, 0, 1) < 0) __PYX_ERR(0, 962, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":961
 * 
 *     def _check_formats(self, formats, video_id):
 *         if formats:             # <<<<<<<<<<<<<<
 *             formats[:] = filter(
 *                 lambda f: self._is_valid_url(
 */
  }

  /* "youtube_dl/extractor/common.py":960
 *         formats.sort(key=_formats_key)
 * 
 *     def _check_formats(self, formats, video_id):             # <<<<<<<<<<<<<<
 *         if formats:
 *             formats[:] = filter(
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._check_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":969
 * 
 *     @staticmethod
 *     def _remove_duplicate_formats(formats):             # <<<<<<<<<<<<<<
 *         format_urls = set()
 *         unique_formats = []
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_107_remove_duplicate_formats(PyObject *__pyx_self, PyObject *__pyx_v_formats); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_107_remove_duplicate_formats = {"_remove_duplicate_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_107_remove_duplicate_formats, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_107_remove_duplicate_formats(PyObject *__pyx_self, PyObject *__pyx_v_formats) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_remove_duplicate_formats (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_106_remove_duplicate_formats(__pyx_self, ((PyObject *)__pyx_v_formats));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_106_remove_duplicate_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_formats) {
  PyObject *__pyx_v_format_urls = NULL;
  PyObject *__pyx_v_unique_formats = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *(*__pyx_t_3)(PyObject *);
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("_remove_duplicate_formats", 0);

  /* "youtube_dl/extractor/common.py":970
 *     @staticmethod
 *     def _remove_duplicate_formats(formats):
 *         format_urls = set()             # <<<<<<<<<<<<<<
 *         unique_formats = []
 *         for f in formats:
 */
  __pyx_t_1 = PySet_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 970, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_format_urls = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":971
 *     def _remove_duplicate_formats(formats):
 *         format_urls = set()
 *         unique_formats = []             # <<<<<<<<<<<<<<
 *         for f in formats:
 *             if f['url'] not in format_urls:
 */
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 971, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_unique_formats = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":972
 *         format_urls = set()
 *         unique_formats = []
 *         for f in formats:             # <<<<<<<<<<<<<<
 *             if f['url'] not in format_urls:
 *                 format_urls.add(f['url'])
 */
  if (likely(PyList_CheckExact(__pyx_v_formats)) || PyTuple_CheckExact(__pyx_v_formats)) {
    __pyx_t_1 = __pyx_v_formats; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_formats); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 972, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 972, __pyx_L1_error)
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(PyList_CheckExact(__pyx_t_1))) {
        if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(0, 972, __pyx_L1_error)
        #else
        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 972, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        #endif
      } else {
        if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(0, 972, __pyx_L1_error)
        #else
        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 972, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 972, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_4);
    }
    __Pyx_XDECREF_SET(__pyx_v_f, __pyx_t_4);
    __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":973
 *         unique_formats = []
 *         for f in formats:
 *             if f['url'] not in format_urls:             # <<<<<<<<<<<<<<
 *                 format_urls.add(f['url'])
 *                 unique_formats.append(f)
 */
    __pyx_t_4 = PyObject_GetItem(__pyx_v_f, __pyx_n_u_url); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 973, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = (__Pyx_PySequence_ContainsTF(__pyx_t_4, __pyx_v_format_urls, Py_NE)); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 973, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_6 = (__pyx_t_5 != 0);
    if (__pyx_t_6) {

      /* "youtube_dl/extractor/common.py":974
 *         for f in formats:
 *             if f['url'] not in format_urls:
 *                 format_urls.add(f['url'])             # <<<<<<<<<<<<<<
 *                 unique_formats.append(f)
 *         formats[:] = unique_formats
 */
      __pyx_t_4 = PyObject_GetItem(__pyx_v_f, __pyx_n_u_url); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 974, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_7 = PySet_Add(__pyx_v_format_urls, __pyx_t_4); if (unlikely(__pyx_t_7 == -1)) __PYX_ERR(0, 974, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":975
 *             if f['url'] not in format_urls:
 *                 format_urls.add(f['url'])
 *                 unique_formats.append(f)             # <<<<<<<<<<<<<<
 *         formats[:] = unique_formats
 * 
 */
      __pyx_t_7 = __Pyx_PyList_Append(__pyx_v_unique_formats, __pyx_v_f); if (unlikely(__pyx_t_7 == -1)) __PYX_ERR(0, 975, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":973
 *         unique_formats = []
 *         for f in formats:
 *             if f['url'] not in format_urls:             # <<<<<<<<<<<<<<
 *                 format_urls.add(f['url'])
 *                 unique_formats.append(f)
 */
    }

    /* "youtube_dl/extractor/common.py":972
 *         format_urls = set()
 *         unique_formats = []
 *         for f in formats:             # <<<<<<<<<<<<<<
 *             if f['url'] not in format_urls:
 *                 format_urls.add(f['url'])
 */
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":976
 *                 format_urls.add(f['url'])
 *                 unique_formats.append(f)
 *         formats[:] = unique_formats             # <<<<<<<<<<<<<<
 * 
 *     def _is_valid_url(self, url, video_id, item='video'):
 */
  if (__Pyx_PyObject_SetSlice(__pyx_v_formats, __pyx_v_unique_formats, 0, 0, NULL, NULL, &__pyx_slice__106, 0, 0, 1) < 0) __PYX_ERR(0, 976, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":969
 * 
 *     @staticmethod
 *     def _remove_duplicate_formats(formats):             # <<<<<<<<<<<<<<
 *         format_urls = set()
 *         unique_formats = []
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._remove_duplicate_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_format_urls);
  __Pyx_XDECREF(__pyx_v_unique_formats);
  __Pyx_XDECREF(__pyx_v_f);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":978
 *         formats[:] = unique_formats
 * 
 *     def _is_valid_url(self, url, video_id, item='video'):             # <<<<<<<<<<<<<<
 *         url = self._proto_relative_url(url, scheme='http:')
 *         # For now assume non HTTP(S) URLs always valid
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_109_is_valid_url(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_109_is_valid_url = {"_is_valid_url", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_109_is_valid_url, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_109_is_valid_url(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_item = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_is_valid_url (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url,&__pyx_n_s_video_id,&__pyx_n_s_item,0};
    PyObject* values[4] = {0,0,0,0};
    values[3] = ((PyObject *)((PyObject*)__pyx_n_u_video));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_is_valid_url", 0, 3, 4, 1); __PYX_ERR(0, 978, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_is_valid_url", 0, 3, 4, 2); __PYX_ERR(0, 978, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_item);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_is_valid_url") < 0)) __PYX_ERR(0, 978, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_url = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_item = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_is_valid_url", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 978, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._is_valid_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_108_is_valid_url(__pyx_self, __pyx_v_self, __pyx_v_url, __pyx_v_video_id, __pyx_v_item);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_108_is_valid_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_item) {
  PyObject *__pyx_v_e = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  Py_ssize_t __pyx_t_10;
  PyObject *__pyx_t_11 = NULL;
  int __pyx_t_12;
  PyObject *__pyx_t_13 = NULL;
  PyObject *__pyx_t_14 = NULL;
  PyObject *__pyx_t_15 = NULL;
  int __pyx_t_16;
  char const *__pyx_t_17;
  PyObject *__pyx_t_18 = NULL;
  PyObject *__pyx_t_19 = NULL;
  PyObject *__pyx_t_20 = NULL;
  PyObject *__pyx_t_21 = NULL;
  PyObject *__pyx_t_22 = NULL;
  PyObject *__pyx_t_23 = NULL;
  __Pyx_RefNannySetupContext("_is_valid_url", 0);
  __Pyx_INCREF(__pyx_v_url);

  /* "youtube_dl/extractor/common.py":979
 * 
 *     def _is_valid_url(self, url, video_id, item='video'):
 *         url = self._proto_relative_url(url, scheme='http:')             # <<<<<<<<<<<<<<
 *         # For now assume non HTTP(S) URLs always valid
 *         if not (url.startswith('http://') or url.startswith('https://')):
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_proto_relative_url); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 979, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 979, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_url);
  __Pyx_GIVEREF(__pyx_v_url);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_url);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 979, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_scheme, __pyx_kp_u_http_2) < 0) __PYX_ERR(0, 979, __pyx_L1_error)
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 979, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF_SET(__pyx_v_url, __pyx_t_4);
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":981
 *         url = self._proto_relative_url(url, scheme='http:')
 *         # For now assume non HTTP(S) URLs always valid
 *         if not (url.startswith('http://') or url.startswith('https://')):             # <<<<<<<<<<<<<<
 *             return True
 *         try:
 */
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_url, __pyx_n_s_startswith); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 981, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__107, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 981, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 981, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (!__pyx_t_6) {
  } else {
    __pyx_t_5 = __pyx_t_6;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_url, __pyx_n_s_startswith); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 981, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__108, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 981, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 981, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_5 = __pyx_t_6;
  __pyx_L4_bool_binop_done:;
  __pyx_t_6 = ((!__pyx_t_5) != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":982
 *         # For now assume non HTTP(S) URLs always valid
 *         if not (url.startswith('http://') or url.startswith('https://')):
 *             return True             # <<<<<<<<<<<<<<
 *         try:
 *             self._request_webpage(url, video_id, 'Checking %s URL' % item)
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_True);
    __pyx_r = Py_True;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":981
 *         url = self._proto_relative_url(url, scheme='http:')
 *         # For now assume non HTTP(S) URLs always valid
 *         if not (url.startswith('http://') or url.startswith('https://')):             # <<<<<<<<<<<<<<
 *             return True
 *         try:
 */
  }

  /* "youtube_dl/extractor/common.py":983
 *         if not (url.startswith('http://') or url.startswith('https://')):
 *             return True
 *         try:             # <<<<<<<<<<<<<<
 *             self._request_webpage(url, video_id, 'Checking %s URL' % item)
 *             return True
 */
  {
    __Pyx_PyThreadState_declare
    __Pyx_PyThreadState_assign
    __Pyx_ExceptionSave(&__pyx_t_7, &__pyx_t_8, &__pyx_t_9);
    __Pyx_XGOTREF(__pyx_t_7);
    __Pyx_XGOTREF(__pyx_t_8);
    __Pyx_XGOTREF(__pyx_t_9);
    /*try:*/ {

      /* "youtube_dl/extractor/common.py":984
 *             return True
 *         try:
 *             self._request_webpage(url, video_id, 'Checking %s URL' % item)             # <<<<<<<<<<<<<<
 *             return True
 *         except ExtractorError as e:
 */
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_request_webpage); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 984, __pyx_L6_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_Checking_s_URL, __pyx_v_item); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 984, __pyx_L6_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_1 = NULL;
      __pyx_t_10 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_3, function);
          __pyx_t_10 = 1;
        }
      }
      __pyx_t_11 = PyTuple_New(3+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 984, __pyx_L6_error)
      __Pyx_GOTREF(__pyx_t_11);
      if (__pyx_t_1) {
        __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_1); __pyx_t_1 = NULL;
      }
      __Pyx_INCREF(__pyx_v_url);
      __Pyx_GIVEREF(__pyx_v_url);
      PyTuple_SET_ITEM(__pyx_t_11, 0+__pyx_t_10, __pyx_v_url);
      __Pyx_INCREF(__pyx_v_video_id);
      __Pyx_GIVEREF(__pyx_v_video_id);
      PyTuple_SET_ITEM(__pyx_t_11, 1+__pyx_t_10, __pyx_v_video_id);
      __Pyx_GIVEREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_11, 2+__pyx_t_10, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_11, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 984, __pyx_L6_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":985
 *         try:
 *             self._request_webpage(url, video_id, 'Checking %s URL' % item)
 *             return True             # <<<<<<<<<<<<<<
 *         except ExtractorError as e:
 *             if isinstance(e.cause, compat_urllib_error.URLError):
 */
      __Pyx_XDECREF(__pyx_r);
      __Pyx_INCREF(Py_True);
      __pyx_r = Py_True;
      goto __pyx_L10_try_return;

      /* "youtube_dl/extractor/common.py":983
 *         if not (url.startswith('http://') or url.startswith('https://')):
 *             return True
 *         try:             # <<<<<<<<<<<<<<
 *             self._request_webpage(url, video_id, 'Checking %s URL' % item)
 *             return True
 */
    }
    __pyx_L6_error:;
    __Pyx_PyThreadState_assign
    __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
    __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":986
 *             self._request_webpage(url, video_id, 'Checking %s URL' % item)
 *             return True
 *         except ExtractorError as e:             # <<<<<<<<<<<<<<
 *             if isinstance(e.cause, compat_urllib_error.URLError):
 *                 self.to_screen(
 */
    __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 986, __pyx_L8_except_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_12 = __Pyx_PyErr_ExceptionMatches(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_12) {
      __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._is_valid_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (__Pyx_GetException(&__pyx_t_4, &__pyx_t_3, &__pyx_t_11) < 0) __PYX_ERR(0, 986, __pyx_L8_except_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_INCREF(__pyx_t_3);
      __pyx_v_e = __pyx_t_3;
      /*try:*/ {

        /* "youtube_dl/extractor/common.py":987
 *             return True
 *         except ExtractorError as e:
 *             if isinstance(e.cause, compat_urllib_error.URLError):             # <<<<<<<<<<<<<<
 *                 self.to_screen(
 *                     '%s: %s URL is invalid, skipping' % (video_id, item))
 */
        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_cause); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 987, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_urllib_error); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 987, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_13 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_URLError); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 987, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_13);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_6 = PyObject_IsInstance(__pyx_t_2, __pyx_t_13); if (unlikely(__pyx_t_6 == -1)) __PYX_ERR(0, 987, __pyx_L19_error)
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
        __pyx_t_5 = (__pyx_t_6 != 0);
        if (__pyx_t_5) {

          /* "youtube_dl/extractor/common.py":988
 *         except ExtractorError as e:
 *             if isinstance(e.cause, compat_urllib_error.URLError):
 *                 self.to_screen(             # <<<<<<<<<<<<<<
 *                     '%s: %s URL is invalid, skipping' % (video_id, item))
 *                 return False
 */
          __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 988, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_2);

          /* "youtube_dl/extractor/common.py":989
 *             if isinstance(e.cause, compat_urllib_error.URLError):
 *                 self.to_screen(
 *                     '%s: %s URL is invalid, skipping' % (video_id, item))             # <<<<<<<<<<<<<<
 *                 return False
 *             raise
 */
          __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 989, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_INCREF(__pyx_v_video_id);
          __Pyx_GIVEREF(__pyx_v_video_id);
          PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_video_id);
          __Pyx_INCREF(__pyx_v_item);
          __Pyx_GIVEREF(__pyx_v_item);
          PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_item);
          __pyx_t_14 = PyUnicode_Format(__pyx_kp_u_s_s_URL_is_invalid_skipping, __pyx_t_1); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 989, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_14);
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_1 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
            __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_2);
            if (likely(__pyx_t_1)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
              __Pyx_INCREF(__pyx_t_1);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_2, function);
            }
          }
          if (!__pyx_t_1) {
            __pyx_t_13 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_14); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 988, __pyx_L19_error)
            __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
            __Pyx_GOTREF(__pyx_t_13);
          } else {
            __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 988, __pyx_L19_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_1); __pyx_t_1 = NULL;
            __Pyx_GIVEREF(__pyx_t_14);
            PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_t_14);
            __pyx_t_14 = 0;
            __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_15, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 988, __pyx_L19_error)
            __Pyx_GOTREF(__pyx_t_13);
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          }
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;

          /* "youtube_dl/extractor/common.py":990
 *                 self.to_screen(
 *                     '%s: %s URL is invalid, skipping' % (video_id, item))
 *                 return False             # <<<<<<<<<<<<<<
 *             raise
 * 
 */
          __Pyx_XDECREF(__pyx_r);
          __Pyx_INCREF(Py_False);
          __pyx_r = Py_False;
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          goto __pyx_L18_return;

          /* "youtube_dl/extractor/common.py":987
 *             return True
 *         except ExtractorError as e:
 *             if isinstance(e.cause, compat_urllib_error.URLError):             # <<<<<<<<<<<<<<
 *                 self.to_screen(
 *                     '%s: %s URL is invalid, skipping' % (video_id, item))
 */
        }

        /* "youtube_dl/extractor/common.py":991
 *                     '%s: %s URL is invalid, skipping' % (video_id, item))
 *                 return False
 *             raise             # <<<<<<<<<<<<<<
 * 
 *     def http_scheme(self):
 */
        __Pyx_GIVEREF(__pyx_t_4);
        __Pyx_GIVEREF(__pyx_t_3);
        __Pyx_XGIVEREF(__pyx_t_11);
        __Pyx_ErrRestoreWithState(__pyx_t_4, __pyx_t_3, __pyx_t_11);
        __pyx_t_4 = 0; __pyx_t_3 = 0; __pyx_t_11 = 0; 
        __PYX_ERR(0, 991, __pyx_L19_error)
      }

      /* "youtube_dl/extractor/common.py":986
 *             self._request_webpage(url, video_id, 'Checking %s URL' % item)
 *             return True
 *         except ExtractorError as e:             # <<<<<<<<<<<<<<
 *             if isinstance(e.cause, compat_urllib_error.URLError):
 *                 self.to_screen(
 */
      /*finally:*/ {
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __pyx_L19_error:;
          __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0;
          __Pyx_PyThreadState_assign
          __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
          __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
          __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
          __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
          __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
          if (PY_MAJOR_VERSION >= 3) __Pyx_ExceptionSwap(&__pyx_t_21, &__pyx_t_22, &__pyx_t_23);
          if ((PY_MAJOR_VERSION < 3) || unlikely(__Pyx_GetException(&__pyx_t_18, &__pyx_t_19, &__pyx_t_20) < 0)) __Pyx_ErrFetch(&__pyx_t_18, &__pyx_t_19, &__pyx_t_20);
          __Pyx_XGOTREF(__pyx_t_18);
          __Pyx_XGOTREF(__pyx_t_19);
          __Pyx_XGOTREF(__pyx_t_20);
          __Pyx_XGOTREF(__pyx_t_21);
          __Pyx_XGOTREF(__pyx_t_22);
          __Pyx_XGOTREF(__pyx_t_23);
          __pyx_t_12 = __pyx_lineno; __pyx_t_16 = __pyx_clineno; __pyx_t_17 = __pyx_filename;
          {
            __Pyx_DECREF(__pyx_v_e);
            __pyx_v_e = NULL;
          }
          __Pyx_PyThreadState_assign
          if (PY_MAJOR_VERSION >= 3) {
            __Pyx_XGIVEREF(__pyx_t_21);
            __Pyx_XGIVEREF(__pyx_t_22);
            __Pyx_XGIVEREF(__pyx_t_23);
            __Pyx_ExceptionReset(__pyx_t_21, __pyx_t_22, __pyx_t_23);
          }
          __Pyx_XGIVEREF(__pyx_t_18);
          __Pyx_XGIVEREF(__pyx_t_19);
          __Pyx_XGIVEREF(__pyx_t_20);
          __Pyx_ErrRestore(__pyx_t_18, __pyx_t_19, __pyx_t_20);
          __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0;
          __pyx_lineno = __pyx_t_12; __pyx_clineno = __pyx_t_16; __pyx_filename = __pyx_t_17;
          goto __pyx_L8_except_error;
        }
        __pyx_L18_return: {
          __pyx_t_23 = __pyx_r;
          __pyx_r = 0;
          __Pyx_DECREF(__pyx_v_e);
          __pyx_v_e = NULL;
          __pyx_r = __pyx_t_23;
          __pyx_t_23 = 0;
          goto __pyx_L9_except_return;
        }
      }
    }
    goto __pyx_L8_except_error;
    __pyx_L8_except_error:;

    /* "youtube_dl/extractor/common.py":983
 *         if not (url.startswith('http://') or url.startswith('https://')):
 *             return True
 *         try:             # <<<<<<<<<<<<<<
 *             self._request_webpage(url, video_id, 'Checking %s URL' % item)
 *             return True
 */
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_7);
    __Pyx_XGIVEREF(__pyx_t_8);
    __Pyx_XGIVEREF(__pyx_t_9);
    __Pyx_ExceptionReset(__pyx_t_7, __pyx_t_8, __pyx_t_9);
    goto __pyx_L1_error;
    __pyx_L10_try_return:;
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_7);
    __Pyx_XGIVEREF(__pyx_t_8);
    __Pyx_XGIVEREF(__pyx_t_9);
    __Pyx_ExceptionReset(__pyx_t_7, __pyx_t_8, __pyx_t_9);
    goto __pyx_L0;
    __pyx_L9_except_return:;
    __Pyx_PyThreadState_assign
    __Pyx_XGIVEREF(__pyx_t_7);
    __Pyx_XGIVEREF(__pyx_t_8);
    __Pyx_XGIVEREF(__pyx_t_9);
    __Pyx_ExceptionReset(__pyx_t_7, __pyx_t_8, __pyx_t_9);
    goto __pyx_L0;
  }

  /* "youtube_dl/extractor/common.py":978
 *         formats[:] = unique_formats
 * 
 *     def _is_valid_url(self, url, video_id, item='video'):             # <<<<<<<<<<<<<<
 *         url = self._proto_relative_url(url, scheme='http:')
 *         # For now assume non HTTP(S) URLs always valid
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_13);
  __Pyx_XDECREF(__pyx_t_14);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._is_valid_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_e);
  __Pyx_XDECREF(__pyx_v_url);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":993
 *             raise
 * 
 *     def http_scheme(self):             # <<<<<<<<<<<<<<
 *         """ Either "http:" or "https:", depending on the user's preferences """
 *         return (
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_111http_scheme(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_110http_scheme[] = " Either \"http:\" or \"https:\", depending on the user's preferences ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_111http_scheme = {"http_scheme", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_111http_scheme, METH_O, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_110http_scheme};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_111http_scheme(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("http_scheme (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_110http_scheme(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_110http_scheme(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  __Pyx_RefNannySetupContext("http_scheme", 0);

  /* "youtube_dl/extractor/common.py":995
 *     def http_scheme(self):
 *         """ Either "http:" or "https:", depending on the user's preferences """
 *         return (             # <<<<<<<<<<<<<<
 *             'http:'
 *             if self._downloader.params.get('prefer_insecure', False)
 */
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":997
 *         return (
 *             'http:'
 *             if self._downloader.params.get('prefer_insecure', False)             # <<<<<<<<<<<<<<
 *             else 'https:')
 * 
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 997, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_params); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 997, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 997, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__109, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 997, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 997, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_4) {
    __Pyx_INCREF(__pyx_kp_u_http_2);
    __pyx_t_1 = __pyx_kp_u_http_2;
  } else {
    __Pyx_INCREF(__pyx_kp_u_https_3);
    __pyx_t_1 = __pyx_kp_u_https_3;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":993
 *             raise
 * 
 *     def http_scheme(self):             # <<<<<<<<<<<<<<
 *         """ Either "http:" or "https:", depending on the user's preferences """
 *         return (
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.http_scheme", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1000
 *             else 'https:')
 * 
 *     def _proto_relative_url(self, url, scheme=None):             # <<<<<<<<<<<<<<
 *         if url is None:
 *             return url
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_113_proto_relative_url(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_113_proto_relative_url = {"_proto_relative_url", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_113_proto_relative_url, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_113_proto_relative_url(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_v_scheme = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_proto_relative_url (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url,&__pyx_n_s_scheme,0};
    PyObject* values[3] = {0,0,0};
    values[2] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_proto_relative_url", 0, 2, 3, 1); __PYX_ERR(0, 1000, __pyx_L3_error)
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_scheme);
          if (value) { values[2] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_proto_relative_url") < 0)) __PYX_ERR(0, 1000, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_url = values[1];
    __pyx_v_scheme = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_proto_relative_url", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1000, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._proto_relative_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_112_proto_relative_url(__pyx_self, __pyx_v_self, __pyx_v_url, __pyx_v_scheme);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_112_proto_relative_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url, PyObject *__pyx_v_scheme) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("_proto_relative_url", 0);
  __Pyx_INCREF(__pyx_v_scheme);

  /* "youtube_dl/extractor/common.py":1001
 * 
 *     def _proto_relative_url(self, url, scheme=None):
 *         if url is None:             # <<<<<<<<<<<<<<
 *             return url
 *         if url.startswith('//'):
 */
  __pyx_t_1 = (__pyx_v_url == Py_None);
  __pyx_t_2 = (__pyx_t_1 != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":1002
 *     def _proto_relative_url(self, url, scheme=None):
 *         if url is None:
 *             return url             # <<<<<<<<<<<<<<
 *         if url.startswith('//'):
 *             if scheme is None:
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_url);
    __pyx_r = __pyx_v_url;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1001
 * 
 *     def _proto_relative_url(self, url, scheme=None):
 *         if url is None:             # <<<<<<<<<<<<<<
 *             return url
 *         if url.startswith('//'):
 */
  }

  /* "youtube_dl/extractor/common.py":1003
 *         if url is None:
 *             return url
 *         if url.startswith('//'):             # <<<<<<<<<<<<<<
 *             if scheme is None:
 *                 scheme = self.http_scheme()
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_url, __pyx_n_s_startswith); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1003, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__111, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1003, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 1003, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":1004
 *             return url
 *         if url.startswith('//'):
 *             if scheme is None:             # <<<<<<<<<<<<<<
 *                 scheme = self.http_scheme()
 *             return scheme + url
 */
    __pyx_t_2 = (__pyx_v_scheme == Py_None);
    __pyx_t_1 = (__pyx_t_2 != 0);
    if (__pyx_t_1) {

      /* "youtube_dl/extractor/common.py":1005
 *         if url.startswith('//'):
 *             if scheme is None:
 *                 scheme = self.http_scheme()             # <<<<<<<<<<<<<<
 *             return scheme + url
 *         else:
 */
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_http_scheme); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1005, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_5 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
        __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_3);
        if (likely(__pyx_t_5)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_5);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_3, function);
        }
      }
      if (__pyx_t_5) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1005, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      } else {
        __pyx_t_4 = __Pyx_PyObject_CallNoArg(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1005, __pyx_L1_error)
      }
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF_SET(__pyx_v_scheme, __pyx_t_4);
      __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":1004
 *             return url
 *         if url.startswith('//'):
 *             if scheme is None:             # <<<<<<<<<<<<<<
 *                 scheme = self.http_scheme()
 *             return scheme + url
 */
    }

    /* "youtube_dl/extractor/common.py":1006
 *             if scheme is None:
 *                 scheme = self.http_scheme()
 *             return scheme + url             # <<<<<<<<<<<<<<
 *         else:
 *             return url
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = PyNumber_Add(__pyx_v_scheme, __pyx_v_url); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1006, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1003
 *         if url is None:
 *             return url
 *         if url.startswith('//'):             # <<<<<<<<<<<<<<
 *             if scheme is None:
 *                 scheme = self.http_scheme()
 */
  }

  /* "youtube_dl/extractor/common.py":1008
 *             return scheme + url
 *         else:
 *             return url             # <<<<<<<<<<<<<<
 * 
 *     def _sleep(self, timeout, video_id, msg_template=None):
 */
  /*else*/ {
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_url);
    __pyx_r = __pyx_v_url;
    goto __pyx_L0;
  }

  /* "youtube_dl/extractor/common.py":1000
 *             else 'https:')
 * 
 *     def _proto_relative_url(self, url, scheme=None):             # <<<<<<<<<<<<<<
 *         if url is None:
 *             return url
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._proto_relative_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_scheme);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1010
 *             return url
 * 
 *     def _sleep(self, timeout, video_id, msg_template=None):             # <<<<<<<<<<<<<<
 *         if msg_template is None:
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_115_sleep(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_115_sleep = {"_sleep", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_115_sleep, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_115_sleep(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_timeout = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_msg_template = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_sleep (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_timeout,&__pyx_n_s_video_id,&__pyx_n_s_msg_template,0};
    PyObject* values[4] = {0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_timeout)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_sleep", 0, 3, 4, 1); __PYX_ERR(0, 1010, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_sleep", 0, 3, 4, 2); __PYX_ERR(0, 1010, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_msg_template);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_sleep") < 0)) __PYX_ERR(0, 1010, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_timeout = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_msg_template = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_sleep", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1010, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._sleep", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_114_sleep(__pyx_self, __pyx_v_self, __pyx_v_timeout, __pyx_v_video_id, __pyx_v_msg_template);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_114_sleep(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_timeout, PyObject *__pyx_v_video_id, PyObject *__pyx_v_msg_template) {
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  __Pyx_RefNannySetupContext("_sleep", 0);
  __Pyx_INCREF(__pyx_v_msg_template);

  /* "youtube_dl/extractor/common.py":1011
 * 
 *     def _sleep(self, timeout, video_id, msg_template=None):
 *         if msg_template is None:             # <<<<<<<<<<<<<<
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'
 *         msg = msg_template % {'video_id': video_id, 'timeout': timeout}
 */
  __pyx_t_1 = (__pyx_v_msg_template == Py_None);
  __pyx_t_2 = (__pyx_t_1 != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":1012
 *     def _sleep(self, timeout, video_id, msg_template=None):
 *         if msg_template is None:
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'             # <<<<<<<<<<<<<<
 *         msg = msg_template % {'video_id': video_id, 'timeout': timeout}
 *         self.to_screen(msg)
 */
    __Pyx_INCREF(__pyx_kp_u_video_id_s_Waiting_for_timeout);
    __Pyx_DECREF_SET(__pyx_v_msg_template, __pyx_kp_u_video_id_s_Waiting_for_timeout);

    /* "youtube_dl/extractor/common.py":1011
 * 
 *     def _sleep(self, timeout, video_id, msg_template=None):
 *         if msg_template is None:             # <<<<<<<<<<<<<<
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'
 *         msg = msg_template % {'video_id': video_id, 'timeout': timeout}
 */
  }

  /* "youtube_dl/extractor/common.py":1013
 *         if msg_template is None:
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'
 *         msg = msg_template % {'video_id': video_id, 'timeout': timeout}             # <<<<<<<<<<<<<<
 *         self.to_screen(msg)
 *         time.sleep(timeout)
 */
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1013, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_video_id, __pyx_v_video_id) < 0) __PYX_ERR(0, 1013, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_timeout, __pyx_v_timeout) < 0) __PYX_ERR(0, 1013, __pyx_L1_error)
  __pyx_t_4 = PyNumber_Remainder(__pyx_v_msg_template, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1013, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_msg = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1014
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'
 *         msg = msg_template % {'video_id': video_id, 'timeout': timeout}
 *         self.to_screen(msg)             # <<<<<<<<<<<<<<
 *         time.sleep(timeout)
 * 
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_to_screen); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1014, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_5) {
    __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_msg); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1014, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
  } else {
    __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1014, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_5); __pyx_t_5 = NULL;
    __Pyx_INCREF(__pyx_v_msg);
    __Pyx_GIVEREF(__pyx_v_msg);
    PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_v_msg);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1014, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1015
 *         msg = msg_template % {'video_id': video_id, 'timeout': timeout}
 *         self.to_screen(msg)
 *         time.sleep(timeout)             # <<<<<<<<<<<<<<
 * 
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,
 */
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_time); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1015, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_sleep_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1015, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_6);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_6, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_timeout); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1015, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1015, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_INCREF(__pyx_v_timeout);
    __Pyx_GIVEREF(__pyx_v_timeout);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_v_timeout);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1015, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1010
 *             return url
 * 
 *     def _sleep(self, timeout, video_id, msg_template=None):             # <<<<<<<<<<<<<<
 *         if msg_template is None:
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._sleep", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_msg);
  __Pyx_XDECREF(__pyx_v_msg_template);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1017
 *         time.sleep(timeout)
 * 
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                              fatal=True, m3u8_id=None):
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_197__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":1019
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                              fatal=True, m3u8_id=None):             # <<<<<<<<<<<<<<
 *         manifest = self._download_xml(
 *             manifest_url, video_id, 'Downloading f4m manifest',
 */
  __pyx_t_1 = PyTuple_New(5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1017, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)Py_None));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults7, __pyx_self)->__pyx_arg_transform_source);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults7, __pyx_self)->__pyx_arg_transform_source);
  PyTuple_SET_ITEM(__pyx_t_1, 2, __Pyx_CyFunction_Defaults(__pyx_defaults7, __pyx_self)->__pyx_arg_transform_source);
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 4, ((PyObject *)Py_None));

  /* "youtube_dl/extractor/common.py":1017
 *         time.sleep(timeout)
 * 
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                              fatal=True, m3u8_id=None):
 */
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1017, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_117_extract_f4m_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_117_extract_f4m_formats = {"_extract_f4m_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_117_extract_f4m_formats, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_117_extract_f4m_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_manifest_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_preference = 0;
  PyObject *__pyx_v_f4m_id = 0;
  PyObject *__pyx_v_transform_source = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_m3u8_id = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_extract_f4m_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_manifest_url,&__pyx_n_s_video_id,&__pyx_n_s_preference,&__pyx_n_s_f4m_id,&__pyx_n_s_transform_source,&__pyx_n_s_fatal,&__pyx_n_s_m3u8_id,0};
    PyObject* values[8] = {0,0,0,0,0,0,0,0};
    __pyx_defaults7 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults7, __pyx_self);
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = __pyx_dynamic_args->__pyx_arg_transform_source;
    values[6] = ((PyObject *)((PyObject *)Py_True));
    values[7] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_manifest_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_f4m_formats", 0, 3, 8, 1); __PYX_ERR(0, 1017, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_f4m_formats", 0, 3, 8, 2); __PYX_ERR(0, 1017, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_preference);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_f4m_id);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_transform_source);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_m3u8_id);
          if (value) { values[7] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_extract_f4m_formats") < 0)) __PYX_ERR(0, 1017, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_manifest_url = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_preference = values[3];
    __pyx_v_f4m_id = values[4];
    __pyx_v_transform_source = values[5];
    __pyx_v_fatal = values[6];
    __pyx_v_m3u8_id = values[7];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_extract_f4m_formats", 0, 3, 8, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1017, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_f4m_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_116_extract_f4m_formats(__pyx_self, __pyx_v_self, __pyx_v_manifest_url, __pyx_v_video_id, __pyx_v_preference, __pyx_v_f4m_id, __pyx_v_transform_source, __pyx_v_fatal, __pyx_v_m3u8_id);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_116_extract_f4m_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_manifest_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_preference, PyObject *__pyx_v_f4m_id, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal, PyObject *__pyx_v_m3u8_id) {
  PyObject *__pyx_v_manifest = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  __Pyx_RefNannySetupContext("_extract_f4m_formats", 0);

  /* "youtube_dl/extractor/common.py":1020
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                              fatal=True, m3u8_id=None):
 *         manifest = self._download_xml(             # <<<<<<<<<<<<<<
 *             manifest_url, video_id, 'Downloading f4m manifest',
 *             'Unable to download f4m manifest',
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_xml); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1020, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":1021
 *                              fatal=True, m3u8_id=None):
 *         manifest = self._download_xml(
 *             manifest_url, video_id, 'Downloading f4m manifest',             # <<<<<<<<<<<<<<
 *             'Unable to download f4m manifest',
 *             # Some manifests may be malformed, e.g. prosiebensat1 generated manifests
 */
  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1020, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_manifest_url);
  __Pyx_GIVEREF(__pyx_v_manifest_url);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_manifest_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_video_id);
  __Pyx_INCREF(__pyx_kp_u_Downloading_f4m_manifest);
  __Pyx_GIVEREF(__pyx_kp_u_Downloading_f4m_manifest);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_kp_u_Downloading_f4m_manifest);
  __Pyx_INCREF(__pyx_kp_u_Unable_to_download_f4m_manifest);
  __Pyx_GIVEREF(__pyx_kp_u_Unable_to_download_f4m_manifest);
  PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_kp_u_Unable_to_download_f4m_manifest);

  /* "youtube_dl/extractor/common.py":1025
 *             # Some manifests may be malformed, e.g. prosiebensat1 generated manifests
 *             # (see https://github.com/rg3/youtube-dl/issues/6215#issuecomment-121704244)
 *             transform_source=transform_source,             # <<<<<<<<<<<<<<
 *             fatal=fatal)
 * 
 */
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1025, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_transform_source, __pyx_v_transform_source) < 0) __PYX_ERR(0, 1025, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1026
 *             # (see https://github.com/rg3/youtube-dl/issues/6215#issuecomment-121704244)
 *             transform_source=transform_source,
 *             fatal=fatal)             # <<<<<<<<<<<<<<
 * 
 *         if manifest is False:
 */
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1025, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1020
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                              fatal=True, m3u8_id=None):
 *         manifest = self._download_xml(             # <<<<<<<<<<<<<<
 *             manifest_url, video_id, 'Downloading f4m manifest',
 *             'Unable to download f4m manifest',
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1020, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_manifest = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1028
 *             fatal=fatal)
 * 
 *         if manifest is False:             # <<<<<<<<<<<<<<
 *             return []
 * 
 */
  __pyx_t_5 = (__pyx_v_manifest == Py_False);
  __pyx_t_6 = (__pyx_t_5 != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":1029
 * 
 *         if manifest is False:
 *             return []             # <<<<<<<<<<<<<<
 * 
 *         return self._parse_f4m_formats(
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = PyList_New(0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1029, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1028
 *             fatal=fatal)
 * 
 *         if manifest is False:             # <<<<<<<<<<<<<<
 *             return []
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":1031
 *             return []
 * 
 *         return self._parse_f4m_formats(             # <<<<<<<<<<<<<<
 *             manifest, manifest_url, video_id, preference=preference, f4m_id=f4m_id,
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_f4m_formats); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1031, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":1032
 * 
 *         return self._parse_f4m_formats(
 *             manifest, manifest_url, video_id, preference=preference, f4m_id=f4m_id,             # <<<<<<<<<<<<<<
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)
 * 
 */
  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1031, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_manifest);
  __Pyx_GIVEREF(__pyx_v_manifest);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_manifest);
  __Pyx_INCREF(__pyx_v_manifest_url);
  __Pyx_GIVEREF(__pyx_v_manifest_url);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_manifest_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_v_video_id);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1032, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_preference, __pyx_v_preference) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_f4m_id, __pyx_v_f4m_id) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1033
 *         return self._parse_f4m_formats(
 *             manifest, manifest_url, video_id, preference=preference, f4m_id=f4m_id,
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,
 */
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_transform_source, __pyx_v_transform_source) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_m3u8_id, __pyx_v_m3u8_id) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1031
 *             return []
 * 
 *         return self._parse_f4m_formats(             # <<<<<<<<<<<<<<
 *             manifest, manifest_url, video_id, preference=preference, f4m_id=f4m_id,
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)
 */
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1031, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1017
 *         time.sleep(timeout)
 * 
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                              fatal=True, m3u8_id=None):
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_f4m_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_manifest);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1035
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)
 * 
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                            transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                            fatal=True, m3u8_id=None):
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_199__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":1037
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,
 *                            transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                            fatal=True, m3u8_id=None):             # <<<<<<<<<<<<<<
 *         # currently youtube-dl cannot decode the playerVerificationChallenge as Akamai uses Adobe Alchemy
 *         akamai_pv = manifest.find('{http://ns.adobe.com/f4m/1.0}pv-2.0')
 */
  __pyx_t_1 = PyTuple_New(5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1035, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)Py_None));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults8, __pyx_self)->__pyx_arg_transform_source);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults8, __pyx_self)->__pyx_arg_transform_source);
  PyTuple_SET_ITEM(__pyx_t_1, 2, __Pyx_CyFunction_Defaults(__pyx_defaults8, __pyx_self)->__pyx_arg_transform_source);
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_True));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 4, ((PyObject *)Py_None));

  /* "youtube_dl/extractor/common.py":1035
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)
 * 
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                            transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                            fatal=True, m3u8_id=None):
 */
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1035, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_119_parse_f4m_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_119_parse_f4m_formats = {"_parse_f4m_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_119_parse_f4m_formats, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_119_parse_f4m_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_manifest = 0;
  PyObject *__pyx_v_manifest_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_preference = 0;
  PyObject *__pyx_v_f4m_id = 0;
  PyObject *__pyx_v_transform_source = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_m3u8_id = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_f4m_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_manifest,&__pyx_n_s_manifest_url,&__pyx_n_s_video_id,&__pyx_n_s_preference,&__pyx_n_s_f4m_id,&__pyx_n_s_transform_source,&__pyx_n_s_fatal,&__pyx_n_s_m3u8_id,0};
    PyObject* values[9] = {0,0,0,0,0,0,0,0,0};
    __pyx_defaults8 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults8, __pyx_self);
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = ((PyObject *)((PyObject *)Py_None));
    values[6] = __pyx_dynamic_args->__pyx_arg_transform_source;
    values[7] = ((PyObject *)((PyObject *)Py_True));
    values[8] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_manifest)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_f4m_formats", 0, 4, 9, 1); __PYX_ERR(0, 1035, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_manifest_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_f4m_formats", 0, 4, 9, 2); __PYX_ERR(0, 1035, __pyx_L3_error)
        }
        case  3:
        if (likely((values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_f4m_formats", 0, 4, 9, 3); __PYX_ERR(0, 1035, __pyx_L3_error)
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_preference);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_f4m_id);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_transform_source);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[7] = value; kw_args--; }
        }
        case  8:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_m3u8_id);
          if (value) { values[8] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_f4m_formats") < 0)) __PYX_ERR(0, 1035, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_manifest = values[1];
    __pyx_v_manifest_url = values[2];
    __pyx_v_video_id = values[3];
    __pyx_v_preference = values[4];
    __pyx_v_f4m_id = values[5];
    __pyx_v_transform_source = values[6];
    __pyx_v_fatal = values[7];
    __pyx_v_m3u8_id = values[8];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_f4m_formats", 0, 4, 9, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1035, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_f4m_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_118_parse_f4m_formats(__pyx_self, __pyx_v_self, __pyx_v_manifest, __pyx_v_manifest_url, __pyx_v_video_id, __pyx_v_preference, __pyx_v_f4m_id, __pyx_v_transform_source, __pyx_v_fatal, __pyx_v_m3u8_id);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_118_parse_f4m_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_manifest, PyObject *__pyx_v_manifest_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_preference, PyObject *__pyx_v_f4m_id, PyObject *__pyx_v_transform_source, PyObject *__pyx_v_fatal, PyObject *__pyx_v_m3u8_id) {
  PyObject *__pyx_v_akamai_pv = NULL;
  PyObject *__pyx_v_playerVerificationChallenge = NULL;
  PyObject *__pyx_v_formats = NULL;
  PyObject *__pyx_v_manifest_version = NULL;
  PyObject *__pyx_v_media_nodes = NULL;
  PyObject *__pyx_v_base_url = NULL;
  PyObject *__pyx_v_bootstrap_info = NULL;
  PyObject *__pyx_v_i = NULL;
  PyObject *__pyx_v_media_el = NULL;
  PyObject *__pyx_v_tbr = NULL;
  PyObject *__pyx_v_width = NULL;
  PyObject *__pyx_v_height = NULL;
  PyObject *__pyx_v_format_id = NULL;
  PyObject *__pyx_v_media_url = NULL;
  PyObject *__pyx_v_ext = NULL;
  PyObject *__pyx_v_f4m_formats = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  int __pyx_t_4;
  int __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  Py_ssize_t __pyx_t_8;
  PyObject *(*__pyx_t_9)(PyObject *);
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  PyObject *__pyx_t_12 = NULL;
  Py_ssize_t __pyx_t_13;
  PyObject *__pyx_t_14 = NULL;
  int __pyx_t_15;
  __Pyx_RefNannySetupContext("_parse_f4m_formats", 0);
  __Pyx_INCREF(__pyx_v_manifest_url);

  /* "youtube_dl/extractor/common.py":1039
 *                            fatal=True, m3u8_id=None):
 *         # currently youtube-dl cannot decode the playerVerificationChallenge as Akamai uses Adobe Alchemy
 *         akamai_pv = manifest.find('{http://ns.adobe.com/f4m/1.0}pv-2.0')             # <<<<<<<<<<<<<<
 *         if akamai_pv is not None and ';' in akamai_pv.text:
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_manifest, __pyx_n_s_find); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1039, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__112, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1039, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_akamai_pv = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1040
 *         # currently youtube-dl cannot decode the playerVerificationChallenge as Akamai uses Adobe Alchemy
 *         akamai_pv = manifest.find('{http://ns.adobe.com/f4m/1.0}pv-2.0')
 *         if akamai_pv is not None and ';' in akamai_pv.text:             # <<<<<<<<<<<<<<
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]
 *             if playerVerificationChallenge.strip() != '':
 */
  __pyx_t_4 = (__pyx_v_akamai_pv != Py_None);
  __pyx_t_5 = (__pyx_t_4 != 0);
  if (__pyx_t_5) {
  } else {
    __pyx_t_3 = __pyx_t_5;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_akamai_pv, __pyx_n_s_text); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1040, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = (__Pyx_PySequence_ContainsTF(__pyx_kp_u__113, __pyx_t_2, Py_EQ)); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1040, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = (__pyx_t_5 != 0);
  __pyx_t_3 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":1041
 *         akamai_pv = manifest.find('{http://ns.adobe.com/f4m/1.0}pv-2.0')
 *         if akamai_pv is not None and ';' in akamai_pv.text:
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]             # <<<<<<<<<<<<<<
 *             if playerVerificationChallenge.strip() != '':
 *                 return []
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_akamai_pv, __pyx_n_s_text); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1041, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_split); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1041, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__114, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1041, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_2, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1041, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_playerVerificationChallenge = __pyx_t_1;
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1042
 *         if akamai_pv is not None and ';' in akamai_pv.text:
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]
 *             if playerVerificationChallenge.strip() != '':             # <<<<<<<<<<<<<<
 *                 return []
 * 
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_playerVerificationChallenge, __pyx_n_s_strip); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1042, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_6 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_6)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_6);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
      }
    }
    if (__pyx_t_6) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1042, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    } else {
      __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1042, __pyx_L1_error)
    }
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_3 = (__Pyx_PyUnicode_Equals(__pyx_t_1, __pyx_kp_u__14, Py_NE)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1042, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_3) {

      /* "youtube_dl/extractor/common.py":1043
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]
 *             if playerVerificationChallenge.strip() != '':
 *                 return []             # <<<<<<<<<<<<<<
 * 
 *         formats = []
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1043, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_r = __pyx_t_1;
      __pyx_t_1 = 0;
      goto __pyx_L0;

      /* "youtube_dl/extractor/common.py":1042
 *         if akamai_pv is not None and ';' in akamai_pv.text:
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]
 *             if playerVerificationChallenge.strip() != '':             # <<<<<<<<<<<<<<
 *                 return []
 * 
 */
    }

    /* "youtube_dl/extractor/common.py":1040
 *         # currently youtube-dl cannot decode the playerVerificationChallenge as Akamai uses Adobe Alchemy
 *         akamai_pv = manifest.find('{http://ns.adobe.com/f4m/1.0}pv-2.0')
 *         if akamai_pv is not None and ';' in akamai_pv.text:             # <<<<<<<<<<<<<<
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]
 *             if playerVerificationChallenge.strip() != '':
 */
  }

  /* "youtube_dl/extractor/common.py":1045
 *                 return []
 * 
 *         formats = []             # <<<<<<<<<<<<<<
 *         manifest_version = '1.0'
 *         media_nodes = manifest.findall('{http://ns.adobe.com/f4m/1.0}media')
 */
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1045, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_formats = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1046
 * 
 *         formats = []
 *         manifest_version = '1.0'             # <<<<<<<<<<<<<<
 *         media_nodes = manifest.findall('{http://ns.adobe.com/f4m/1.0}media')
 *         if not media_nodes:
 */
  __Pyx_INCREF(__pyx_kp_u_1_0);
  __pyx_v_manifest_version = __pyx_kp_u_1_0;

  /* "youtube_dl/extractor/common.py":1047
 *         formats = []
 *         manifest_version = '1.0'
 *         media_nodes = manifest.findall('{http://ns.adobe.com/f4m/1.0}media')             # <<<<<<<<<<<<<<
 *         if not media_nodes:
 *             manifest_version = '2.0'
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_manifest, __pyx_n_s_findall); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1047, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__115, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1047, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_media_nodes = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1048
 *         manifest_version = '1.0'
 *         media_nodes = manifest.findall('{http://ns.adobe.com/f4m/1.0}media')
 *         if not media_nodes:             # <<<<<<<<<<<<<<
 *             manifest_version = '2.0'
 *             media_nodes = manifest.findall('{http://ns.adobe.com/f4m/2.0}media')
 */
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_media_nodes); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1048, __pyx_L1_error)
  __pyx_t_4 = ((!__pyx_t_3) != 0);
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":1049
 *         media_nodes = manifest.findall('{http://ns.adobe.com/f4m/1.0}media')
 *         if not media_nodes:
 *             manifest_version = '2.0'             # <<<<<<<<<<<<<<
 *             media_nodes = manifest.findall('{http://ns.adobe.com/f4m/2.0}media')
 *         # Remove unsupported DRM protected media from final formats
 */
    __Pyx_INCREF(__pyx_kp_u_2_0);
    __Pyx_DECREF_SET(__pyx_v_manifest_version, __pyx_kp_u_2_0);

    /* "youtube_dl/extractor/common.py":1050
 *         if not media_nodes:
 *             manifest_version = '2.0'
 *             media_nodes = manifest.findall('{http://ns.adobe.com/f4m/2.0}media')             # <<<<<<<<<<<<<<
 *         # Remove unsupported DRM protected media from final formats
 *         # rendition (see https://github.com/rg3/youtube-dl/issues/8573).
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_manifest, __pyx_n_s_findall); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1050, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__116, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1050, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF_SET(__pyx_v_media_nodes, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1048
 *         manifest_version = '1.0'
 *         media_nodes = manifest.findall('{http://ns.adobe.com/f4m/1.0}media')
 *         if not media_nodes:             # <<<<<<<<<<<<<<
 *             manifest_version = '2.0'
 *             media_nodes = manifest.findall('{http://ns.adobe.com/f4m/2.0}media')
 */
  }

  /* "youtube_dl/extractor/common.py":1053
 *         # Remove unsupported DRM protected media from final formats
 *         # rendition (see https://github.com/rg3/youtube-dl/issues/8573).
 *         media_nodes = remove_encrypted_media(media_nodes)             # <<<<<<<<<<<<<<
 *         if not media_nodes:
 *             return formats
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_remove_encrypted_media); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1053, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_6 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_6)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_6);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_6) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_media_nodes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1053, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1053, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_6); __pyx_t_6 = NULL;
    __Pyx_INCREF(__pyx_v_media_nodes);
    __Pyx_GIVEREF(__pyx_v_media_nodes);
    PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_v_media_nodes);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1053, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF_SET(__pyx_v_media_nodes, __pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1054
 *         # rendition (see https://github.com/rg3/youtube-dl/issues/8573).
 *         media_nodes = remove_encrypted_media(media_nodes)
 *         if not media_nodes:             # <<<<<<<<<<<<<<
 *             return formats
 *         base_url = xpath_text(
 */
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_media_nodes); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1054, __pyx_L1_error)
  __pyx_t_3 = ((!__pyx_t_4) != 0);
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":1055
 *         media_nodes = remove_encrypted_media(media_nodes)
 *         if not media_nodes:
 *             return formats             # <<<<<<<<<<<<<<
 *         base_url = xpath_text(
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}baseURL', '{http://ns.adobe.com/f4m/2.0}baseURL'],
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_formats);
    __pyx_r = __pyx_v_formats;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1054
 *         # rendition (see https://github.com/rg3/youtube-dl/issues/8573).
 *         media_nodes = remove_encrypted_media(media_nodes)
 *         if not media_nodes:             # <<<<<<<<<<<<<<
 *             return formats
 *         base_url = xpath_text(
 */
  }

  /* "youtube_dl/extractor/common.py":1056
 *         if not media_nodes:
 *             return formats
 *         base_url = xpath_text(             # <<<<<<<<<<<<<<
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}baseURL', '{http://ns.adobe.com/f4m/2.0}baseURL'],
 *             'base URL', default=None)
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1056, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":1057
 *             return formats
 *         base_url = xpath_text(
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}baseURL', '{http://ns.adobe.com/f4m/2.0}baseURL'],             # <<<<<<<<<<<<<<
 *             'base URL', default=None)
 *         if base_url:
 */
  __pyx_t_2 = PyList_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1057, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_kp_u_http_ns_adobe_com_f4m_1_0_baseU);
  __Pyx_GIVEREF(__pyx_kp_u_http_ns_adobe_com_f4m_1_0_baseU);
  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_kp_u_http_ns_adobe_com_f4m_1_0_baseU);
  __Pyx_INCREF(__pyx_kp_u_http_ns_adobe_com_f4m_2_0_baseU);
  __Pyx_GIVEREF(__pyx_kp_u_http_ns_adobe_com_f4m_2_0_baseU);
  PyList_SET_ITEM(__pyx_t_2, 1, __pyx_kp_u_http_ns_adobe_com_f4m_2_0_baseU);

  /* "youtube_dl/extractor/common.py":1056
 *         if not media_nodes:
 *             return formats
 *         base_url = xpath_text(             # <<<<<<<<<<<<<<
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}baseURL', '{http://ns.adobe.com/f4m/2.0}baseURL'],
 *             'base URL', default=None)
 */
  __pyx_t_7 = PyTuple_New(3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1056, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_INCREF(__pyx_v_manifest);
  __Pyx_GIVEREF(__pyx_v_manifest);
  PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_manifest);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_t_2);
  __Pyx_INCREF(__pyx_kp_u_base_URL);
  __Pyx_GIVEREF(__pyx_kp_u_base_URL);
  PyTuple_SET_ITEM(__pyx_t_7, 2, __pyx_kp_u_base_URL);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1058
 *         base_url = xpath_text(
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}baseURL', '{http://ns.adobe.com/f4m/2.0}baseURL'],
 *             'base URL', default=None)             # <<<<<<<<<<<<<<
 *         if base_url:
 *             base_url = base_url.strip()
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1058, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_default, Py_None) < 0) __PYX_ERR(0, 1058, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1056
 *         if not media_nodes:
 *             return formats
 *         base_url = xpath_text(             # <<<<<<<<<<<<<<
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}baseURL', '{http://ns.adobe.com/f4m/2.0}baseURL'],
 *             'base URL', default=None)
 */
  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1056, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_base_url = __pyx_t_6;
  __pyx_t_6 = 0;

  /* "youtube_dl/extractor/common.py":1059
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}baseURL', '{http://ns.adobe.com/f4m/2.0}baseURL'],
 *             'base URL', default=None)
 *         if base_url:             # <<<<<<<<<<<<<<
 *             base_url = base_url.strip()
 * 
 */
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_base_url); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1059, __pyx_L1_error)
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":1060
 *             'base URL', default=None)
 *         if base_url:
 *             base_url = base_url.strip()             # <<<<<<<<<<<<<<
 * 
 *         bootstrap_info = xpath_element(
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_base_url, __pyx_n_s_strip); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1060, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
      }
    }
    if (__pyx_t_7) {
      __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_7); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1060, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    } else {
      __pyx_t_6 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1060, __pyx_L1_error)
    }
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF_SET(__pyx_v_base_url, __pyx_t_6);
    __pyx_t_6 = 0;

    /* "youtube_dl/extractor/common.py":1059
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}baseURL', '{http://ns.adobe.com/f4m/2.0}baseURL'],
 *             'base URL', default=None)
 *         if base_url:             # <<<<<<<<<<<<<<
 *             base_url = base_url.strip()
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":1062
 *             base_url = base_url.strip()
 * 
 *         bootstrap_info = xpath_element(             # <<<<<<<<<<<<<<
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}bootstrapInfo', '{http://ns.adobe.com/f4m/2.0}bootstrapInfo'],
 *             'bootstrap info', default=None)
 */
  __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_element); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1062, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);

  /* "youtube_dl/extractor/common.py":1063
 * 
 *         bootstrap_info = xpath_element(
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}bootstrapInfo', '{http://ns.adobe.com/f4m/2.0}bootstrapInfo'],             # <<<<<<<<<<<<<<
 *             'bootstrap info', default=None)
 * 
 */
  __pyx_t_2 = PyList_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1063, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_kp_u_http_ns_adobe_com_f4m_1_0_boots);
  __Pyx_GIVEREF(__pyx_kp_u_http_ns_adobe_com_f4m_1_0_boots);
  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_kp_u_http_ns_adobe_com_f4m_1_0_boots);
  __Pyx_INCREF(__pyx_kp_u_http_ns_adobe_com_f4m_2_0_boots);
  __Pyx_GIVEREF(__pyx_kp_u_http_ns_adobe_com_f4m_2_0_boots);
  PyList_SET_ITEM(__pyx_t_2, 1, __pyx_kp_u_http_ns_adobe_com_f4m_2_0_boots);

  /* "youtube_dl/extractor/common.py":1062
 *             base_url = base_url.strip()
 * 
 *         bootstrap_info = xpath_element(             # <<<<<<<<<<<<<<
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}bootstrapInfo', '{http://ns.adobe.com/f4m/2.0}bootstrapInfo'],
 *             'bootstrap info', default=None)
 */
  __pyx_t_7 = PyTuple_New(3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1062, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_INCREF(__pyx_v_manifest);
  __Pyx_GIVEREF(__pyx_v_manifest);
  PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_manifest);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_t_2);
  __Pyx_INCREF(__pyx_kp_u_bootstrap_info);
  __Pyx_GIVEREF(__pyx_kp_u_bootstrap_info);
  PyTuple_SET_ITEM(__pyx_t_7, 2, __pyx_kp_u_bootstrap_info);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1064
 *         bootstrap_info = xpath_element(
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}bootstrapInfo', '{http://ns.adobe.com/f4m/2.0}bootstrapInfo'],
 *             'bootstrap info', default=None)             # <<<<<<<<<<<<<<
 * 
 *         for i, media_el in enumerate(media_nodes):
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1064, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_default, Py_None) < 0) __PYX_ERR(0, 1064, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1062
 *             base_url = base_url.strip()
 * 
 *         bootstrap_info = xpath_element(             # <<<<<<<<<<<<<<
 *             manifest, ['{http://ns.adobe.com/f4m/1.0}bootstrapInfo', '{http://ns.adobe.com/f4m/2.0}bootstrapInfo'],
 *             'bootstrap info', default=None)
 */
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1062, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_bootstrap_info = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1066
 *             'bootstrap info', default=None)
 * 
 *         for i, media_el in enumerate(media_nodes):             # <<<<<<<<<<<<<<
 *             tbr = int_or_none(media_el.attrib.get('bitrate'))
 *             width = int_or_none(media_el.attrib.get('width'))
 */
  __Pyx_INCREF(__pyx_int_0);
  __pyx_t_1 = __pyx_int_0;
  if (likely(PyList_CheckExact(__pyx_v_media_nodes)) || PyTuple_CheckExact(__pyx_v_media_nodes)) {
    __pyx_t_2 = __pyx_v_media_nodes; __Pyx_INCREF(__pyx_t_2); __pyx_t_8 = 0;
    __pyx_t_9 = NULL;
  } else {
    __pyx_t_8 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_media_nodes); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1066, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_9 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1066, __pyx_L1_error)
  }
  for (;;) {
    if (likely(!__pyx_t_9)) {
      if (likely(PyList_CheckExact(__pyx_t_2))) {
        if (__pyx_t_8 >= PyList_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_7 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_8); __Pyx_INCREF(__pyx_t_7); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 1066, __pyx_L1_error)
        #else
        __pyx_t_7 = PySequence_ITEM(__pyx_t_2, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1066, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        #endif
      } else {
        if (__pyx_t_8 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_8); __Pyx_INCREF(__pyx_t_7); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 1066, __pyx_L1_error)
        #else
        __pyx_t_7 = PySequence_ITEM(__pyx_t_2, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1066, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        #endif
      }
    } else {
      __pyx_t_7 = __pyx_t_9(__pyx_t_2);
      if (unlikely(!__pyx_t_7)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1066, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_7);
    }
    __Pyx_XDECREF_SET(__pyx_v_media_el, __pyx_t_7);
    __pyx_t_7 = 0;
    __Pyx_INCREF(__pyx_t_1);
    __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_1);
    __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_1, __pyx_int_1, 1, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1066, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_1);
    __pyx_t_1 = __pyx_t_7;
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1067
 * 
 *         for i, media_el in enumerate(media_nodes):
 *             tbr = int_or_none(media_el.attrib.get('bitrate'))             # <<<<<<<<<<<<<<
 *             width = int_or_none(media_el.attrib.get('width'))
 *             height = int_or_none(media_el.attrib.get('height'))
 */
    __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1067, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_el, __pyx_n_s_attrib); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1067, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_t_10, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1067, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_11);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__117, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1067, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __pyx_t_11 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_11)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_11);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
      }
    }
    if (!__pyx_t_11) {
      __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_10); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1067, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      __Pyx_GOTREF(__pyx_t_7);
    } else {
      __pyx_t_12 = PyTuple_New(1+1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1067, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_11); __pyx_t_11 = NULL;
      __Pyx_GIVEREF(__pyx_t_10);
      PyTuple_SET_ITEM(__pyx_t_12, 0+1, __pyx_t_10);
      __pyx_t_10 = 0;
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_12, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1067, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_XDECREF_SET(__pyx_v_tbr, __pyx_t_7);
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1068
 *         for i, media_el in enumerate(media_nodes):
 *             tbr = int_or_none(media_el.attrib.get('bitrate'))
 *             width = int_or_none(media_el.attrib.get('width'))             # <<<<<<<<<<<<<<
 *             height = int_or_none(media_el.attrib.get('height'))
 *             format_id = '-'.join(filter(None, [f4m_id, compat_str(i if tbr is None else tbr)]))
 */
    __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1068, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_el, __pyx_n_s_attrib); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1068, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_t_12, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1068, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_t_12 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__118, NULL); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1068, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_10)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_10);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
      }
    }
    if (!__pyx_t_10) {
      __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_12); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1068, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __Pyx_GOTREF(__pyx_t_7);
    } else {
      __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1068, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_10); __pyx_t_10 = NULL;
      __Pyx_GIVEREF(__pyx_t_12);
      PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_12);
      __pyx_t_12 = 0;
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_11, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1068, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_XDECREF_SET(__pyx_v_width, __pyx_t_7);
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1069
 *             tbr = int_or_none(media_el.attrib.get('bitrate'))
 *             width = int_or_none(media_el.attrib.get('width'))
 *             height = int_or_none(media_el.attrib.get('height'))             # <<<<<<<<<<<<<<
 *             format_id = '-'.join(filter(None, [f4m_id, compat_str(i if tbr is None else tbr)]))
 *             # If <bootstrapInfo> is present, the specified f4m is a
 */
    __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1069, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_el, __pyx_n_s_attrib); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1069, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_11);
    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_t_11, __pyx_n_s_get); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1069, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __pyx_t_11 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_tuple__119, NULL); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1069, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_11);
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_t_12 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_12)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_12);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
      }
    }
    if (!__pyx_t_12) {
      __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_11); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1069, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_GOTREF(__pyx_t_7);
    } else {
      __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1069, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_GIVEREF(__pyx_t_12); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_12); __pyx_t_12 = NULL;
      __Pyx_GIVEREF(__pyx_t_11);
      PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_t_11);
      __pyx_t_11 = 0;
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_10, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1069, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_XDECREF_SET(__pyx_v_height, __pyx_t_7);
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1070
 *             width = int_or_none(media_el.attrib.get('width'))
 *             height = int_or_none(media_el.attrib.get('height'))
 *             format_id = '-'.join(filter(None, [f4m_id, compat_str(i if tbr is None else tbr)]))             # <<<<<<<<<<<<<<
 *             # If <bootstrapInfo> is present, the specified f4m is a
 *             # stream-level manifest, and only set-level manifests may refer to
 */
    __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_str); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1070, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_3 = (__pyx_v_tbr == Py_None);
    if ((__pyx_t_3 != 0)) {
      __Pyx_INCREF(__pyx_v_i);
      __pyx_t_10 = __pyx_v_i;
    } else {
      __Pyx_INCREF(__pyx_v_tbr);
      __pyx_t_10 = __pyx_v_tbr;
    }
    __pyx_t_11 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_11)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_11);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
      }
    }
    if (!__pyx_t_11) {
      __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_10); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1070, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      __Pyx_GOTREF(__pyx_t_7);
    } else {
      __pyx_t_12 = PyTuple_New(1+1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1070, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_11); __pyx_t_11 = NULL;
      __Pyx_GIVEREF(__pyx_t_10);
      PyTuple_SET_ITEM(__pyx_t_12, 0+1, __pyx_t_10);
      __pyx_t_10 = 0;
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_12, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1070, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = PyList_New(2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1070, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_INCREF(__pyx_v_f4m_id);
    __Pyx_GIVEREF(__pyx_v_f4m_id);
    PyList_SET_ITEM(__pyx_t_6, 0, __pyx_v_f4m_id);
    __Pyx_GIVEREF(__pyx_t_7);
    PyList_SET_ITEM(__pyx_t_6, 1, __pyx_t_7);
    __pyx_t_7 = 0;
    __pyx_t_7 = PyTuple_New(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1070, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_INCREF(Py_None);
    __Pyx_GIVEREF(Py_None);
    PyTuple_SET_ITEM(__pyx_t_7, 0, Py_None);
    __Pyx_GIVEREF(__pyx_t_6);
    PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_t_6);
    __pyx_t_6 = 0;
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_builtin_filter, __pyx_t_7, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1070, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = PyUnicode_Join(__pyx_kp_u__120, __pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1070, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_XDECREF_SET(__pyx_v_format_id, ((PyObject*)__pyx_t_7));
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1074
 *             # stream-level manifest, and only set-level manifests may refer to
 *             # external resources.  See section 11.4 and section 4 of F4M spec
 *             if bootstrap_info is None:             # <<<<<<<<<<<<<<
 *                 media_url = None
 *                 # @href is introduced in 2.0, see section 11.6 of F4M spec
 */
    __pyx_t_3 = (__pyx_v_bootstrap_info == Py_None);
    __pyx_t_4 = (__pyx_t_3 != 0);
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":1075
 *             # external resources.  See section 11.4 and section 4 of F4M spec
 *             if bootstrap_info is None:
 *                 media_url = None             # <<<<<<<<<<<<<<
 *                 # @href is introduced in 2.0, see section 11.6 of F4M spec
 *                 if manifest_version == '2.0':
 */
      __Pyx_INCREF(Py_None);
      __Pyx_XDECREF_SET(__pyx_v_media_url, Py_None);

      /* "youtube_dl/extractor/common.py":1077
 *                 media_url = None
 *                 # @href is introduced in 2.0, see section 11.6 of F4M spec
 *                 if manifest_version == '2.0':             # <<<<<<<<<<<<<<
 *                     media_url = media_el.attrib.get('href')
 *                 if media_url is None:
 */
      __pyx_t_4 = (__Pyx_PyUnicode_Equals(__pyx_v_manifest_version, __pyx_kp_u_2_0, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1077, __pyx_L1_error)
      __pyx_t_3 = (__pyx_t_4 != 0);
      if (__pyx_t_3) {

        /* "youtube_dl/extractor/common.py":1078
 *                 # @href is introduced in 2.0, see section 11.6 of F4M spec
 *                 if manifest_version == '2.0':
 *                     media_url = media_el.attrib.get('href')             # <<<<<<<<<<<<<<
 *                 if media_url is None:
 *                     media_url = media_el.attrib.get('url')
 */
        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_el, __pyx_n_s_attrib); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1078, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1078, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__121, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1078, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF_SET(__pyx_v_media_url, __pyx_t_7);
        __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":1077
 *                 media_url = None
 *                 # @href is introduced in 2.0, see section 11.6 of F4M spec
 *                 if manifest_version == '2.0':             # <<<<<<<<<<<<<<
 *                     media_url = media_el.attrib.get('href')
 *                 if media_url is None:
 */
      }

      /* "youtube_dl/extractor/common.py":1079
 *                 if manifest_version == '2.0':
 *                     media_url = media_el.attrib.get('href')
 *                 if media_url is None:             # <<<<<<<<<<<<<<
 *                     media_url = media_el.attrib.get('url')
 *                 if not media_url:
 */
      __pyx_t_3 = (__pyx_v_media_url == Py_None);
      __pyx_t_4 = (__pyx_t_3 != 0);
      if (__pyx_t_4) {

        /* "youtube_dl/extractor/common.py":1080
 *                     media_url = media_el.attrib.get('href')
 *                 if media_url is None:
 *                     media_url = media_el.attrib.get('url')             # <<<<<<<<<<<<<<
 *                 if not media_url:
 *                     continue
 */
        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_el, __pyx_n_s_attrib); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1080, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1080, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__122, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1080, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF_SET(__pyx_v_media_url, __pyx_t_7);
        __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":1079
 *                 if manifest_version == '2.0':
 *                     media_url = media_el.attrib.get('href')
 *                 if media_url is None:             # <<<<<<<<<<<<<<
 *                     media_url = media_el.attrib.get('url')
 *                 if not media_url:
 */
      }

      /* "youtube_dl/extractor/common.py":1081
 *                 if media_url is None:
 *                     media_url = media_el.attrib.get('url')
 *                 if not media_url:             # <<<<<<<<<<<<<<
 *                     continue
 *                 manifest_url = (
 */
      __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_media_url); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1081, __pyx_L1_error)
      __pyx_t_3 = ((!__pyx_t_4) != 0);
      if (__pyx_t_3) {

        /* "youtube_dl/extractor/common.py":1082
 *                     media_url = media_el.attrib.get('url')
 *                 if not media_url:
 *                     continue             # <<<<<<<<<<<<<<
 *                 manifest_url = (
 *                     media_url if media_url.startswith('http://') or media_url.startswith('https://')
 */
        goto __pyx_L10_continue;

        /* "youtube_dl/extractor/common.py":1081
 *                 if media_url is None:
 *                     media_url = media_el.attrib.get('url')
 *                 if not media_url:             # <<<<<<<<<<<<<<
 *                     continue
 *                 manifest_url = (
 */
      }

      /* "youtube_dl/extractor/common.py":1084
 *                     continue
 *                 manifest_url = (
 *                     media_url if media_url.startswith('http://') or media_url.startswith('https://')             # <<<<<<<<<<<<<<
 *                     else ((base_url or '/'.join(manifest_url.split('/')[:-1])) + '/' + media_url))
 *                 # If media_url is itself a f4m manifest do the recursive extraction
 */
      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_url, __pyx_n_s_startswith); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1084, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_12 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__123, NULL); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1084, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_12); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1084, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      if (!__pyx_t_4) {
      } else {
        __pyx_t_3 = __pyx_t_4;
        goto __pyx_L16_bool_binop_done;
      }
      __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_url, __pyx_n_s_startswith); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1084, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_12);
      __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_tuple__124, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1084, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1084, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_3 = __pyx_t_4;
      __pyx_L16_bool_binop_done:;
      if (__pyx_t_3) {
        __Pyx_INCREF(__pyx_v_media_url);
        __pyx_t_7 = __pyx_v_media_url;
      } else {

        /* "youtube_dl/extractor/common.py":1085
 *                 manifest_url = (
 *                     media_url if media_url.startswith('http://') or media_url.startswith('https://')
 *                     else ((base_url or '/'.join(manifest_url.split('/')[:-1])) + '/' + media_url))             # <<<<<<<<<<<<<<
 *                 # If media_url is itself a f4m manifest do the recursive extraction
 *                 # since bitrates in parent manifest (this one) and media_url manifest
 */
        __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_base_url); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1085, __pyx_L1_error)
        if (!__pyx_t_4) {
        } else {
          __Pyx_INCREF(__pyx_v_base_url);
          __pyx_t_6 = __pyx_v_base_url;
          goto __pyx_L18_bool_binop_done;
        }
        __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_manifest_url, __pyx_n_s_split); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1085, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_12);
        __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_tuple__126, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1085, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
        __pyx_t_12 = __Pyx_PyObject_GetSlice(__pyx_t_10, 0, -1L, NULL, NULL, &__pyx_slice__127, 0, 1, 1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1085, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_12);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __pyx_t_10 = PyUnicode_Join(__pyx_kp_u__125, __pyx_t_12); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1085, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
        __Pyx_INCREF(__pyx_t_10);
        __pyx_t_6 = __pyx_t_10;
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __pyx_L18_bool_binop_done:;
        __pyx_t_10 = PyNumber_Add(__pyx_t_6, __pyx_kp_u__125); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1085, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_6 = PyNumber_Add(__pyx_t_10, __pyx_v_media_url); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1085, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __pyx_t_7 = __pyx_t_6;
        __pyx_t_6 = 0;
      }
      __Pyx_DECREF_SET(__pyx_v_manifest_url, __pyx_t_7);
      __pyx_t_7 = 0;

      /* "youtube_dl/extractor/common.py":1090
 *                 # may differ leading to inability to resolve the format by requested
 *                 # bitrate in f4m downloader
 *                 ext = determine_ext(manifest_url)             # <<<<<<<<<<<<<<
 *                 if ext == 'f4m':
 *                     f4m_formats = self._extract_f4m_formats(
 */
      __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_determine_ext); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1090, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_10 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_6);
        if (likely(__pyx_t_10)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
          __Pyx_INCREF(__pyx_t_10);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_6, function);
        }
      }
      if (!__pyx_t_10) {
        __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_manifest_url); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1090, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
      } else {
        __pyx_t_12 = PyTuple_New(1+1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1090, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_12);
        __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_10); __pyx_t_10 = NULL;
        __Pyx_INCREF(__pyx_v_manifest_url);
        __Pyx_GIVEREF(__pyx_v_manifest_url);
        PyTuple_SET_ITEM(__pyx_t_12, 0+1, __pyx_v_manifest_url);
        __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_12, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1090, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      }
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_XDECREF_SET(__pyx_v_ext, __pyx_t_7);
      __pyx_t_7 = 0;

      /* "youtube_dl/extractor/common.py":1091
 *                 # bitrate in f4m downloader
 *                 ext = determine_ext(manifest_url)
 *                 if ext == 'f4m':             # <<<<<<<<<<<<<<
 *                     f4m_formats = self._extract_f4m_formats(
 *                         manifest_url, video_id, preference=preference, f4m_id=f4m_id,
 */
      __pyx_t_3 = (__Pyx_PyUnicode_Equals(__pyx_v_ext, __pyx_n_u_f4m, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1091, __pyx_L1_error)
      if (__pyx_t_3) {

        /* "youtube_dl/extractor/common.py":1092
 *                 ext = determine_ext(manifest_url)
 *                 if ext == 'f4m':
 *                     f4m_formats = self._extract_f4m_formats(             # <<<<<<<<<<<<<<
 *                         manifest_url, video_id, preference=preference, f4m_id=f4m_id,
 *                         transform_source=transform_source, fatal=fatal)
 */
        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_extract_f4m_formats); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1092, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);

        /* "youtube_dl/extractor/common.py":1093
 *                 if ext == 'f4m':
 *                     f4m_formats = self._extract_f4m_formats(
 *                         manifest_url, video_id, preference=preference, f4m_id=f4m_id,             # <<<<<<<<<<<<<<
 *                         transform_source=transform_source, fatal=fatal)
 *                     # Sometimes stream-level manifest contains single media entry that
 */
        __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1092, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_INCREF(__pyx_v_manifest_url);
        __Pyx_GIVEREF(__pyx_v_manifest_url);
        PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_manifest_url);
        __Pyx_INCREF(__pyx_v_video_id);
        __Pyx_GIVEREF(__pyx_v_video_id);
        PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_video_id);
        __pyx_t_12 = PyDict_New(); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1093, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_12);
        if (PyDict_SetItem(__pyx_t_12, __pyx_n_s_preference, __pyx_v_preference) < 0) __PYX_ERR(0, 1093, __pyx_L1_error)
        if (PyDict_SetItem(__pyx_t_12, __pyx_n_s_f4m_id, __pyx_v_f4m_id) < 0) __PYX_ERR(0, 1093, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1094
 *                     f4m_formats = self._extract_f4m_formats(
 *                         manifest_url, video_id, preference=preference, f4m_id=f4m_id,
 *                         transform_source=transform_source, fatal=fatal)             # <<<<<<<<<<<<<<
 *                     # Sometimes stream-level manifest contains single media entry that
 *                     # does not contain any quality metadata (e.g. http://matchtv.ru/#live-player).
 */
        if (PyDict_SetItem(__pyx_t_12, __pyx_n_s_transform_source, __pyx_v_transform_source) < 0) __PYX_ERR(0, 1093, __pyx_L1_error)
        if (PyDict_SetItem(__pyx_t_12, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1093, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1092
 *                 ext = determine_ext(manifest_url)
 *                 if ext == 'f4m':
 *                     f4m_formats = self._extract_f4m_formats(             # <<<<<<<<<<<<<<
 *                         manifest_url, video_id, preference=preference, f4m_id=f4m_id,
 *                         transform_source=transform_source, fatal=fatal)
 */
        __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_6, __pyx_t_12); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1092, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
        __Pyx_XDECREF_SET(__pyx_v_f4m_formats, __pyx_t_10);
        __pyx_t_10 = 0;

        /* "youtube_dl/extractor/common.py":1099
 *                     # At the same time parent's media entry in set-level manifest may
 *                     # contain it. We will copy it from parent in such cases.
 *                     if len(f4m_formats) == 1:             # <<<<<<<<<<<<<<
 *                         f = f4m_formats[0]
 *                         f.update({
 */
        __pyx_t_13 = PyObject_Length(__pyx_v_f4m_formats); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1099, __pyx_L1_error)
        __pyx_t_3 = ((__pyx_t_13 == 1) != 0);
        if (__pyx_t_3) {

          /* "youtube_dl/extractor/common.py":1100
 *                     # contain it. We will copy it from parent in such cases.
 *                     if len(f4m_formats) == 1:
 *                         f = f4m_formats[0]             # <<<<<<<<<<<<<<
 *                         f.update({
 *                             'tbr': f.get('tbr') or tbr,
 */
          __pyx_t_10 = __Pyx_GetItemInt(__pyx_v_f4m_formats, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1100, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_10);
          __Pyx_XDECREF_SET(__pyx_v_f, __pyx_t_10);
          __pyx_t_10 = 0;

          /* "youtube_dl/extractor/common.py":1101
 *                     if len(f4m_formats) == 1:
 *                         f = f4m_formats[0]
 *                         f.update({             # <<<<<<<<<<<<<<
 *                             'tbr': f.get('tbr') or tbr,
 *                             'width': f.get('width') or width,
 */
          __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_update); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1101, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_12);

          /* "youtube_dl/extractor/common.py":1102
 *                         f = f4m_formats[0]
 *                         f.update({
 *                             'tbr': f.get('tbr') or tbr,             # <<<<<<<<<<<<<<
 *                             'width': f.get('width') or width,
 *                             'height': f.get('height') or height,
 */
          __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1102, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1102, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_11);
          __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__128, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1102, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_14);
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_14); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1102, __pyx_L1_error)
          if (!__pyx_t_3) {
            __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
          } else {
            __Pyx_INCREF(__pyx_t_14);
            __pyx_t_7 = __pyx_t_14;
            __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
            goto __pyx_L22_bool_binop_done;
          }
          __Pyx_INCREF(__pyx_v_tbr);
          __pyx_t_7 = __pyx_v_tbr;
          __pyx_L22_bool_binop_done:;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_tbr, __pyx_t_7) < 0) __PYX_ERR(0, 1102, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

          /* "youtube_dl/extractor/common.py":1103
 *                         f.update({
 *                             'tbr': f.get('tbr') or tbr,
 *                             'width': f.get('width') or width,             # <<<<<<<<<<<<<<
 *                             'height': f.get('height') or height,
 *                             'format_id': f.get('format_id') if not tbr else format_id,
 */
          __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1103, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_14);
          __pyx_t_11 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_tuple__129, NULL); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1103, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_11);
          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
          __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_11); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1103, __pyx_L1_error)
          if (!__pyx_t_3) {
            __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          } else {
            __Pyx_INCREF(__pyx_t_11);
            __pyx_t_7 = __pyx_t_11;
            __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
            goto __pyx_L24_bool_binop_done;
          }
          __Pyx_INCREF(__pyx_v_width);
          __pyx_t_7 = __pyx_v_width;
          __pyx_L24_bool_binop_done:;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_width, __pyx_t_7) < 0) __PYX_ERR(0, 1102, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

          /* "youtube_dl/extractor/common.py":1104
 *                             'tbr': f.get('tbr') or tbr,
 *                             'width': f.get('width') or width,
 *                             'height': f.get('height') or height,             # <<<<<<<<<<<<<<
 *                             'format_id': f.get('format_id') if not tbr else format_id,
 *                         })
 */
          __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1104, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_11);
          __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_tuple__130, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1104, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_14);
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_14); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1104, __pyx_L1_error)
          if (!__pyx_t_3) {
            __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
          } else {
            __Pyx_INCREF(__pyx_t_14);
            __pyx_t_7 = __pyx_t_14;
            __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
            goto __pyx_L26_bool_binop_done;
          }
          __Pyx_INCREF(__pyx_v_height);
          __pyx_t_7 = __pyx_v_height;
          __pyx_L26_bool_binop_done:;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_height, __pyx_t_7) < 0) __PYX_ERR(0, 1102, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

          /* "youtube_dl/extractor/common.py":1105
 *                             'width': f.get('width') or width,
 *                             'height': f.get('height') or height,
 *                             'format_id': f.get('format_id') if not tbr else format_id,             # <<<<<<<<<<<<<<
 *                         })
 *                     formats.extend(f4m_formats)
 */
          __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_tbr); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1105, __pyx_L1_error)
          if (((!__pyx_t_3) != 0)) {
            __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_get); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1105, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_14);
            __pyx_t_11 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_tuple__131, NULL); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1105, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_11);
            __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
            __pyx_t_7 = __pyx_t_11;
            __pyx_t_11 = 0;
          } else {
            __Pyx_INCREF(__pyx_v_format_id);
            __pyx_t_7 = __pyx_v_format_id;
          }
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_format_id, __pyx_t_7) < 0) __PYX_ERR(0, 1102, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          __pyx_t_7 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_12))) {
            __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_12);
            if (likely(__pyx_t_7)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
              __Pyx_INCREF(__pyx_t_7);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_12, function);
            }
          }
          if (!__pyx_t_7) {
            __pyx_t_10 = __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_6); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1101, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __Pyx_GOTREF(__pyx_t_10);
          } else {
            __pyx_t_11 = PyTuple_New(1+1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1101, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_11);
            __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_7); __pyx_t_7 = NULL;
            __Pyx_GIVEREF(__pyx_t_6);
            PyTuple_SET_ITEM(__pyx_t_11, 0+1, __pyx_t_6);
            __pyx_t_6 = 0;
            __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_t_11, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1101, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_10);
            __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          }
          __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

          /* "youtube_dl/extractor/common.py":1099
 *                     # At the same time parent's media entry in set-level manifest may
 *                     # contain it. We will copy it from parent in such cases.
 *                     if len(f4m_formats) == 1:             # <<<<<<<<<<<<<<
 *                         f = f4m_formats[0]
 *                         f.update({
 */
        }

        /* "youtube_dl/extractor/common.py":1107
 *                             'format_id': f.get('format_id') if not tbr else format_id,
 *                         })
 *                     formats.extend(f4m_formats)             # <<<<<<<<<<<<<<
 *                     continue
 *                 elif ext == 'm3u8':
 */
        __pyx_t_15 = __Pyx_PyList_Extend(__pyx_v_formats, __pyx_v_f4m_formats); if (unlikely(__pyx_t_15 == -1)) __PYX_ERR(0, 1107, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1108
 *                         })
 *                     formats.extend(f4m_formats)
 *                     continue             # <<<<<<<<<<<<<<
 *                 elif ext == 'm3u8':
 *                     formats.extend(self._extract_m3u8_formats(
 */
        goto __pyx_L10_continue;

        /* "youtube_dl/extractor/common.py":1091
 *                 # bitrate in f4m downloader
 *                 ext = determine_ext(manifest_url)
 *                 if ext == 'f4m':             # <<<<<<<<<<<<<<
 *                     f4m_formats = self._extract_f4m_formats(
 *                         manifest_url, video_id, preference=preference, f4m_id=f4m_id,
 */
      }

      /* "youtube_dl/extractor/common.py":1109
 *                     formats.extend(f4m_formats)
 *                     continue
 *                 elif ext == 'm3u8':             # <<<<<<<<<<<<<<
 *                     formats.extend(self._extract_m3u8_formats(
 *                         manifest_url, video_id, 'mp4', preference=preference,
 */
      __pyx_t_3 = (__Pyx_PyUnicode_Equals(__pyx_v_ext, __pyx_n_u_m3u8, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1109, __pyx_L1_error)
      if (__pyx_t_3) {

        /* "youtube_dl/extractor/common.py":1110
 *                     continue
 *                 elif ext == 'm3u8':
 *                     formats.extend(self._extract_m3u8_formats(             # <<<<<<<<<<<<<<
 *                         manifest_url, video_id, 'mp4', preference=preference,
 *                         m3u8_id=m3u8_id, fatal=fatal))
 */
        __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_extract_m3u8_formats); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1110, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);

        /* "youtube_dl/extractor/common.py":1111
 *                 elif ext == 'm3u8':
 *                     formats.extend(self._extract_m3u8_formats(
 *                         manifest_url, video_id, 'mp4', preference=preference,             # <<<<<<<<<<<<<<
 *                         m3u8_id=m3u8_id, fatal=fatal))
 *                     continue
 */
        __pyx_t_12 = PyTuple_New(3); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1110, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_12);
        __Pyx_INCREF(__pyx_v_manifest_url);
        __Pyx_GIVEREF(__pyx_v_manifest_url);
        PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_v_manifest_url);
        __Pyx_INCREF(__pyx_v_video_id);
        __Pyx_GIVEREF(__pyx_v_video_id);
        PyTuple_SET_ITEM(__pyx_t_12, 1, __pyx_v_video_id);
        __Pyx_INCREF(__pyx_n_u_mp4);
        __Pyx_GIVEREF(__pyx_n_u_mp4);
        PyTuple_SET_ITEM(__pyx_t_12, 2, __pyx_n_u_mp4);
        __pyx_t_11 = PyDict_New(); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1111, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_11);
        if (PyDict_SetItem(__pyx_t_11, __pyx_n_s_preference, __pyx_v_preference) < 0) __PYX_ERR(0, 1111, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1112
 *                     formats.extend(self._extract_m3u8_formats(
 *                         manifest_url, video_id, 'mp4', preference=preference,
 *                         m3u8_id=m3u8_id, fatal=fatal))             # <<<<<<<<<<<<<<
 *                     continue
 *             formats.append({
 */
        if (PyDict_SetItem(__pyx_t_11, __pyx_n_s_m3u8_id, __pyx_v_m3u8_id) < 0) __PYX_ERR(0, 1111, __pyx_L1_error)
        if (PyDict_SetItem(__pyx_t_11, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1111, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1110
 *                     continue
 *                 elif ext == 'm3u8':
 *                     formats.extend(self._extract_m3u8_formats(             # <<<<<<<<<<<<<<
 *                         manifest_url, video_id, 'mp4', preference=preference,
 *                         m3u8_id=m3u8_id, fatal=fatal))
 */
        __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_12, __pyx_t_11); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1110, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
        __pyx_t_15 = __Pyx_PyList_Extend(__pyx_v_formats, __pyx_t_6); if (unlikely(__pyx_t_15 == -1)) __PYX_ERR(0, 1110, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

        /* "youtube_dl/extractor/common.py":1113
 *                         manifest_url, video_id, 'mp4', preference=preference,
 *                         m3u8_id=m3u8_id, fatal=fatal))
 *                     continue             # <<<<<<<<<<<<<<
 *             formats.append({
 *                 'format_id': format_id,
 */
        goto __pyx_L10_continue;

        /* "youtube_dl/extractor/common.py":1109
 *                     formats.extend(f4m_formats)
 *                     continue
 *                 elif ext == 'm3u8':             # <<<<<<<<<<<<<<
 *                     formats.extend(self._extract_m3u8_formats(
 *                         manifest_url, video_id, 'mp4', preference=preference,
 */
      }

      /* "youtube_dl/extractor/common.py":1074
 *             # stream-level manifest, and only set-level manifests may refer to
 *             # external resources.  See section 11.4 and section 4 of F4M spec
 *             if bootstrap_info is None:             # <<<<<<<<<<<<<<
 *                 media_url = None
 *                 # @href is introduced in 2.0, see section 11.6 of F4M spec
 */
    }

    /* "youtube_dl/extractor/common.py":1115
 *                     continue
 *             formats.append({
 *                 'format_id': format_id,             # <<<<<<<<<<<<<<
 *                 'url': manifest_url,
 *                 'ext': 'flv' if bootstrap_info is not None else None,
 */
    __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1115, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_format_id, __pyx_v_format_id) < 0) __PYX_ERR(0, 1115, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1116
 *             formats.append({
 *                 'format_id': format_id,
 *                 'url': manifest_url,             # <<<<<<<<<<<<<<
 *                 'ext': 'flv' if bootstrap_info is not None else None,
 *                 'tbr': tbr,
 */
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_url, __pyx_v_manifest_url) < 0) __PYX_ERR(0, 1115, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1117
 *                 'format_id': format_id,
 *                 'url': manifest_url,
 *                 'ext': 'flv' if bootstrap_info is not None else None,             # <<<<<<<<<<<<<<
 *                 'tbr': tbr,
 *                 'width': width,
 */
    __pyx_t_3 = (__pyx_v_bootstrap_info != Py_None);
    if ((__pyx_t_3 != 0)) {
      __Pyx_INCREF(__pyx_n_u_flv);
      __pyx_t_11 = __pyx_n_u_flv;
    } else {
      __Pyx_INCREF(Py_None);
      __pyx_t_11 = Py_None;
    }
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_ext, __pyx_t_11) < 0) __PYX_ERR(0, 1115, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;

    /* "youtube_dl/extractor/common.py":1118
 *                 'url': manifest_url,
 *                 'ext': 'flv' if bootstrap_info is not None else None,
 *                 'tbr': tbr,             # <<<<<<<<<<<<<<
 *                 'width': width,
 *                 'height': height,
 */
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_tbr, __pyx_v_tbr) < 0) __PYX_ERR(0, 1115, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1119
 *                 'ext': 'flv' if bootstrap_info is not None else None,
 *                 'tbr': tbr,
 *                 'width': width,             # <<<<<<<<<<<<<<
 *                 'height': height,
 *                 'preference': preference,
 */
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_width, __pyx_v_width) < 0) __PYX_ERR(0, 1115, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1120
 *                 'tbr': tbr,
 *                 'width': width,
 *                 'height': height,             # <<<<<<<<<<<<<<
 *                 'preference': preference,
 *             })
 */
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_height, __pyx_v_height) < 0) __PYX_ERR(0, 1115, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1121
 *                 'width': width,
 *                 'height': height,
 *                 'preference': preference,             # <<<<<<<<<<<<<<
 *             })
 *         return formats
 */
    if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_preference, __pyx_v_preference) < 0) __PYX_ERR(0, 1115, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1114
 *                         m3u8_id=m3u8_id, fatal=fatal))
 *                     continue
 *             formats.append({             # <<<<<<<<<<<<<<
 *                 'format_id': format_id,
 *                 'url': manifest_url,
 */
    __pyx_t_15 = __Pyx_PyList_Append(__pyx_v_formats, __pyx_t_6); if (unlikely(__pyx_t_15 == -1)) __PYX_ERR(0, 1114, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

    /* "youtube_dl/extractor/common.py":1066
 *             'bootstrap info', default=None)
 * 
 *         for i, media_el in enumerate(media_nodes):             # <<<<<<<<<<<<<<
 *             tbr = int_or_none(media_el.attrib.get('bitrate'))
 *             width = int_or_none(media_el.attrib.get('width'))
 */
    __pyx_L10_continue:;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1123
 *                 'preference': preference,
 *             })
 *         return formats             # <<<<<<<<<<<<<<
 * 
 *     def _m3u8_meta_format(self, m3u8_url, ext=None, preference=None, m3u8_id=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_formats);
  __pyx_r = __pyx_v_formats;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1035
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)
 * 
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                            transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                            fatal=True, m3u8_id=None):
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_XDECREF(__pyx_t_14);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_f4m_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_akamai_pv);
  __Pyx_XDECREF(__pyx_v_playerVerificationChallenge);
  __Pyx_XDECREF(__pyx_v_formats);
  __Pyx_XDECREF(__pyx_v_manifest_version);
  __Pyx_XDECREF(__pyx_v_media_nodes);
  __Pyx_XDECREF(__pyx_v_base_url);
  __Pyx_XDECREF(__pyx_v_bootstrap_info);
  __Pyx_XDECREF(__pyx_v_i);
  __Pyx_XDECREF(__pyx_v_media_el);
  __Pyx_XDECREF(__pyx_v_tbr);
  __Pyx_XDECREF(__pyx_v_width);
  __Pyx_XDECREF(__pyx_v_height);
  __Pyx_XDECREF(__pyx_v_format_id);
  __Pyx_XDECREF(__pyx_v_media_url);
  __Pyx_XDECREF(__pyx_v_ext);
  __Pyx_XDECREF(__pyx_v_f4m_formats);
  __Pyx_XDECREF(__pyx_v_f);
  __Pyx_XDECREF(__pyx_v_manifest_url);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1125
 *         return formats
 * 
 *     def _m3u8_meta_format(self, m3u8_url, ext=None, preference=None, m3u8_id=None):             # <<<<<<<<<<<<<<
 *         return {
 *             'format_id': '-'.join(filter(None, [m3u8_id, 'meta'])),
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_121_m3u8_meta_format(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_121_m3u8_meta_format = {"_m3u8_meta_format", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_121_m3u8_meta_format, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_121_m3u8_meta_format(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_m3u8_url = 0;
  PyObject *__pyx_v_ext = 0;
  PyObject *__pyx_v_preference = 0;
  PyObject *__pyx_v_m3u8_id = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_m3u8_meta_format (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_m3u8_url,&__pyx_n_s_ext,&__pyx_n_s_preference,&__pyx_n_s_m3u8_id,0};
    PyObject* values[5] = {0,0,0,0,0};
    values[2] = ((PyObject *)((PyObject *)Py_None));
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_m3u8_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_m3u8_meta_format", 0, 2, 5, 1); __PYX_ERR(0, 1125, __pyx_L3_error)
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_ext);
          if (value) { values[2] = value; kw_args--; }
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_preference);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_m3u8_id);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_m3u8_meta_format") < 0)) __PYX_ERR(0, 1125, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_m3u8_url = values[1];
    __pyx_v_ext = values[2];
    __pyx_v_preference = values[3];
    __pyx_v_m3u8_id = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_m3u8_meta_format", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1125, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._m3u8_meta_format", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_120_m3u8_meta_format(__pyx_self, __pyx_v_self, __pyx_v_m3u8_url, __pyx_v_ext, __pyx_v_preference, __pyx_v_m3u8_id);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_120_m3u8_meta_format(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_m3u8_url, PyObject *__pyx_v_ext, PyObject *__pyx_v_preference, PyObject *__pyx_v_m3u8_id) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  __Pyx_RefNannySetupContext("_m3u8_meta_format", 0);

  /* "youtube_dl/extractor/common.py":1126
 * 
 *     def _m3u8_meta_format(self, m3u8_url, ext=None, preference=None, m3u8_id=None):
 *         return {             # <<<<<<<<<<<<<<
 *             'format_id': '-'.join(filter(None, [m3u8_id, 'meta'])),
 *             'url': m3u8_url,
 */
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":1127
 *     def _m3u8_meta_format(self, m3u8_url, ext=None, preference=None, m3u8_id=None):
 *         return {
 *             'format_id': '-'.join(filter(None, [m3u8_id, 'meta'])),             # <<<<<<<<<<<<<<
 *             'url': m3u8_url,
 *             'ext': ext,
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1127, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyList_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1127, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_m3u8_id);
  __Pyx_GIVEREF(__pyx_v_m3u8_id);
  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_v_m3u8_id);
  __Pyx_INCREF(__pyx_n_u_meta);
  __Pyx_GIVEREF(__pyx_n_u_meta);
  PyList_SET_ITEM(__pyx_t_2, 1, __pyx_n_u_meta);
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1127, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_3, 0, Py_None);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_filter, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1127, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = PyUnicode_Join(__pyx_kp_u__120, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1127, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_format_id, __pyx_t_3) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1128
 *         return {
 *             'format_id': '-'.join(filter(None, [m3u8_id, 'meta'])),
 *             'url': m3u8_url,             # <<<<<<<<<<<<<<
 *             'ext': ext,
 *             'protocol': 'm3u8',
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_url, __pyx_v_m3u8_url) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1129
 *             'format_id': '-'.join(filter(None, [m3u8_id, 'meta'])),
 *             'url': m3u8_url,
 *             'ext': ext,             # <<<<<<<<<<<<<<
 *             'protocol': 'm3u8',
 *             'preference': preference - 1 if preference else -1,
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_ext, __pyx_v_ext) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_protocol, __pyx_n_u_m3u8) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1131
 *             'ext': ext,
 *             'protocol': 'm3u8',
 *             'preference': preference - 1 if preference else -1,             # <<<<<<<<<<<<<<
 *             'resolution': 'multiple',
 *             'format_note': 'Quality selection URL',
 */
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_preference); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1131, __pyx_L1_error)
  if (__pyx_t_4) {
    __pyx_t_2 = __Pyx_PyInt_SubtractObjC(__pyx_v_preference, __pyx_int_1, 1, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1131, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = __pyx_t_2;
    __pyx_t_2 = 0;
  } else {
    __Pyx_INCREF(__pyx_int_neg_1);
    __pyx_t_3 = __pyx_int_neg_1;
  }
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_preference, __pyx_t_3) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_resolution, __pyx_n_u_multiple) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_format_note, __pyx_kp_u_Quality_selection_URL) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1125
 *         return formats
 * 
 *     def _m3u8_meta_format(self, m3u8_url, ext=None, preference=None, m3u8_id=None):             # <<<<<<<<<<<<<<
 *         return {
 *             'format_id': '-'.join(filter(None, [m3u8_id, 'meta'])),
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._m3u8_meta_format", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1136
 *         }
 * 
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,             # <<<<<<<<<<<<<<
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_123_extract_m3u8_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_123_extract_m3u8_formats = {"_extract_m3u8_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_123_extract_m3u8_formats, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_123_extract_m3u8_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_m3u8_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_ext = 0;
  PyObject *__pyx_v_entry_protocol = 0;
  PyObject *__pyx_v_preference = 0;
  PyObject *__pyx_v_m3u8_id = 0;
  PyObject *__pyx_v_note = 0;
  PyObject *__pyx_v_errnote = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_live = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_extract_m3u8_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_m3u8_url,&__pyx_n_s_video_id,&__pyx_n_s_ext,&__pyx_n_s_entry_protocol,&__pyx_n_s_preference,&__pyx_n_s_m3u8_id,&__pyx_n_s_note,&__pyx_n_s_errnote,&__pyx_n_s_fatal,&__pyx_n_s_live,0};
    PyObject* values[11] = {0,0,0,0,0,0,0,0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject*)__pyx_n_u_m3u8));

    /* "youtube_dl/extractor/common.py":1137
 * 
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,
 *                               entry_protocol='m3u8', preference=None,             # <<<<<<<<<<<<<<
 *                               m3u8_id=None, note=None, errnote=None,
 *                               fatal=True, live=False):
 */
    values[5] = ((PyObject *)((PyObject *)Py_None));

    /* "youtube_dl/extractor/common.py":1138
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,             # <<<<<<<<<<<<<<
 *                               fatal=True, live=False):
 * 
 */
    values[6] = ((PyObject *)((PyObject *)Py_None));
    values[7] = ((PyObject *)((PyObject *)Py_None));
    values[8] = ((PyObject *)((PyObject *)Py_None));

    /* "youtube_dl/extractor/common.py":1139
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,
 *                               fatal=True, live=False):             # <<<<<<<<<<<<<<
 * 
 *         formats = [self._m3u8_meta_format(m3u8_url, ext, preference, m3u8_id)]
 */
    values[9] = ((PyObject *)((PyObject *)Py_True));
    values[10] = ((PyObject *)((PyObject *)Py_False));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case 11: values[10] = PyTuple_GET_ITEM(__pyx_args, 10);
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_m3u8_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_m3u8_formats", 0, 3, 11, 1); __PYX_ERR(0, 1136, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_m3u8_formats", 0, 3, 11, 2); __PYX_ERR(0, 1136, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_ext);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_entry_protocol);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_preference);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_m3u8_id);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[7] = value; kw_args--; }
        }
        case  8:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_errnote);
          if (value) { values[8] = value; kw_args--; }
        }
        case  9:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[9] = value; kw_args--; }
        }
        case 10:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_live);
          if (value) { values[10] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_extract_m3u8_formats") < 0)) __PYX_ERR(0, 1136, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case 11: values[10] = PyTuple_GET_ITEM(__pyx_args, 10);
        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_m3u8_url = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_ext = values[3];
    __pyx_v_entry_protocol = values[4];
    __pyx_v_preference = values[5];
    __pyx_v_m3u8_id = values[6];
    __pyx_v_note = values[7];
    __pyx_v_errnote = values[8];
    __pyx_v_fatal = values[9];
    __pyx_v_live = values[10];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_extract_m3u8_formats", 0, 3, 11, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1136, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_m3u8_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_122_extract_m3u8_formats(__pyx_self, __pyx_v_self, __pyx_v_m3u8_url, __pyx_v_video_id, __pyx_v_ext, __pyx_v_entry_protocol, __pyx_v_preference, __pyx_v_m3u8_id, __pyx_v_note, __pyx_v_errnote, __pyx_v_fatal, __pyx_v_live);

  /* "youtube_dl/extractor/common.py":1136
 *         }
 * 
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,             # <<<<<<<<<<<<<<
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,
 */

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1143
 *         formats = [self._m3u8_meta_format(m3u8_url, ext, preference, m3u8_id)]
 * 
 *         format_url = lambda u: (             # <<<<<<<<<<<<<<
 *             u
 *             if re.match(r'^https?://', u)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_21_extract_m3u8_formats_lambda6(PyObject *__pyx_self, PyObject *__pyx_v_u); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_21_extract_m3u8_formats_lambda6 = {"lambda6", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_21_extract_m3u8_formats_lambda6, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_21_extract_m3u8_formats_lambda6(PyObject *__pyx_self, PyObject *__pyx_v_u) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("lambda6 (wrapper)", 0);
  __pyx_r = __pyx_lambda_funcdef_lambda6(__pyx_self, ((PyObject *)__pyx_v_u));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_lambda6(PyObject *__pyx_self, PyObject *__pyx_v_u) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *__pyx_cur_scope;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  Py_ssize_t __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("lambda6", 0);
  __pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *) __Pyx_CyFunction_GetClosure(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;

  /* "youtube_dl/extractor/common.py":1144
 * 
 *         format_url = lambda u: (
 *             u             # <<<<<<<<<<<<<<
 *             if re.match(r'^https?://', u)
 *             else compat_urlparse.urljoin(m3u8_url, u))
 */
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":1145
 *         format_url = lambda u: (
 *             u
 *             if re.match(r'^https?://', u)             # <<<<<<<<<<<<<<
 *             else compat_urlparse.urljoin(m3u8_url, u))
 * 
 */
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1145, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_match); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1145, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1145, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_https_4);
  __Pyx_GIVEREF(__pyx_kp_u_https_4);
  PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_kp_u_https_4);
  __Pyx_INCREF(__pyx_v_u);
  __Pyx_GIVEREF(__pyx_v_u);
  PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_u);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1145, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1145, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_7) {
    __Pyx_INCREF(__pyx_v_u);
    __pyx_t_1 = __pyx_v_u;
  } else {

    /* "youtube_dl/extractor/common.py":1146
 *             u
 *             if re.match(r'^https?://', u)
 *             else compat_urlparse.urljoin(m3u8_url, u))             # <<<<<<<<<<<<<<
 * 
 *         res = self._download_webpage_handle(
 */
    __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_urlparse); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1146, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_urljoin); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1146, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_cur_scope->__pyx_v_m3u8_url)) { __Pyx_RaiseClosureNameError("m3u8_url"); __PYX_ERR(0, 1146, __pyx_L1_error) }
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_4)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_4);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
        __pyx_t_5 = 1;
      }
    }
    __pyx_t_3 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1146, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    if (__pyx_t_4) {
      __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4); __pyx_t_4 = NULL;
    }
    __Pyx_INCREF(__pyx_cur_scope->__pyx_v_m3u8_url);
    __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_m3u8_url);
    PyTuple_SET_ITEM(__pyx_t_3, 0+__pyx_t_5, __pyx_cur_scope->__pyx_v_m3u8_url);
    __Pyx_INCREF(__pyx_v_u);
    __Pyx_GIVEREF(__pyx_v_u);
    PyTuple_SET_ITEM(__pyx_t_3, 1+__pyx_t_5, __pyx_v_u);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1146, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_1 = __pyx_t_2;
    __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1143
 *         formats = [self._m3u8_meta_format(m3u8_url, ext, preference, m3u8_id)]
 * 
 *         format_url = lambda u: (             # <<<<<<<<<<<<<<
 *             u
 *             if re.match(r'^https?://', u)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_m3u8_formats.lambda6", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1136
 *         }
 * 
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,             # <<<<<<<<<<<<<<
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_122_extract_m3u8_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_m3u8_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_ext, PyObject *__pyx_v_entry_protocol, PyObject *__pyx_v_preference, PyObject *__pyx_v_m3u8_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_live) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *__pyx_cur_scope;
  PyObject *__pyx_v_formats = NULL;
  PyObject *__pyx_v_format_url = NULL;
  PyObject *__pyx_v_res = NULL;
  PyObject *__pyx_v_m3u8_doc = NULL;
  PyObject *__pyx_v_urlh = NULL;
  PyObject *__pyx_v_last_info = NULL;
  PyObject *__pyx_v_last_media = NULL;
  PyObject *__pyx_v_line = NULL;
  PyObject *__pyx_v_tbr = NULL;
  PyObject *__pyx_v_format_id = NULL;
  PyObject *__pyx_v_last_media_name = NULL;
  PyObject *__pyx_v_stream_name = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_v_resolution = NULL;
  PyObject *__pyx_v_width_str = NULL;
  PyObject *__pyx_v_height_str = NULL;
  PyObject *__pyx_v_mobj = NULL;
  PyObject *__pyx_v_abr = NULL;
  PyObject *__pyx_v_vbr = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  int __pyx_t_7;
  PyObject *(*__pyx_t_8)(PyObject *);
  PyObject *(*__pyx_t_9)(PyObject *);
  PyObject *__pyx_t_10 = NULL;
  int __pyx_t_11;
  int __pyx_t_12;
  Py_ssize_t __pyx_t_13;
  PyObject *__pyx_t_14 = NULL;
  PyObject *__pyx_t_15 = NULL;
  PyObject *__pyx_t_16 = NULL;
  __Pyx_RefNannySetupContext("_extract_m3u8_formats", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_v_m3u8_url = __pyx_v_m3u8_url;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_m3u8_url);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_m3u8_url);

  /* "youtube_dl/extractor/common.py":1141
 *                               fatal=True, live=False):
 * 
 *         formats = [self._m3u8_meta_format(m3u8_url, ext, preference, m3u8_id)]             # <<<<<<<<<<<<<<
 * 
 *         format_url = lambda u: (
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_m3u8_meta_format); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1141, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(4+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1141, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_m3u8_url);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_m3u8_url);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_cur_scope->__pyx_v_m3u8_url);
  __Pyx_INCREF(__pyx_v_ext);
  __Pyx_GIVEREF(__pyx_v_ext);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_ext);
  __Pyx_INCREF(__pyx_v_preference);
  __Pyx_GIVEREF(__pyx_v_preference);
  PyTuple_SET_ITEM(__pyx_t_5, 2+__pyx_t_4, __pyx_v_preference);
  __Pyx_INCREF(__pyx_v_m3u8_id);
  __Pyx_GIVEREF(__pyx_v_m3u8_id);
  PyTuple_SET_ITEM(__pyx_t_5, 3+__pyx_t_4, __pyx_v_m3u8_id);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1141, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1141, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __pyx_t_1 = 0;
  __pyx_v_formats = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1143
 *         formats = [self._m3u8_meta_format(m3u8_url, ext, preference, m3u8_id)]
 * 
 *         format_url = lambda u: (             # <<<<<<<<<<<<<<
 *             u
 *             if re.match(r'^https?://', u)
 */
  __pyx_t_2 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_21_extract_m3u8_formats_lambda6, 0, __pyx_n_s_InfoExtractor__extract_m3u8_form, ((PyObject*)__pyx_cur_scope), __pyx_n_s_youtube_dl_extractor_common, __pyx_d, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1143, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_v_format_url = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1148
 *             else compat_urlparse.urljoin(m3u8_url, u))
 * 
 *         res = self._download_webpage_handle(             # <<<<<<<<<<<<<<
 *             m3u8_url, video_id,
 *             note=note or 'Downloading m3u8 information',
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_webpage_handle); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1148, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);

  /* "youtube_dl/extractor/common.py":1149
 * 
 *         res = self._download_webpage_handle(
 *             m3u8_url, video_id,             # <<<<<<<<<<<<<<
 *             note=note or 'Downloading m3u8 information',
 *             errnote=errnote or 'Failed to download m3u8 information',
 */
  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1148, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_m3u8_url);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_m3u8_url);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_cur_scope->__pyx_v_m3u8_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_video_id);

  /* "youtube_dl/extractor/common.py":1150
 *         res = self._download_webpage_handle(
 *             m3u8_url, video_id,
 *             note=note or 'Downloading m3u8 information',             # <<<<<<<<<<<<<<
 *             errnote=errnote or 'Failed to download m3u8 information',
 *             fatal=fatal)
 */
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1150, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_note); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1150, __pyx_L1_error)
  if (!__pyx_t_6) {
  } else {
    __Pyx_INCREF(__pyx_v_note);
    __pyx_t_3 = __pyx_v_note;
    goto __pyx_L3_bool_binop_done;
  }
  __Pyx_INCREF(__pyx_kp_u_Downloading_m3u8_information);
  __pyx_t_3 = __pyx_kp_u_Downloading_m3u8_information;
  __pyx_L3_bool_binop_done:;
  if (PyDict_SetItem(__pyx_t_5, __pyx_n_s_note, __pyx_t_3) < 0) __PYX_ERR(0, 1150, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1151
 *             m3u8_url, video_id,
 *             note=note or 'Downloading m3u8 information',
 *             errnote=errnote or 'Failed to download m3u8 information',             # <<<<<<<<<<<<<<
 *             fatal=fatal)
 *         if res is False:
 */
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_errnote); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1151, __pyx_L1_error)
  if (!__pyx_t_6) {
  } else {
    __Pyx_INCREF(__pyx_v_errnote);
    __pyx_t_3 = __pyx_v_errnote;
    goto __pyx_L5_bool_binop_done;
  }
  __Pyx_INCREF(__pyx_kp_u_Failed_to_download_m3u8_informat);
  __pyx_t_3 = __pyx_kp_u_Failed_to_download_m3u8_informat;
  __pyx_L5_bool_binop_done:;
  if (PyDict_SetItem(__pyx_t_5, __pyx_n_s_errnote, __pyx_t_3) < 0) __PYX_ERR(0, 1150, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1152
 *             note=note or 'Downloading m3u8 information',
 *             errnote=errnote or 'Failed to download m3u8 information',
 *             fatal=fatal)             # <<<<<<<<<<<<<<
 *         if res is False:
 *             return []
 */
  if (PyDict_SetItem(__pyx_t_5, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1150, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1148
 *             else compat_urlparse.urljoin(m3u8_url, u))
 * 
 *         res = self._download_webpage_handle(             # <<<<<<<<<<<<<<
 *             m3u8_url, video_id,
 *             note=note or 'Downloading m3u8 information',
 */
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_1, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1148, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_v_res = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1153
 *             errnote=errnote or 'Failed to download m3u8 information',
 *             fatal=fatal)
 *         if res is False:             # <<<<<<<<<<<<<<
 *             return []
 *         m3u8_doc, urlh = res
 */
  __pyx_t_6 = (__pyx_v_res == Py_False);
  __pyx_t_7 = (__pyx_t_6 != 0);
  if (__pyx_t_7) {

    /* "youtube_dl/extractor/common.py":1154
 *             fatal=fatal)
 *         if res is False:
 *             return []             # <<<<<<<<<<<<<<
 *         m3u8_doc, urlh = res
 *         m3u8_url = urlh.geturl()
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1154, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1153
 *             errnote=errnote or 'Failed to download m3u8 information',
 *             fatal=fatal)
 *         if res is False:             # <<<<<<<<<<<<<<
 *             return []
 *         m3u8_doc, urlh = res
 */
  }

  /* "youtube_dl/extractor/common.py":1155
 *         if res is False:
 *             return []
 *         m3u8_doc, urlh = res             # <<<<<<<<<<<<<<
 *         m3u8_url = urlh.geturl()
 * 
 */
  if ((likely(PyTuple_CheckExact(__pyx_v_res))) || (PyList_CheckExact(__pyx_v_res))) {
    PyObject* sequence = __pyx_v_res;
    #if CYTHON_COMPILING_IN_CPYTHON
    Py_ssize_t size = Py_SIZE(sequence);
    #else
    Py_ssize_t size = PySequence_Size(sequence);
    #endif
    if (unlikely(size != 2)) {
      if (size > 2) __Pyx_RaiseTooManyValuesError(2);
      else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
      __PYX_ERR(0, 1155, __pyx_L1_error)
    }
    #if CYTHON_COMPILING_IN_CPYTHON
    if (likely(PyTuple_CheckExact(sequence))) {
      __pyx_t_3 = PyTuple_GET_ITEM(sequence, 0); 
      __pyx_t_5 = PyTuple_GET_ITEM(sequence, 1); 
    } else {
      __pyx_t_3 = PyList_GET_ITEM(sequence, 0); 
      __pyx_t_5 = PyList_GET_ITEM(sequence, 1); 
    }
    __Pyx_INCREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_t_5);
    #else
    __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1155, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_5 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1155, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    #endif
  } else {
    Py_ssize_t index = -1;
    __pyx_t_1 = PyObject_GetIter(__pyx_v_res); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1155, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_8 = Py_TYPE(__pyx_t_1)->tp_iternext;
    index = 0; __pyx_t_3 = __pyx_t_8(__pyx_t_1); if (unlikely(!__pyx_t_3)) goto __pyx_L8_unpacking_failed;
    __Pyx_GOTREF(__pyx_t_3);
    index = 1; __pyx_t_5 = __pyx_t_8(__pyx_t_1); if (unlikely(!__pyx_t_5)) goto __pyx_L8_unpacking_failed;
    __Pyx_GOTREF(__pyx_t_5);
    if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_1), 2) < 0) __PYX_ERR(0, 1155, __pyx_L1_error)
    __pyx_t_8 = NULL;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    goto __pyx_L9_unpacking_done;
    __pyx_L8_unpacking_failed:;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_8 = NULL;
    if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
    __PYX_ERR(0, 1155, __pyx_L1_error)
    __pyx_L9_unpacking_done:;
  }
  __pyx_v_m3u8_doc = __pyx_t_3;
  __pyx_t_3 = 0;
  __pyx_v_urlh = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1156
 *             return []
 *         m3u8_doc, urlh = res
 *         m3u8_url = urlh.geturl()             # <<<<<<<<<<<<<<
 * 
 *         # We should try extracting formats only from master playlists [1], i.e.
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_urlh, __pyx_n_s_geturl); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1156, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_1)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_1);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (__pyx_t_1) {
    __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1156, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    __pyx_t_5 = __Pyx_PyObject_CallNoArg(__pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1156, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_m3u8_url);
  __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_m3u8_url, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1171
 *         # 2. https://tools.ietf.org/html/draft-pantos-http-live-streaming-17#section-4.3.3
 *         # 3. https://tools.ietf.org/html/draft-pantos-http-live-streaming-17#section-4.3.3.1
 *         if '#EXT-X-TARGETDURATION' in m3u8_doc:  # media playlist, return as is             # <<<<<<<<<<<<<<
 *             return [{
 *                 'url': m3u8_url,
 */
  __pyx_t_7 = (__Pyx_PySequence_ContainsTF(__pyx_kp_u_EXT_X_TARGETDURATION, __pyx_v_m3u8_doc, Py_EQ)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1171, __pyx_L1_error)
  __pyx_t_6 = (__pyx_t_7 != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":1172
 *         # 3. https://tools.ietf.org/html/draft-pantos-http-live-streaming-17#section-4.3.3.1
 *         if '#EXT-X-TARGETDURATION' in m3u8_doc:  # media playlist, return as is
 *             return [{             # <<<<<<<<<<<<<<
 *                 'url': m3u8_url,
 *                 'format_id': m3u8_id,
 */
    __Pyx_XDECREF(__pyx_r);

    /* "youtube_dl/extractor/common.py":1173
 *         if '#EXT-X-TARGETDURATION' in m3u8_doc:  # media playlist, return as is
 *             return [{
 *                 'url': m3u8_url,             # <<<<<<<<<<<<<<
 *                 'format_id': m3u8_id,
 *                 'ext': ext,
 */
    __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1173, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_url, __pyx_cur_scope->__pyx_v_m3u8_url) < 0) __PYX_ERR(0, 1173, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1174
 *             return [{
 *                 'url': m3u8_url,
 *                 'format_id': m3u8_id,             # <<<<<<<<<<<<<<
 *                 'ext': ext,
 *                 'protocol': entry_protocol,
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_format_id, __pyx_v_m3u8_id) < 0) __PYX_ERR(0, 1173, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1175
 *                 'url': m3u8_url,
 *                 'format_id': m3u8_id,
 *                 'ext': ext,             # <<<<<<<<<<<<<<
 *                 'protocol': entry_protocol,
 *                 'preference': preference,
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_ext, __pyx_v_ext) < 0) __PYX_ERR(0, 1173, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1176
 *                 'format_id': m3u8_id,
 *                 'ext': ext,
 *                 'protocol': entry_protocol,             # <<<<<<<<<<<<<<
 *                 'preference': preference,
 *             }]
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_protocol, __pyx_v_entry_protocol) < 0) __PYX_ERR(0, 1173, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1177
 *                 'ext': ext,
 *                 'protocol': entry_protocol,
 *                 'preference': preference,             # <<<<<<<<<<<<<<
 *             }]
 *         last_info = None
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_preference, __pyx_v_preference) < 0) __PYX_ERR(0, 1173, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1172
 *         # 3. https://tools.ietf.org/html/draft-pantos-http-live-streaming-17#section-4.3.3.1
 *         if '#EXT-X-TARGETDURATION' in m3u8_doc:  # media playlist, return as is
 *             return [{             # <<<<<<<<<<<<<<
 *                 'url': m3u8_url,
 *                 'format_id': m3u8_id,
 */
    __pyx_t_3 = PyList_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1172, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_5);
    PyList_SET_ITEM(__pyx_t_3, 0, __pyx_t_5);
    __pyx_t_5 = 0;
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1171
 *         # 2. https://tools.ietf.org/html/draft-pantos-http-live-streaming-17#section-4.3.3
 *         # 3. https://tools.ietf.org/html/draft-pantos-http-live-streaming-17#section-4.3.3.1
 *         if '#EXT-X-TARGETDURATION' in m3u8_doc:  # media playlist, return as is             # <<<<<<<<<<<<<<
 *             return [{
 *                 'url': m3u8_url,
 */
  }

  /* "youtube_dl/extractor/common.py":1179
 *                 'preference': preference,
 *             }]
 *         last_info = None             # <<<<<<<<<<<<<<
 *         last_media = None
 *         for line in m3u8_doc.splitlines():
 */
  __Pyx_INCREF(Py_None);
  __pyx_v_last_info = Py_None;

  /* "youtube_dl/extractor/common.py":1180
 *             }]
 *         last_info = None
 *         last_media = None             # <<<<<<<<<<<<<<
 *         for line in m3u8_doc.splitlines():
 *             if line.startswith('#EXT-X-STREAM-INF:'):
 */
  __Pyx_INCREF(Py_None);
  __pyx_v_last_media = Py_None;

  /* "youtube_dl/extractor/common.py":1181
 *         last_info = None
 *         last_media = None
 *         for line in m3u8_doc.splitlines():             # <<<<<<<<<<<<<<
 *             if line.startswith('#EXT-X-STREAM-INF:'):
 *                 last_info = parse_m3u8_attributes(line)
 */
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_m3u8_doc, __pyx_n_s_splitlines); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1181, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_1 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
    __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_5);
    if (likely(__pyx_t_1)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_1);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_5, function);
    }
  }
  if (__pyx_t_1) {
    __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1181, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    __pyx_t_3 = __Pyx_PyObject_CallNoArg(__pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1181, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (likely(PyList_CheckExact(__pyx_t_3)) || PyTuple_CheckExact(__pyx_t_3)) {
    __pyx_t_5 = __pyx_t_3; __Pyx_INCREF(__pyx_t_5); __pyx_t_4 = 0;
    __pyx_t_9 = NULL;
  } else {
    __pyx_t_4 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1181, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_9 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1181, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  for (;;) {
    if (likely(!__pyx_t_9)) {
      if (likely(PyList_CheckExact(__pyx_t_5))) {
        if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_5)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1181, __pyx_L1_error)
        #else
        __pyx_t_3 = PySequence_ITEM(__pyx_t_5, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1181, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        #endif
      } else {
        if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1181, __pyx_L1_error)
        #else
        __pyx_t_3 = PySequence_ITEM(__pyx_t_5, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1181, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        #endif
      }
    } else {
      __pyx_t_3 = __pyx_t_9(__pyx_t_5);
      if (unlikely(!__pyx_t_3)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1181, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_3);
    }
    __Pyx_XDECREF_SET(__pyx_v_line, __pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1182
 *         last_media = None
 *         for line in m3u8_doc.splitlines():
 *             if line.startswith('#EXT-X-STREAM-INF:'):             # <<<<<<<<<<<<<<
 *                 last_info = parse_m3u8_attributes(line)
 *             elif line.startswith('#EXT-X-MEDIA:'):
 */
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_line, __pyx_n_s_startswith); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1182, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__132, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1182, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1182, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_6) {

      /* "youtube_dl/extractor/common.py":1183
 *         for line in m3u8_doc.splitlines():
 *             if line.startswith('#EXT-X-STREAM-INF:'):
 *                 last_info = parse_m3u8_attributes(line)             # <<<<<<<<<<<<<<
 *             elif line.startswith('#EXT-X-MEDIA:'):
 *                 last_media = parse_m3u8_attributes(line)
 */
      __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_parse_m3u8_attributes); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1183, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_2 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
        if (likely(__pyx_t_2)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_2);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_3, function);
        }
      }
      if (!__pyx_t_2) {
        __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_line); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1183, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
      } else {
        __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1183, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_2); __pyx_t_2 = NULL;
        __Pyx_INCREF(__pyx_v_line);
        __Pyx_GIVEREF(__pyx_v_line);
        PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_v_line);
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_10, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1183, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      }
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF_SET(__pyx_v_last_info, __pyx_t_1);
      __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":1182
 *         last_media = None
 *         for line in m3u8_doc.splitlines():
 *             if line.startswith('#EXT-X-STREAM-INF:'):             # <<<<<<<<<<<<<<
 *                 last_info = parse_m3u8_attributes(line)
 *             elif line.startswith('#EXT-X-MEDIA:'):
 */
      goto __pyx_L13;
    }

    /* "youtube_dl/extractor/common.py":1184
 *             if line.startswith('#EXT-X-STREAM-INF:'):
 *                 last_info = parse_m3u8_attributes(line)
 *             elif line.startswith('#EXT-X-MEDIA:'):             # <<<<<<<<<<<<<<
 *                 last_media = parse_m3u8_attributes(line)
 *             elif line.startswith('#') or not line.strip():
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_line, __pyx_n_s_startswith); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1184, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__133, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1184, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1184, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_6) {

      /* "youtube_dl/extractor/common.py":1185
 *                 last_info = parse_m3u8_attributes(line)
 *             elif line.startswith('#EXT-X-MEDIA:'):
 *                 last_media = parse_m3u8_attributes(line)             # <<<<<<<<<<<<<<
 *             elif line.startswith('#') or not line.strip():
 *                 continue
 */
      __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_parse_m3u8_attributes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1185, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_10 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_1);
        if (likely(__pyx_t_10)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
          __Pyx_INCREF(__pyx_t_10);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_1, function);
        }
      }
      if (!__pyx_t_10) {
        __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_line); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1185, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
      } else {
        __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1185, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_10); __pyx_t_10 = NULL;
        __Pyx_INCREF(__pyx_v_line);
        __Pyx_GIVEREF(__pyx_v_line);
        PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_v_line);
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1185, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      }
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF_SET(__pyx_v_last_media, __pyx_t_3);
      __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1184
 *             if line.startswith('#EXT-X-STREAM-INF:'):
 *                 last_info = parse_m3u8_attributes(line)
 *             elif line.startswith('#EXT-X-MEDIA:'):             # <<<<<<<<<<<<<<
 *                 last_media = parse_m3u8_attributes(line)
 *             elif line.startswith('#') or not line.strip():
 */
      goto __pyx_L13;
    }

    /* "youtube_dl/extractor/common.py":1186
 *             elif line.startswith('#EXT-X-MEDIA:'):
 *                 last_media = parse_m3u8_attributes(line)
 *             elif line.startswith('#') or not line.strip():             # <<<<<<<<<<<<<<
 *                 continue
 *             else:
 */
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_line, __pyx_n_s_startswith); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1186, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__134, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1186, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1186, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (!__pyx_t_7) {
    } else {
      __pyx_t_6 = __pyx_t_7;
      goto __pyx_L14_bool_binop_done;
    }
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_line, __pyx_n_s_strip); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1186, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
      }
    }
    if (__pyx_t_2) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1186, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1186, __pyx_L1_error)
    }
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1186, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_11 = ((!__pyx_t_7) != 0);
    __pyx_t_6 = __pyx_t_11;
    __pyx_L14_bool_binop_done:;
    if (__pyx_t_6) {

      /* "youtube_dl/extractor/common.py":1187
 *                 last_media = parse_m3u8_attributes(line)
 *             elif line.startswith('#') or not line.strip():
 *                 continue             # <<<<<<<<<<<<<<
 *             else:
 *                 if last_info is None:
 */
      goto __pyx_L11_continue;

      /* "youtube_dl/extractor/common.py":1186
 *             elif line.startswith('#EXT-X-MEDIA:'):
 *                 last_media = parse_m3u8_attributes(line)
 *             elif line.startswith('#') or not line.strip():             # <<<<<<<<<<<<<<
 *                 continue
 *             else:
 */
    }

    /* "youtube_dl/extractor/common.py":1189
 *                 continue
 *             else:
 *                 if last_info is None:             # <<<<<<<<<<<<<<
 *                     formats.append({'url': format_url(line)})
 *                     continue
 */
    /*else*/ {
      __pyx_t_6 = (__pyx_v_last_info == Py_None);
      __pyx_t_11 = (__pyx_t_6 != 0);
      if (__pyx_t_11) {

        /* "youtube_dl/extractor/common.py":1190
 *             else:
 *                 if last_info is None:
 *                     formats.append({'url': format_url(line)})             # <<<<<<<<<<<<<<
 *                     continue
 *                 tbr = int_or_none(last_info.get('BANDWIDTH'), scale=1000)
 */
        __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1190, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_3 = __pyx_lambda_funcdef_lambda6(__pyx_v_format_url, __pyx_v_line); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1190, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_url, __pyx_t_3) < 0) __PYX_ERR(0, 1190, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_12 = __Pyx_PyList_Append(__pyx_v_formats, __pyx_t_1); if (unlikely(__pyx_t_12 == -1)) __PYX_ERR(0, 1190, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1191
 *                 if last_info is None:
 *                     formats.append({'url': format_url(line)})
 *                     continue             # <<<<<<<<<<<<<<
 *                 tbr = int_or_none(last_info.get('BANDWIDTH'), scale=1000)
 *                 format_id = []
 */
        goto __pyx_L11_continue;

        /* "youtube_dl/extractor/common.py":1189
 *                 continue
 *             else:
 *                 if last_info is None:             # <<<<<<<<<<<<<<
 *                     formats.append({'url': format_url(line)})
 *                     continue
 */
      }

      /* "youtube_dl/extractor/common.py":1192
 *                     formats.append({'url': format_url(line)})
 *                     continue
 *                 tbr = int_or_none(last_info.get('BANDWIDTH'), scale=1000)             # <<<<<<<<<<<<<<
 *                 format_id = []
 *                 if m3u8_id:
 */
      __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1192, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_last_info, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1192, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__135, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1192, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1192, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1192, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_scale, __pyx_int_1000) < 0) __PYX_ERR(0, 1192, __pyx_L1_error)
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1192, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_XDECREF_SET(__pyx_v_tbr, __pyx_t_10);
      __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1193
 *                     continue
 *                 tbr = int_or_none(last_info.get('BANDWIDTH'), scale=1000)
 *                 format_id = []             # <<<<<<<<<<<<<<
 *                 if m3u8_id:
 *                     format_id.append(m3u8_id)
 */
      __pyx_t_10 = PyList_New(0); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1193, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_XDECREF_SET(__pyx_v_format_id, ((PyObject*)__pyx_t_10));
      __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1194
 *                 tbr = int_or_none(last_info.get('BANDWIDTH'), scale=1000)
 *                 format_id = []
 *                 if m3u8_id:             # <<<<<<<<<<<<<<
 *                     format_id.append(m3u8_id)
 *                 last_media_name = last_media.get('NAME') if last_media and last_media.get('TYPE') not in ('SUBTITLES', 'CLOSED-CAPTIONS') else None
 */
      __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_m3u8_id); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1194, __pyx_L1_error)
      if (__pyx_t_11) {

        /* "youtube_dl/extractor/common.py":1195
 *                 format_id = []
 *                 if m3u8_id:
 *                     format_id.append(m3u8_id)             # <<<<<<<<<<<<<<
 *                 last_media_name = last_media.get('NAME') if last_media and last_media.get('TYPE') not in ('SUBTITLES', 'CLOSED-CAPTIONS') else None
 *                 # Despite specification does not mention NAME attribute for
 */
        __pyx_t_12 = __Pyx_PyList_Append(__pyx_v_format_id, __pyx_v_m3u8_id); if (unlikely(__pyx_t_12 == -1)) __PYX_ERR(0, 1195, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1194
 *                 tbr = int_or_none(last_info.get('BANDWIDTH'), scale=1000)
 *                 format_id = []
 *                 if m3u8_id:             # <<<<<<<<<<<<<<
 *                     format_id.append(m3u8_id)
 *                 last_media_name = last_media.get('NAME') if last_media and last_media.get('TYPE') not in ('SUBTITLES', 'CLOSED-CAPTIONS') else None
 */
      }

      /* "youtube_dl/extractor/common.py":1196
 *                 if m3u8_id:
 *                     format_id.append(m3u8_id)
 *                 last_media_name = last_media.get('NAME') if last_media and last_media.get('TYPE') not in ('SUBTITLES', 'CLOSED-CAPTIONS') else None             # <<<<<<<<<<<<<<
 *                 # Despite specification does not mention NAME attribute for
 *                 # EXT-X-STREAM-INF it still sometimes may be present
 */
      __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_last_media); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1196, __pyx_L1_error)
      if (__pyx_t_6) {
      } else {
        __pyx_t_11 = __pyx_t_6;
        goto __pyx_L18_bool_binop_done;
      }
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_last_media, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1196, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__136, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1196, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_7 = (__Pyx_PyUnicode_Equals(__pyx_t_3, __pyx_n_u_SUBTITLES, Py_NE)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1196, __pyx_L1_error)
      if (__pyx_t_7) {
      } else {
        __pyx_t_6 = __pyx_t_7;
        goto __pyx_L20_bool_binop_done;
      }
      __pyx_t_7 = (__Pyx_PyUnicode_Equals(__pyx_t_3, __pyx_kp_u_CLOSED_CAPTIONS, Py_NE)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1196, __pyx_L1_error)
      __pyx_t_6 = __pyx_t_7;
      __pyx_L20_bool_binop_done:;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_7 = (__pyx_t_6 != 0);
      __pyx_t_11 = __pyx_t_7;
      __pyx_L18_bool_binop_done:;
      if (__pyx_t_11) {
        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_last_media, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1196, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__137, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1196, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_10 = __pyx_t_2;
        __pyx_t_2 = 0;
      } else {
        __Pyx_INCREF(Py_None);
        __pyx_t_10 = Py_None;
      }
      __Pyx_XDECREF_SET(__pyx_v_last_media_name, __pyx_t_10);
      __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1199
 *                 # Despite specification does not mention NAME attribute for
 *                 # EXT-X-STREAM-INF it still sometimes may be present
 *                 stream_name = last_info.get('NAME') or last_media_name             # <<<<<<<<<<<<<<
 *                 # Bandwidth of live streams may differ over time thus making
 *                 # format_id unpredictable. So it's better to keep provided
 */
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_last_info, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1199, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__138, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1199, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1199, __pyx_L1_error)
      if (!__pyx_t_11) {
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      } else {
        __Pyx_INCREF(__pyx_t_3);
        __pyx_t_10 = __pyx_t_3;
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        goto __pyx_L22_bool_binop_done;
      }
      __Pyx_INCREF(__pyx_v_last_media_name);
      __pyx_t_10 = __pyx_v_last_media_name;
      __pyx_L22_bool_binop_done:;
      __Pyx_XDECREF_SET(__pyx_v_stream_name, __pyx_t_10);
      __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1203
 *                 # format_id unpredictable. So it's better to keep provided
 *                 # format_id intact.
 *                 if not live:             # <<<<<<<<<<<<<<
 *                     format_id.append(stream_name if stream_name else '%d' % (tbr if tbr else len(formats)))
 *                 f = {
 */
      __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_live); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1203, __pyx_L1_error)
      __pyx_t_7 = ((!__pyx_t_11) != 0);
      if (__pyx_t_7) {

        /* "youtube_dl/extractor/common.py":1204
 *                 # format_id intact.
 *                 if not live:
 *                     format_id.append(stream_name if stream_name else '%d' % (tbr if tbr else len(formats)))             # <<<<<<<<<<<<<<
 *                 f = {
 *                     'format_id': '-'.join(format_id),
 */
        __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_v_stream_name); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1204, __pyx_L1_error)
        if (__pyx_t_7) {
          __Pyx_INCREF(__pyx_v_stream_name);
          __pyx_t_10 = __pyx_v_stream_name;
        } else {
          __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_tbr); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1204, __pyx_L1_error)
          if (__pyx_t_11) {
            __Pyx_INCREF(__pyx_v_tbr);
            __pyx_t_3 = __pyx_v_tbr;
          } else {
            __pyx_t_13 = PyList_GET_SIZE(__pyx_v_formats); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1204, __pyx_L1_error)
            __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_13); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1204, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __pyx_t_3 = __pyx_t_2;
            __pyx_t_2 = 0;
          }
          __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_d, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1204, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_10 = __pyx_t_2;
          __pyx_t_2 = 0;
        }
        __pyx_t_12 = __Pyx_PyList_Append(__pyx_v_format_id, __pyx_t_10); if (unlikely(__pyx_t_12 == -1)) __PYX_ERR(0, 1204, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

        /* "youtube_dl/extractor/common.py":1203
 *                 # format_id unpredictable. So it's better to keep provided
 *                 # format_id intact.
 *                 if not live:             # <<<<<<<<<<<<<<
 *                     format_id.append(stream_name if stream_name else '%d' % (tbr if tbr else len(formats)))
 *                 f = {
 */
      }

      /* "youtube_dl/extractor/common.py":1206
 *                     format_id.append(stream_name if stream_name else '%d' % (tbr if tbr else len(formats)))
 *                 f = {
 *                     'format_id': '-'.join(format_id),             # <<<<<<<<<<<<<<
 *                     'url': format_url(line.strip()),
 *                     'tbr': tbr,
 */
      __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1206, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __pyx_t_2 = PyUnicode_Join(__pyx_kp_u__120, __pyx_v_format_id); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1206, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_format_id, __pyx_t_2) < 0) __PYX_ERR(0, 1206, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":1207
 *                 f = {
 *                     'format_id': '-'.join(format_id),
 *                     'url': format_url(line.strip()),             # <<<<<<<<<<<<<<
 *                     'tbr': tbr,
 *                     'ext': ext,
 */
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_line, __pyx_n_s_strip); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1207, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_1 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_3, function);
        }
      }
      if (__pyx_t_1) {
        __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1207, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      } else {
        __pyx_t_2 = __Pyx_PyObject_CallNoArg(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1207, __pyx_L1_error)
      }
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = __pyx_lambda_funcdef_lambda6(__pyx_v_format_url, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1207, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_url, __pyx_t_3) < 0) __PYX_ERR(0, 1206, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1208
 *                     'format_id': '-'.join(format_id),
 *                     'url': format_url(line.strip()),
 *                     'tbr': tbr,             # <<<<<<<<<<<<<<
 *                     'ext': ext,
 *                     'fps': float_or_none(last_info.get('FRAME-RATE')),
 */
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_tbr, __pyx_v_tbr) < 0) __PYX_ERR(0, 1206, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1209
 *                     'url': format_url(line.strip()),
 *                     'tbr': tbr,
 *                     'ext': ext,             # <<<<<<<<<<<<<<
 *                     'fps': float_or_none(last_info.get('FRAME-RATE')),
 *                     'protocol': entry_protocol,
 */
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_ext, __pyx_v_ext) < 0) __PYX_ERR(0, 1206, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1210
 *                     'tbr': tbr,
 *                     'ext': ext,
 *                     'fps': float_or_none(last_info.get('FRAME-RATE')),             # <<<<<<<<<<<<<<
 *                     'protocol': entry_protocol,
 *                     'preference': preference,
 */
      __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_float_or_none); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1210, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_last_info, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1210, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__139, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1210, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_14);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_2);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_2, function);
        }
      }
      if (!__pyx_t_1) {
        __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_14); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1210, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
        __Pyx_GOTREF(__pyx_t_3);
      } else {
        __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1210, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_15);
        __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_1); __pyx_t_1 = NULL;
        __Pyx_GIVEREF(__pyx_t_14);
        PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_t_14);
        __pyx_t_14 = 0;
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_15, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1210, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_fps, __pyx_t_3) < 0) __PYX_ERR(0, 1206, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1211
 *                     'ext': ext,
 *                     'fps': float_or_none(last_info.get('FRAME-RATE')),
 *                     'protocol': entry_protocol,             # <<<<<<<<<<<<<<
 *                     'preference': preference,
 *                 }
 */
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_protocol, __pyx_v_entry_protocol) < 0) __PYX_ERR(0, 1206, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1212
 *                     'fps': float_or_none(last_info.get('FRAME-RATE')),
 *                     'protocol': entry_protocol,
 *                     'preference': preference,             # <<<<<<<<<<<<<<
 *                 }
 *                 resolution = last_info.get('RESOLUTION')
 */
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_preference, __pyx_v_preference) < 0) __PYX_ERR(0, 1206, __pyx_L1_error)
      __Pyx_XDECREF_SET(__pyx_v_f, ((PyObject*)__pyx_t_10));
      __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1214
 *                     'preference': preference,
 *                 }
 *                 resolution = last_info.get('RESOLUTION')             # <<<<<<<<<<<<<<
 *                 if resolution:
 *                     width_str, height_str = resolution.split('x')
 */
      __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_last_info, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1214, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__140, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1214, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      __Pyx_XDECREF_SET(__pyx_v_resolution, __pyx_t_3);
      __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1215
 *                 }
 *                 resolution = last_info.get('RESOLUTION')
 *                 if resolution:             # <<<<<<<<<<<<<<
 *                     width_str, height_str = resolution.split('x')
 *                     f['width'] = int(width_str)
 */
      __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_v_resolution); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1215, __pyx_L1_error)
      if (__pyx_t_7) {

        /* "youtube_dl/extractor/common.py":1216
 *                 resolution = last_info.get('RESOLUTION')
 *                 if resolution:
 *                     width_str, height_str = resolution.split('x')             # <<<<<<<<<<<<<<
 *                     f['width'] = int(width_str)
 *                     f['height'] = int(height_str)
 */
        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_resolution, __pyx_n_s_split); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1216, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__141, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1216, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        if ((likely(PyTuple_CheckExact(__pyx_t_10))) || (PyList_CheckExact(__pyx_t_10))) {
          PyObject* sequence = __pyx_t_10;
          #if CYTHON_COMPILING_IN_CPYTHON
          Py_ssize_t size = Py_SIZE(sequence);
          #else
          Py_ssize_t size = PySequence_Size(sequence);
          #endif
          if (unlikely(size != 2)) {
            if (size > 2) __Pyx_RaiseTooManyValuesError(2);
            else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
            __PYX_ERR(0, 1216, __pyx_L1_error)
          }
          #if CYTHON_COMPILING_IN_CPYTHON
          if (likely(PyTuple_CheckExact(sequence))) {
            __pyx_t_3 = PyTuple_GET_ITEM(sequence, 0); 
            __pyx_t_2 = PyTuple_GET_ITEM(sequence, 1); 
          } else {
            __pyx_t_3 = PyList_GET_ITEM(sequence, 0); 
            __pyx_t_2 = PyList_GET_ITEM(sequence, 1); 
          }
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_2);
          #else
          __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1216, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_3);
          __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1216, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          #endif
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        } else {
          Py_ssize_t index = -1;
          __pyx_t_15 = PyObject_GetIter(__pyx_t_10); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1216, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __pyx_t_8 = Py_TYPE(__pyx_t_15)->tp_iternext;
          index = 0; __pyx_t_3 = __pyx_t_8(__pyx_t_15); if (unlikely(!__pyx_t_3)) goto __pyx_L26_unpacking_failed;
          __Pyx_GOTREF(__pyx_t_3);
          index = 1; __pyx_t_2 = __pyx_t_8(__pyx_t_15); if (unlikely(!__pyx_t_2)) goto __pyx_L26_unpacking_failed;
          __Pyx_GOTREF(__pyx_t_2);
          if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_15), 2) < 0) __PYX_ERR(0, 1216, __pyx_L1_error)
          __pyx_t_8 = NULL;
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          goto __pyx_L27_unpacking_done;
          __pyx_L26_unpacking_failed:;
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __pyx_t_8 = NULL;
          if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
          __PYX_ERR(0, 1216, __pyx_L1_error)
          __pyx_L27_unpacking_done:;
        }
        __Pyx_XDECREF_SET(__pyx_v_width_str, __pyx_t_3);
        __pyx_t_3 = 0;
        __Pyx_XDECREF_SET(__pyx_v_height_str, __pyx_t_2);
        __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1217
 *                 if resolution:
 *                     width_str, height_str = resolution.split('x')
 *                     f['width'] = int(width_str)             # <<<<<<<<<<<<<<
 *                     f['height'] = int(height_str)
 *                 # Unified Streaming Platform
 */
        __pyx_t_10 = __Pyx_PyNumber_Int(__pyx_v_width_str); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1217, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        if (unlikely(PyDict_SetItem(__pyx_v_f, __pyx_n_u_width, __pyx_t_10) < 0)) __PYX_ERR(0, 1217, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

        /* "youtube_dl/extractor/common.py":1218
 *                     width_str, height_str = resolution.split('x')
 *                     f['width'] = int(width_str)
 *                     f['height'] = int(height_str)             # <<<<<<<<<<<<<<
 *                 # Unified Streaming Platform
 *                 mobj = re.search(
 */
        __pyx_t_10 = __Pyx_PyNumber_Int(__pyx_v_height_str); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1218, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        if (unlikely(PyDict_SetItem(__pyx_v_f, __pyx_n_u_height, __pyx_t_10) < 0)) __PYX_ERR(0, 1218, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

        /* "youtube_dl/extractor/common.py":1215
 *                 }
 *                 resolution = last_info.get('RESOLUTION')
 *                 if resolution:             # <<<<<<<<<<<<<<
 *                     width_str, height_str = resolution.split('x')
 *                     f['width'] = int(width_str)
 */
      }

      /* "youtube_dl/extractor/common.py":1220
 *                     f['height'] = int(height_str)
 *                 # Unified Streaming Platform
 *                 mobj = re.search(             # <<<<<<<<<<<<<<
 *                     r'audio.*?(?:%3D|=)(\d+)(?:-video.*?(?:%3D|=)(\d+))?', f['url'])
 *                 if mobj:
 */
      __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1220, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_search); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1220, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":1221
 *                 # Unified Streaming Platform
 *                 mobj = re.search(
 *                     r'audio.*?(?:%3D|=)(\d+)(?:-video.*?(?:%3D|=)(\d+))?', f['url'])             # <<<<<<<<<<<<<<
 *                 if mobj:
 *                     abr, vbr = mobj.groups()
 */
      __pyx_t_2 = __Pyx_PyDict_GetItem(__pyx_v_f, __pyx_n_u_url); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1221, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_15 = NULL;
      __pyx_t_13 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
        __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_3);
        if (likely(__pyx_t_15)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_15);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_3, function);
          __pyx_t_13 = 1;
        }
      }
      __pyx_t_14 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1220, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_14);
      if (__pyx_t_15) {
        __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_14, 0, __pyx_t_15); __pyx_t_15 = NULL;
      }
      __Pyx_INCREF(__pyx_kp_u_audio_3D_d_video_3D_d);
      __Pyx_GIVEREF(__pyx_kp_u_audio_3D_d_video_3D_d);
      PyTuple_SET_ITEM(__pyx_t_14, 0+__pyx_t_13, __pyx_kp_u_audio_3D_d_video_3D_d);
      __Pyx_GIVEREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_14, 1+__pyx_t_13, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_14, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1220, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_XDECREF_SET(__pyx_v_mobj, __pyx_t_10);
      __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1222
 *                 mobj = re.search(
 *                     r'audio.*?(?:%3D|=)(\d+)(?:-video.*?(?:%3D|=)(\d+))?', f['url'])
 *                 if mobj:             # <<<<<<<<<<<<<<
 *                     abr, vbr = mobj.groups()
 *                     abr, vbr = float_or_none(abr, 1000), float_or_none(vbr, 1000)
 */
      __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_v_mobj); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1222, __pyx_L1_error)
      if (__pyx_t_7) {

        /* "youtube_dl/extractor/common.py":1223
 *                     r'audio.*?(?:%3D|=)(\d+)(?:-video.*?(?:%3D|=)(\d+))?', f['url'])
 *                 if mobj:
 *                     abr, vbr = mobj.groups()             # <<<<<<<<<<<<<<
 *                     abr, vbr = float_or_none(abr, 1000), float_or_none(vbr, 1000)
 *                     f.update({
 */
        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_mobj, __pyx_n_s_groups); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1223, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __pyx_t_14 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
          __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_3);
          if (likely(__pyx_t_14)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
            __Pyx_INCREF(__pyx_t_14);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_3, function);
          }
        }
        if (__pyx_t_14) {
          __pyx_t_10 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_14); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1223, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
        } else {
          __pyx_t_10 = __Pyx_PyObject_CallNoArg(__pyx_t_3); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1223, __pyx_L1_error)
        }
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        if ((likely(PyTuple_CheckExact(__pyx_t_10))) || (PyList_CheckExact(__pyx_t_10))) {
          PyObject* sequence = __pyx_t_10;
          #if CYTHON_COMPILING_IN_CPYTHON
          Py_ssize_t size = Py_SIZE(sequence);
          #else
          Py_ssize_t size = PySequence_Size(sequence);
          #endif
          if (unlikely(size != 2)) {
            if (size > 2) __Pyx_RaiseTooManyValuesError(2);
            else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
            __PYX_ERR(0, 1223, __pyx_L1_error)
          }
          #if CYTHON_COMPILING_IN_CPYTHON
          if (likely(PyTuple_CheckExact(sequence))) {
            __pyx_t_3 = PyTuple_GET_ITEM(sequence, 0); 
            __pyx_t_14 = PyTuple_GET_ITEM(sequence, 1); 
          } else {
            __pyx_t_3 = PyList_GET_ITEM(sequence, 0); 
            __pyx_t_14 = PyList_GET_ITEM(sequence, 1); 
          }
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_14);
          #else
          __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1223, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_3);
          __pyx_t_14 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1223, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_14);
          #endif
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        } else {
          Py_ssize_t index = -1;
          __pyx_t_2 = PyObject_GetIter(__pyx_t_10); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1223, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __pyx_t_8 = Py_TYPE(__pyx_t_2)->tp_iternext;
          index = 0; __pyx_t_3 = __pyx_t_8(__pyx_t_2); if (unlikely(!__pyx_t_3)) goto __pyx_L29_unpacking_failed;
          __Pyx_GOTREF(__pyx_t_3);
          index = 1; __pyx_t_14 = __pyx_t_8(__pyx_t_2); if (unlikely(!__pyx_t_14)) goto __pyx_L29_unpacking_failed;
          __Pyx_GOTREF(__pyx_t_14);
          if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_2), 2) < 0) __PYX_ERR(0, 1223, __pyx_L1_error)
          __pyx_t_8 = NULL;
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          goto __pyx_L30_unpacking_done;
          __pyx_L29_unpacking_failed:;
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_8 = NULL;
          if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
          __PYX_ERR(0, 1223, __pyx_L1_error)
          __pyx_L30_unpacking_done:;
        }
        __Pyx_XDECREF_SET(__pyx_v_abr, __pyx_t_3);
        __pyx_t_3 = 0;
        __Pyx_XDECREF_SET(__pyx_v_vbr, __pyx_t_14);
        __pyx_t_14 = 0;

        /* "youtube_dl/extractor/common.py":1224
 *                 if mobj:
 *                     abr, vbr = mobj.groups()
 *                     abr, vbr = float_or_none(abr, 1000), float_or_none(vbr, 1000)             # <<<<<<<<<<<<<<
 *                     f.update({
 *                         'vbr': vbr,
 */
        __pyx_t_14 = __Pyx_GetModuleGlobalName(__pyx_n_s_float_or_none); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1224, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_14);
        __pyx_t_3 = NULL;
        __pyx_t_13 = 0;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_14))) {
          __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_14);
          if (likely(__pyx_t_3)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_14);
            __Pyx_INCREF(__pyx_t_3);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_14, function);
            __pyx_t_13 = 1;
          }
        }
        __pyx_t_2 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1224, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        if (__pyx_t_3) {
          __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3); __pyx_t_3 = NULL;
        }
        __Pyx_INCREF(__pyx_v_abr);
        __Pyx_GIVEREF(__pyx_v_abr);
        PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_13, __pyx_v_abr);
        __Pyx_INCREF(__pyx_int_1000);
        __Pyx_GIVEREF(__pyx_int_1000);
        PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_13, __pyx_int_1000);
        __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_2, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1224, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
        __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_float_or_none); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1224, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_3 = NULL;
        __pyx_t_13 = 0;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
          __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
          if (likely(__pyx_t_3)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
            __Pyx_INCREF(__pyx_t_3);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_2, function);
            __pyx_t_13 = 1;
          }
        }
        __pyx_t_15 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1224, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_15);
        if (__pyx_t_3) {
          __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_3); __pyx_t_3 = NULL;
        }
        __Pyx_INCREF(__pyx_v_vbr);
        __Pyx_GIVEREF(__pyx_v_vbr);
        PyTuple_SET_ITEM(__pyx_t_15, 0+__pyx_t_13, __pyx_v_vbr);
        __Pyx_INCREF(__pyx_int_1000);
        __Pyx_GIVEREF(__pyx_int_1000);
        PyTuple_SET_ITEM(__pyx_t_15, 1+__pyx_t_13, __pyx_int_1000);
        __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_15, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1224, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_14);
        __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF_SET(__pyx_v_abr, __pyx_t_10);
        __pyx_t_10 = 0;
        __Pyx_DECREF_SET(__pyx_v_vbr, __pyx_t_14);
        __pyx_t_14 = 0;

        /* "youtube_dl/extractor/common.py":1225
 *                     abr, vbr = mobj.groups()
 *                     abr, vbr = float_or_none(abr, 1000), float_or_none(vbr, 1000)
 *                     f.update({             # <<<<<<<<<<<<<<
 *                         'vbr': vbr,
 *                         'abr': abr,
 */
        __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_update); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1225, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);

        /* "youtube_dl/extractor/common.py":1226
 *                     abr, vbr = float_or_none(abr, 1000), float_or_none(vbr, 1000)
 *                     f.update({
 *                         'vbr': vbr,             # <<<<<<<<<<<<<<
 *                         'abr': abr,
 *                     })
 */
        __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1226, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        if (PyDict_SetItem(__pyx_t_2, __pyx_n_u_vbr, __pyx_v_vbr) < 0) __PYX_ERR(0, 1226, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1227
 *                     f.update({
 *                         'vbr': vbr,
 *                         'abr': abr,             # <<<<<<<<<<<<<<
 *                     })
 *                 f.update(parse_codecs(last_info.get('CODECS')))
 */
        if (PyDict_SetItem(__pyx_t_2, __pyx_n_u_abr, __pyx_v_abr) < 0) __PYX_ERR(0, 1226, __pyx_L1_error)
        __pyx_t_15 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_10))) {
          __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_10);
          if (likely(__pyx_t_15)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
            __Pyx_INCREF(__pyx_t_15);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_10, function);
          }
        }
        if (!__pyx_t_15) {
          __pyx_t_14 = __Pyx_PyObject_CallOneArg(__pyx_t_10, __pyx_t_2); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1225, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __Pyx_GOTREF(__pyx_t_14);
        } else {
          __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1225, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_3);
          __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_15); __pyx_t_15 = NULL;
          __Pyx_GIVEREF(__pyx_t_2);
          PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_t_2);
          __pyx_t_2 = 0;
          __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_3, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1225, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_14);
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        }
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;

        /* "youtube_dl/extractor/common.py":1222
 *                 mobj = re.search(
 *                     r'audio.*?(?:%3D|=)(\d+)(?:-video.*?(?:%3D|=)(\d+))?', f['url'])
 *                 if mobj:             # <<<<<<<<<<<<<<
 *                     abr, vbr = mobj.groups()
 *                     abr, vbr = float_or_none(abr, 1000), float_or_none(vbr, 1000)
 */
      }

      /* "youtube_dl/extractor/common.py":1229
 *                         'abr': abr,
 *                     })
 *                 f.update(parse_codecs(last_info.get('CODECS')))             # <<<<<<<<<<<<<<
 *                 if last_media is not None:
 *                     f['m3u8_media'] = last_media
 */
      __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_update); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1229, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_parse_codecs); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1229, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_v_last_info, __pyx_n_s_get); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1229, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_15);
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_tuple__142, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1229, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
      __pyx_t_15 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
        __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_2);
        if (likely(__pyx_t_15)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
          __Pyx_INCREF(__pyx_t_15);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_2, function);
        }
      }
      if (!__pyx_t_15) {
        __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1229, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_GOTREF(__pyx_t_3);
      } else {
        __pyx_t_16 = PyTuple_New(1+1); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 1229, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_16);
        __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_16, 0, __pyx_t_15); __pyx_t_15 = NULL;
        __Pyx_GIVEREF(__pyx_t_1);
        PyTuple_SET_ITEM(__pyx_t_16, 0+1, __pyx_t_1);
        __pyx_t_1 = 0;
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_16, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1229, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_10))) {
        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_10);
        if (likely(__pyx_t_2)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
          __Pyx_INCREF(__pyx_t_2);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_10, function);
        }
      }
      if (!__pyx_t_2) {
        __pyx_t_14 = __Pyx_PyObject_CallOneArg(__pyx_t_10, __pyx_t_3); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1229, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __Pyx_GOTREF(__pyx_t_14);
      } else {
        __pyx_t_16 = PyTuple_New(1+1); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 1229, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_16);
        __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_16, 0, __pyx_t_2); __pyx_t_2 = NULL;
        __Pyx_GIVEREF(__pyx_t_3);
        PyTuple_SET_ITEM(__pyx_t_16, 0+1, __pyx_t_3);
        __pyx_t_3 = 0;
        __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_16, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1229, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_14);
        __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
      }
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;

      /* "youtube_dl/extractor/common.py":1230
 *                     })
 *                 f.update(parse_codecs(last_info.get('CODECS')))
 *                 if last_media is not None:             # <<<<<<<<<<<<<<
 *                     f['m3u8_media'] = last_media
 *                     last_media = None
 */
      __pyx_t_7 = (__pyx_v_last_media != Py_None);
      __pyx_t_11 = (__pyx_t_7 != 0);
      if (__pyx_t_11) {

        /* "youtube_dl/extractor/common.py":1231
 *                 f.update(parse_codecs(last_info.get('CODECS')))
 *                 if last_media is not None:
 *                     f['m3u8_media'] = last_media             # <<<<<<<<<<<<<<
 *                     last_media = None
 *                 formats.append(f)
 */
        if (unlikely(PyDict_SetItem(__pyx_v_f, __pyx_n_u_m3u8_media, __pyx_v_last_media) < 0)) __PYX_ERR(0, 1231, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1232
 *                 if last_media is not None:
 *                     f['m3u8_media'] = last_media
 *                     last_media = None             # <<<<<<<<<<<<<<
 *                 formats.append(f)
 *                 last_info = {}
 */
        __Pyx_INCREF(Py_None);
        __Pyx_DECREF_SET(__pyx_v_last_media, Py_None);

        /* "youtube_dl/extractor/common.py":1230
 *                     })
 *                 f.update(parse_codecs(last_info.get('CODECS')))
 *                 if last_media is not None:             # <<<<<<<<<<<<<<
 *                     f['m3u8_media'] = last_media
 *                     last_media = None
 */
      }

      /* "youtube_dl/extractor/common.py":1233
 *                     f['m3u8_media'] = last_media
 *                     last_media = None
 *                 formats.append(f)             # <<<<<<<<<<<<<<
 *                 last_info = {}
 *         return formats
 */
      __pyx_t_12 = __Pyx_PyList_Append(__pyx_v_formats, __pyx_v_f); if (unlikely(__pyx_t_12 == -1)) __PYX_ERR(0, 1233, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1234
 *                     last_media = None
 *                 formats.append(f)
 *                 last_info = {}             # <<<<<<<<<<<<<<
 *         return formats
 * 
 */
      __pyx_t_14 = PyDict_New(); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1234, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_14);
      __Pyx_DECREF_SET(__pyx_v_last_info, __pyx_t_14);
      __pyx_t_14 = 0;
    }
    __pyx_L13:;

    /* "youtube_dl/extractor/common.py":1181
 *         last_info = None
 *         last_media = None
 *         for line in m3u8_doc.splitlines():             # <<<<<<<<<<<<<<
 *             if line.startswith('#EXT-X-STREAM-INF:'):
 *                 last_info = parse_m3u8_attributes(line)
 */
    __pyx_L11_continue:;
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1235
 *                 formats.append(f)
 *                 last_info = {}
 *         return formats             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_formats);
  __pyx_r = __pyx_v_formats;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1136
 *         }
 * 
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,             # <<<<<<<<<<<<<<
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_14);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_XDECREF(__pyx_t_16);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_m3u8_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_formats);
  __Pyx_XDECREF(__pyx_v_format_url);
  __Pyx_XDECREF(__pyx_v_res);
  __Pyx_XDECREF(__pyx_v_m3u8_doc);
  __Pyx_XDECREF(__pyx_v_urlh);
  __Pyx_XDECREF(__pyx_v_last_info);
  __Pyx_XDECREF(__pyx_v_last_media);
  __Pyx_XDECREF(__pyx_v_line);
  __Pyx_XDECREF(__pyx_v_tbr);
  __Pyx_XDECREF(__pyx_v_format_id);
  __Pyx_XDECREF(__pyx_v_last_media_name);
  __Pyx_XDECREF(__pyx_v_stream_name);
  __Pyx_XDECREF(__pyx_v_f);
  __Pyx_XDECREF(__pyx_v_resolution);
  __Pyx_XDECREF(__pyx_v_width_str);
  __Pyx_XDECREF(__pyx_v_height_str);
  __Pyx_XDECREF(__pyx_v_mobj);
  __Pyx_XDECREF(__pyx_v_abr);
  __Pyx_XDECREF(__pyx_v_vbr);
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1238
 * 
 *     @staticmethod
 *     def _xpath_ns(path, namespace=None):             # <<<<<<<<<<<<<<
 *         if not namespace:
 *             return path
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_125_xpath_ns(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_125_xpath_ns = {"_xpath_ns", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_125_xpath_ns, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_125_xpath_ns(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_path = 0;
  PyObject *__pyx_v_namespace = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_xpath_ns (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_path,&__pyx_n_s_namespace,0};
    PyObject* values[2] = {0,0};
    values[1] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_path)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_namespace);
          if (value) { values[1] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_xpath_ns") < 0)) __PYX_ERR(0, 1238, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_path = values[0];
    __pyx_v_namespace = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_xpath_ns", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1238, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._xpath_ns", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_124_xpath_ns(__pyx_self, __pyx_v_path, __pyx_v_namespace);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_124_xpath_ns(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_path, PyObject *__pyx_v_namespace) {
  PyObject *__pyx_v_out = NULL;
  PyObject *__pyx_v_c = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  Py_ssize_t __pyx_t_5;
  PyObject *(*__pyx_t_6)(PyObject *);
  int __pyx_t_7;
  int __pyx_t_8;
  PyObject *__pyx_t_9 = NULL;
  __Pyx_RefNannySetupContext("_xpath_ns", 0);

  /* "youtube_dl/extractor/common.py":1239
 *     @staticmethod
 *     def _xpath_ns(path, namespace=None):
 *         if not namespace:             # <<<<<<<<<<<<<<
 *             return path
 *         out = []
 */
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_namespace); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 1239, __pyx_L1_error)
  __pyx_t_2 = ((!__pyx_t_1) != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":1240
 *     def _xpath_ns(path, namespace=None):
 *         if not namespace:
 *             return path             # <<<<<<<<<<<<<<
 *         out = []
 *         for c in path.split('/'):
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_path);
    __pyx_r = __pyx_v_path;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1239
 *     @staticmethod
 *     def _xpath_ns(path, namespace=None):
 *         if not namespace:             # <<<<<<<<<<<<<<
 *             return path
 *         out = []
 */
  }

  /* "youtube_dl/extractor/common.py":1241
 *         if not namespace:
 *             return path
 *         out = []             # <<<<<<<<<<<<<<
 *         for c in path.split('/'):
 *             if not c or c == '.':
 */
  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1241, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_v_out = ((PyObject*)__pyx_t_3);
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1242
 *             return path
 *         out = []
 *         for c in path.split('/'):             # <<<<<<<<<<<<<<
 *             if not c or c == '.':
 *                 out.append(c)
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_path, __pyx_n_s_split); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1242, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__143, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1242, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (likely(PyList_CheckExact(__pyx_t_4)) || PyTuple_CheckExact(__pyx_t_4)) {
    __pyx_t_3 = __pyx_t_4; __Pyx_INCREF(__pyx_t_3); __pyx_t_5 = 0;
    __pyx_t_6 = NULL;
  } else {
    __pyx_t_5 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1242, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_6 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1242, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  for (;;) {
    if (likely(!__pyx_t_6)) {
      if (likely(PyList_CheckExact(__pyx_t_3))) {
        if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_3)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(0, 1242, __pyx_L1_error)
        #else
        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1242, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        #endif
      } else {
        if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(0, 1242, __pyx_L1_error)
        #else
        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1242, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_6(__pyx_t_3);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1242, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_4);
    }
    __Pyx_XDECREF_SET(__pyx_v_c, __pyx_t_4);
    __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":1243
 *         out = []
 *         for c in path.split('/'):
 *             if not c or c == '.':             # <<<<<<<<<<<<<<
 *                 out.append(c)
 *             else:
 */
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_c); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 1243, __pyx_L1_error)
    __pyx_t_7 = ((!__pyx_t_1) != 0);
    if (!__pyx_t_7) {
    } else {
      __pyx_t_2 = __pyx_t_7;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_7 = (__Pyx_PyUnicode_Equals(__pyx_v_c, __pyx_kp_u__144, Py_EQ)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1243, __pyx_L1_error)
    __pyx_t_2 = __pyx_t_7;
    __pyx_L7_bool_binop_done:;
    if (__pyx_t_2) {

      /* "youtube_dl/extractor/common.py":1244
 *         for c in path.split('/'):
 *             if not c or c == '.':
 *                 out.append(c)             # <<<<<<<<<<<<<<
 *             else:
 *                 out.append('{%s}%s' % (namespace, c))
 */
      __pyx_t_8 = __Pyx_PyList_Append(__pyx_v_out, __pyx_v_c); if (unlikely(__pyx_t_8 == -1)) __PYX_ERR(0, 1244, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1243
 *         out = []
 *         for c in path.split('/'):
 *             if not c or c == '.':             # <<<<<<<<<<<<<<
 *                 out.append(c)
 *             else:
 */
      goto __pyx_L6;
    }

    /* "youtube_dl/extractor/common.py":1246
 *                 out.append(c)
 *             else:
 *                 out.append('{%s}%s' % (namespace, c))             # <<<<<<<<<<<<<<
 *         return '/'.join(out)
 * 
 */
    /*else*/ {
      __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1246, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_v_namespace);
      __Pyx_GIVEREF(__pyx_v_namespace);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_namespace);
      __Pyx_INCREF(__pyx_v_c);
      __Pyx_GIVEREF(__pyx_v_c);
      PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_c);
      __pyx_t_9 = PyUnicode_Format(__pyx_kp_u_s_s_3, __pyx_t_4); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1246, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_PyList_Append(__pyx_v_out, __pyx_t_9); if (unlikely(__pyx_t_8 == -1)) __PYX_ERR(0, 1246, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_L6:;

    /* "youtube_dl/extractor/common.py":1242
 *             return path
 *         out = []
 *         for c in path.split('/'):             # <<<<<<<<<<<<<<
 *             if not c or c == '.':
 *                 out.append(c)
 */
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1247
 *             else:
 *                 out.append('{%s}%s' % (namespace, c))
 *         return '/'.join(out)             # <<<<<<<<<<<<<<
 * 
 *     def _extract_smil_formats(self, smil_url, video_id, fatal=True, f4m_params=None, transform_source=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = PyUnicode_Join(__pyx_kp_u__125, __pyx_v_out); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1247, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1238
 * 
 *     @staticmethod
 *     def _xpath_ns(path, namespace=None):             # <<<<<<<<<<<<<<
 *         if not namespace:
 *             return path
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._xpath_ns", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_out);
  __Pyx_XDECREF(__pyx_v_c);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1249
 *         return '/'.join(out)
 * 
 *     def _extract_smil_formats(self, smil_url, video_id, fatal=True, f4m_params=None, transform_source=None):             # <<<<<<<<<<<<<<
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal, transform_source=transform_source)
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_127_extract_smil_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_127_extract_smil_formats = {"_extract_smil_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_127_extract_smil_formats, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_127_extract_smil_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_smil_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_f4m_params = 0;
  PyObject *__pyx_v_transform_source = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_extract_smil_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_smil_url,&__pyx_n_s_video_id,&__pyx_n_s_fatal,&__pyx_n_s_f4m_params,&__pyx_n_s_transform_source,0};
    PyObject* values[6] = {0,0,0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_True));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_smil_formats", 0, 3, 6, 1); __PYX_ERR(0, 1249, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_smil_formats", 0, 3, 6, 2); __PYX_ERR(0, 1249, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_f4m_params);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_transform_source);
          if (value) { values[5] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_extract_smil_formats") < 0)) __PYX_ERR(0, 1249, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_smil_url = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_fatal = values[3];
    __pyx_v_f4m_params = values[4];
    __pyx_v_transform_source = values[5];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_extract_smil_formats", 0, 3, 6, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1249, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_smil_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_126_extract_smil_formats(__pyx_self, __pyx_v_self, __pyx_v_smil_url, __pyx_v_video_id, __pyx_v_fatal, __pyx_v_f4m_params, __pyx_v_transform_source);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_126_extract_smil_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_fatal, PyObject *__pyx_v_f4m_params, PyObject *__pyx_v_transform_source) {
  PyObject *__pyx_v_smil = NULL;
  PyObject *__pyx_v_namespace = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  __Pyx_RefNannySetupContext("_extract_smil_formats", 0);

  /* "youtube_dl/extractor/common.py":1250
 * 
 *     def _extract_smil_formats(self, smil_url, video_id, fatal=True, f4m_params=None, transform_source=None):
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal, transform_source=transform_source)             # <<<<<<<<<<<<<<
 * 
 *         if smil is False:
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_smil); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1250, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1250, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_smil_url);
  __Pyx_GIVEREF(__pyx_v_smil_url);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_smil_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_video_id);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1250, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1250, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_transform_source, __pyx_v_transform_source) < 0) __PYX_ERR(0, 1250, __pyx_L1_error)
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1250, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_smil = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1252
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal, transform_source=transform_source)
 * 
 *         if smil is False:             # <<<<<<<<<<<<<<
 *             assert not fatal
 *             return []
 */
  __pyx_t_5 = (__pyx_v_smil == Py_False);
  __pyx_t_6 = (__pyx_t_5 != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":1253
 * 
 *         if smil is False:
 *             assert not fatal             # <<<<<<<<<<<<<<
 *             return []
 * 
 */
    #ifndef CYTHON_WITHOUT_ASSERTIONS
    if (unlikely(!Py_OptimizeFlag)) {
      __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_fatal); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1253, __pyx_L1_error)
      if (unlikely(!((!__pyx_t_6) != 0))) {
        PyErr_SetNone(PyExc_AssertionError);
        __PYX_ERR(0, 1253, __pyx_L1_error)
      }
    }
    #endif

    /* "youtube_dl/extractor/common.py":1254
 *         if smil is False:
 *             assert not fatal
 *             return []             # <<<<<<<<<<<<<<
 * 
 *         namespace = self._parse_smil_namespace(smil)
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = PyList_New(0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1254, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1252
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal, transform_source=transform_source)
 * 
 *         if smil is False:             # <<<<<<<<<<<<<<
 *             assert not fatal
 *             return []
 */
  }

  /* "youtube_dl/extractor/common.py":1256
 *             return []
 * 
 *         namespace = self._parse_smil_namespace(smil)             # <<<<<<<<<<<<<<
 * 
 *         return self._parse_smil_formats(
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_smil_namespace); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1256, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_2) {
    __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_smil); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1256, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
  } else {
    __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1256, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2); __pyx_t_2 = NULL;
    __Pyx_INCREF(__pyx_v_smil);
    __Pyx_GIVEREF(__pyx_v_smil);
    PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_v_smil);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1256, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_namespace = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1258
 *         namespace = self._parse_smil_namespace(smil)
 * 
 *         return self._parse_smil_formats(             # <<<<<<<<<<<<<<
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_smil_formats); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1258, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":1259
 * 
 *         return self._parse_smil_formats(
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)             # <<<<<<<<<<<<<<
 * 
 *     def _extract_smil_info(self, smil_url, video_id, fatal=True, f4m_params=None):
 */
  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1258, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_smil);
  __Pyx_GIVEREF(__pyx_v_smil);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_smil);
  __Pyx_INCREF(__pyx_v_smil_url);
  __Pyx_GIVEREF(__pyx_v_smil_url);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_smil_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_v_video_id);
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1259, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_namespace, __pyx_v_namespace) < 0) __PYX_ERR(0, 1259, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_f4m_params, __pyx_v_f4m_params) < 0) __PYX_ERR(0, 1259, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1258
 *         namespace = self._parse_smil_namespace(smil)
 * 
 *         return self._parse_smil_formats(             # <<<<<<<<<<<<<<
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 * 
 */
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1258, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1249
 *         return '/'.join(out)
 * 
 *     def _extract_smil_formats(self, smil_url, video_id, fatal=True, f4m_params=None, transform_source=None):             # <<<<<<<<<<<<<<
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal, transform_source=transform_source)
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_smil_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_smil);
  __Pyx_XDECREF(__pyx_v_namespace);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1261
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 * 
 *     def _extract_smil_info(self, smil_url, video_id, fatal=True, f4m_params=None):             # <<<<<<<<<<<<<<
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal)
 *         if smil is False:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_129_extract_smil_info(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_129_extract_smil_info = {"_extract_smil_info", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_129_extract_smil_info, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_129_extract_smil_info(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_smil_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_f4m_params = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_extract_smil_info (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_smil_url,&__pyx_n_s_video_id,&__pyx_n_s_fatal,&__pyx_n_s_f4m_params,0};
    PyObject* values[5] = {0,0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_True));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_smil_info", 0, 3, 5, 1); __PYX_ERR(0, 1261, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_smil_info", 0, 3, 5, 2); __PYX_ERR(0, 1261, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_f4m_params);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_extract_smil_info") < 0)) __PYX_ERR(0, 1261, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_smil_url = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_fatal = values[3];
    __pyx_v_f4m_params = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_extract_smil_info", 0, 3, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1261, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_smil_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_128_extract_smil_info(__pyx_self, __pyx_v_self, __pyx_v_smil_url, __pyx_v_video_id, __pyx_v_fatal, __pyx_v_f4m_params);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_128_extract_smil_info(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_fatal, PyObject *__pyx_v_f4m_params) {
  PyObject *__pyx_v_smil = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  __Pyx_RefNannySetupContext("_extract_smil_info", 0);

  /* "youtube_dl/extractor/common.py":1262
 * 
 *     def _extract_smil_info(self, smil_url, video_id, fatal=True, f4m_params=None):
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal)             # <<<<<<<<<<<<<<
 *         if smil is False:
 *             return {}
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_smil); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1262, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1262, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_smil_url);
  __Pyx_GIVEREF(__pyx_v_smil_url);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_smil_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_video_id);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1262, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1262, __pyx_L1_error)
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1262, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_smil = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1263
 *     def _extract_smil_info(self, smil_url, video_id, fatal=True, f4m_params=None):
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal)
 *         if smil is False:             # <<<<<<<<<<<<<<
 *             return {}
 *         return self._parse_smil(smil, smil_url, video_id, f4m_params=f4m_params)
 */
  __pyx_t_5 = (__pyx_v_smil == Py_False);
  __pyx_t_6 = (__pyx_t_5 != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":1264
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal)
 *         if smil is False:
 *             return {}             # <<<<<<<<<<<<<<
 *         return self._parse_smil(smil, smil_url, video_id, f4m_params=f4m_params)
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1264, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1263
 *     def _extract_smil_info(self, smil_url, video_id, fatal=True, f4m_params=None):
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal)
 *         if smil is False:             # <<<<<<<<<<<<<<
 *             return {}
 *         return self._parse_smil(smil, smil_url, video_id, f4m_params=f4m_params)
 */
  }

  /* "youtube_dl/extractor/common.py":1265
 *         if smil is False:
 *             return {}
 *         return self._parse_smil(smil, smil_url, video_id, f4m_params=f4m_params)             # <<<<<<<<<<<<<<
 * 
 *     def _download_smil(self, smil_url, video_id, fatal=True, transform_source=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_smil); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1265, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1265, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_smil);
  __Pyx_GIVEREF(__pyx_v_smil);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_smil);
  __Pyx_INCREF(__pyx_v_smil_url);
  __Pyx_GIVEREF(__pyx_v_smil_url);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_smil_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_v_video_id);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1265, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_f4m_params, __pyx_v_f4m_params) < 0) __PYX_ERR(0, 1265, __pyx_L1_error)
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1265, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1261
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 * 
 *     def _extract_smil_info(self, smil_url, video_id, fatal=True, f4m_params=None):             # <<<<<<<<<<<<<<
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal)
 *         if smil is False:
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_smil_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_smil);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1267
 *         return self._parse_smil(smil, smil_url, video_id, f4m_params=f4m_params)
 * 
 *     def _download_smil(self, smil_url, video_id, fatal=True, transform_source=None):             # <<<<<<<<<<<<<<
 *         return self._download_xml(
 *             smil_url, video_id, 'Downloading SMIL file',
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_131_download_smil(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_131_download_smil = {"_download_smil", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_131_download_smil, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_131_download_smil(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_smil_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_transform_source = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_download_smil (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_smil_url,&__pyx_n_s_video_id,&__pyx_n_s_fatal,&__pyx_n_s_transform_source,0};
    PyObject* values[5] = {0,0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_True));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_smil", 0, 3, 5, 1); __PYX_ERR(0, 1267, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_download_smil", 0, 3, 5, 2); __PYX_ERR(0, 1267, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_transform_source);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_download_smil") < 0)) __PYX_ERR(0, 1267, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_smil_url = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_fatal = values[3];
    __pyx_v_transform_source = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_download_smil", 0, 3, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1267, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_smil", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_130_download_smil(__pyx_self, __pyx_v_self, __pyx_v_smil_url, __pyx_v_video_id, __pyx_v_fatal, __pyx_v_transform_source);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_130_download_smil(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_fatal, PyObject *__pyx_v_transform_source) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("_download_smil", 0);

  /* "youtube_dl/extractor/common.py":1268
 * 
 *     def _download_smil(self, smil_url, video_id, fatal=True, transform_source=None):
 *         return self._download_xml(             # <<<<<<<<<<<<<<
 *             smil_url, video_id, 'Downloading SMIL file',
 *             'Unable to download SMIL file', fatal=fatal, transform_source=transform_source)
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_xml); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1268, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":1269
 *     def _download_smil(self, smil_url, video_id, fatal=True, transform_source=None):
 *         return self._download_xml(
 *             smil_url, video_id, 'Downloading SMIL file',             # <<<<<<<<<<<<<<
 *             'Unable to download SMIL file', fatal=fatal, transform_source=transform_source)
 * 
 */
  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1268, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_smil_url);
  __Pyx_GIVEREF(__pyx_v_smil_url);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_smil_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_video_id);
  __Pyx_INCREF(__pyx_kp_u_Downloading_SMIL_file);
  __Pyx_GIVEREF(__pyx_kp_u_Downloading_SMIL_file);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_kp_u_Downloading_SMIL_file);
  __Pyx_INCREF(__pyx_kp_u_Unable_to_download_SMIL_file);
  __Pyx_GIVEREF(__pyx_kp_u_Unable_to_download_SMIL_file);
  PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_kp_u_Unable_to_download_SMIL_file);

  /* "youtube_dl/extractor/common.py":1270
 *         return self._download_xml(
 *             smil_url, video_id, 'Downloading SMIL file',
 *             'Unable to download SMIL file', fatal=fatal, transform_source=transform_source)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_smil(self, smil, smil_url, video_id, f4m_params=None):
 */
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1270, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1270, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_transform_source, __pyx_v_transform_source) < 0) __PYX_ERR(0, 1270, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1268
 * 
 *     def _download_smil(self, smil_url, video_id, fatal=True, transform_source=None):
 *         return self._download_xml(             # <<<<<<<<<<<<<<
 *             smil_url, video_id, 'Downloading SMIL file',
 *             'Unable to download SMIL file', fatal=fatal, transform_source=transform_source)
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1268, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1267
 *         return self._parse_smil(smil, smil_url, video_id, f4m_params=f4m_params)
 * 
 *     def _download_smil(self, smil_url, video_id, fatal=True, transform_source=None):             # <<<<<<<<<<<<<<
 *         return self._download_xml(
 *             smil_url, video_id, 'Downloading SMIL file',
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._download_smil", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1272
 *             'Unable to download SMIL file', fatal=fatal, transform_source=transform_source)
 * 
 *     def _parse_smil(self, smil, smil_url, video_id, f4m_params=None):             # <<<<<<<<<<<<<<
 *         namespace = self._parse_smil_namespace(smil)
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_133_parse_smil(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_133_parse_smil = {"_parse_smil", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_133_parse_smil, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_133_parse_smil(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_smil = 0;
  PyObject *__pyx_v_smil_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_f4m_params = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_smil (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_smil,&__pyx_n_s_smil_url,&__pyx_n_s_video_id,&__pyx_n_s_f4m_params,0};
    PyObject* values[5] = {0,0,0,0,0};
    values[4] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_smil", 0, 4, 5, 1); __PYX_ERR(0, 1272, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_smil", 0, 4, 5, 2); __PYX_ERR(0, 1272, __pyx_L3_error)
        }
        case  3:
        if (likely((values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_smil", 0, 4, 5, 3); __PYX_ERR(0, 1272, __pyx_L3_error)
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_f4m_params);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_smil") < 0)) __PYX_ERR(0, 1272, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_smil = values[1];
    __pyx_v_smil_url = values[2];
    __pyx_v_video_id = values[3];
    __pyx_v_f4m_params = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_smil", 0, 4, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1272, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_smil", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_132_parse_smil(__pyx_self, __pyx_v_self, __pyx_v_smil, __pyx_v_smil_url, __pyx_v_video_id, __pyx_v_f4m_params);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_132_parse_smil(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_f4m_params) {
  PyObject *__pyx_v_namespace = NULL;
  PyObject *__pyx_v_formats = NULL;
  PyObject *__pyx_v_subtitles = NULL;
  PyObject *__pyx_v_title = NULL;
  PyObject *__pyx_v_description = NULL;
  PyObject *__pyx_v_upload_date = NULL;
  PyObject *__pyx_v_meta = NULL;
  PyObject *__pyx_v_name = NULL;
  PyObject *__pyx_v_content = NULL;
  PyObject *__pyx_v_thumbnails = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  PyObject *(*__pyx_t_8)(PyObject *);
  int __pyx_t_9;
  int __pyx_t_10;
  int __pyx_t_11;
  PyObject *__pyx_t_12 = NULL;
  PyObject *__pyx_t_13 = NULL;
  __Pyx_RefNannySetupContext("_parse_smil", 0);
  __Pyx_INCREF(__pyx_v_video_id);

  /* "youtube_dl/extractor/common.py":1273
 * 
 *     def _parse_smil(self, smil, smil_url, video_id, f4m_params=None):
 *         namespace = self._parse_smil_namespace(smil)             # <<<<<<<<<<<<<<
 * 
 *         formats = self._parse_smil_formats(
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_smil_namespace); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1273, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_smil); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1273, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1273, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_INCREF(__pyx_v_smil);
    __Pyx_GIVEREF(__pyx_v_smil);
    PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_smil);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1273, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_namespace = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1275
 *         namespace = self._parse_smil_namespace(smil)
 * 
 *         formats = self._parse_smil_formats(             # <<<<<<<<<<<<<<
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 *         subtitles = self._parse_smil_subtitles(smil, namespace=namespace)
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_smil_formats); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1275, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":1276
 * 
 *         formats = self._parse_smil_formats(
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)             # <<<<<<<<<<<<<<
 *         subtitles = self._parse_smil_subtitles(smil, namespace=namespace)
 * 
 */
  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1275, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_smil);
  __Pyx_GIVEREF(__pyx_v_smil);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_smil);
  __Pyx_INCREF(__pyx_v_smil_url);
  __Pyx_GIVEREF(__pyx_v_smil_url);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_smil_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_v_video_id);
  __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1276, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyDict_SetItem(__pyx_t_4, __pyx_n_s_namespace, __pyx_v_namespace) < 0) __PYX_ERR(0, 1276, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_4, __pyx_n_s_f4m_params, __pyx_v_f4m_params) < 0) __PYX_ERR(0, 1276, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1275
 *         namespace = self._parse_smil_namespace(smil)
 * 
 *         formats = self._parse_smil_formats(             # <<<<<<<<<<<<<<
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 *         subtitles = self._parse_smil_subtitles(smil, namespace=namespace)
 */
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1275, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_v_formats = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1277
 *         formats = self._parse_smil_formats(
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 *         subtitles = self._parse_smil_subtitles(smil, namespace=namespace)             # <<<<<<<<<<<<<<
 * 
 *         video_id = os.path.splitext(url_basename(smil_url))[0]
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_smil_subtitles); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1277, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1277, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_v_smil);
  __Pyx_GIVEREF(__pyx_v_smil);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_smil);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1277, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_namespace, __pyx_v_namespace) < 0) __PYX_ERR(0, 1277, __pyx_L1_error)
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1277, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_subtitles = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1279
 *         subtitles = self._parse_smil_subtitles(smil, namespace=namespace)
 * 
 *         video_id = os.path.splitext(url_basename(smil_url))[0]             # <<<<<<<<<<<<<<
 *         title = None
 *         description = None
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1279, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1279, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_splitext); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1279, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_url_basename); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1279, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_5) {
    __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_smil_url); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1279, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
  } else {
    __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1279, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_5); __pyx_t_5 = NULL;
    __Pyx_INCREF(__pyx_v_smil_url);
    __Pyx_GIVEREF(__pyx_v_smil_url);
    PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_v_smil_url);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1279, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1279, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1279, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_GIVEREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_6, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1279, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_1, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1279, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF_SET(__pyx_v_video_id, __pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1280
 * 
 *         video_id = os.path.splitext(url_basename(smil_url))[0]
 *         title = None             # <<<<<<<<<<<<<<
 *         description = None
 *         upload_date = None
 */
  __Pyx_INCREF(Py_None);
  __pyx_v_title = Py_None;

  /* "youtube_dl/extractor/common.py":1281
 *         video_id = os.path.splitext(url_basename(smil_url))[0]
 *         title = None
 *         description = None             # <<<<<<<<<<<<<<
 *         upload_date = None
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 */
  __Pyx_INCREF(Py_None);
  __pyx_v_description = Py_None;

  /* "youtube_dl/extractor/common.py":1282
 *         title = None
 *         description = None
 *         upload_date = None             # <<<<<<<<<<<<<<
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             name = meta.attrib.get('name')
 */
  __Pyx_INCREF(Py_None);
  __pyx_v_upload_date = Py_None;

  /* "youtube_dl/extractor/common.py":1283
 *         description = None
 *         upload_date = None
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):             # <<<<<<<<<<<<<<
 *             name = meta.attrib.get('name')
 *             content = meta.attrib.get('content')
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_smil, __pyx_n_s_findall); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1283, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_xpath_ns); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1283, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_3 = NULL;
  __pyx_t_7 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
      __pyx_t_7 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1283, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_head_meta);
  __Pyx_GIVEREF(__pyx_kp_u_head_meta);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_7, __pyx_kp_u_head_meta);
  __Pyx_INCREF(__pyx_v_namespace);
  __Pyx_GIVEREF(__pyx_v_namespace);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_7, __pyx_v_namespace);
  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_5, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1283, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_1);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_1, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1283, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_GOTREF(__pyx_t_2);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1283, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_6);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_6);
    __pyx_t_6 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1283, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (likely(PyList_CheckExact(__pyx_t_2)) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_1 = __pyx_t_2; __Pyx_INCREF(__pyx_t_1); __pyx_t_7 = 0;
    __pyx_t_8 = NULL;
  } else {
    __pyx_t_7 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1283, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_8 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1283, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(!__pyx_t_8)) {
      if (likely(PyList_CheckExact(__pyx_t_1))) {
        if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 1283, __pyx_L1_error)
        #else
        __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1283, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        #endif
      } else {
        if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 1283, __pyx_L1_error)
        #else
        __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1283, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        #endif
      }
    } else {
      __pyx_t_2 = __pyx_t_8(__pyx_t_1);
      if (unlikely(!__pyx_t_2)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1283, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    __Pyx_XDECREF_SET(__pyx_v_meta, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1284
 *         upload_date = None
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             name = meta.attrib.get('name')             # <<<<<<<<<<<<<<
 *             content = meta.attrib.get('content')
 *             if not name or not content:
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_meta, __pyx_n_s_attrib); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1284, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1284, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__145, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1284, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_XDECREF_SET(__pyx_v_name, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1285
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             name = meta.attrib.get('name')
 *             content = meta.attrib.get('content')             # <<<<<<<<<<<<<<
 *             if not name or not content:
 *                 continue
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_meta, __pyx_n_s_attrib); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1285, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1285, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__146, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1285, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_XDECREF_SET(__pyx_v_content, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1286
 *             name = meta.attrib.get('name')
 *             content = meta.attrib.get('content')
 *             if not name or not content:             # <<<<<<<<<<<<<<
 *                 continue
 *             if not title and name == 'title':
 */
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_v_name); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1286, __pyx_L1_error)
    __pyx_t_11 = ((!__pyx_t_10) != 0);
    if (!__pyx_t_11) {
    } else {
      __pyx_t_9 = __pyx_t_11;
      goto __pyx_L6_bool_binop_done;
    }
    __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_content); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1286, __pyx_L1_error)
    __pyx_t_10 = ((!__pyx_t_11) != 0);
    __pyx_t_9 = __pyx_t_10;
    __pyx_L6_bool_binop_done:;
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1287
 *             content = meta.attrib.get('content')
 *             if not name or not content:
 *                 continue             # <<<<<<<<<<<<<<
 *             if not title and name == 'title':
 *                 title = content
 */
      goto __pyx_L3_continue;

      /* "youtube_dl/extractor/common.py":1286
 *             name = meta.attrib.get('name')
 *             content = meta.attrib.get('content')
 *             if not name or not content:             # <<<<<<<<<<<<<<
 *                 continue
 *             if not title and name == 'title':
 */
    }

    /* "youtube_dl/extractor/common.py":1288
 *             if not name or not content:
 *                 continue
 *             if not title and name == 'title':             # <<<<<<<<<<<<<<
 *                 title = content
 *             elif not description and name in ('description', 'abstract'):
 */
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_v_title); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1288, __pyx_L1_error)
    __pyx_t_11 = ((!__pyx_t_10) != 0);
    if (__pyx_t_11) {
    } else {
      __pyx_t_9 = __pyx_t_11;
      goto __pyx_L9_bool_binop_done;
    }
    __pyx_t_11 = (__Pyx_PyUnicode_Equals(__pyx_v_name, __pyx_n_u_title, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1288, __pyx_L1_error)
    __pyx_t_9 = __pyx_t_11;
    __pyx_L9_bool_binop_done:;
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1289
 *                 continue
 *             if not title and name == 'title':
 *                 title = content             # <<<<<<<<<<<<<<
 *             elif not description and name in ('description', 'abstract'):
 *                 description = content
 */
      __Pyx_INCREF(__pyx_v_content);
      __Pyx_DECREF_SET(__pyx_v_title, __pyx_v_content);

      /* "youtube_dl/extractor/common.py":1288
 *             if not name or not content:
 *                 continue
 *             if not title and name == 'title':             # <<<<<<<<<<<<<<
 *                 title = content
 *             elif not description and name in ('description', 'abstract'):
 */
      goto __pyx_L8;
    }

    /* "youtube_dl/extractor/common.py":1290
 *             if not title and name == 'title':
 *                 title = content
 *             elif not description and name in ('description', 'abstract'):             # <<<<<<<<<<<<<<
 *                 description = content
 *             elif not upload_date and name == 'date':
 */
    __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_description); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1290, __pyx_L1_error)
    __pyx_t_10 = ((!__pyx_t_11) != 0);
    if (__pyx_t_10) {
    } else {
      __pyx_t_9 = __pyx_t_10;
      goto __pyx_L11_bool_binop_done;
    }
    __Pyx_INCREF(__pyx_v_name);
    __pyx_t_2 = __pyx_v_name;
    __pyx_t_11 = (__Pyx_PyUnicode_Equals(__pyx_t_2, __pyx_n_u_description, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1290, __pyx_L1_error)
    if (!__pyx_t_11) {
    } else {
      __pyx_t_10 = __pyx_t_11;
      goto __pyx_L13_bool_binop_done;
    }
    __pyx_t_11 = (__Pyx_PyUnicode_Equals(__pyx_t_2, __pyx_n_u_abstract, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1290, __pyx_L1_error)
    __pyx_t_10 = __pyx_t_11;
    __pyx_L13_bool_binop_done:;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_11 = (__pyx_t_10 != 0);
    __pyx_t_9 = __pyx_t_11;
    __pyx_L11_bool_binop_done:;
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1291
 *                 title = content
 *             elif not description and name in ('description', 'abstract'):
 *                 description = content             # <<<<<<<<<<<<<<
 *             elif not upload_date and name == 'date':
 *                 upload_date = unified_strdate(content)
 */
      __Pyx_INCREF(__pyx_v_content);
      __Pyx_DECREF_SET(__pyx_v_description, __pyx_v_content);

      /* "youtube_dl/extractor/common.py":1290
 *             if not title and name == 'title':
 *                 title = content
 *             elif not description and name in ('description', 'abstract'):             # <<<<<<<<<<<<<<
 *                 description = content
 *             elif not upload_date and name == 'date':
 */
      goto __pyx_L8;
    }

    /* "youtube_dl/extractor/common.py":1292
 *             elif not description and name in ('description', 'abstract'):
 *                 description = content
 *             elif not upload_date and name == 'date':             # <<<<<<<<<<<<<<
 *                 upload_date = unified_strdate(content)
 * 
 */
    __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_upload_date); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1292, __pyx_L1_error)
    __pyx_t_10 = ((!__pyx_t_11) != 0);
    if (__pyx_t_10) {
    } else {
      __pyx_t_9 = __pyx_t_10;
      goto __pyx_L15_bool_binop_done;
    }
    __pyx_t_10 = (__Pyx_PyUnicode_Equals(__pyx_v_name, __pyx_n_u_date, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1292, __pyx_L1_error)
    __pyx_t_9 = __pyx_t_10;
    __pyx_L15_bool_binop_done:;
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1293
 *                 description = content
 *             elif not upload_date and name == 'date':
 *                 upload_date = unified_strdate(content)             # <<<<<<<<<<<<<<
 * 
 *         thumbnails = [{
 */
      __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_unified_strdate); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1293, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_6 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
        __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
        if (likely(__pyx_t_6)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
          __Pyx_INCREF(__pyx_t_6);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_5, function);
        }
      }
      if (!__pyx_t_6) {
        __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_v_content); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1293, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
      } else {
        __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1293, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_6); __pyx_t_6 = NULL;
        __Pyx_INCREF(__pyx_v_content);
        __Pyx_GIVEREF(__pyx_v_content);
        PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_content);
        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_4, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1293, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF_SET(__pyx_v_upload_date, __pyx_t_2);
      __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":1292
 *             elif not description and name in ('description', 'abstract'):
 *                 description = content
 *             elif not upload_date and name == 'date':             # <<<<<<<<<<<<<<
 *                 upload_date = unified_strdate(content)
 * 
 */
    }
    __pyx_L8:;

    /* "youtube_dl/extractor/common.py":1283
 *         description = None
 *         upload_date = None
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):             # <<<<<<<<<<<<<<
 *             name = meta.attrib.get('name')
 *             content = meta.attrib.get('content')
 */
    __pyx_L3_continue:;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1295
 *                 upload_date = unified_strdate(content)
 * 
 *         thumbnails = [{             # <<<<<<<<<<<<<<
 *             'id': image.get('type'),
 *             'url': image.get('src'),
 */
  { /* enter inner scope */
    PyObject *__pyx_8genexpr4__pyx_v_image = NULL;
    __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1295, __pyx_L19_error)
    __Pyx_GOTREF(__pyx_t_1);

    /* "youtube_dl/extractor/common.py":1300
 *             'width': int_or_none(image.get('width')),
 *             'height': int_or_none(image.get('height')),
 *         } for image in smil.findall(self._xpath_ns('.//image', namespace)) if image.get('src')]             # <<<<<<<<<<<<<<
 * 
 *         return {
 */
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_smil, __pyx_n_s_findall); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1300, __pyx_L19_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_xpath_ns); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1300, __pyx_L19_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_3 = NULL;
    __pyx_t_7 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_3)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_3);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    __pyx_t_12 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1300, __pyx_L19_error)
    __Pyx_GOTREF(__pyx_t_12);
    if (__pyx_t_3) {
      __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_3); __pyx_t_3 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_u_image_2);
    __Pyx_GIVEREF(__pyx_kp_u_image_2);
    PyTuple_SET_ITEM(__pyx_t_12, 0+__pyx_t_7, __pyx_kp_u_image_2);
    __Pyx_INCREF(__pyx_v_namespace);
    __Pyx_GIVEREF(__pyx_v_namespace);
    PyTuple_SET_ITEM(__pyx_t_12, 1+__pyx_t_7, __pyx_v_namespace);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_12, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1300, __pyx_L19_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_6);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
      }
    }
    if (!__pyx_t_6) {
      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1300, __pyx_L19_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_GOTREF(__pyx_t_2);
    } else {
      __pyx_t_12 = PyTuple_New(1+1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1300, __pyx_L19_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_6); __pyx_t_6 = NULL;
      __Pyx_GIVEREF(__pyx_t_4);
      PyTuple_SET_ITEM(__pyx_t_12, 0+1, __pyx_t_4);
      __pyx_t_4 = 0;
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_12, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1300, __pyx_L19_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    }
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (likely(PyList_CheckExact(__pyx_t_2)) || PyTuple_CheckExact(__pyx_t_2)) {
      __pyx_t_5 = __pyx_t_2; __Pyx_INCREF(__pyx_t_5); __pyx_t_7 = 0;
      __pyx_t_8 = NULL;
    } else {
      __pyx_t_7 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1300, __pyx_L19_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_8 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1300, __pyx_L19_error)
    }
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    for (;;) {
      if (likely(!__pyx_t_8)) {
        if (likely(PyList_CheckExact(__pyx_t_5))) {
          if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_5)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_2 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 1300, __pyx_L19_error)
          #else
          __pyx_t_2 = PySequence_ITEM(__pyx_t_5, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1300, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_2);
          #endif
        } else {
          if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 1300, __pyx_L19_error)
          #else
          __pyx_t_2 = PySequence_ITEM(__pyx_t_5, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1300, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_2);
          #endif
        }
      } else {
        __pyx_t_2 = __pyx_t_8(__pyx_t_5);
        if (unlikely(!__pyx_t_2)) {
          PyObject* exc_type = PyErr_Occurred();
          if (exc_type) {
            if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
            else __PYX_ERR(0, 1300, __pyx_L19_error)
          }
          break;
        }
        __Pyx_GOTREF(__pyx_t_2);
      }
      __Pyx_XDECREF_SET(__pyx_8genexpr4__pyx_v_image, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr4__pyx_v_image, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1300, __pyx_L19_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_12 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__147, NULL); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1300, __pyx_L19_error)
      __Pyx_GOTREF(__pyx_t_12);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_12); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1300, __pyx_L19_error)
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      if (__pyx_t_9) {

        /* "youtube_dl/extractor/common.py":1296
 * 
 *         thumbnails = [{
 *             'id': image.get('type'),             # <<<<<<<<<<<<<<
 *             'url': image.get('src'),
 *             'width': int_or_none(image.get('width')),
 */
        __pyx_t_12 = PyDict_New(); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1296, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_12);
        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr4__pyx_v_image, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1296, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__148, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1296, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        if (PyDict_SetItem(__pyx_t_12, __pyx_n_u_id, __pyx_t_4) < 0) __PYX_ERR(0, 1296, __pyx_L19_error)
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

        /* "youtube_dl/extractor/common.py":1297
 *         thumbnails = [{
 *             'id': image.get('type'),
 *             'url': image.get('src'),             # <<<<<<<<<<<<<<
 *             'width': int_or_none(image.get('width')),
 *             'height': int_or_none(image.get('height')),
 */
        __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr4__pyx_v_image, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1297, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__149, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1297, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (PyDict_SetItem(__pyx_t_12, __pyx_n_u_url, __pyx_t_2) < 0) __PYX_ERR(0, 1296, __pyx_L19_error)
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1298
 *             'id': image.get('type'),
 *             'url': image.get('src'),
 *             'width': int_or_none(image.get('width')),             # <<<<<<<<<<<<<<
 *             'height': int_or_none(image.get('height')),
 *         } for image in smil.findall(self._xpath_ns('.//image', namespace)) if image.get('src')]
 */
        __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1298, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr4__pyx_v_image, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1298, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__150, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1298, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_6 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
          __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
          if (likely(__pyx_t_6)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
            __Pyx_INCREF(__pyx_t_6);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_4, function);
          }
        }
        if (!__pyx_t_6) {
          __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1298, __pyx_L19_error)
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_GOTREF(__pyx_t_2);
        } else {
          __pyx_t_13 = PyTuple_New(1+1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1298, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_13);
          __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_t_6); __pyx_t_6 = NULL;
          __Pyx_GIVEREF(__pyx_t_3);
          PyTuple_SET_ITEM(__pyx_t_13, 0+1, __pyx_t_3);
          __pyx_t_3 = 0;
          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_13, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1298, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_2);
          __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
        }
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (PyDict_SetItem(__pyx_t_12, __pyx_n_u_width, __pyx_t_2) < 0) __PYX_ERR(0, 1296, __pyx_L19_error)
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1299
 *             'url': image.get('src'),
 *             'width': int_or_none(image.get('width')),
 *             'height': int_or_none(image.get('height')),             # <<<<<<<<<<<<<<
 *         } for image in smil.findall(self._xpath_ns('.//image', namespace)) if image.get('src')]
 * 
 */
        __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1299, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_13 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr4__pyx_v_image, __pyx_n_s_get); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1299, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_13);
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_13, __pyx_tuple__151, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1299, __pyx_L19_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
        __pyx_t_13 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
          __pyx_t_13 = PyMethod_GET_SELF(__pyx_t_4);
          if (likely(__pyx_t_13)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
            __Pyx_INCREF(__pyx_t_13);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_4, function);
          }
        }
        if (!__pyx_t_13) {
          __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1299, __pyx_L19_error)
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_GOTREF(__pyx_t_2);
        } else {
          __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1299, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_GIVEREF(__pyx_t_13); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_13); __pyx_t_13 = NULL;
          __Pyx_GIVEREF(__pyx_t_3);
          PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_t_3);
          __pyx_t_3 = 0;
          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1299, __pyx_L19_error)
          __Pyx_GOTREF(__pyx_t_2);
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        }
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (PyDict_SetItem(__pyx_t_12, __pyx_n_u_height, __pyx_t_2) < 0) __PYX_ERR(0, 1296, __pyx_L19_error)
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_12))) __PYX_ERR(0, 1295, __pyx_L19_error)
        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;

        /* "youtube_dl/extractor/common.py":1300
 *             'width': int_or_none(image.get('width')),
 *             'height': int_or_none(image.get('height')),
 *         } for image in smil.findall(self._xpath_ns('.//image', namespace)) if image.get('src')]             # <<<<<<<<<<<<<<
 * 
 *         return {
 */
      }
    }
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_XDECREF(__pyx_8genexpr4__pyx_v_image);
    goto __pyx_L23_exit_scope;
    __pyx_L19_error:;
    __Pyx_XDECREF(__pyx_8genexpr4__pyx_v_image);
    goto __pyx_L1_error;
    __pyx_L23_exit_scope:;
  } /* exit inner scope */
  __pyx_v_thumbnails = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1302
 *         } for image in smil.findall(self._xpath_ns('.//image', namespace)) if image.get('src')]
 * 
 *         return {             # <<<<<<<<<<<<<<
 *             'id': video_id,
 *             'title': title or video_id,
 */
  __Pyx_XDECREF(__pyx_r);

  /* "youtube_dl/extractor/common.py":1303
 * 
 *         return {
 *             'id': video_id,             # <<<<<<<<<<<<<<
 *             'title': title or video_id,
 *             'description': description,
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1303, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_id, __pyx_v_video_id) < 0) __PYX_ERR(0, 1303, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1304
 *         return {
 *             'id': video_id,
 *             'title': title or video_id,             # <<<<<<<<<<<<<<
 *             'description': description,
 *             'upload_date': upload_date,
 */
  __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_title); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1304, __pyx_L1_error)
  if (!__pyx_t_9) {
  } else {
    __Pyx_INCREF(__pyx_v_title);
    __pyx_t_5 = __pyx_v_title;
    goto __pyx_L24_bool_binop_done;
  }
  __Pyx_INCREF(__pyx_v_video_id);
  __pyx_t_5 = __pyx_v_video_id;
  __pyx_L24_bool_binop_done:;
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_title, __pyx_t_5) < 0) __PYX_ERR(0, 1303, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1305
 *             'id': video_id,
 *             'title': title or video_id,
 *             'description': description,             # <<<<<<<<<<<<<<
 *             'upload_date': upload_date,
 *             'thumbnails': thumbnails,
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_description, __pyx_v_description) < 0) __PYX_ERR(0, 1303, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1306
 *             'title': title or video_id,
 *             'description': description,
 *             'upload_date': upload_date,             # <<<<<<<<<<<<<<
 *             'thumbnails': thumbnails,
 *             'formats': formats,
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_upload_date, __pyx_v_upload_date) < 0) __PYX_ERR(0, 1303, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1307
 *             'description': description,
 *             'upload_date': upload_date,
 *             'thumbnails': thumbnails,             # <<<<<<<<<<<<<<
 *             'formats': formats,
 *             'subtitles': subtitles,
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_thumbnails, __pyx_v_thumbnails) < 0) __PYX_ERR(0, 1303, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1308
 *             'upload_date': upload_date,
 *             'thumbnails': thumbnails,
 *             'formats': formats,             # <<<<<<<<<<<<<<
 *             'subtitles': subtitles,
 *         }
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_formats, __pyx_v_formats) < 0) __PYX_ERR(0, 1303, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1309
 *             'thumbnails': thumbnails,
 *             'formats': formats,
 *             'subtitles': subtitles,             # <<<<<<<<<<<<<<
 *         }
 * 
 */
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_subtitles, __pyx_v_subtitles) < 0) __PYX_ERR(0, 1303, __pyx_L1_error)
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1272
 *             'Unable to download SMIL file', fatal=fatal, transform_source=transform_source)
 * 
 *     def _parse_smil(self, smil, smil_url, video_id, f4m_params=None):             # <<<<<<<<<<<<<<
 *         namespace = self._parse_smil_namespace(smil)
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_XDECREF(__pyx_t_13);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_smil", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_namespace);
  __Pyx_XDECREF(__pyx_v_formats);
  __Pyx_XDECREF(__pyx_v_subtitles);
  __Pyx_XDECREF(__pyx_v_title);
  __Pyx_XDECREF(__pyx_v_description);
  __Pyx_XDECREF(__pyx_v_upload_date);
  __Pyx_XDECREF(__pyx_v_meta);
  __Pyx_XDECREF(__pyx_v_name);
  __Pyx_XDECREF(__pyx_v_content);
  __Pyx_XDECREF(__pyx_v_thumbnails);
  __Pyx_XDECREF(__pyx_v_video_id);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1312
 *         }
 * 
 *     def _parse_smil_namespace(self, smil):             # <<<<<<<<<<<<<<
 *         return self._search_regex(
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_135_parse_smil_namespace(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_135_parse_smil_namespace = {"_parse_smil_namespace", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_135_parse_smil_namespace, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_135_parse_smil_namespace(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_smil = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_smil_namespace (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_smil,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_smil_namespace", 1, 2, 2, 1); __PYX_ERR(0, 1312, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_smil_namespace") < 0)) __PYX_ERR(0, 1312, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_smil = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_smil_namespace", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1312, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_smil_namespace", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_134_parse_smil_namespace(__pyx_self, __pyx_v_self, __pyx_v_smil);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_134_parse_smil_namespace(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("_parse_smil_namespace", 0);

  /* "youtube_dl/extractor/common.py":1313
 * 
 *     def _parse_smil_namespace(self, smil):
 *         return self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_search_regex); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1313, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":1314
 *     def _parse_smil_namespace(self, smil):
 *         return self._search_regex(
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_smil, __pyx_n_s_tag); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1314, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);

  /* "youtube_dl/extractor/common.py":1313
 * 
 *     def _parse_smil_namespace(self, smil):
 *         return self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 * 
 */
  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1313, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_kp_u_i_smil);
  __Pyx_GIVEREF(__pyx_kp_u_i_smil);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_kp_u_i_smil);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
  __Pyx_INCREF(__pyx_n_u_namespace);
  __Pyx_GIVEREF(__pyx_n_u_namespace);
  PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_n_u_namespace);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1314
 *     def _parse_smil_namespace(self, smil):
 *         return self._search_regex(
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1314, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_default, Py_None) < 0) __PYX_ERR(0, 1314, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1313
 * 
 *     def _parse_smil_namespace(self, smil):
 *         return self._search_regex(             # <<<<<<<<<<<<<<
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 * 
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1313, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1312
 *         }
 * 
 *     def _parse_smil_namespace(self, smil):             # <<<<<<<<<<<<<<
 *         return self._search_regex(
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_smil_namespace", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1316
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 * 
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):             # <<<<<<<<<<<<<<
 *         base = smil_url
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_137_parse_smil_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_137_parse_smil_formats = {"_parse_smil_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_137_parse_smil_formats, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_137_parse_smil_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_smil = 0;
  PyObject *__pyx_v_smil_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_namespace = 0;
  PyObject *__pyx_v_f4m_params = 0;
  PyObject *__pyx_v_transform_rtmp_url = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_smil_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_smil,&__pyx_n_s_smil_url,&__pyx_n_s_video_id,&__pyx_n_s_namespace,&__pyx_n_s_f4m_params,&__pyx_n_s_transform_rtmp_url,0};
    PyObject* values[7] = {0,0,0,0,0,0,0};
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = ((PyObject *)((PyObject *)Py_None));
    values[6] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_smil_formats", 0, 4, 7, 1); __PYX_ERR(0, 1316, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_smil_formats", 0, 4, 7, 2); __PYX_ERR(0, 1316, __pyx_L3_error)
        }
        case  3:
        if (likely((values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_smil_formats", 0, 4, 7, 3); __PYX_ERR(0, 1316, __pyx_L3_error)
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_namespace);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_f4m_params);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_transform_rtmp_url);
          if (value) { values[6] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_smil_formats") < 0)) __PYX_ERR(0, 1316, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_smil = values[1];
    __pyx_v_smil_url = values[2];
    __pyx_v_video_id = values[3];
    __pyx_v_namespace = values[4];
    __pyx_v_f4m_params = values[5];
    __pyx_v_transform_rtmp_url = values[6];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_smil_formats", 0, 4, 7, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1316, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_smil_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_136_parse_smil_formats(__pyx_self, __pyx_v_self, __pyx_v_smil, __pyx_v_smil_url, __pyx_v_video_id, __pyx_v_namespace, __pyx_v_f4m_params, __pyx_v_transform_rtmp_url);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_136_parse_smil_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil, PyObject *__pyx_v_smil_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_namespace, PyObject *__pyx_v_f4m_params, PyObject *__pyx_v_transform_rtmp_url) {
  PyObject *__pyx_v_base = NULL;
  PyObject *__pyx_v_meta = NULL;
  PyObject *__pyx_v_b = NULL;
  PyObject *__pyx_v_formats = NULL;
  PyObject *__pyx_v_rtmp_count = NULL;
  PyObject *__pyx_v_http_count = NULL;
  PyObject *__pyx_v_m3u8_count = NULL;
  PyObject *__pyx_v_srcs = NULL;
  PyObject *__pyx_v_media = NULL;
  PyObject *__pyx_v_medium = NULL;
  PyObject *__pyx_v_src = NULL;
  PyObject *__pyx_v_bitrate = NULL;
  PyObject *__pyx_v_filesize = NULL;
  PyObject *__pyx_v_width = NULL;
  PyObject *__pyx_v_height = NULL;
  PyObject *__pyx_v_proto = NULL;
  PyObject *__pyx_v_ext = NULL;
  PyObject *__pyx_v_src_ext = NULL;
  PyObject *__pyx_v_streamer = NULL;
  PyObject *__pyx_v_src_url = NULL;
  PyObject *__pyx_v_m3u8_formats = NULL;
  PyObject *__pyx_v_f4m_url = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  Py_ssize_t __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  PyObject *(*__pyx_t_8)(PyObject *);
  int __pyx_t_9;
  PyObject *__pyx_t_10 = NULL;
  int __pyx_t_11;
  int __pyx_t_12;
  int __pyx_t_13;
  Py_ssize_t __pyx_t_14;
  PyObject *(*__pyx_t_15)(PyObject *);
  __Pyx_RefNannySetupContext("_parse_smil_formats", 0);
  __Pyx_INCREF(__pyx_v_f4m_params);

  /* "youtube_dl/extractor/common.py":1317
 * 
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):
 *         base = smil_url             # <<<<<<<<<<<<<<
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             b = meta.get('base') or meta.get('httpBase')
 */
  __Pyx_INCREF(__pyx_v_smil_url);
  __pyx_v_base = __pyx_v_smil_url;

  /* "youtube_dl/extractor/common.py":1318
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):
 *         base = smil_url
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):             # <<<<<<<<<<<<<<
 *             b = meta.get('base') or meta.get('httpBase')
 *             if b:
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_smil, __pyx_n_s_findall); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1318, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_xpath_ns); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1318, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
      __pyx_t_6 = 1;
    }
  }
  __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1318, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  if (__pyx_t_5) {
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_5); __pyx_t_5 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_head_meta);
  __Pyx_GIVEREF(__pyx_kp_u_head_meta);
  PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_6, __pyx_kp_u_head_meta);
  __Pyx_INCREF(__pyx_v_namespace);
  __Pyx_GIVEREF(__pyx_v_namespace);
  PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_6, __pyx_v_namespace);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_7, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1318, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1318, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1318, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1318, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (likely(PyList_CheckExact(__pyx_t_1)) || PyTuple_CheckExact(__pyx_t_1)) {
    __pyx_t_2 = __pyx_t_1; __Pyx_INCREF(__pyx_t_2); __pyx_t_6 = 0;
    __pyx_t_8 = NULL;
  } else {
    __pyx_t_6 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1318, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_8 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1318, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  for (;;) {
    if (likely(!__pyx_t_8)) {
      if (likely(PyList_CheckExact(__pyx_t_2))) {
        if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1318, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1318, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      } else {
        if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1318, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1318, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      }
    } else {
      __pyx_t_1 = __pyx_t_8(__pyx_t_2);
      if (unlikely(!__pyx_t_1)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1318, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    __Pyx_XDECREF_SET(__pyx_v_meta, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1319
 *         base = smil_url
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             b = meta.get('base') or meta.get('httpBase')             # <<<<<<<<<<<<<<
 *             if b:
 *                 base = b
 */
    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_meta, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1319, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__152, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1319, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1319, __pyx_L1_error)
    if (!__pyx_t_9) {
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_3);
      __pyx_t_1 = __pyx_t_3;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L5_bool_binop_done;
    }
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_meta, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1319, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__153, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1319, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_INCREF(__pyx_t_7);
    __pyx_t_1 = __pyx_t_7;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_L5_bool_binop_done:;
    __Pyx_XDECREF_SET(__pyx_v_b, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1320
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             b = meta.get('base') or meta.get('httpBase')
 *             if b:             # <<<<<<<<<<<<<<
 *                 base = b
 *                 break
 */
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_b); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1320, __pyx_L1_error)
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1321
 *             b = meta.get('base') or meta.get('httpBase')
 *             if b:
 *                 base = b             # <<<<<<<<<<<<<<
 *                 break
 * 
 */
      __Pyx_INCREF(__pyx_v_b);
      __Pyx_DECREF_SET(__pyx_v_base, __pyx_v_b);

      /* "youtube_dl/extractor/common.py":1322
 *             if b:
 *                 base = b
 *                 break             # <<<<<<<<<<<<<<
 * 
 *         formats = []
 */
      goto __pyx_L4_break;

      /* "youtube_dl/extractor/common.py":1320
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             b = meta.get('base') or meta.get('httpBase')
 *             if b:             # <<<<<<<<<<<<<<
 *                 base = b
 *                 break
 */
    }

    /* "youtube_dl/extractor/common.py":1318
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):
 *         base = smil_url
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):             # <<<<<<<<<<<<<<
 *             b = meta.get('base') or meta.get('httpBase')
 *             if b:
 */
  }
  __pyx_L4_break:;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1324
 *                 break
 * 
 *         formats = []             # <<<<<<<<<<<<<<
 *         rtmp_count = 0
 *         http_count = 0
 */
  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1324, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_v_formats = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1325
 * 
 *         formats = []
 *         rtmp_count = 0             # <<<<<<<<<<<<<<
 *         http_count = 0
 *         m3u8_count = 0
 */
  __Pyx_INCREF(__pyx_int_0);
  __pyx_v_rtmp_count = __pyx_int_0;

  /* "youtube_dl/extractor/common.py":1326
 *         formats = []
 *         rtmp_count = 0
 *         http_count = 0             # <<<<<<<<<<<<<<
 *         m3u8_count = 0
 * 
 */
  __Pyx_INCREF(__pyx_int_0);
  __pyx_v_http_count = __pyx_int_0;

  /* "youtube_dl/extractor/common.py":1327
 *         rtmp_count = 0
 *         http_count = 0
 *         m3u8_count = 0             # <<<<<<<<<<<<<<
 * 
 *         srcs = []
 */
  __Pyx_INCREF(__pyx_int_0);
  __pyx_v_m3u8_count = __pyx_int_0;

  /* "youtube_dl/extractor/common.py":1329
 *         m3u8_count = 0
 * 
 *         srcs = []             # <<<<<<<<<<<<<<
 *         media = smil.findall(self._xpath_ns('.//video', namespace)) + smil.findall(self._xpath_ns('.//audio', namespace))
 *         for medium in media:
 */
  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1329, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_v_srcs = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1330
 * 
 *         srcs = []
 *         media = smil.findall(self._xpath_ns('.//video', namespace)) + smil.findall(self._xpath_ns('.//audio', namespace))             # <<<<<<<<<<<<<<
 *         for medium in media:
 *             src = medium.get('src')
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_smil, __pyx_n_s_findall); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_xpath_ns); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  __pyx_t_6 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_4) {
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_video_2);
  __Pyx_GIVEREF(__pyx_kp_u_video_2);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_6, __pyx_kp_u_video_2);
  __Pyx_INCREF(__pyx_v_namespace);
  __Pyx_GIVEREF(__pyx_v_namespace);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_6, __pyx_v_namespace);
  __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_1, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1330, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_GOTREF(__pyx_t_2);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1330, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_GIVEREF(__pyx_t_7);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_7);
    __pyx_t_7 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1330, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_smil, __pyx_n_s_findall); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_xpath_ns); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  __pyx_t_6 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  __pyx_t_10 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_10);
  if (__pyx_t_4) {
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_4); __pyx_t_4 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_audio);
  __Pyx_GIVEREF(__pyx_kp_u_audio);
  PyTuple_SET_ITEM(__pyx_t_10, 0+__pyx_t_6, __pyx_kp_u_audio);
  __Pyx_INCREF(__pyx_v_namespace);
  __Pyx_GIVEREF(__pyx_v_namespace);
  PyTuple_SET_ITEM(__pyx_t_10, 1+__pyx_t_6, __pyx_v_namespace);
  __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_10, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_5, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1330, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1330, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_GIVEREF(__pyx_t_7);
    PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_t_7);
    __pyx_t_7 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_10, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1330, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_media = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1331
 *         srcs = []
 *         media = smil.findall(self._xpath_ns('.//video', namespace)) + smil.findall(self._xpath_ns('.//audio', namespace))
 *         for medium in media:             # <<<<<<<<<<<<<<
 *             src = medium.get('src')
 *             if not src or src in srcs:
 */
  if (likely(PyList_CheckExact(__pyx_v_media)) || PyTuple_CheckExact(__pyx_v_media)) {
    __pyx_t_5 = __pyx_v_media; __Pyx_INCREF(__pyx_t_5); __pyx_t_6 = 0;
    __pyx_t_8 = NULL;
  } else {
    __pyx_t_6 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_v_media); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1331, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_8 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1331, __pyx_L1_error)
  }
  for (;;) {
    if (likely(!__pyx_t_8)) {
      if (likely(PyList_CheckExact(__pyx_t_5))) {
        if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_5)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1331, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1331, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      } else {
        if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1331, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1331, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      }
    } else {
      __pyx_t_1 = __pyx_t_8(__pyx_t_5);
      if (unlikely(!__pyx_t_1)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1331, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    __Pyx_XDECREF_SET(__pyx_v_medium, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1332
 *         media = smil.findall(self._xpath_ns('.//video', namespace)) + smil.findall(self._xpath_ns('.//audio', namespace))
 *         for medium in media:
 *             src = medium.get('src')             # <<<<<<<<<<<<<<
 *             if not src or src in srcs:
 *                 continue
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1332, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__154, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1332, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF_SET(__pyx_v_src, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1333
 *         for medium in media:
 *             src = medium.get('src')
 *             if not src or src in srcs:             # <<<<<<<<<<<<<<
 *                 continue
 *             srcs.append(src)
 */
    __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_src); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1333, __pyx_L1_error)
    __pyx_t_12 = ((!__pyx_t_11) != 0);
    if (!__pyx_t_12) {
    } else {
      __pyx_t_9 = __pyx_t_12;
      goto __pyx_L11_bool_binop_done;
    }
    __pyx_t_12 = (__Pyx_PySequence_ContainsTF(__pyx_v_src, __pyx_v_srcs, Py_EQ)); if (unlikely(__pyx_t_12 < 0)) __PYX_ERR(0, 1333, __pyx_L1_error)
    __pyx_t_11 = (__pyx_t_12 != 0);
    __pyx_t_9 = __pyx_t_11;
    __pyx_L11_bool_binop_done:;
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1334
 *             src = medium.get('src')
 *             if not src or src in srcs:
 *                 continue             # <<<<<<<<<<<<<<
 *             srcs.append(src)
 * 
 */
      goto __pyx_L8_continue;

      /* "youtube_dl/extractor/common.py":1333
 *         for medium in media:
 *             src = medium.get('src')
 *             if not src or src in srcs:             # <<<<<<<<<<<<<<
 *                 continue
 *             srcs.append(src)
 */
    }

    /* "youtube_dl/extractor/common.py":1335
 *             if not src or src in srcs:
 *                 continue
 *             srcs.append(src)             # <<<<<<<<<<<<<<
 * 
 *             bitrate = float_or_none(medium.get('system-bitrate') or medium.get('systemBitrate'), 1000)
 */
    __pyx_t_13 = __Pyx_PyList_Append(__pyx_v_srcs, __pyx_v_src); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1335, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1337
 *             srcs.append(src)
 * 
 *             bitrate = float_or_none(medium.get('system-bitrate') or medium.get('systemBitrate'), 1000)             # <<<<<<<<<<<<<<
 *             filesize = int_or_none(medium.get('size') or medium.get('fileSize'))
 *             width = int_or_none(medium.get('width'))
 */
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_float_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1337, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1337, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__155, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1337, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1337, __pyx_L1_error)
    if (!__pyx_t_9) {
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_3);
      __pyx_t_10 = __pyx_t_3;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L13_bool_binop_done;
    }
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1337, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__156, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1337, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_INCREF(__pyx_t_7);
    __pyx_t_10 = __pyx_t_7;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_L13_bool_binop_done:;
    __pyx_t_7 = NULL;
    __pyx_t_14 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
        __pyx_t_14 = 1;
      }
    }
    __pyx_t_3 = PyTuple_New(2+__pyx_t_14); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1337, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    if (__pyx_t_7) {
      __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_7); __pyx_t_7 = NULL;
    }
    __Pyx_GIVEREF(__pyx_t_10);
    PyTuple_SET_ITEM(__pyx_t_3, 0+__pyx_t_14, __pyx_t_10);
    __Pyx_INCREF(__pyx_int_1000);
    __Pyx_GIVEREF(__pyx_int_1000);
    PyTuple_SET_ITEM(__pyx_t_3, 1+__pyx_t_14, __pyx_int_1000);
    __pyx_t_10 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1337, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF_SET(__pyx_v_bitrate, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1338
 * 
 *             bitrate = float_or_none(medium.get('system-bitrate') or medium.get('systemBitrate'), 1000)
 *             filesize = int_or_none(medium.get('size') or medium.get('fileSize'))             # <<<<<<<<<<<<<<
 *             width = int_or_none(medium.get('width'))
 *             height = int_or_none(medium.get('height'))
 */
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1338, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1338, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__157, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1338, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_7); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1338, __pyx_L1_error)
    if (!__pyx_t_9) {
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_7);
      __pyx_t_3 = __pyx_t_7;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L15_bool_binop_done;
    }
    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1338, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__158, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1338, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_INCREF(__pyx_t_10);
    __pyx_t_3 = __pyx_t_10;
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_L15_bool_binop_done:;
    __pyx_t_10 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_10)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_10);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
      }
    }
    if (!__pyx_t_10) {
      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1338, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_GOTREF(__pyx_t_2);
    } else {
      __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1338, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_10); __pyx_t_10 = NULL;
      __Pyx_GIVEREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_3);
      __pyx_t_3 = 0;
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1338, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    }
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF_SET(__pyx_v_filesize, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1339
 *             bitrate = float_or_none(medium.get('system-bitrate') or medium.get('systemBitrate'), 1000)
 *             filesize = int_or_none(medium.get('size') or medium.get('fileSize'))
 *             width = int_or_none(medium.get('width'))             # <<<<<<<<<<<<<<
 *             height = int_or_none(medium.get('height'))
 *             proto = medium.get('proto')
 */
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1339, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1339, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__159, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1339, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
      }
    }
    if (!__pyx_t_7) {
      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1339, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_GOTREF(__pyx_t_2);
    } else {
      __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1339, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_7); __pyx_t_7 = NULL;
      __Pyx_GIVEREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_t_3);
      __pyx_t_3 = 0;
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_10, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1339, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    }
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF_SET(__pyx_v_width, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1340
 *             filesize = int_or_none(medium.get('size') or medium.get('fileSize'))
 *             width = int_or_none(medium.get('width'))
 *             height = int_or_none(medium.get('height'))             # <<<<<<<<<<<<<<
 *             proto = medium.get('proto')
 *             ext = medium.get('ext')
 */
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1340, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1340, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__160, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1340, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_10)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_10);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
      }
    }
    if (!__pyx_t_10) {
      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1340, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_GOTREF(__pyx_t_2);
    } else {
      __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1340, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_10); __pyx_t_10 = NULL;
      __Pyx_GIVEREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_3);
      __pyx_t_3 = 0;
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1340, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    }
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF_SET(__pyx_v_height, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1341
 *             width = int_or_none(medium.get('width'))
 *             height = int_or_none(medium.get('height'))
 *             proto = medium.get('proto')             # <<<<<<<<<<<<<<
 *             ext = medium.get('ext')
 *             src_ext = determine_ext(src)
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1341, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__161, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1341, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF_SET(__pyx_v_proto, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1342
 *             height = int_or_none(medium.get('height'))
 *             proto = medium.get('proto')
 *             ext = medium.get('ext')             # <<<<<<<<<<<<<<
 *             src_ext = determine_ext(src)
 *             streamer = medium.get('streamer') or base
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1342, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__162, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1342, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF_SET(__pyx_v_ext, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1343
 *             proto = medium.get('proto')
 *             ext = medium.get('ext')
 *             src_ext = determine_ext(src)             # <<<<<<<<<<<<<<
 *             streamer = medium.get('streamer') or base
 * 
 */
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_determine_ext); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1343, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
      }
    }
    if (!__pyx_t_7) {
      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_src); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1343, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
    } else {
      __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1343, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_7); __pyx_t_7 = NULL;
      __Pyx_INCREF(__pyx_v_src);
      __Pyx_GIVEREF(__pyx_v_src);
      PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_v_src);
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1343, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    }
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF_SET(__pyx_v_src_ext, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1344
 *             ext = medium.get('ext')
 *             src_ext = determine_ext(src)
 *             streamer = medium.get('streamer') or base             # <<<<<<<<<<<<<<
 * 
 *             if proto == 'rtmp' or streamer.startswith('rtmp'):
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_medium, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1344, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__163, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1344, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1344, __pyx_L1_error)
    if (!__pyx_t_9) {
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_3);
      __pyx_t_2 = __pyx_t_3;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L17_bool_binop_done;
    }
    __Pyx_INCREF(__pyx_v_base);
    __pyx_t_2 = __pyx_v_base;
    __pyx_L17_bool_binop_done:;
    __Pyx_XDECREF_SET(__pyx_v_streamer, __pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1346
 *             streamer = medium.get('streamer') or base
 * 
 *             if proto == 'rtmp' or streamer.startswith('rtmp'):             # <<<<<<<<<<<<<<
 *                 rtmp_count += 1
 *                 formats.append({
 */
    __pyx_t_11 = (__Pyx_PyUnicode_Equals(__pyx_v_proto, __pyx_n_u_rtmp, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1346, __pyx_L1_error)
    if (!__pyx_t_11) {
    } else {
      __pyx_t_9 = __pyx_t_11;
      goto __pyx_L20_bool_binop_done;
    }
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_streamer, __pyx_n_s_startswith); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1346, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__164, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1346, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1346, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_9 = __pyx_t_11;
    __pyx_L20_bool_binop_done:;
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1347
 * 
 *             if proto == 'rtmp' or streamer.startswith('rtmp'):
 *                 rtmp_count += 1             # <<<<<<<<<<<<<<
 *                 formats.append({
 *                     'url': streamer,
 */
      __pyx_t_3 = __Pyx_PyInt_AddObjC(__pyx_v_rtmp_count, __pyx_int_1, 1, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1347, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF_SET(__pyx_v_rtmp_count, __pyx_t_3);
      __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1349
 *                 rtmp_count += 1
 *                 formats.append({
 *                     'url': streamer,             # <<<<<<<<<<<<<<
 *                     'play_path': src,
 *                     'ext': 'flv',
 */
      __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1349, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_url, __pyx_v_streamer) < 0) __PYX_ERR(0, 1349, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1350
 *                 formats.append({
 *                     'url': streamer,
 *                     'play_path': src,             # <<<<<<<<<<<<<<
 *                     'ext': 'flv',
 *                     'format_id': 'rtmp-%d' % (rtmp_count if bitrate is None else bitrate),
 */
      if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_play_path, __pyx_v_src) < 0) __PYX_ERR(0, 1349, __pyx_L1_error)
      if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_ext, __pyx_n_u_flv) < 0) __PYX_ERR(0, 1349, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1352
 *                     'play_path': src,
 *                     'ext': 'flv',
 *                     'format_id': 'rtmp-%d' % (rtmp_count if bitrate is None else bitrate),             # <<<<<<<<<<<<<<
 *                     'tbr': bitrate,
 *                     'filesize': filesize,
 */
      __pyx_t_9 = (__pyx_v_bitrate == Py_None);
      if ((__pyx_t_9 != 0)) {
        __Pyx_INCREF(__pyx_v_rtmp_count);
        __pyx_t_2 = __pyx_v_rtmp_count;
      } else {
        __Pyx_INCREF(__pyx_v_bitrate);
        __pyx_t_2 = __pyx_v_bitrate;
      }
      __pyx_t_1 = PyUnicode_Format(__pyx_kp_u_rtmp_d, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1352, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_format_id, __pyx_t_1) < 0) __PYX_ERR(0, 1349, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":1353
 *                     'ext': 'flv',
 *                     'format_id': 'rtmp-%d' % (rtmp_count if bitrate is None else bitrate),
 *                     'tbr': bitrate,             # <<<<<<<<<<<<<<
 *                     'filesize': filesize,
 *                     'width': width,
 */
      if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_tbr, __pyx_v_bitrate) < 0) __PYX_ERR(0, 1349, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1354
 *                     'format_id': 'rtmp-%d' % (rtmp_count if bitrate is None else bitrate),
 *                     'tbr': bitrate,
 *                     'filesize': filesize,             # <<<<<<<<<<<<<<
 *                     'width': width,
 *                     'height': height,
 */
      if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_filesize, __pyx_v_filesize) < 0) __PYX_ERR(0, 1349, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1355
 *                     'tbr': bitrate,
 *                     'filesize': filesize,
 *                     'width': width,             # <<<<<<<<<<<<<<
 *                     'height': height,
 *                 })
 */
      if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_width, __pyx_v_width) < 0) __PYX_ERR(0, 1349, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1356
 *                     'filesize': filesize,
 *                     'width': width,
 *                     'height': height,             # <<<<<<<<<<<<<<
 *                 })
 *                 if transform_rtmp_url:
 */
      if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_height, __pyx_v_height) < 0) __PYX_ERR(0, 1349, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1348
 *             if proto == 'rtmp' or streamer.startswith('rtmp'):
 *                 rtmp_count += 1
 *                 formats.append({             # <<<<<<<<<<<<<<
 *                     'url': streamer,
 *                     'play_path': src,
 */
      __pyx_t_13 = __Pyx_PyList_Append(__pyx_v_formats, __pyx_t_3); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1348, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1358
 *                     'height': height,
 *                 })
 *                 if transform_rtmp_url:             # <<<<<<<<<<<<<<
 *                     streamer, src = transform_rtmp_url(streamer, src)
 *                     formats[-1].update({
 */
      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_transform_rtmp_url); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1358, __pyx_L1_error)
      if (__pyx_t_9) {

        /* "youtube_dl/extractor/common.py":1359
 *                 })
 *                 if transform_rtmp_url:
 *                     streamer, src = transform_rtmp_url(streamer, src)             # <<<<<<<<<<<<<<
 *                     formats[-1].update({
 *                         'url': streamer,
 */
        __Pyx_INCREF(__pyx_v_transform_rtmp_url);
        __pyx_t_1 = __pyx_v_transform_rtmp_url; __pyx_t_2 = NULL;
        __pyx_t_14 = 0;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
          __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
          if (likely(__pyx_t_2)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
            __Pyx_INCREF(__pyx_t_2);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_1, function);
            __pyx_t_14 = 1;
          }
        }
        __pyx_t_7 = PyTuple_New(2+__pyx_t_14); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1359, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        if (__pyx_t_2) {
          __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_2); __pyx_t_2 = NULL;
        }
        __Pyx_INCREF(__pyx_v_streamer);
        __Pyx_GIVEREF(__pyx_v_streamer);
        PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_14, __pyx_v_streamer);
        __Pyx_INCREF(__pyx_v_src);
        __Pyx_GIVEREF(__pyx_v_src);
        PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_14, __pyx_v_src);
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1359, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        if ((likely(PyTuple_CheckExact(__pyx_t_3))) || (PyList_CheckExact(__pyx_t_3))) {
          PyObject* sequence = __pyx_t_3;
          #if CYTHON_COMPILING_IN_CPYTHON
          Py_ssize_t size = Py_SIZE(sequence);
          #else
          Py_ssize_t size = PySequence_Size(sequence);
          #endif
          if (unlikely(size != 2)) {
            if (size > 2) __Pyx_RaiseTooManyValuesError(2);
            else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
            __PYX_ERR(0, 1359, __pyx_L1_error)
          }
          #if CYTHON_COMPILING_IN_CPYTHON
          if (likely(PyTuple_CheckExact(sequence))) {
            __pyx_t_1 = PyTuple_GET_ITEM(sequence, 0); 
            __pyx_t_7 = PyTuple_GET_ITEM(sequence, 1); 
          } else {
            __pyx_t_1 = PyList_GET_ITEM(sequence, 0); 
            __pyx_t_7 = PyList_GET_ITEM(sequence, 1); 
          }
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(__pyx_t_7);
          #else
          __pyx_t_1 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1359, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          __pyx_t_7 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1359, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_7);
          #endif
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        } else {
          Py_ssize_t index = -1;
          __pyx_t_2 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1359, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_15 = Py_TYPE(__pyx_t_2)->tp_iternext;
          index = 0; __pyx_t_1 = __pyx_t_15(__pyx_t_2); if (unlikely(!__pyx_t_1)) goto __pyx_L23_unpacking_failed;
          __Pyx_GOTREF(__pyx_t_1);
          index = 1; __pyx_t_7 = __pyx_t_15(__pyx_t_2); if (unlikely(!__pyx_t_7)) goto __pyx_L23_unpacking_failed;
          __Pyx_GOTREF(__pyx_t_7);
          if (__Pyx_IternextUnpackEndCheck(__pyx_t_15(__pyx_t_2), 2) < 0) __PYX_ERR(0, 1359, __pyx_L1_error)
          __pyx_t_15 = NULL;
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          goto __pyx_L24_unpacking_done;
          __pyx_L23_unpacking_failed:;
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_15 = NULL;
          if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
          __PYX_ERR(0, 1359, __pyx_L1_error)
          __pyx_L24_unpacking_done:;
        }
        __Pyx_DECREF_SET(__pyx_v_streamer, __pyx_t_1);
        __pyx_t_1 = 0;
        __Pyx_DECREF_SET(__pyx_v_src, __pyx_t_7);
        __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":1360
 *                 if transform_rtmp_url:
 *                     streamer, src = transform_rtmp_url(streamer, src)
 *                     formats[-1].update({             # <<<<<<<<<<<<<<
 *                         'url': streamer,
 *                         'play_path': src,
 */
        __pyx_t_7 = __Pyx_GetItemInt_List(__pyx_v_formats, -1L, long, 1, __Pyx_PyInt_From_long, 1, 1, 1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1360, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_update); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1360, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":1361
 *                     streamer, src = transform_rtmp_url(streamer, src)
 *                     formats[-1].update({
 *                         'url': streamer,             # <<<<<<<<<<<<<<
 *                         'play_path': src,
 *                     })
 */
        __pyx_t_7 = PyDict_New(); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1361, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_u_url, __pyx_v_streamer) < 0) __PYX_ERR(0, 1361, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1362
 *                     formats[-1].update({
 *                         'url': streamer,
 *                         'play_path': src,             # <<<<<<<<<<<<<<
 *                     })
 *                 continue
 */
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_u_play_path, __pyx_v_src) < 0) __PYX_ERR(0, 1361, __pyx_L1_error)
        __pyx_t_2 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
          __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
          if (likely(__pyx_t_2)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
            __Pyx_INCREF(__pyx_t_2);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_1, function);
          }
        }
        if (!__pyx_t_2) {
          __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1360, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          __Pyx_GOTREF(__pyx_t_3);
        } else {
          __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1360, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_10);
          __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_2); __pyx_t_2 = NULL;
          __Pyx_GIVEREF(__pyx_t_7);
          PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_t_7);
          __pyx_t_7 = 0;
          __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_10, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1360, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_3);
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        }
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

        /* "youtube_dl/extractor/common.py":1358
 *                     'height': height,
 *                 })
 *                 if transform_rtmp_url:             # <<<<<<<<<<<<<<
 *                     streamer, src = transform_rtmp_url(streamer, src)
 *                     formats[-1].update({
 */
      }

      /* "youtube_dl/extractor/common.py":1364
 *                         'play_path': src,
 *                     })
 *                 continue             # <<<<<<<<<<<<<<
 * 
 *             src_url = src if src.startswith('http') else compat_urlparse.urljoin(base, src)
 */
      goto __pyx_L8_continue;

      /* "youtube_dl/extractor/common.py":1346
 *             streamer = medium.get('streamer') or base
 * 
 *             if proto == 'rtmp' or streamer.startswith('rtmp'):             # <<<<<<<<<<<<<<
 *                 rtmp_count += 1
 *                 formats.append({
 */
    }

    /* "youtube_dl/extractor/common.py":1366
 *                 continue
 * 
 *             src_url = src if src.startswith('http') else compat_urlparse.urljoin(base, src)             # <<<<<<<<<<<<<<
 *             src_url = src_url.strip()
 * 
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_src, __pyx_n_s_startswith); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1366, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__165, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1366, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_10); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1366, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    if (__pyx_t_9) {
      __Pyx_INCREF(__pyx_v_src);
      __pyx_t_3 = __pyx_v_src;
    } else {
      __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_urlparse); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1366, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_urljoin); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1366, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_14 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_7);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_7, function);
          __pyx_t_14 = 1;
        }
      }
      __pyx_t_2 = PyTuple_New(2+__pyx_t_14); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1366, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      if (__pyx_t_1) {
        __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1); __pyx_t_1 = NULL;
      }
      __Pyx_INCREF(__pyx_v_base);
      __Pyx_GIVEREF(__pyx_v_base);
      PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_14, __pyx_v_base);
      __Pyx_INCREF(__pyx_v_src);
      __Pyx_GIVEREF(__pyx_v_src);
      PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_14, __pyx_v_src);
      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_2, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1366, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_3 = __pyx_t_10;
      __pyx_t_10 = 0;
    }
    __Pyx_XDECREF_SET(__pyx_v_src_url, __pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1367
 * 
 *             src_url = src if src.startswith('http') else compat_urlparse.urljoin(base, src)
 *             src_url = src_url.strip()             # <<<<<<<<<<<<<<
 * 
 *             if proto == 'm3u8' or src_ext == 'm3u8':
 */
    __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_src_url, __pyx_n_s_strip); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1367, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_10))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_10);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_10, function);
      }
    }
    if (__pyx_t_7) {
      __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_10, __pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1367, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    } else {
      __pyx_t_3 = __Pyx_PyObject_CallNoArg(__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1367, __pyx_L1_error)
    }
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __Pyx_DECREF_SET(__pyx_v_src_url, __pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1369
 *             src_url = src_url.strip()
 * 
 *             if proto == 'm3u8' or src_ext == 'm3u8':             # <<<<<<<<<<<<<<
 *                 m3u8_formats = self._extract_m3u8_formats(
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)
 */
    __pyx_t_11 = (__Pyx_PyUnicode_Equals(__pyx_v_proto, __pyx_n_u_m3u8, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1369, __pyx_L1_error)
    if (!__pyx_t_11) {
    } else {
      __pyx_t_9 = __pyx_t_11;
      goto __pyx_L26_bool_binop_done;
    }
    __pyx_t_11 = (__Pyx_PyUnicode_Equals(__pyx_v_src_ext, __pyx_n_u_m3u8, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1369, __pyx_L1_error)
    __pyx_t_9 = __pyx_t_11;
    __pyx_L26_bool_binop_done:;
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1370
 * 
 *             if proto == 'm3u8' or src_ext == 'm3u8':
 *                 m3u8_formats = self._extract_m3u8_formats(             # <<<<<<<<<<<<<<
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)
 *                 if len(m3u8_formats) == 1:
 */
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_extract_m3u8_formats); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1370, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);

      /* "youtube_dl/extractor/common.py":1371
 *             if proto == 'm3u8' or src_ext == 'm3u8':
 *                 m3u8_formats = self._extract_m3u8_formats(
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)             # <<<<<<<<<<<<<<
 *                 if len(m3u8_formats) == 1:
 *                     m3u8_count += 1
 */
      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_ext); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1371, __pyx_L1_error)
      if (!__pyx_t_9) {
      } else {
        __Pyx_INCREF(__pyx_v_ext);
        __pyx_t_10 = __pyx_v_ext;
        goto __pyx_L28_bool_binop_done;
      }
      __Pyx_INCREF(__pyx_n_u_mp4);
      __pyx_t_10 = __pyx_n_u_mp4;
      __pyx_L28_bool_binop_done:;

      /* "youtube_dl/extractor/common.py":1370
 * 
 *             if proto == 'm3u8' or src_ext == 'm3u8':
 *                 m3u8_formats = self._extract_m3u8_formats(             # <<<<<<<<<<<<<<
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)
 *                 if len(m3u8_formats) == 1:
 */
      __pyx_t_7 = PyTuple_New(3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1370, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_INCREF(__pyx_v_src_url);
      __Pyx_GIVEREF(__pyx_v_src_url);
      PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_src_url);
      __Pyx_INCREF(__pyx_v_video_id);
      __Pyx_GIVEREF(__pyx_v_video_id);
      PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_v_video_id);
      __Pyx_GIVEREF(__pyx_t_10);
      PyTuple_SET_ITEM(__pyx_t_7, 2, __pyx_t_10);
      __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1371
 *             if proto == 'm3u8' or src_ext == 'm3u8':
 *                 m3u8_formats = self._extract_m3u8_formats(
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)             # <<<<<<<<<<<<<<
 *                 if len(m3u8_formats) == 1:
 *                     m3u8_count += 1
 */
      __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1371, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_s_m3u8_id, __pyx_n_u_hls) < 0) __PYX_ERR(0, 1371, __pyx_L1_error)
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_s_fatal, Py_False) < 0) __PYX_ERR(0, 1371, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1370
 * 
 *             if proto == 'm3u8' or src_ext == 'm3u8':
 *                 m3u8_formats = self._extract_m3u8_formats(             # <<<<<<<<<<<<<<
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)
 *                 if len(m3u8_formats) == 1:
 */
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_7, __pyx_t_10); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1370, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      __Pyx_XDECREF_SET(__pyx_v_m3u8_formats, __pyx_t_2);
      __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":1372
 *                 m3u8_formats = self._extract_m3u8_formats(
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)
 *                 if len(m3u8_formats) == 1:             # <<<<<<<<<<<<<<
 *                     m3u8_count += 1
 *                     m3u8_formats[0].update({
 */
      __pyx_t_14 = PyObject_Length(__pyx_v_m3u8_formats); if (unlikely(__pyx_t_14 == -1)) __PYX_ERR(0, 1372, __pyx_L1_error)
      __pyx_t_9 = ((__pyx_t_14 == 1) != 0);
      if (__pyx_t_9) {

        /* "youtube_dl/extractor/common.py":1373
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)
 *                 if len(m3u8_formats) == 1:
 *                     m3u8_count += 1             # <<<<<<<<<<<<<<
 *                     m3u8_formats[0].update({
 *                         'format_id': 'hls-%d' % (m3u8_count if bitrate is None else bitrate),
 */
        __pyx_t_2 = __Pyx_PyInt_AddObjC(__pyx_v_m3u8_count, __pyx_int_1, 1, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1373, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF_SET(__pyx_v_m3u8_count, __pyx_t_2);
        __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1374
 *                 if len(m3u8_formats) == 1:
 *                     m3u8_count += 1
 *                     m3u8_formats[0].update({             # <<<<<<<<<<<<<<
 *                         'format_id': 'hls-%d' % (m3u8_count if bitrate is None else bitrate),
 *                         'tbr': bitrate,
 */
        __pyx_t_10 = __Pyx_GetItemInt(__pyx_v_m3u8_formats, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1374, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_10, __pyx_n_s_update); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1374, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

        /* "youtube_dl/extractor/common.py":1375
 *                     m3u8_count += 1
 *                     m3u8_formats[0].update({
 *                         'format_id': 'hls-%d' % (m3u8_count if bitrate is None else bitrate),             # <<<<<<<<<<<<<<
 *                         'tbr': bitrate,
 *                         'width': width,
 */
        __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1375, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __pyx_t_9 = (__pyx_v_bitrate == Py_None);
        if ((__pyx_t_9 != 0)) {
          __Pyx_INCREF(__pyx_v_m3u8_count);
          __pyx_t_3 = __pyx_v_m3u8_count;
        } else {
          __Pyx_INCREF(__pyx_v_bitrate);
          __pyx_t_3 = __pyx_v_bitrate;
        }
        __pyx_t_1 = PyUnicode_Format(__pyx_kp_u_hls_d, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1375, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_format_id, __pyx_t_1) < 0) __PYX_ERR(0, 1375, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1376
 *                     m3u8_formats[0].update({
 *                         'format_id': 'hls-%d' % (m3u8_count if bitrate is None else bitrate),
 *                         'tbr': bitrate,             # <<<<<<<<<<<<<<
 *                         'width': width,
 *                         'height': height,
 */
        if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_tbr, __pyx_v_bitrate) < 0) __PYX_ERR(0, 1375, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1377
 *                         'format_id': 'hls-%d' % (m3u8_count if bitrate is None else bitrate),
 *                         'tbr': bitrate,
 *                         'width': width,             # <<<<<<<<<<<<<<
 *                         'height': height,
 *                     })
 */
        if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_width, __pyx_v_width) < 0) __PYX_ERR(0, 1375, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1378
 *                         'tbr': bitrate,
 *                         'width': width,
 *                         'height': height,             # <<<<<<<<<<<<<<
 *                     })
 *                 formats.extend(m3u8_formats)
 */
        if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_height, __pyx_v_height) < 0) __PYX_ERR(0, 1375, __pyx_L1_error)
        __pyx_t_1 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_7))) {
          __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_7);
          if (likely(__pyx_t_1)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
            __Pyx_INCREF(__pyx_t_1);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_7, function);
          }
        }
        if (!__pyx_t_1) {
          __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_10); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1374, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_GOTREF(__pyx_t_2);
        } else {
          __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1374, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_3);
          __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1); __pyx_t_1 = NULL;
          __Pyx_GIVEREF(__pyx_t_10);
          PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_t_10);
          __pyx_t_10 = 0;
          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1374, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        }
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1372
 *                 m3u8_formats = self._extract_m3u8_formats(
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)
 *                 if len(m3u8_formats) == 1:             # <<<<<<<<<<<<<<
 *                     m3u8_count += 1
 *                     m3u8_formats[0].update({
 */
      }

      /* "youtube_dl/extractor/common.py":1380
 *                         'height': height,
 *                     })
 *                 formats.extend(m3u8_formats)             # <<<<<<<<<<<<<<
 *                 continue
 * 
 */
      __pyx_t_13 = __Pyx_PyList_Extend(__pyx_v_formats, __pyx_v_m3u8_formats); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1380, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1381
 *                     })
 *                 formats.extend(m3u8_formats)
 *                 continue             # <<<<<<<<<<<<<<
 * 
 *             if src_ext == 'f4m':
 */
      goto __pyx_L8_continue;

      /* "youtube_dl/extractor/common.py":1369
 *             src_url = src_url.strip()
 * 
 *             if proto == 'm3u8' or src_ext == 'm3u8':             # <<<<<<<<<<<<<<
 *                 m3u8_formats = self._extract_m3u8_formats(
 *                     src_url, video_id, ext or 'mp4', m3u8_id='hls', fatal=False)
 */
    }

    /* "youtube_dl/extractor/common.py":1383
 *                 continue
 * 
 *             if src_ext == 'f4m':             # <<<<<<<<<<<<<<
 *                 f4m_url = src_url
 *                 if not f4m_params:
 */
    __pyx_t_9 = (__Pyx_PyUnicode_Equals(__pyx_v_src_ext, __pyx_n_u_f4m, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1383, __pyx_L1_error)
    if (__pyx_t_9) {

      /* "youtube_dl/extractor/common.py":1384
 * 
 *             if src_ext == 'f4m':
 *                 f4m_url = src_url             # <<<<<<<<<<<<<<
 *                 if not f4m_params:
 *                     f4m_params = {
 */
      __Pyx_INCREF(__pyx_v_src_url);
      __Pyx_XDECREF_SET(__pyx_v_f4m_url, __pyx_v_src_url);

      /* "youtube_dl/extractor/common.py":1385
 *             if src_ext == 'f4m':
 *                 f4m_url = src_url
 *                 if not f4m_params:             # <<<<<<<<<<<<<<
 *                     f4m_params = {
 *                         'hdcore': '3.2.0',
 */
      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_f4m_params); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1385, __pyx_L1_error)
      __pyx_t_11 = ((!__pyx_t_9) != 0);
      if (__pyx_t_11) {

        /* "youtube_dl/extractor/common.py":1387
 *                 if not f4m_params:
 *                     f4m_params = {
 *                         'hdcore': '3.2.0',             # <<<<<<<<<<<<<<
 *                         'plugin': 'flowplayer-3.2.0.1',
 *                     }
 */
        __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1387, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        if (PyDict_SetItem(__pyx_t_2, __pyx_n_u_hdcore, __pyx_kp_u_3_2_0) < 0) __PYX_ERR(0, 1387, __pyx_L1_error)
        if (PyDict_SetItem(__pyx_t_2, __pyx_n_u_plugin, __pyx_kp_u_flowplayer_3_2_0_1) < 0) __PYX_ERR(0, 1387, __pyx_L1_error)
        __Pyx_DECREF_SET(__pyx_v_f4m_params, __pyx_t_2);
        __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1385
 *             if src_ext == 'f4m':
 *                 f4m_url = src_url
 *                 if not f4m_params:             # <<<<<<<<<<<<<<
 *                     f4m_params = {
 *                         'hdcore': '3.2.0',
 */
      }

      /* "youtube_dl/extractor/common.py":1390
 *                         'plugin': 'flowplayer-3.2.0.1',
 *                     }
 *                 f4m_url += '&' if '?' in f4m_url else '?'             # <<<<<<<<<<<<<<
 *                 f4m_url += compat_urllib_parse_urlencode(f4m_params)
 *                 formats.extend(self._extract_f4m_formats(f4m_url, video_id, f4m_id='hds', fatal=False))
 */
      __pyx_t_11 = (__Pyx_PySequence_ContainsTF(__pyx_kp_u__166, __pyx_v_f4m_url, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1390, __pyx_L1_error)
      if ((__pyx_t_11 != 0)) {
        __Pyx_INCREF(__pyx_kp_u__167);
        __pyx_t_2 = __pyx_kp_u__167;
      } else {
        __Pyx_INCREF(__pyx_kp_u__166);
        __pyx_t_2 = __pyx_kp_u__166;
      }
      __pyx_t_7 = PyNumber_InPlaceAdd(__pyx_v_f4m_url, __pyx_t_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1390, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF_SET(__pyx_v_f4m_url, __pyx_t_7);
      __pyx_t_7 = 0;

      /* "youtube_dl/extractor/common.py":1391
 *                     }
 *                 f4m_url += '&' if '?' in f4m_url else '?'
 *                 f4m_url += compat_urllib_parse_urlencode(f4m_params)             # <<<<<<<<<<<<<<
 *                 formats.extend(self._extract_f4m_formats(f4m_url, video_id, f4m_id='hds', fatal=False))
 *                 continue
 */
      __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_urllib_parse_urlencode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1391, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_3 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
        if (likely(__pyx_t_3)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_2, function);
        }
      }
      if (!__pyx_t_3) {
        __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_f4m_params); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1391, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
      } else {
        __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1391, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_3); __pyx_t_3 = NULL;
        __Pyx_INCREF(__pyx_v_f4m_params);
        __Pyx_GIVEREF(__pyx_v_f4m_params);
        PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_v_f4m_params);
        __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_10, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1391, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = PyNumber_InPlaceAdd(__pyx_v_f4m_url, __pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1391, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF_SET(__pyx_v_f4m_url, __pyx_t_2);
      __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":1392
 *                 f4m_url += '&' if '?' in f4m_url else '?'
 *                 f4m_url += compat_urllib_parse_urlencode(f4m_params)
 *                 formats.extend(self._extract_f4m_formats(f4m_url, video_id, f4m_id='hds', fatal=False))             # <<<<<<<<<<<<<<
 *                 continue
 * 
 */
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_extract_f4m_formats); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1392, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_7 = PyTuple_New(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1392, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_INCREF(__pyx_v_f4m_url);
      __Pyx_GIVEREF(__pyx_v_f4m_url);
      PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_f4m_url);
      __Pyx_INCREF(__pyx_v_video_id);
      __Pyx_GIVEREF(__pyx_v_video_id);
      PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_v_video_id);
      __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1392, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_s_f4m_id, __pyx_n_u_hds) < 0) __PYX_ERR(0, 1392, __pyx_L1_error)
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_s_fatal, Py_False) < 0) __PYX_ERR(0, 1392, __pyx_L1_error)
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, __pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1392, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_13 = __Pyx_PyList_Extend(__pyx_v_formats, __pyx_t_3); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1392, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1393
 *                 f4m_url += compat_urllib_parse_urlencode(f4m_params)
 *                 formats.extend(self._extract_f4m_formats(f4m_url, video_id, f4m_id='hds', fatal=False))
 *                 continue             # <<<<<<<<<<<<<<
 * 
 *             if src_url.startswith('http') and self._is_valid_url(src, video_id):
 */
      goto __pyx_L8_continue;

      /* "youtube_dl/extractor/common.py":1383
 *                 continue
 * 
 *             if src_ext == 'f4m':             # <<<<<<<<<<<<<<
 *                 f4m_url = src_url
 *                 if not f4m_params:
 */
    }

    /* "youtube_dl/extractor/common.py":1395
 *                 continue
 * 
 *             if src_url.startswith('http') and self._is_valid_url(src, video_id):             # <<<<<<<<<<<<<<
 *                 http_count += 1
 *                 formats.append({
 */
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_src_url, __pyx_n_s_startswith); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1395, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__168, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1395, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_10); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1395, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    if (__pyx_t_9) {
    } else {
      __pyx_t_11 = __pyx_t_9;
      goto __pyx_L34_bool_binop_done;
    }
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_is_valid_url); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1395, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_7 = NULL;
    __pyx_t_14 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
        __pyx_t_14 = 1;
      }
    }
    __pyx_t_2 = PyTuple_New(2+__pyx_t_14); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1395, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    if (__pyx_t_7) {
      __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_7); __pyx_t_7 = NULL;
    }
    __Pyx_INCREF(__pyx_v_src);
    __Pyx_GIVEREF(__pyx_v_src);
    PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_14, __pyx_v_src);
    __Pyx_INCREF(__pyx_v_video_id);
    __Pyx_GIVEREF(__pyx_v_video_id);
    PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_14, __pyx_v_video_id);
    __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_2, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1395, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_10); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1395, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_11 = __pyx_t_9;
    __pyx_L34_bool_binop_done:;
    if (__pyx_t_11) {

      /* "youtube_dl/extractor/common.py":1396
 * 
 *             if src_url.startswith('http') and self._is_valid_url(src, video_id):
 *                 http_count += 1             # <<<<<<<<<<<<<<
 *                 formats.append({
 *                     'url': src_url,
 */
      __pyx_t_10 = __Pyx_PyInt_AddObjC(__pyx_v_http_count, __pyx_int_1, 1, 1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1396, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF_SET(__pyx_v_http_count, __pyx_t_10);
      __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1398
 *                 http_count += 1
 *                 formats.append({
 *                     'url': src_url,             # <<<<<<<<<<<<<<
 *                     'ext': ext or src_ext or 'flv',
 *                     'format_id': 'http-%d' % (bitrate or http_count),
 */
      __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1398, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_url, __pyx_v_src_url) < 0) __PYX_ERR(0, 1398, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1399
 *                 formats.append({
 *                     'url': src_url,
 *                     'ext': ext or src_ext or 'flv',             # <<<<<<<<<<<<<<
 *                     'format_id': 'http-%d' % (bitrate or http_count),
 *                     'tbr': bitrate,
 */
      __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_ext); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1399, __pyx_L1_error)
      if (!__pyx_t_11) {
      } else {
        __Pyx_INCREF(__pyx_v_ext);
        __pyx_t_3 = __pyx_v_ext;
        goto __pyx_L36_bool_binop_done;
      }
      __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_src_ext); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1399, __pyx_L1_error)
      if (!__pyx_t_11) {
      } else {
        __Pyx_INCREF(__pyx_v_src_ext);
        __pyx_t_3 = __pyx_v_src_ext;
        goto __pyx_L36_bool_binop_done;
      }
      __Pyx_INCREF(__pyx_n_u_flv);
      __pyx_t_3 = __pyx_n_u_flv;
      __pyx_L36_bool_binop_done:;
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_ext, __pyx_t_3) < 0) __PYX_ERR(0, 1398, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1400
 *                     'url': src_url,
 *                     'ext': ext or src_ext or 'flv',
 *                     'format_id': 'http-%d' % (bitrate or http_count),             # <<<<<<<<<<<<<<
 *                     'tbr': bitrate,
 *                     'filesize': filesize,
 */
      __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_bitrate); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1400, __pyx_L1_error)
      if (!__pyx_t_11) {
      } else {
        __Pyx_INCREF(__pyx_v_bitrate);
        __pyx_t_3 = __pyx_v_bitrate;
        goto __pyx_L39_bool_binop_done;
      }
      __Pyx_INCREF(__pyx_v_http_count);
      __pyx_t_3 = __pyx_v_http_count;
      __pyx_L39_bool_binop_done:;
      __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_http_d, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1400, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_format_id, __pyx_t_2) < 0) __PYX_ERR(0, 1398, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":1401
 *                     'ext': ext or src_ext or 'flv',
 *                     'format_id': 'http-%d' % (bitrate or http_count),
 *                     'tbr': bitrate,             # <<<<<<<<<<<<<<
 *                     'filesize': filesize,
 *                     'width': width,
 */
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_tbr, __pyx_v_bitrate) < 0) __PYX_ERR(0, 1398, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1402
 *                     'format_id': 'http-%d' % (bitrate or http_count),
 *                     'tbr': bitrate,
 *                     'filesize': filesize,             # <<<<<<<<<<<<<<
 *                     'width': width,
 *                     'height': height,
 */
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_filesize, __pyx_v_filesize) < 0) __PYX_ERR(0, 1398, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1403
 *                     'tbr': bitrate,
 *                     'filesize': filesize,
 *                     'width': width,             # <<<<<<<<<<<<<<
 *                     'height': height,
 *                 })
 */
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_width, __pyx_v_width) < 0) __PYX_ERR(0, 1398, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1404
 *                     'filesize': filesize,
 *                     'width': width,
 *                     'height': height,             # <<<<<<<<<<<<<<
 *                 })
 *                 continue
 */
      if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_height, __pyx_v_height) < 0) __PYX_ERR(0, 1398, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1397
 *             if src_url.startswith('http') and self._is_valid_url(src, video_id):
 *                 http_count += 1
 *                 formats.append({             # <<<<<<<<<<<<<<
 *                     'url': src_url,
 *                     'ext': ext or src_ext or 'flv',
 */
      __pyx_t_13 = __Pyx_PyList_Append(__pyx_v_formats, __pyx_t_10); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1397, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

      /* "youtube_dl/extractor/common.py":1406
 *                     'height': height,
 *                 })
 *                 continue             # <<<<<<<<<<<<<<
 * 
 *         return formats
 */
      goto __pyx_L8_continue;

      /* "youtube_dl/extractor/common.py":1395
 *                 continue
 * 
 *             if src_url.startswith('http') and self._is_valid_url(src, video_id):             # <<<<<<<<<<<<<<
 *                 http_count += 1
 *                 formats.append({
 */
    }

    /* "youtube_dl/extractor/common.py":1331
 *         srcs = []
 *         media = smil.findall(self._xpath_ns('.//video', namespace)) + smil.findall(self._xpath_ns('.//audio', namespace))
 *         for medium in media:             # <<<<<<<<<<<<<<
 *             src = medium.get('src')
 *             if not src or src in srcs:
 */
    __pyx_L8_continue:;
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1408
 *                 continue
 * 
 *         return formats             # <<<<<<<<<<<<<<
 * 
 *     def _parse_smil_subtitles(self, smil, namespace=None, subtitles_lang='en'):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_formats);
  __pyx_r = __pyx_v_formats;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1316
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 * 
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):             # <<<<<<<<<<<<<<
 *         base = smil_url
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_smil_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_base);
  __Pyx_XDECREF(__pyx_v_meta);
  __Pyx_XDECREF(__pyx_v_b);
  __Pyx_XDECREF(__pyx_v_formats);
  __Pyx_XDECREF(__pyx_v_rtmp_count);
  __Pyx_XDECREF(__pyx_v_http_count);
  __Pyx_XDECREF(__pyx_v_m3u8_count);
  __Pyx_XDECREF(__pyx_v_srcs);
  __Pyx_XDECREF(__pyx_v_media);
  __Pyx_XDECREF(__pyx_v_medium);
  __Pyx_XDECREF(__pyx_v_src);
  __Pyx_XDECREF(__pyx_v_bitrate);
  __Pyx_XDECREF(__pyx_v_filesize);
  __Pyx_XDECREF(__pyx_v_width);
  __Pyx_XDECREF(__pyx_v_height);
  __Pyx_XDECREF(__pyx_v_proto);
  __Pyx_XDECREF(__pyx_v_ext);
  __Pyx_XDECREF(__pyx_v_src_ext);
  __Pyx_XDECREF(__pyx_v_streamer);
  __Pyx_XDECREF(__pyx_v_src_url);
  __Pyx_XDECREF(__pyx_v_m3u8_formats);
  __Pyx_XDECREF(__pyx_v_f4m_url);
  __Pyx_XDECREF(__pyx_v_f4m_params);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1410
 *         return formats
 * 
 *     def _parse_smil_subtitles(self, smil, namespace=None, subtitles_lang='en'):             # <<<<<<<<<<<<<<
 *         urls = []
 *         subtitles = {}
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_139_parse_smil_subtitles(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_139_parse_smil_subtitles = {"_parse_smil_subtitles", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_139_parse_smil_subtitles, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_139_parse_smil_subtitles(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_smil = 0;
  PyObject *__pyx_v_namespace = 0;
  PyObject *__pyx_v_subtitles_lang = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_smil_subtitles (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_smil,&__pyx_n_s_namespace,&__pyx_n_s_subtitles_lang,0};
    PyObject* values[4] = {0,0,0,0};
    values[2] = ((PyObject *)((PyObject *)Py_None));
    values[3] = ((PyObject *)((PyObject*)__pyx_n_u_en));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_smil)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_smil_subtitles", 0, 2, 4, 1); __PYX_ERR(0, 1410, __pyx_L3_error)
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_namespace);
          if (value) { values[2] = value; kw_args--; }
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_subtitles_lang);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_smil_subtitles") < 0)) __PYX_ERR(0, 1410, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_smil = values[1];
    __pyx_v_namespace = values[2];
    __pyx_v_subtitles_lang = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_smil_subtitles", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1410, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_smil_subtitles", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_138_parse_smil_subtitles(__pyx_self, __pyx_v_self, __pyx_v_smil, __pyx_v_namespace, __pyx_v_subtitles_lang);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_138_parse_smil_subtitles(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_smil, PyObject *__pyx_v_namespace, PyObject *__pyx_v_subtitles_lang) {
  PyObject *__pyx_v_urls = NULL;
  PyObject *__pyx_v_subtitles = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_num = NULL;
  PyObject *__pyx_v_textstream = NULL;
  PyObject *__pyx_v_src = NULL;
  PyObject *__pyx_v_ext = NULL;
  PyObject *__pyx_v_lang = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  PyObject *(*__pyx_t_9)(PyObject *);
  int __pyx_t_10;
  int __pyx_t_11;
  int __pyx_t_12;
  int __pyx_t_13;
  PyObject *__pyx_t_14 = NULL;
  __Pyx_RefNannySetupContext("_parse_smil_subtitles", 0);

  /* "youtube_dl/extractor/common.py":1411
 * 
 *     def _parse_smil_subtitles(self, smil, namespace=None, subtitles_lang='en'):
 *         urls = []             # <<<<<<<<<<<<<<
 *         subtitles = {}
 *         for num, textstream in enumerate(smil.findall(self._xpath_ns('.//textstream', namespace))):
 */
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1411, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_urls = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1412
 *     def _parse_smil_subtitles(self, smil, namespace=None, subtitles_lang='en'):
 *         urls = []
 *         subtitles = {}             # <<<<<<<<<<<<<<
 *         for num, textstream in enumerate(smil.findall(self._xpath_ns('.//textstream', namespace))):
 *             src = textstream.get('src')
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1412, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_subtitles = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1413
 *         urls = []
 *         subtitles = {}
 *         for num, textstream in enumerate(smil.findall(self._xpath_ns('.//textstream', namespace))):             # <<<<<<<<<<<<<<
 *             src = textstream.get('src')
 *             if not src or src in urls:
 */
  __Pyx_INCREF(__pyx_int_0);
  __pyx_t_1 = __pyx_int_0;
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_smil, __pyx_n_s_findall); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1413, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_xpath_ns); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1413, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_6 = NULL;
  __pyx_t_7 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
    __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
    if (likely(__pyx_t_6)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_6);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_5, function);
      __pyx_t_7 = 1;
    }
  }
  __pyx_t_8 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1413, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_8);
  if (__pyx_t_6) {
    __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_6); __pyx_t_6 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_textstream);
  __Pyx_GIVEREF(__pyx_kp_u_textstream);
  PyTuple_SET_ITEM(__pyx_t_8, 0+__pyx_t_7, __pyx_kp_u_textstream);
  __Pyx_INCREF(__pyx_v_namespace);
  __Pyx_GIVEREF(__pyx_v_namespace);
  PyTuple_SET_ITEM(__pyx_t_8, 1+__pyx_t_7, __pyx_v_namespace);
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_8, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1413, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_5) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1413, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_GOTREF(__pyx_t_2);
  } else {
    __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1413, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_5); __pyx_t_5 = NULL;
    __Pyx_GIVEREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_8, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1413, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (likely(PyList_CheckExact(__pyx_t_2)) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_3 = __pyx_t_2; __Pyx_INCREF(__pyx_t_3); __pyx_t_7 = 0;
    __pyx_t_9 = NULL;
  } else {
    __pyx_t_7 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1413, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_9 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1413, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(!__pyx_t_9)) {
      if (likely(PyList_CheckExact(__pyx_t_3))) {
        if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_3)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 1413, __pyx_L1_error)
        #else
        __pyx_t_2 = PySequence_ITEM(__pyx_t_3, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1413, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        #endif
      } else {
        if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 1413, __pyx_L1_error)
        #else
        __pyx_t_2 = PySequence_ITEM(__pyx_t_3, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1413, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        #endif
      }
    } else {
      __pyx_t_2 = __pyx_t_9(__pyx_t_3);
      if (unlikely(!__pyx_t_2)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1413, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    __Pyx_XDECREF_SET(__pyx_v_textstream, __pyx_t_2);
    __pyx_t_2 = 0;
    __Pyx_INCREF(__pyx_t_1);
    __Pyx_XDECREF_SET(__pyx_v_num, __pyx_t_1);
    __pyx_t_2 = __Pyx_PyInt_AddObjC(__pyx_t_1, __pyx_int_1, 1, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1413, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1);
    __pyx_t_1 = __pyx_t_2;
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1414
 *         subtitles = {}
 *         for num, textstream in enumerate(smil.findall(self._xpath_ns('.//textstream', namespace))):
 *             src = textstream.get('src')             # <<<<<<<<<<<<<<
 *             if not src or src in urls:
 *                 continue
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_textstream, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1414, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__169, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1414, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF_SET(__pyx_v_src, __pyx_t_8);
    __pyx_t_8 = 0;

    /* "youtube_dl/extractor/common.py":1415
 *         for num, textstream in enumerate(smil.findall(self._xpath_ns('.//textstream', namespace))):
 *             src = textstream.get('src')
 *             if not src or src in urls:             # <<<<<<<<<<<<<<
 *                 continue
 *             urls.append(src)
 */
    __pyx_t_11 = __Pyx_PyObject_IsTrue(__pyx_v_src); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1415, __pyx_L1_error)
    __pyx_t_12 = ((!__pyx_t_11) != 0);
    if (!__pyx_t_12) {
    } else {
      __pyx_t_10 = __pyx_t_12;
      goto __pyx_L6_bool_binop_done;
    }
    __pyx_t_12 = (__Pyx_PySequence_ContainsTF(__pyx_v_src, __pyx_v_urls, Py_EQ)); if (unlikely(__pyx_t_12 < 0)) __PYX_ERR(0, 1415, __pyx_L1_error)
    __pyx_t_11 = (__pyx_t_12 != 0);
    __pyx_t_10 = __pyx_t_11;
    __pyx_L6_bool_binop_done:;
    if (__pyx_t_10) {

      /* "youtube_dl/extractor/common.py":1416
 *             src = textstream.get('src')
 *             if not src or src in urls:
 *                 continue             # <<<<<<<<<<<<<<
 *             urls.append(src)
 *             ext = textstream.get('ext') or mimetype2ext(textstream.get('type')) or determine_ext(src)
 */
      goto __pyx_L3_continue;

      /* "youtube_dl/extractor/common.py":1415
 *         for num, textstream in enumerate(smil.findall(self._xpath_ns('.//textstream', namespace))):
 *             src = textstream.get('src')
 *             if not src or src in urls:             # <<<<<<<<<<<<<<
 *                 continue
 *             urls.append(src)
 */
    }

    /* "youtube_dl/extractor/common.py":1417
 *             if not src or src in urls:
 *                 continue
 *             urls.append(src)             # <<<<<<<<<<<<<<
 *             ext = textstream.get('ext') or mimetype2ext(textstream.get('type')) or determine_ext(src)
 *             lang = textstream.get('systemLanguage') or textstream.get('systemLanguageName') or textstream.get('lang') or subtitles_lang
 */
    __pyx_t_13 = __Pyx_PyList_Append(__pyx_v_urls, __pyx_v_src); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1417, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1418
 *                 continue
 *             urls.append(src)
 *             ext = textstream.get('ext') or mimetype2ext(textstream.get('type')) or determine_ext(src)             # <<<<<<<<<<<<<<
 *             lang = textstream.get('systemLanguage') or textstream.get('systemLanguageName') or textstream.get('lang') or subtitles_lang
 *             subtitles.setdefault(lang, []).append({
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_textstream, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1418, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__170, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1418, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1418, __pyx_L1_error)
    if (!__pyx_t_10) {
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_4);
      __pyx_t_8 = __pyx_t_4;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L8_bool_binop_done;
    }
    __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_mimetype2ext); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1418, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_textstream, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1418, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__171, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1418, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_5)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_5);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
      }
    }
    if (!__pyx_t_5) {
      __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1418, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_GOTREF(__pyx_t_4);
    } else {
      __pyx_t_14 = PyTuple_New(1+1); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1418, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_14);
      __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_14, 0, __pyx_t_5); __pyx_t_5 = NULL;
      __Pyx_GIVEREF(__pyx_t_6);
      PyTuple_SET_ITEM(__pyx_t_14, 0+1, __pyx_t_6);
      __pyx_t_6 = 0;
      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_14, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1418, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
    }
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1418, __pyx_L1_error)
    if (!__pyx_t_10) {
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_4);
      __pyx_t_8 = __pyx_t_4;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L8_bool_binop_done;
    }
    __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_determine_ext); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1418, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_14 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_14)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_14);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
      }
    }
    if (!__pyx_t_14) {
      __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_src); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1418, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
    } else {
      __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1418, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_GIVEREF(__pyx_t_14); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_14); __pyx_t_14 = NULL;
      __Pyx_INCREF(__pyx_v_src);
      __Pyx_GIVEREF(__pyx_v_src);
      PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_v_src);
      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_6, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1418, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    }
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_INCREF(__pyx_t_4);
    __pyx_t_8 = __pyx_t_4;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_L8_bool_binop_done:;
    __Pyx_XDECREF_SET(__pyx_v_ext, __pyx_t_8);
    __pyx_t_8 = 0;

    /* "youtube_dl/extractor/common.py":1419
 *             urls.append(src)
 *             ext = textstream.get('ext') or mimetype2ext(textstream.get('type')) or determine_ext(src)
 *             lang = textstream.get('systemLanguage') or textstream.get('systemLanguageName') or textstream.get('lang') or subtitles_lang             # <<<<<<<<<<<<<<
 *             subtitles.setdefault(lang, []).append({
 *                 'url': src,
 */
    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_textstream, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1419, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__172, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1419, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1419, __pyx_L1_error)
    if (!__pyx_t_10) {
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_2);
      __pyx_t_8 = __pyx_t_2;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      goto __pyx_L11_bool_binop_done;
    }
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_textstream, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1419, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__173, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1419, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1419, __pyx_L1_error)
    if (!__pyx_t_10) {
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_4);
      __pyx_t_8 = __pyx_t_4;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L11_bool_binop_done;
    }
    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_textstream, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1419, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__174, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1419, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1419, __pyx_L1_error)
    if (!__pyx_t_10) {
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_2);
      __pyx_t_8 = __pyx_t_2;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      goto __pyx_L11_bool_binop_done;
    }
    __Pyx_INCREF(__pyx_v_subtitles_lang);
    __pyx_t_8 = __pyx_v_subtitles_lang;
    __pyx_L11_bool_binop_done:;
    __Pyx_XDECREF_SET(__pyx_v_lang, __pyx_t_8);
    __pyx_t_8 = 0;

    /* "youtube_dl/extractor/common.py":1420
 *             ext = textstream.get('ext') or mimetype2ext(textstream.get('type')) or determine_ext(src)
 *             lang = textstream.get('systemLanguage') or textstream.get('systemLanguageName') or textstream.get('lang') or subtitles_lang
 *             subtitles.setdefault(lang, []).append({             # <<<<<<<<<<<<<<
 *                 'url': src,
 *                 'ext': ext,
 */
    __pyx_t_8 = PyList_New(0); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1420, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __pyx_t_2 = __Pyx_PyDict_SetDefault(__pyx_v_subtitles, __pyx_v_lang, __pyx_t_8, -1L); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1420, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

    /* "youtube_dl/extractor/common.py":1421
 *             lang = textstream.get('systemLanguage') or textstream.get('systemLanguageName') or textstream.get('lang') or subtitles_lang
 *             subtitles.setdefault(lang, []).append({
 *                 'url': src,             # <<<<<<<<<<<<<<
 *                 'ext': ext,
 *             })
 */
    __pyx_t_8 = PyDict_New(); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1421, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    if (PyDict_SetItem(__pyx_t_8, __pyx_n_u_url, __pyx_v_src) < 0) __PYX_ERR(0, 1421, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1422
 *             subtitles.setdefault(lang, []).append({
 *                 'url': src,
 *                 'ext': ext,             # <<<<<<<<<<<<<<
 *             })
 *         return subtitles
 */
    if (PyDict_SetItem(__pyx_t_8, __pyx_n_u_ext, __pyx_v_ext) < 0) __PYX_ERR(0, 1421, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1420
 *             ext = textstream.get('ext') or mimetype2ext(textstream.get('type')) or determine_ext(src)
 *             lang = textstream.get('systemLanguage') or textstream.get('systemLanguageName') or textstream.get('lang') or subtitles_lang
 *             subtitles.setdefault(lang, []).append({             # <<<<<<<<<<<<<<
 *                 'url': src,
 *                 'ext': ext,
 */
    __pyx_t_13 = __Pyx_PyObject_Append(__pyx_t_2, __pyx_t_8); if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 1420, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

    /* "youtube_dl/extractor/common.py":1413
 *         urls = []
 *         subtitles = {}
 *         for num, textstream in enumerate(smil.findall(self._xpath_ns('.//textstream', namespace))):             # <<<<<<<<<<<<<<
 *             src = textstream.get('src')
 *             if not src or src in urls:
 */
    __pyx_L3_continue:;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1424
 *                 'ext': ext,
 *             })
 *         return subtitles             # <<<<<<<<<<<<<<
 * 
 *     def _extract_xspf_playlist(self, playlist_url, playlist_id, fatal=True):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_subtitles);
  __pyx_r = __pyx_v_subtitles;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1410
 *         return formats
 * 
 *     def _parse_smil_subtitles(self, smil, namespace=None, subtitles_lang='en'):             # <<<<<<<<<<<<<<
 *         urls = []
 *         subtitles = {}
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_14);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_smil_subtitles", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_urls);
  __Pyx_XDECREF(__pyx_v_subtitles);
  __Pyx_XDECREF(__pyx_v_num);
  __Pyx_XDECREF(__pyx_v_textstream);
  __Pyx_XDECREF(__pyx_v_src);
  __Pyx_XDECREF(__pyx_v_ext);
  __Pyx_XDECREF(__pyx_v_lang);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1426
 *         return subtitles
 * 
 *     def _extract_xspf_playlist(self, playlist_url, playlist_id, fatal=True):             # <<<<<<<<<<<<<<
 *         xspf = self._download_xml(
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_141_extract_xspf_playlist(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_141_extract_xspf_playlist = {"_extract_xspf_playlist", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_141_extract_xspf_playlist, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_141_extract_xspf_playlist(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_playlist_url = 0;
  PyObject *__pyx_v_playlist_id = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_extract_xspf_playlist (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_playlist_url,&__pyx_n_s_playlist_id,&__pyx_n_s_fatal,0};
    PyObject* values[4] = {0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_True));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_playlist_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_xspf_playlist", 0, 3, 4, 1); __PYX_ERR(0, 1426, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_playlist_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_xspf_playlist", 0, 3, 4, 2); __PYX_ERR(0, 1426, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_extract_xspf_playlist") < 0)) __PYX_ERR(0, 1426, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_playlist_url = values[1];
    __pyx_v_playlist_id = values[2];
    __pyx_v_fatal = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_extract_xspf_playlist", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1426, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_xspf_playlist", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_140_extract_xspf_playlist(__pyx_self, __pyx_v_self, __pyx_v_playlist_url, __pyx_v_playlist_id, __pyx_v_fatal);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_140_extract_xspf_playlist(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_playlist_url, PyObject *__pyx_v_playlist_id, PyObject *__pyx_v_fatal) {
  PyObject *__pyx_v_xspf = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  Py_ssize_t __pyx_t_7;
  __Pyx_RefNannySetupContext("_extract_xspf_playlist", 0);

  /* "youtube_dl/extractor/common.py":1427
 * 
 *     def _extract_xspf_playlist(self, playlist_url, playlist_id, fatal=True):
 *         xspf = self._download_xml(             # <<<<<<<<<<<<<<
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 *             'Unable to download xspf manifest', fatal=fatal)
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_xml); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1427, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":1428
 *     def _extract_xspf_playlist(self, playlist_url, playlist_id, fatal=True):
 *         xspf = self._download_xml(
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',             # <<<<<<<<<<<<<<
 *             'Unable to download xspf manifest', fatal=fatal)
 *         if xspf is False:
 */
  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1427, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_playlist_url);
  __Pyx_GIVEREF(__pyx_v_playlist_url);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_playlist_url);
  __Pyx_INCREF(__pyx_v_playlist_id);
  __Pyx_GIVEREF(__pyx_v_playlist_id);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_playlist_id);
  __Pyx_INCREF(__pyx_kp_u_Downloading_xpsf_playlist);
  __Pyx_GIVEREF(__pyx_kp_u_Downloading_xpsf_playlist);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_kp_u_Downloading_xpsf_playlist);
  __Pyx_INCREF(__pyx_kp_u_Unable_to_download_xspf_manifest);
  __Pyx_GIVEREF(__pyx_kp_u_Unable_to_download_xspf_manifest);
  PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_kp_u_Unable_to_download_xspf_manifest);

  /* "youtube_dl/extractor/common.py":1429
 *         xspf = self._download_xml(
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 *             'Unable to download xspf manifest', fatal=fatal)             # <<<<<<<<<<<<<<
 *         if xspf is False:
 *             return []
 */
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1429, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1429, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1427
 * 
 *     def _extract_xspf_playlist(self, playlist_url, playlist_id, fatal=True):
 *         xspf = self._download_xml(             # <<<<<<<<<<<<<<
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 *             'Unable to download xspf manifest', fatal=fatal)
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1427, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_xspf = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1430
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 *             'Unable to download xspf manifest', fatal=fatal)
 *         if xspf is False:             # <<<<<<<<<<<<<<
 *             return []
 *         return self._parse_xspf(xspf, playlist_id)
 */
  __pyx_t_5 = (__pyx_v_xspf == Py_False);
  __pyx_t_6 = (__pyx_t_5 != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":1431
 *             'Unable to download xspf manifest', fatal=fatal)
 *         if xspf is False:
 *             return []             # <<<<<<<<<<<<<<
 *         return self._parse_xspf(xspf, playlist_id)
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = PyList_New(0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1431, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1430
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 *             'Unable to download xspf manifest', fatal=fatal)
 *         if xspf is False:             # <<<<<<<<<<<<<<
 *             return []
 *         return self._parse_xspf(xspf, playlist_id)
 */
  }

  /* "youtube_dl/extractor/common.py":1432
 *         if xspf is False:
 *             return []
 *         return self._parse_xspf(xspf, playlist_id)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_xspf(self, playlist, playlist_id):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_xspf); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1432, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = NULL;
  __pyx_t_7 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_7 = 1;
    }
  }
  __pyx_t_1 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1432, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (__pyx_t_2) {
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2); __pyx_t_2 = NULL;
  }
  __Pyx_INCREF(__pyx_v_xspf);
  __Pyx_GIVEREF(__pyx_v_xspf);
  PyTuple_SET_ITEM(__pyx_t_1, 0+__pyx_t_7, __pyx_v_xspf);
  __Pyx_INCREF(__pyx_v_playlist_id);
  __Pyx_GIVEREF(__pyx_v_playlist_id);
  PyTuple_SET_ITEM(__pyx_t_1, 1+__pyx_t_7, __pyx_v_playlist_id);
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1432, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1426
 *         return subtitles
 * 
 *     def _extract_xspf_playlist(self, playlist_url, playlist_id, fatal=True):             # <<<<<<<<<<<<<<
 *         xspf = self._download_xml(
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_xspf_playlist", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_xspf);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1434
 *         return self._parse_xspf(xspf, playlist_id)
 * 
 *     def _parse_xspf(self, playlist, playlist_id):             # <<<<<<<<<<<<<<
 *         NS_MAP = {
 *             'xspf': 'http://xspf.org/ns/0/',
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_143_parse_xspf(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_143_parse_xspf = {"_parse_xspf", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_143_parse_xspf, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_143_parse_xspf(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_playlist = 0;
  PyObject *__pyx_v_playlist_id = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_xspf (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_playlist,&__pyx_n_s_playlist_id,0};
    PyObject* values[3] = {0,0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_playlist)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_xspf", 1, 3, 3, 1); __PYX_ERR(0, 1434, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_playlist_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_xspf", 1, 3, 3, 2); __PYX_ERR(0, 1434, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_xspf") < 0)) __PYX_ERR(0, 1434, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
    }
    __pyx_v_self = values[0];
    __pyx_v_playlist = values[1];
    __pyx_v_playlist_id = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_xspf", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1434, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_xspf", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_142_parse_xspf(__pyx_self, __pyx_v_self, __pyx_v_playlist, __pyx_v_playlist_id);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_142_parse_xspf(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_playlist, PyObject *__pyx_v_playlist_id) {
  PyObject *__pyx_v_NS_MAP = NULL;
  PyObject *__pyx_v_entries = NULL;
  PyObject *__pyx_v_track = NULL;
  PyObject *__pyx_v_title = NULL;
  PyObject *__pyx_v_description = NULL;
  PyObject *__pyx_v_thumbnail = NULL;
  PyObject *__pyx_v_duration = NULL;
  PyObject *__pyx_v_formats = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  Py_ssize_t __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  PyObject *(*__pyx_t_8)(PyObject *);
  Py_ssize_t __pyx_t_9;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  PyObject *__pyx_t_12 = NULL;
  PyObject *(*__pyx_t_13)(PyObject *);
  Py_ssize_t __pyx_t_14;
  PyObject *__pyx_t_15 = NULL;
  PyObject *__pyx_t_16 = NULL;
  PyObject *__pyx_t_17 = NULL;
  int __pyx_t_18;
  __Pyx_RefNannySetupContext("_parse_xspf", 0);

  /* "youtube_dl/extractor/common.py":1436
 *     def _parse_xspf(self, playlist, playlist_id):
 *         NS_MAP = {
 *             'xspf': 'http://xspf.org/ns/0/',             # <<<<<<<<<<<<<<
 *             's1': 'http://static.streamone.nl/player/ns/0',
 *         }
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1436, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_xspf, __pyx_kp_u_http_xspf_org_ns_0) < 0) __PYX_ERR(0, 1436, __pyx_L1_error)
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_s1, __pyx_kp_u_http_static_streamone_nl_player) < 0) __PYX_ERR(0, 1436, __pyx_L1_error)
  __pyx_v_NS_MAP = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1440
 *         }
 * 
 *         entries = []             # <<<<<<<<<<<<<<
 *         for track in playlist.findall(xpath_with_ns('./xspf:trackList/xspf:track', NS_MAP)):
 *             title = xpath_text(
 */
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1440, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_entries = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1441
 * 
 *         entries = []
 *         for track in playlist.findall(xpath_with_ns('./xspf:trackList/xspf:track', NS_MAP)):             # <<<<<<<<<<<<<<
 *             title = xpath_text(
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_playlist, __pyx_n_s_findall); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1441, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1441, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
      __pyx_t_6 = 1;
    }
  }
  __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1441, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  if (__pyx_t_5) {
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_5); __pyx_t_5 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_xspf_trackList_xspf_track);
  __Pyx_GIVEREF(__pyx_kp_u_xspf_trackList_xspf_track);
  PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_6, __pyx_kp_u_xspf_trackList_xspf_track);
  __Pyx_INCREF(__pyx_v_NS_MAP);
  __Pyx_GIVEREF(__pyx_v_NS_MAP);
  PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_6, __pyx_v_NS_MAP);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_7, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1441, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1441, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_7 = PyTuple_New(1+1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1441, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_7, 0+1, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1441, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (likely(PyList_CheckExact(__pyx_t_1)) || PyTuple_CheckExact(__pyx_t_1)) {
    __pyx_t_2 = __pyx_t_1; __Pyx_INCREF(__pyx_t_2); __pyx_t_6 = 0;
    __pyx_t_8 = NULL;
  } else {
    __pyx_t_6 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1441, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_8 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1441, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  for (;;) {
    if (likely(!__pyx_t_8)) {
      if (likely(PyList_CheckExact(__pyx_t_2))) {
        if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1441, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1441, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      } else {
        if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1441, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1441, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      }
    } else {
      __pyx_t_1 = __pyx_t_8(__pyx_t_2);
      if (unlikely(!__pyx_t_1)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1441, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    __Pyx_XDECREF_SET(__pyx_v_track, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1442
 *         entries = []
 *         for track in playlist.findall(xpath_with_ns('./xspf:trackList/xspf:track', NS_MAP)):
 *             title = xpath_text(             # <<<<<<<<<<<<<<
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)
 *             description = xpath_text(
 */
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1442, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);

    /* "youtube_dl/extractor/common.py":1443
 *         for track in playlist.findall(xpath_with_ns('./xspf:trackList/xspf:track', NS_MAP)):
 *             title = xpath_text(
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)             # <<<<<<<<<<<<<<
 *             description = xpath_text(
 *                 track, xpath_with_ns('./xspf:annotation', NS_MAP), 'description')
 */
    __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1443, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_9 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_4);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
        __pyx_t_9 = 1;
      }
    }
    __pyx_t_5 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1443, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    if (__pyx_t_4) {
      __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_u_xspf_title);
    __Pyx_GIVEREF(__pyx_kp_u_xspf_title);
    PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_9, __pyx_kp_u_xspf_title);
    __Pyx_INCREF(__pyx_v_NS_MAP);
    __Pyx_GIVEREF(__pyx_v_NS_MAP);
    PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_9, __pyx_v_NS_MAP);
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1443, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1442
 *         entries = []
 *         for track in playlist.findall(xpath_with_ns('./xspf:trackList/xspf:track', NS_MAP)):
 *             title = xpath_text(             # <<<<<<<<<<<<<<
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)
 *             description = xpath_text(
 */
    __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1442, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_track);
    __Pyx_GIVEREF(__pyx_v_track);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_track);
    __Pyx_GIVEREF(__pyx_t_7);
    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_7);
    __Pyx_INCREF(__pyx_n_u_title);
    __Pyx_GIVEREF(__pyx_n_u_title);
    PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_n_u_title);
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1443
 *         for track in playlist.findall(xpath_with_ns('./xspf:trackList/xspf:track', NS_MAP)):
 *             title = xpath_text(
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)             # <<<<<<<<<<<<<<
 *             description = xpath_text(
 *                 track, xpath_with_ns('./xspf:annotation', NS_MAP), 'description')
 */
    __pyx_t_7 = PyDict_New(); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1443, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_default, __pyx_v_playlist_id) < 0) __PYX_ERR(0, 1443, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1442
 *         entries = []
 *         for track in playlist.findall(xpath_with_ns('./xspf:trackList/xspf:track', NS_MAP)):
 *             title = xpath_text(             # <<<<<<<<<<<<<<
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)
 *             description = xpath_text(
 */
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1442, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF_SET(__pyx_v_title, __pyx_t_5);
    __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1444
 *             title = xpath_text(
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)
 *             description = xpath_text(             # <<<<<<<<<<<<<<
 *                 track, xpath_with_ns('./xspf:annotation', NS_MAP), 'description')
 *             thumbnail = xpath_text(
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_text); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1444, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);

    /* "youtube_dl/extractor/common.py":1445
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)
 *             description = xpath_text(
 *                 track, xpath_with_ns('./xspf:annotation', NS_MAP), 'description')             # <<<<<<<<<<<<<<
 *             thumbnail = xpath_text(
 *                 track, xpath_with_ns('./xspf:image', NS_MAP), 'thumbnail')
 */
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1445, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_4 = NULL;
    __pyx_t_9 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_4)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_4);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
        __pyx_t_9 = 1;
      }
    }
    __pyx_t_10 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1445, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    if (__pyx_t_4) {
      __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_4); __pyx_t_4 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_u_xspf_annotation);
    __Pyx_GIVEREF(__pyx_kp_u_xspf_annotation);
    PyTuple_SET_ITEM(__pyx_t_10, 0+__pyx_t_9, __pyx_kp_u_xspf_annotation);
    __Pyx_INCREF(__pyx_v_NS_MAP);
    __Pyx_GIVEREF(__pyx_v_NS_MAP);
    PyTuple_SET_ITEM(__pyx_t_10, 1+__pyx_t_9, __pyx_v_NS_MAP);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_10, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1445, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_9 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
      __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_7);
      if (likely(__pyx_t_1)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
        __Pyx_INCREF(__pyx_t_1);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_7, function);
        __pyx_t_9 = 1;
      }
    }
    __pyx_t_10 = PyTuple_New(3+__pyx_t_9); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1444, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    if (__pyx_t_1) {
      __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_1); __pyx_t_1 = NULL;
    }
    __Pyx_INCREF(__pyx_v_track);
    __Pyx_GIVEREF(__pyx_v_track);
    PyTuple_SET_ITEM(__pyx_t_10, 0+__pyx_t_9, __pyx_v_track);
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_10, 1+__pyx_t_9, __pyx_t_3);
    __Pyx_INCREF(__pyx_n_u_description);
    __Pyx_GIVEREF(__pyx_n_u_description);
    PyTuple_SET_ITEM(__pyx_t_10, 2+__pyx_t_9, __pyx_n_u_description);
    __pyx_t_3 = 0;
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_10, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1444, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF_SET(__pyx_v_description, __pyx_t_5);
    __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1446
 *             description = xpath_text(
 *                 track, xpath_with_ns('./xspf:annotation', NS_MAP), 'description')
 *             thumbnail = xpath_text(             # <<<<<<<<<<<<<<
 *                 track, xpath_with_ns('./xspf:image', NS_MAP), 'thumbnail')
 *             duration = float_or_none(
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_text); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1446, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);

    /* "youtube_dl/extractor/common.py":1447
 *                 track, xpath_with_ns('./xspf:annotation', NS_MAP), 'description')
 *             thumbnail = xpath_text(
 *                 track, xpath_with_ns('./xspf:image', NS_MAP), 'thumbnail')             # <<<<<<<<<<<<<<
 *             duration = float_or_none(
 *                 xpath_text(track, xpath_with_ns('./xspf:duration', NS_MAP), 'duration'), 1000)
 */
    __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1447, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = NULL;
    __pyx_t_9 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_1);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
        __pyx_t_9 = 1;
      }
    }
    __pyx_t_4 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1447, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    if (__pyx_t_1) {
      __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_1); __pyx_t_1 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_u_xspf_image);
    __Pyx_GIVEREF(__pyx_kp_u_xspf_image);
    PyTuple_SET_ITEM(__pyx_t_4, 0+__pyx_t_9, __pyx_kp_u_xspf_image);
    __Pyx_INCREF(__pyx_v_NS_MAP);
    __Pyx_GIVEREF(__pyx_v_NS_MAP);
    PyTuple_SET_ITEM(__pyx_t_4, 1+__pyx_t_9, __pyx_v_NS_MAP);
    __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1447, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_9 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
      __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_7);
      if (likely(__pyx_t_3)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
        __Pyx_INCREF(__pyx_t_3);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_7, function);
        __pyx_t_9 = 1;
      }
    }
    __pyx_t_4 = PyTuple_New(3+__pyx_t_9); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1446, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    if (__pyx_t_3) {
      __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3); __pyx_t_3 = NULL;
    }
    __Pyx_INCREF(__pyx_v_track);
    __Pyx_GIVEREF(__pyx_v_track);
    PyTuple_SET_ITEM(__pyx_t_4, 0+__pyx_t_9, __pyx_v_track);
    __Pyx_GIVEREF(__pyx_t_10);
    PyTuple_SET_ITEM(__pyx_t_4, 1+__pyx_t_9, __pyx_t_10);
    __Pyx_INCREF(__pyx_n_u_thumbnail);
    __Pyx_GIVEREF(__pyx_n_u_thumbnail);
    PyTuple_SET_ITEM(__pyx_t_4, 2+__pyx_t_9, __pyx_n_u_thumbnail);
    __pyx_t_10 = 0;
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_4, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1446, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF_SET(__pyx_v_thumbnail, __pyx_t_5);
    __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1448
 *             thumbnail = xpath_text(
 *                 track, xpath_with_ns('./xspf:image', NS_MAP), 'thumbnail')
 *             duration = float_or_none(             # <<<<<<<<<<<<<<
 *                 xpath_text(track, xpath_with_ns('./xspf:duration', NS_MAP), 'duration'), 1000)
 * 
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_float_or_none); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1448, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);

    /* "youtube_dl/extractor/common.py":1449
 *                 track, xpath_with_ns('./xspf:image', NS_MAP), 'thumbnail')
 *             duration = float_or_none(
 *                 xpath_text(track, xpath_with_ns('./xspf:duration', NS_MAP), 'duration'), 1000)             # <<<<<<<<<<<<<<
 * 
 *             formats = [{
 */
    __pyx_t_10 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_text); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1449, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1449, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_11 = NULL;
    __pyx_t_9 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_11)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_11);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
        __pyx_t_9 = 1;
      }
    }
    __pyx_t_12 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1449, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    if (__pyx_t_11) {
      __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_11); __pyx_t_11 = NULL;
    }
    __Pyx_INCREF(__pyx_kp_u_xspf_duration);
    __Pyx_GIVEREF(__pyx_kp_u_xspf_duration);
    PyTuple_SET_ITEM(__pyx_t_12, 0+__pyx_t_9, __pyx_kp_u_xspf_duration);
    __Pyx_INCREF(__pyx_v_NS_MAP);
    __Pyx_GIVEREF(__pyx_v_NS_MAP);
    PyTuple_SET_ITEM(__pyx_t_12, 1+__pyx_t_9, __pyx_v_NS_MAP);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_12, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1449, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_9 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_10))) {
      __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_10);
      if (likely(__pyx_t_1)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
        __Pyx_INCREF(__pyx_t_1);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_10, function);
        __pyx_t_9 = 1;
      }
    }
    __pyx_t_12 = PyTuple_New(3+__pyx_t_9); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1449, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    if (__pyx_t_1) {
      __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_1); __pyx_t_1 = NULL;
    }
    __Pyx_INCREF(__pyx_v_track);
    __Pyx_GIVEREF(__pyx_v_track);
    PyTuple_SET_ITEM(__pyx_t_12, 0+__pyx_t_9, __pyx_v_track);
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_12, 1+__pyx_t_9, __pyx_t_3);
    __Pyx_INCREF(__pyx_n_u_duration);
    __Pyx_GIVEREF(__pyx_n_u_duration);
    PyTuple_SET_ITEM(__pyx_t_12, 2+__pyx_t_9, __pyx_n_u_duration);
    __pyx_t_3 = 0;
    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_12, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1449, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = NULL;
    __pyx_t_9 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
      __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_7);
      if (likely(__pyx_t_10)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
        __Pyx_INCREF(__pyx_t_10);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_7, function);
        __pyx_t_9 = 1;
      }
    }
    __pyx_t_12 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1448, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    if (__pyx_t_10) {
      __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_10); __pyx_t_10 = NULL;
    }
    __Pyx_GIVEREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_12, 0+__pyx_t_9, __pyx_t_4);
    __Pyx_INCREF(__pyx_int_1000);
    __Pyx_GIVEREF(__pyx_int_1000);
    PyTuple_SET_ITEM(__pyx_t_12, 1+__pyx_t_9, __pyx_int_1000);
    __pyx_t_4 = 0;
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_12, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1448, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF_SET(__pyx_v_duration, __pyx_t_5);
    __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1451
 *                 xpath_text(track, xpath_with_ns('./xspf:duration', NS_MAP), 'duration'), 1000)
 * 
 *             formats = [{             # <<<<<<<<<<<<<<
 *                 'url': location.text,
 *                 'format_id': location.get(xpath_with_ns('s1:label', NS_MAP)),
 */
    { /* enter inner scope */
      PyObject *__pyx_8genexpr5__pyx_v_location = NULL;
      __pyx_t_5 = PyList_New(0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1451, __pyx_L7_error)
      __Pyx_GOTREF(__pyx_t_5);

      /* "youtube_dl/extractor/common.py":1456
 *                 'width': int_or_none(location.get(xpath_with_ns('s1:width', NS_MAP))),
 *                 'height': int_or_none(location.get(xpath_with_ns('s1:height', NS_MAP))),
 *             } for location in track.findall(xpath_with_ns('./xspf:location', NS_MAP))]             # <<<<<<<<<<<<<<
 *             self._sort_formats(formats)
 * 
 */
      __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_track, __pyx_n_s_findall); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1456, __pyx_L7_error)
      __Pyx_GOTREF(__pyx_t_12);
      __pyx_t_10 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1456, __pyx_L7_error)
      __Pyx_GOTREF(__pyx_t_10);
      __pyx_t_3 = NULL;
      __pyx_t_9 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_10))) {
        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_10);
        if (likely(__pyx_t_3)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_10, function);
          __pyx_t_9 = 1;
        }
      }
      __pyx_t_1 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1456, __pyx_L7_error)
      __Pyx_GOTREF(__pyx_t_1);
      if (__pyx_t_3) {
        __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3); __pyx_t_3 = NULL;
      }
      __Pyx_INCREF(__pyx_kp_u_xspf_location);
      __Pyx_GIVEREF(__pyx_kp_u_xspf_location);
      PyTuple_SET_ITEM(__pyx_t_1, 0+__pyx_t_9, __pyx_kp_u_xspf_location);
      __Pyx_INCREF(__pyx_v_NS_MAP);
      __Pyx_GIVEREF(__pyx_v_NS_MAP);
      PyTuple_SET_ITEM(__pyx_t_1, 1+__pyx_t_9, __pyx_v_NS_MAP);
      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1456, __pyx_L7_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_10 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_12))) {
        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_12);
        if (likely(__pyx_t_10)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
          __Pyx_INCREF(__pyx_t_10);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_12, function);
        }
      }
      if (!__pyx_t_10) {
        __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_4); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1456, __pyx_L7_error)
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_GOTREF(__pyx_t_7);
      } else {
        __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1456, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_10); __pyx_t_10 = NULL;
        __Pyx_GIVEREF(__pyx_t_4);
        PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_t_4);
        __pyx_t_4 = 0;
        __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_t_1, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1456, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      }
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      if (likely(PyList_CheckExact(__pyx_t_7)) || PyTuple_CheckExact(__pyx_t_7)) {
        __pyx_t_12 = __pyx_t_7; __Pyx_INCREF(__pyx_t_12); __pyx_t_9 = 0;
        __pyx_t_13 = NULL;
      } else {
        __pyx_t_9 = -1; __pyx_t_12 = PyObject_GetIter(__pyx_t_7); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1456, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_12);
        __pyx_t_13 = Py_TYPE(__pyx_t_12)->tp_iternext; if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1456, __pyx_L7_error)
      }
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      for (;;) {
        if (likely(!__pyx_t_13)) {
          if (likely(PyList_CheckExact(__pyx_t_12))) {
            if (__pyx_t_9 >= PyList_GET_SIZE(__pyx_t_12)) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_7 = PyList_GET_ITEM(__pyx_t_12, __pyx_t_9); __Pyx_INCREF(__pyx_t_7); __pyx_t_9++; if (unlikely(0 < 0)) __PYX_ERR(0, 1456, __pyx_L7_error)
            #else
            __pyx_t_7 = PySequence_ITEM(__pyx_t_12, __pyx_t_9); __pyx_t_9++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1456, __pyx_L7_error)
            __Pyx_GOTREF(__pyx_t_7);
            #endif
          } else {
            if (__pyx_t_9 >= PyTuple_GET_SIZE(__pyx_t_12)) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_12, __pyx_t_9); __Pyx_INCREF(__pyx_t_7); __pyx_t_9++; if (unlikely(0 < 0)) __PYX_ERR(0, 1456, __pyx_L7_error)
            #else
            __pyx_t_7 = PySequence_ITEM(__pyx_t_12, __pyx_t_9); __pyx_t_9++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1456, __pyx_L7_error)
            __Pyx_GOTREF(__pyx_t_7);
            #endif
          }
        } else {
          __pyx_t_7 = __pyx_t_13(__pyx_t_12);
          if (unlikely(!__pyx_t_7)) {
            PyObject* exc_type = PyErr_Occurred();
            if (exc_type) {
              if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
              else __PYX_ERR(0, 1456, __pyx_L7_error)
            }
            break;
          }
          __Pyx_GOTREF(__pyx_t_7);
        }
        __Pyx_XDECREF_SET(__pyx_8genexpr5__pyx_v_location, __pyx_t_7);
        __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":1452
 * 
 *             formats = [{
 *                 'url': location.text,             # <<<<<<<<<<<<<<
 *                 'format_id': location.get(xpath_with_ns('s1:label', NS_MAP)),
 *                 'width': int_or_none(location.get(xpath_with_ns('s1:width', NS_MAP))),
 */
        __pyx_t_7 = PyDict_New(); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1452, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr5__pyx_v_location, __pyx_n_s_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1452, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_1);
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_u_url, __pyx_t_1) < 0) __PYX_ERR(0, 1452, __pyx_L7_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1453
 *             formats = [{
 *                 'url': location.text,
 *                 'format_id': location.get(xpath_with_ns('s1:label', NS_MAP)),             # <<<<<<<<<<<<<<
 *                 'width': int_or_none(location.get(xpath_with_ns('s1:width', NS_MAP))),
 *                 'height': int_or_none(location.get(xpath_with_ns('s1:height', NS_MAP))),
 */
        __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr5__pyx_v_location, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1453, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1453, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_3);
        __pyx_t_11 = NULL;
        __pyx_t_14 = 0;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
          __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_3);
          if (likely(__pyx_t_11)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
            __Pyx_INCREF(__pyx_t_11);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_3, function);
            __pyx_t_14 = 1;
          }
        }
        __pyx_t_15 = PyTuple_New(2+__pyx_t_14); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1453, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_15);
        if (__pyx_t_11) {
          __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_11); __pyx_t_11 = NULL;
        }
        __Pyx_INCREF(__pyx_kp_u_s1_label);
        __Pyx_GIVEREF(__pyx_kp_u_s1_label);
        PyTuple_SET_ITEM(__pyx_t_15, 0+__pyx_t_14, __pyx_kp_u_s1_label);
        __Pyx_INCREF(__pyx_v_NS_MAP);
        __Pyx_GIVEREF(__pyx_v_NS_MAP);
        PyTuple_SET_ITEM(__pyx_t_15, 1+__pyx_t_14, __pyx_v_NS_MAP);
        __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_15, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1453, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
          __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
          if (likely(__pyx_t_3)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
            __Pyx_INCREF(__pyx_t_3);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_4, function);
          }
        }
        if (!__pyx_t_3) {
          __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1453, __pyx_L7_error)
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_GOTREF(__pyx_t_1);
        } else {
          __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1453, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_3); __pyx_t_3 = NULL;
          __Pyx_GIVEREF(__pyx_t_10);
          PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_t_10);
          __pyx_t_10 = 0;
          __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_15, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1453, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
        }
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_u_format_id, __pyx_t_1) < 0) __PYX_ERR(0, 1452, __pyx_L7_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1454
 *                 'url': location.text,
 *                 'format_id': location.get(xpath_with_ns('s1:label', NS_MAP)),
 *                 'width': int_or_none(location.get(xpath_with_ns('s1:width', NS_MAP))),             # <<<<<<<<<<<<<<
 *                 'height': int_or_none(location.get(xpath_with_ns('s1:height', NS_MAP))),
 *             } for location in track.findall(xpath_with_ns('./xspf:location', NS_MAP))]
 */
        __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1454, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr5__pyx_v_location, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1454, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_10);
        __pyx_t_11 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1454, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_11);
        __pyx_t_16 = NULL;
        __pyx_t_14 = 0;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_11))) {
          __pyx_t_16 = PyMethod_GET_SELF(__pyx_t_11);
          if (likely(__pyx_t_16)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
            __Pyx_INCREF(__pyx_t_16);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_11, function);
            __pyx_t_14 = 1;
          }
        }
        __pyx_t_17 = PyTuple_New(2+__pyx_t_14); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1454, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_17);
        if (__pyx_t_16) {
          __Pyx_GIVEREF(__pyx_t_16); PyTuple_SET_ITEM(__pyx_t_17, 0, __pyx_t_16); __pyx_t_16 = NULL;
        }
        __Pyx_INCREF(__pyx_kp_u_s1_width);
        __Pyx_GIVEREF(__pyx_kp_u_s1_width);
        PyTuple_SET_ITEM(__pyx_t_17, 0+__pyx_t_14, __pyx_kp_u_s1_width);
        __Pyx_INCREF(__pyx_v_NS_MAP);
        __Pyx_GIVEREF(__pyx_v_NS_MAP);
        PyTuple_SET_ITEM(__pyx_t_17, 1+__pyx_t_14, __pyx_v_NS_MAP);
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_t_17, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1454, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
        __pyx_t_11 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_10))) {
          __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_10);
          if (likely(__pyx_t_11)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_10);
            __Pyx_INCREF(__pyx_t_11);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_10, function);
          }
        }
        if (!__pyx_t_11) {
          __pyx_t_15 = __Pyx_PyObject_CallOneArg(__pyx_t_10, __pyx_t_3); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1454, __pyx_L7_error)
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_GOTREF(__pyx_t_15);
        } else {
          __pyx_t_17 = PyTuple_New(1+1); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1454, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_17);
          __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_17, 0, __pyx_t_11); __pyx_t_11 = NULL;
          __Pyx_GIVEREF(__pyx_t_3);
          PyTuple_SET_ITEM(__pyx_t_17, 0+1, __pyx_t_3);
          __pyx_t_3 = 0;
          __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_t_17, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1454, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
        }
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __pyx_t_10 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
          __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_4);
          if (likely(__pyx_t_10)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
            __Pyx_INCREF(__pyx_t_10);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_4, function);
          }
        }
        if (!__pyx_t_10) {
          __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_15); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1454, __pyx_L7_error)
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __Pyx_GOTREF(__pyx_t_1);
        } else {
          __pyx_t_17 = PyTuple_New(1+1); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1454, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_17);
          __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_17, 0, __pyx_t_10); __pyx_t_10 = NULL;
          __Pyx_GIVEREF(__pyx_t_15);
          PyTuple_SET_ITEM(__pyx_t_17, 0+1, __pyx_t_15);
          __pyx_t_15 = 0;
          __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_17, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1454, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
        }
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_u_width, __pyx_t_1) < 0) __PYX_ERR(0, 1452, __pyx_L7_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1455
 *                 'format_id': location.get(xpath_with_ns('s1:label', NS_MAP)),
 *                 'width': int_or_none(location.get(xpath_with_ns('s1:width', NS_MAP))),
 *                 'height': int_or_none(location.get(xpath_with_ns('s1:height', NS_MAP))),             # <<<<<<<<<<<<<<
 *             } for location in track.findall(xpath_with_ns('./xspf:location', NS_MAP))]
 *             self._sort_formats(formats)
 */
        __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1455, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr5__pyx_v_location, __pyx_n_s_get); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1455, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_15);
        __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1455, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_3);
        __pyx_t_11 = NULL;
        __pyx_t_14 = 0;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
          __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_3);
          if (likely(__pyx_t_11)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
            __Pyx_INCREF(__pyx_t_11);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_3, function);
            __pyx_t_14 = 1;
          }
        }
        __pyx_t_16 = PyTuple_New(2+__pyx_t_14); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 1455, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_16);
        if (__pyx_t_11) {
          __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_16, 0, __pyx_t_11); __pyx_t_11 = NULL;
        }
        __Pyx_INCREF(__pyx_kp_u_s1_height);
        __Pyx_GIVEREF(__pyx_kp_u_s1_height);
        PyTuple_SET_ITEM(__pyx_t_16, 0+__pyx_t_14, __pyx_kp_u_s1_height);
        __Pyx_INCREF(__pyx_v_NS_MAP);
        __Pyx_GIVEREF(__pyx_v_NS_MAP);
        PyTuple_SET_ITEM(__pyx_t_16, 1+__pyx_t_14, __pyx_v_NS_MAP);
        __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_16, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1455, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_15))) {
          __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_15);
          if (likely(__pyx_t_3)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
            __Pyx_INCREF(__pyx_t_3);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_15, function);
          }
        }
        if (!__pyx_t_3) {
          __pyx_t_17 = __Pyx_PyObject_CallOneArg(__pyx_t_15, __pyx_t_10); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1455, __pyx_L7_error)
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_GOTREF(__pyx_t_17);
        } else {
          __pyx_t_16 = PyTuple_New(1+1); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 1455, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_16);
          __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_16, 0, __pyx_t_3); __pyx_t_3 = NULL;
          __Pyx_GIVEREF(__pyx_t_10);
          PyTuple_SET_ITEM(__pyx_t_16, 0+1, __pyx_t_10);
          __pyx_t_10 = 0;
          __pyx_t_17 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_t_16, NULL); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1455, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_17);
          __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
        }
        __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
        __pyx_t_15 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
          __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_4);
          if (likely(__pyx_t_15)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
            __Pyx_INCREF(__pyx_t_15);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_4, function);
          }
        }
        if (!__pyx_t_15) {
          __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_17); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1455, __pyx_L7_error)
          __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
          __Pyx_GOTREF(__pyx_t_1);
        } else {
          __pyx_t_16 = PyTuple_New(1+1); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 1455, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_16);
          __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_16, 0, __pyx_t_15); __pyx_t_15 = NULL;
          __Pyx_GIVEREF(__pyx_t_17);
          PyTuple_SET_ITEM(__pyx_t_16, 0+1, __pyx_t_17);
          __pyx_t_17 = 0;
          __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_16, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1455, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
        }
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (PyDict_SetItem(__pyx_t_7, __pyx_n_u_height, __pyx_t_1) < 0) __PYX_ERR(0, 1452, __pyx_L7_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(__Pyx_ListComp_Append(__pyx_t_5, (PyObject*)__pyx_t_7))) __PYX_ERR(0, 1451, __pyx_L7_error)
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":1456
 *                 'width': int_or_none(location.get(xpath_with_ns('s1:width', NS_MAP))),
 *                 'height': int_or_none(location.get(xpath_with_ns('s1:height', NS_MAP))),
 *             } for location in track.findall(xpath_with_ns('./xspf:location', NS_MAP))]             # <<<<<<<<<<<<<<
 *             self._sort_formats(formats)
 * 
 */
      }
      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
      __Pyx_XDECREF(__pyx_8genexpr5__pyx_v_location);
      goto __pyx_L10_exit_scope;
      __pyx_L7_error:;
      __Pyx_XDECREF(__pyx_8genexpr5__pyx_v_location);
      goto __pyx_L1_error;
      __pyx_L10_exit_scope:;
    } /* exit inner scope */
    __Pyx_XDECREF_SET(__pyx_v_formats, ((PyObject*)__pyx_t_5));
    __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1457
 *                 'height': int_or_none(location.get(xpath_with_ns('s1:height', NS_MAP))),
 *             } for location in track.findall(xpath_with_ns('./xspf:location', NS_MAP))]
 *             self._sort_formats(formats)             # <<<<<<<<<<<<<<
 * 
 *             entries.append({
 */
    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_sort_formats); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1457, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_12);
    __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_12))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_12);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_12, function);
      }
    }
    if (!__pyx_t_7) {
      __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_v_formats); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1457, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
    } else {
      __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1457, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_7); __pyx_t_7 = NULL;
      __Pyx_INCREF(__pyx_v_formats);
      __Pyx_GIVEREF(__pyx_v_formats);
      PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_v_formats);
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_t_1, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1457, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    }
    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1460
 * 
 *             entries.append({
 *                 'id': playlist_id,             # <<<<<<<<<<<<<<
 *                 'title': title,
 *                 'description': description,
 */
    __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1460, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_id, __pyx_v_playlist_id) < 0) __PYX_ERR(0, 1460, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1461
 *             entries.append({
 *                 'id': playlist_id,
 *                 'title': title,             # <<<<<<<<<<<<<<
 *                 'description': description,
 *                 'thumbnail': thumbnail,
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_title, __pyx_v_title) < 0) __PYX_ERR(0, 1460, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1462
 *                 'id': playlist_id,
 *                 'title': title,
 *                 'description': description,             # <<<<<<<<<<<<<<
 *                 'thumbnail': thumbnail,
 *                 'duration': duration,
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_description, __pyx_v_description) < 0) __PYX_ERR(0, 1460, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1463
 *                 'title': title,
 *                 'description': description,
 *                 'thumbnail': thumbnail,             # <<<<<<<<<<<<<<
 *                 'duration': duration,
 *                 'formats': formats,
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_thumbnail, __pyx_v_thumbnail) < 0) __PYX_ERR(0, 1460, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1464
 *                 'description': description,
 *                 'thumbnail': thumbnail,
 *                 'duration': duration,             # <<<<<<<<<<<<<<
 *                 'formats': formats,
 *             })
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_duration, __pyx_v_duration) < 0) __PYX_ERR(0, 1460, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1465
 *                 'thumbnail': thumbnail,
 *                 'duration': duration,
 *                 'formats': formats,             # <<<<<<<<<<<<<<
 *             })
 *         return entries
 */
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_formats, __pyx_v_formats) < 0) __PYX_ERR(0, 1460, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1459
 *             self._sort_formats(formats)
 * 
 *             entries.append({             # <<<<<<<<<<<<<<
 *                 'id': playlist_id,
 *                 'title': title,
 */
    __pyx_t_18 = __Pyx_PyList_Append(__pyx_v_entries, __pyx_t_5); if (unlikely(__pyx_t_18 == -1)) __PYX_ERR(0, 1459, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1441
 * 
 *         entries = []
 *         for track in playlist.findall(xpath_with_ns('./xspf:trackList/xspf:track', NS_MAP)):             # <<<<<<<<<<<<<<
 *             title = xpath_text(
 *                 track, xpath_with_ns('./xspf:title', NS_MAP), 'title', default=playlist_id)
 */
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1467
 *                 'formats': formats,
 *             })
 *         return entries             # <<<<<<<<<<<<<<
 * 
 *     def _extract_mpd_formats(self, mpd_url, video_id, mpd_id=None, note=None, errnote=None, fatal=True, formats_dict={}):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_entries);
  __pyx_r = __pyx_v_entries;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1434
 *         return self._parse_xspf(xspf, playlist_id)
 * 
 *     def _parse_xspf(self, playlist, playlist_id):             # <<<<<<<<<<<<<<
 *         NS_MAP = {
 *             'xspf': 'http://xspf.org/ns/0/',
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_XDECREF(__pyx_t_16);
  __Pyx_XDECREF(__pyx_t_17);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_xspf", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_NS_MAP);
  __Pyx_XDECREF(__pyx_v_entries);
  __Pyx_XDECREF(__pyx_v_track);
  __Pyx_XDECREF(__pyx_v_title);
  __Pyx_XDECREF(__pyx_v_description);
  __Pyx_XDECREF(__pyx_v_thumbnail);
  __Pyx_XDECREF(__pyx_v_duration);
  __Pyx_XDECREF(__pyx_v_formats);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1469
 *         return entries
 * 
 *     def _extract_mpd_formats(self, mpd_url, video_id, mpd_id=None, note=None, errnote=None, fatal=True, formats_dict={}):             # <<<<<<<<<<<<<<
 *         res = self._download_webpage_handle(
 *             mpd_url, video_id,
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_201__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1469, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 2, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject *)Py_True));
  __Pyx_GIVEREF(((PyObject *)Py_True));
  PyTuple_SET_ITEM(__pyx_t_1, 3, ((PyObject *)Py_True));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults9, __pyx_self)->__pyx_arg_formats_dict);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults9, __pyx_self)->__pyx_arg_formats_dict);
  PyTuple_SET_ITEM(__pyx_t_1, 4, __Pyx_CyFunction_Defaults(__pyx_defaults9, __pyx_self)->__pyx_arg_formats_dict);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1469, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_145_extract_mpd_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_145_extract_mpd_formats = {"_extract_mpd_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_145_extract_mpd_formats, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_145_extract_mpd_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_mpd_url = 0;
  PyObject *__pyx_v_video_id = 0;
  PyObject *__pyx_v_mpd_id = 0;
  PyObject *__pyx_v_note = 0;
  PyObject *__pyx_v_errnote = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_formats_dict = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_extract_mpd_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_mpd_url,&__pyx_n_s_video_id,&__pyx_n_s_mpd_id,&__pyx_n_s_note,&__pyx_n_s_errnote,&__pyx_n_s_fatal,&__pyx_n_s_formats_dict,0};
    PyObject* values[8] = {0,0,0,0,0,0,0,0};
    __pyx_defaults9 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults9, __pyx_self);
    values[3] = ((PyObject *)((PyObject *)Py_None));
    values[4] = ((PyObject *)((PyObject *)Py_None));
    values[5] = ((PyObject *)((PyObject *)Py_None));
    values[6] = ((PyObject *)((PyObject *)Py_True));
    values[7] = __pyx_dynamic_args->__pyx_arg_formats_dict;
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_mpd_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_mpd_formats", 0, 3, 8, 1); __PYX_ERR(0, 1469, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_video_id)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_extract_mpd_formats", 0, 3, 8, 2); __PYX_ERR(0, 1469, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_mpd_id);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_note);
          if (value) { values[4] = value; kw_args--; }
        }
        case  5:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_errnote);
          if (value) { values[5] = value; kw_args--; }
        }
        case  6:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[6] = value; kw_args--; }
        }
        case  7:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_formats_dict);
          if (value) { values[7] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_extract_mpd_formats") < 0)) __PYX_ERR(0, 1469, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_mpd_url = values[1];
    __pyx_v_video_id = values[2];
    __pyx_v_mpd_id = values[3];
    __pyx_v_note = values[4];
    __pyx_v_errnote = values[5];
    __pyx_v_fatal = values[6];
    __pyx_v_formats_dict = values[7];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_extract_mpd_formats", 0, 3, 8, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1469, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_mpd_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_144_extract_mpd_formats(__pyx_self, __pyx_v_self, __pyx_v_mpd_url, __pyx_v_video_id, __pyx_v_mpd_id, __pyx_v_note, __pyx_v_errnote, __pyx_v_fatal, __pyx_v_formats_dict);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_144_extract_mpd_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_mpd_url, PyObject *__pyx_v_video_id, PyObject *__pyx_v_mpd_id, PyObject *__pyx_v_note, PyObject *__pyx_v_errnote, PyObject *__pyx_v_fatal, PyObject *__pyx_v_formats_dict) {
  PyObject *__pyx_v_res = NULL;
  PyObject *__pyx_v_mpd = NULL;
  PyObject *__pyx_v_urlh = NULL;
  PyObject *__pyx_v_mpd_base_url = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  PyObject *(*__pyx_t_7)(PyObject *);
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  Py_ssize_t __pyx_t_10;
  __Pyx_RefNannySetupContext("_extract_mpd_formats", 0);

  /* "youtube_dl/extractor/common.py":1470
 * 
 *     def _extract_mpd_formats(self, mpd_url, video_id, mpd_id=None, note=None, errnote=None, fatal=True, formats_dict={}):
 *         res = self._download_webpage_handle(             # <<<<<<<<<<<<<<
 *             mpd_url, video_id,
 *             note=note or 'Downloading MPD manifest',
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_download_webpage_handle); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1470, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":1471
 *     def _extract_mpd_formats(self, mpd_url, video_id, mpd_id=None, note=None, errnote=None, fatal=True, formats_dict={}):
 *         res = self._download_webpage_handle(
 *             mpd_url, video_id,             # <<<<<<<<<<<<<<
 *             note=note or 'Downloading MPD manifest',
 *             errnote=errnote or 'Failed to download MPD manifest',
 */
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1470, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_mpd_url);
  __Pyx_GIVEREF(__pyx_v_mpd_url);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_mpd_url);
  __Pyx_INCREF(__pyx_v_video_id);
  __Pyx_GIVEREF(__pyx_v_video_id);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_video_id);

  /* "youtube_dl/extractor/common.py":1472
 *         res = self._download_webpage_handle(
 *             mpd_url, video_id,
 *             note=note or 'Downloading MPD manifest',             # <<<<<<<<<<<<<<
 *             errnote=errnote or 'Failed to download MPD manifest',
 *             fatal=fatal)
 */
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1472, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_v_note); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1472, __pyx_L1_error)
  if (!__pyx_t_5) {
  } else {
    __Pyx_INCREF(__pyx_v_note);
    __pyx_t_4 = __pyx_v_note;
    goto __pyx_L3_bool_binop_done;
  }
  __Pyx_INCREF(__pyx_kp_u_Downloading_MPD_manifest);
  __pyx_t_4 = __pyx_kp_u_Downloading_MPD_manifest;
  __pyx_L3_bool_binop_done:;
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_note, __pyx_t_4) < 0) __PYX_ERR(0, 1472, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1473
 *             mpd_url, video_id,
 *             note=note or 'Downloading MPD manifest',
 *             errnote=errnote or 'Failed to download MPD manifest',             # <<<<<<<<<<<<<<
 *             fatal=fatal)
 *         if res is False:
 */
  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_v_errnote); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1473, __pyx_L1_error)
  if (!__pyx_t_5) {
  } else {
    __Pyx_INCREF(__pyx_v_errnote);
    __pyx_t_4 = __pyx_v_errnote;
    goto __pyx_L5_bool_binop_done;
  }
  __Pyx_INCREF(__pyx_kp_u_Failed_to_download_MPD_manifest);
  __pyx_t_4 = __pyx_kp_u_Failed_to_download_MPD_manifest;
  __pyx_L5_bool_binop_done:;
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_errnote, __pyx_t_4) < 0) __PYX_ERR(0, 1472, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1474
 *             note=note or 'Downloading MPD manifest',
 *             errnote=errnote or 'Failed to download MPD manifest',
 *             fatal=fatal)             # <<<<<<<<<<<<<<
 *         if res is False:
 *             return []
 */
  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_fatal, __pyx_v_fatal) < 0) __PYX_ERR(0, 1472, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1470
 * 
 *     def _extract_mpd_formats(self, mpd_url, video_id, mpd_id=None, note=None, errnote=None, fatal=True, formats_dict={}):
 *         res = self._download_webpage_handle(             # <<<<<<<<<<<<<<
 *             mpd_url, video_id,
 *             note=note or 'Downloading MPD manifest',
 */
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1470, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_res = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1475
 *             errnote=errnote or 'Failed to download MPD manifest',
 *             fatal=fatal)
 *         if res is False:             # <<<<<<<<<<<<<<
 *             return []
 *         mpd, urlh = res
 */
  __pyx_t_5 = (__pyx_v_res == Py_False);
  __pyx_t_6 = (__pyx_t_5 != 0);
  if (__pyx_t_6) {

    /* "youtube_dl/extractor/common.py":1476
 *             fatal=fatal)
 *         if res is False:
 *             return []             # <<<<<<<<<<<<<<
 *         mpd, urlh = res
 *         mpd_base_url = re.match(r'https?://.+/', urlh.geturl()).group()
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = PyList_New(0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1476, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1475
 *             errnote=errnote or 'Failed to download MPD manifest',
 *             fatal=fatal)
 *         if res is False:             # <<<<<<<<<<<<<<
 *             return []
 *         mpd, urlh = res
 */
  }

  /* "youtube_dl/extractor/common.py":1477
 *         if res is False:
 *             return []
 *         mpd, urlh = res             # <<<<<<<<<<<<<<
 *         mpd_base_url = re.match(r'https?://.+/', urlh.geturl()).group()
 * 
 */
  if ((likely(PyTuple_CheckExact(__pyx_v_res))) || (PyList_CheckExact(__pyx_v_res))) {
    PyObject* sequence = __pyx_v_res;
    #if CYTHON_COMPILING_IN_CPYTHON
    Py_ssize_t size = Py_SIZE(sequence);
    #else
    Py_ssize_t size = PySequence_Size(sequence);
    #endif
    if (unlikely(size != 2)) {
      if (size > 2) __Pyx_RaiseTooManyValuesError(2);
      else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
      __PYX_ERR(0, 1477, __pyx_L1_error)
    }
    #if CYTHON_COMPILING_IN_CPYTHON
    if (likely(PyTuple_CheckExact(sequence))) {
      __pyx_t_4 = PyTuple_GET_ITEM(sequence, 0); 
      __pyx_t_3 = PyTuple_GET_ITEM(sequence, 1); 
    } else {
      __pyx_t_4 = PyList_GET_ITEM(sequence, 0); 
      __pyx_t_3 = PyList_GET_ITEM(sequence, 1); 
    }
    __Pyx_INCREF(__pyx_t_4);
    __Pyx_INCREF(__pyx_t_3);
    #else
    __pyx_t_4 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1477, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1477, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    #endif
  } else {
    Py_ssize_t index = -1;
    __pyx_t_2 = PyObject_GetIter(__pyx_v_res); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1477, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_7 = Py_TYPE(__pyx_t_2)->tp_iternext;
    index = 0; __pyx_t_4 = __pyx_t_7(__pyx_t_2); if (unlikely(!__pyx_t_4)) goto __pyx_L8_unpacking_failed;
    __Pyx_GOTREF(__pyx_t_4);
    index = 1; __pyx_t_3 = __pyx_t_7(__pyx_t_2); if (unlikely(!__pyx_t_3)) goto __pyx_L8_unpacking_failed;
    __Pyx_GOTREF(__pyx_t_3);
    if (__Pyx_IternextUnpackEndCheck(__pyx_t_7(__pyx_t_2), 2) < 0) __PYX_ERR(0, 1477, __pyx_L1_error)
    __pyx_t_7 = NULL;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    goto __pyx_L9_unpacking_done;
    __pyx_L8_unpacking_failed:;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_7 = NULL;
    if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
    __PYX_ERR(0, 1477, __pyx_L1_error)
    __pyx_L9_unpacking_done:;
  }
  __pyx_v_mpd = __pyx_t_4;
  __pyx_t_4 = 0;
  __pyx_v_urlh = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1478
 *             return []
 *         mpd, urlh = res
 *         mpd_base_url = re.match(r'https?://.+/', urlh.geturl()).group()             # <<<<<<<<<<<<<<
 * 
 *         return self._parse_mpd_formats(
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1478, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_match); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1478, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_urlh, __pyx_n_s_geturl); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1478, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_8);
  __pyx_t_9 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_8))) {
    __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_8);
    if (likely(__pyx_t_9)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
      __Pyx_INCREF(__pyx_t_9);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_8, function);
    }
  }
  if (__pyx_t_9) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_9); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1478, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  } else {
    __pyx_t_2 = __Pyx_PyObject_CallNoArg(__pyx_t_8); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1478, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = NULL;
  __pyx_t_10 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
    __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_1);
    if (likely(__pyx_t_8)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
      __Pyx_INCREF(__pyx_t_8);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_1, function);
      __pyx_t_10 = 1;
    }
  }
  __pyx_t_9 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1478, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_9);
  if (__pyx_t_8) {
    __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_8); __pyx_t_8 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_https_5);
  __Pyx_GIVEREF(__pyx_kp_u_https_5);
  PyTuple_SET_ITEM(__pyx_t_9, 0+__pyx_t_10, __pyx_kp_u_https_5);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_9, 1+__pyx_t_10, __pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_9, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1478, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_group); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1478, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_1);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_1, function);
    }
  }
  if (__pyx_t_4) {
    __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1478, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  } else {
    __pyx_t_3 = __Pyx_PyObject_CallNoArg(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1478, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_mpd_base_url = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1480
 *         mpd_base_url = re.match(r'https?://.+/', urlh.geturl()).group()
 * 
 *         return self._parse_mpd_formats(             # <<<<<<<<<<<<<<
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_parse_mpd_formats); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1480, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);

  /* "youtube_dl/extractor/common.py":1481
 * 
 *         return self._parse_mpd_formats(
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):
 */
  __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_etree_fromstring); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1481, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_mpd, __pyx_n_s_encode); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1481, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_9);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__175, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1481, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_9)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_9);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
    }
  }
  if (!__pyx_t_9) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1481, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1481, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_9); __pyx_t_9 = NULL;
    __Pyx_GIVEREF(__pyx_t_2);
    PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1481, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1480
 *         mpd_base_url = re.match(r'https?://.+/', urlh.geturl()).group()
 * 
 *         return self._parse_mpd_formats(             # <<<<<<<<<<<<<<
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 */
  __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1480, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_1);
  __Pyx_INCREF(__pyx_v_mpd_id);
  __Pyx_GIVEREF(__pyx_v_mpd_id);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_mpd_id);
  __Pyx_INCREF(__pyx_v_mpd_base_url);
  __Pyx_GIVEREF(__pyx_v_mpd_base_url);
  PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_v_mpd_base_url);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1481
 * 
 *         return self._parse_mpd_formats(
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1481, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_formats_dict, __pyx_v_formats_dict) < 0) __PYX_ERR(0, 1481, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1480
 *         mpd_base_url = re.match(r'https?://.+/', urlh.geturl()).group()
 * 
 *         return self._parse_mpd_formats(             # <<<<<<<<<<<<<<
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 */
  __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, __pyx_t_1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1480, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_8);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_8;
  __pyx_t_8 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1469
 *         return entries
 * 
 *     def _extract_mpd_formats(self, mpd_url, video_id, mpd_id=None, note=None, errnote=None, fatal=True, formats_dict={}):             # <<<<<<<<<<<<<<
 *         res = self._download_webpage_handle(
 *             mpd_url, video_id,
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._extract_mpd_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_res);
  __Pyx_XDECREF(__pyx_v_mpd);
  __Pyx_XDECREF(__pyx_v_urlh);
  __Pyx_XDECREF(__pyx_v_mpd_base_url);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1483
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):             # <<<<<<<<<<<<<<
 *         """
 *         Parse formats from MPD manifest.
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_203__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__defaults__", 0);
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1483, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)Py_None));
  __Pyx_GIVEREF(((PyObject *)Py_None));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_None));
  __Pyx_INCREF(((PyObject*)__pyx_kp_u__14));
  __Pyx_GIVEREF(((PyObject*)__pyx_kp_u__14));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject*)__pyx_kp_u__14));
  __Pyx_INCREF(__Pyx_CyFunction_Defaults(__pyx_defaults10, __pyx_self)->__pyx_arg_formats_dict);
  __Pyx_GIVEREF(__Pyx_CyFunction_Defaults(__pyx_defaults10, __pyx_self)->__pyx_arg_formats_dict);
  PyTuple_SET_ITEM(__pyx_t_1, 2, __Pyx_CyFunction_Defaults(__pyx_defaults10, __pyx_self)->__pyx_arg_formats_dict);
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1483, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 1, Py_None);
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_147_parse_mpd_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_146_parse_mpd_formats[] = "\n        Parse formats from MPD manifest.\n        References:\n         1. MPEG-DASH Standard, ISO/IEC 23009-1:2014(E),\n            http://standards.iso.org/ittf/PubliclyAvailableStandards/c065274_ISO_IEC_23009-1_2014.zip\n         2. https://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP\n        ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_147_parse_mpd_formats = {"_parse_mpd_formats", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_147_parse_mpd_formats, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_146_parse_mpd_formats};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_147_parse_mpd_formats(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_mpd_doc = 0;
  PyObject *__pyx_v_mpd_id = 0;
  PyObject *__pyx_v_mpd_base_url = 0;
  PyObject *__pyx_v_formats_dict = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_mpd_formats (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_mpd_doc,&__pyx_n_s_mpd_id,&__pyx_n_s_mpd_base_url,&__pyx_n_s_formats_dict,0};
    PyObject* values[5] = {0,0,0,0,0};
    __pyx_defaults10 *__pyx_dynamic_args = __Pyx_CyFunction_Defaults(__pyx_defaults10, __pyx_self);
    values[2] = ((PyObject *)((PyObject *)Py_None));
    values[3] = ((PyObject *)((PyObject*)__pyx_kp_u__14));
    values[4] = __pyx_dynamic_args->__pyx_arg_formats_dict;
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_mpd_doc)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_mpd_formats", 0, 2, 5, 1); __PYX_ERR(0, 1483, __pyx_L3_error)
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_mpd_id);
          if (value) { values[2] = value; kw_args--; }
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_mpd_base_url);
          if (value) { values[3] = value; kw_args--; }
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_formats_dict);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_mpd_formats") < 0)) __PYX_ERR(0, 1483, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_mpd_doc = values[1];
    __pyx_v_mpd_id = values[2];
    __pyx_v_mpd_base_url = values[3];
    __pyx_v_formats_dict = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_mpd_formats", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1483, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_146_parse_mpd_formats(__pyx_self, __pyx_v_self, __pyx_v_mpd_doc, __pyx_v_mpd_id, __pyx_v_mpd_base_url, __pyx_v_formats_dict);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1496
 *         namespace = self._search_regex(r'(?i)^{([^}]+)?}MPD$', mpd_doc.tag, 'namespace', default=None)
 * 
 *         def _add_ns(path):             # <<<<<<<<<<<<<<
 *             return self._xpath_ns(path, namespace)
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_1_add_ns(PyObject *__pyx_self, PyObject *__pyx_v_path); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_1_add_ns = {"_add_ns", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_1_add_ns, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_1_add_ns(PyObject *__pyx_self, PyObject *__pyx_v_path) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_add_ns (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_self, ((PyObject *)__pyx_v_path));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(PyObject *__pyx_self, PyObject *__pyx_v_path) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_cur_scope;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("_add_ns", 0);
  __pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *) __Pyx_CyFunction_GetClosure(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;

  /* "youtube_dl/extractor/common.py":1497
 * 
 *         def _add_ns(path):
 *             return self._xpath_ns(path, namespace)             # <<<<<<<<<<<<<<
 * 
 *         def is_drm_protected(element):
 */
  __Pyx_XDECREF(__pyx_r);
  if (unlikely(!__pyx_cur_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 1497, __pyx_L1_error) }
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_xpath_ns); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1497, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (unlikely(!__pyx_cur_scope->__pyx_v_namespace)) { __Pyx_RaiseClosureNameError("namespace"); __PYX_ERR(0, 1497, __pyx_L1_error) }
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1497, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_3) {
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
  }
  __Pyx_INCREF(__pyx_v_path);
  __Pyx_GIVEREF(__pyx_v_path);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_v_path);
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_namespace);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_namespace);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_cur_scope->__pyx_v_namespace);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1497, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1496
 *         namespace = self._search_regex(r'(?i)^{([^}]+)?}MPD$', mpd_doc.tag, 'namespace', default=None)
 * 
 *         def _add_ns(path):             # <<<<<<<<<<<<<<
 *             return self._xpath_ns(path, namespace)
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats._add_ns", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1499
 *             return self._xpath_ns(path, namespace)
 * 
 *         def is_drm_protected(element):             # <<<<<<<<<<<<<<
 *             return element.find(_add_ns('ContentProtection')) is not None
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_3is_drm_protected(PyObject *__pyx_self, PyObject *__pyx_v_element); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_3is_drm_protected = {"is_drm_protected", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_3is_drm_protected, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_3is_drm_protected(PyObject *__pyx_self, PyObject *__pyx_v_element) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("is_drm_protected (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_2is_drm_protected(__pyx_self, ((PyObject *)__pyx_v_element));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_2is_drm_protected(PyObject *__pyx_self, PyObject *__pyx_v_element) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_cur_scope;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  __Pyx_RefNannySetupContext("is_drm_protected", 0);
  __pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *) __Pyx_CyFunction_GetClosure(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;

  /* "youtube_dl/extractor/common.py":1500
 * 
 *         def is_drm_protected(element):
 *             return element.find(_add_ns('ContentProtection')) is not None             # <<<<<<<<<<<<<<
 * 
 *         def extract_multisegment_info(element, ms_parent_info):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_element, __pyx_n_s_find); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1500, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (unlikely(!__pyx_cur_scope->__pyx_v__add_ns)) { __Pyx_RaiseClosureNameError("_add_ns"); __PYX_ERR(0, 1500, __pyx_L1_error) }
  __pyx_t_3 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_ContentProtection); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1500, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1500, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1500, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1500, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = (__pyx_t_1 != Py_None);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1500, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1499
 *             return self._xpath_ns(path, namespace)
 * 
 *         def is_drm_protected(element):             # <<<<<<<<<<<<<<
 *             return element.find(_add_ns('ContentProtection')) is not None
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats.is_drm_protected", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1502
 *             return element.find(_add_ns('ContentProtection')) is not None
 * 
 *         def extract_multisegment_info(element, ms_parent_info):             # <<<<<<<<<<<<<<
 *             ms_info = ms_parent_info.copy()
 *             segment_list = element.find(_add_ns('SegmentList'))
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_5extract_multisegment_info(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_5extract_multisegment_info = {"extract_multisegment_info", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_5extract_multisegment_info, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_5extract_multisegment_info(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_element = 0;
  PyObject *__pyx_v_ms_parent_info = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("extract_multisegment_info (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_element,&__pyx_n_s_ms_parent_info,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_element)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_ms_parent_info)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("extract_multisegment_info", 1, 2, 2, 1); __PYX_ERR(0, 1502, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "extract_multisegment_info") < 0)) __PYX_ERR(0, 1502, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_element = values[0];
    __pyx_v_ms_parent_info = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("extract_multisegment_info", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1502, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats.extract_multisegment_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_4extract_multisegment_info(__pyx_self, __pyx_v_element, __pyx_v_ms_parent_info);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_4extract_multisegment_info(PyObject *__pyx_self, PyObject *__pyx_v_element, PyObject *__pyx_v_ms_parent_info) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_cur_scope;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_outer_scope;
  PyObject *__pyx_v_ms_info = NULL;
  PyObject *__pyx_v_segment_list = NULL;
  PyObject *__pyx_v_segment_urls_e = NULL;
  PyObject *__pyx_v_initialization = NULL;
  PyObject *__pyx_v_segment_template = NULL;
  PyObject *__pyx_v_start_number = NULL;
  PyObject *__pyx_v_segment_timeline = NULL;
  PyObject *__pyx_v_s_e = NULL;
  PyObject *__pyx_v_s = NULL;
  PyObject *__pyx_v_r = NULL;
  PyObject *__pyx_v_timescale = NULL;
  PyObject *__pyx_v_segment_duration = NULL;
  PyObject *__pyx_v_media_template = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  int __pyx_t_7;
  Py_ssize_t __pyx_t_8;
  PyObject *(*__pyx_t_9)(PyObject *);
  PyObject *__pyx_t_10 = NULL;
  int __pyx_t_11;
  __Pyx_RefNannySetupContext("extract_multisegment_info", 0);
  __pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *) __Pyx_CyFunction_GetClosure(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;

  /* "youtube_dl/extractor/common.py":1503
 * 
 *         def extract_multisegment_info(element, ms_parent_info):
 *             ms_info = ms_parent_info.copy()             # <<<<<<<<<<<<<<
 *             segment_list = element.find(_add_ns('SegmentList'))
 *             if segment_list is not None:
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_ms_parent_info, __pyx_n_s_copy); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1503, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1503, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  } else {
    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1503, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_ms_info = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1504
 *         def extract_multisegment_info(element, ms_parent_info):
 *             ms_info = ms_parent_info.copy()
 *             segment_list = element.find(_add_ns('SegmentList'))             # <<<<<<<<<<<<<<
 *             if segment_list is not None:
 *                 segment_urls_e = segment_list.findall(_add_ns('SegmentURL'))
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_element, __pyx_n_s_find); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1504, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (unlikely(!__pyx_cur_scope->__pyx_v__add_ns)) { __Pyx_RaiseClosureNameError("_add_ns"); __PYX_ERR(0, 1504, __pyx_L1_error) }
  __pyx_t_3 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_SegmentList); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1504, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1504, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1504, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1504, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_segment_list = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1505
 *             ms_info = ms_parent_info.copy()
 *             segment_list = element.find(_add_ns('SegmentList'))
 *             if segment_list is not None:             # <<<<<<<<<<<<<<
 *                 segment_urls_e = segment_list.findall(_add_ns('SegmentURL'))
 *                 if segment_urls_e:
 */
  __pyx_t_6 = (__pyx_v_segment_list != Py_None);
  __pyx_t_7 = (__pyx_t_6 != 0);
  if (__pyx_t_7) {

    /* "youtube_dl/extractor/common.py":1506
 *             segment_list = element.find(_add_ns('SegmentList'))
 *             if segment_list is not None:
 *                 segment_urls_e = segment_list.findall(_add_ns('SegmentURL'))             # <<<<<<<<<<<<<<
 *                 if segment_urls_e:
 *                     ms_info['segment_urls'] = [segment.attrib['media'] for segment in segment_urls_e]
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_list, __pyx_n_s_findall); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1506, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    if (unlikely(!__pyx_cur_scope->__pyx_v__add_ns)) { __Pyx_RaiseClosureNameError("_add_ns"); __PYX_ERR(0, 1506, __pyx_L1_error) }
    __pyx_t_5 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_SegmentURL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1506, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_3 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_3);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
      }
    }
    if (!__pyx_t_3) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1506, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1506, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3); __pyx_t_3 = NULL;
      __Pyx_GIVEREF(__pyx_t_5);
      PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_5);
      __pyx_t_5 = 0;
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1506, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    }
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_segment_urls_e = __pyx_t_1;
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1507
 *             if segment_list is not None:
 *                 segment_urls_e = segment_list.findall(_add_ns('SegmentURL'))
 *                 if segment_urls_e:             # <<<<<<<<<<<<<<
 *                     ms_info['segment_urls'] = [segment.attrib['media'] for segment in segment_urls_e]
 *                 initialization = segment_list.find(_add_ns('Initialization'))
 */
    __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_v_segment_urls_e); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1507, __pyx_L1_error)
    if (__pyx_t_7) {

      /* "youtube_dl/extractor/common.py":1508
 *                 segment_urls_e = segment_list.findall(_add_ns('SegmentURL'))
 *                 if segment_urls_e:
 *                     ms_info['segment_urls'] = [segment.attrib['media'] for segment in segment_urls_e]             # <<<<<<<<<<<<<<
 *                 initialization = segment_list.find(_add_ns('Initialization'))
 *                 if initialization is not None:
 */
      { /* enter inner scope */
        PyObject *__pyx_8genexpr6__pyx_v_segment = NULL;
        __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1508, __pyx_L7_error)
        __Pyx_GOTREF(__pyx_t_1);
        if (likely(PyList_CheckExact(__pyx_v_segment_urls_e)) || PyTuple_CheckExact(__pyx_v_segment_urls_e)) {
          __pyx_t_2 = __pyx_v_segment_urls_e; __Pyx_INCREF(__pyx_t_2); __pyx_t_8 = 0;
          __pyx_t_9 = NULL;
        } else {
          __pyx_t_8 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_segment_urls_e); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1508, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_2);
          __pyx_t_9 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1508, __pyx_L7_error)
        }
        for (;;) {
          if (likely(!__pyx_t_9)) {
            if (likely(PyList_CheckExact(__pyx_t_2))) {
              if (__pyx_t_8 >= PyList_GET_SIZE(__pyx_t_2)) break;
              #if CYTHON_COMPILING_IN_CPYTHON
              __pyx_t_4 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_8); __Pyx_INCREF(__pyx_t_4); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 1508, __pyx_L7_error)
              #else
              __pyx_t_4 = PySequence_ITEM(__pyx_t_2, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1508, __pyx_L7_error)
              __Pyx_GOTREF(__pyx_t_4);
              #endif
            } else {
              if (__pyx_t_8 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
              #if CYTHON_COMPILING_IN_CPYTHON
              __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_8); __Pyx_INCREF(__pyx_t_4); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 1508, __pyx_L7_error)
              #else
              __pyx_t_4 = PySequence_ITEM(__pyx_t_2, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1508, __pyx_L7_error)
              __Pyx_GOTREF(__pyx_t_4);
              #endif
            }
          } else {
            __pyx_t_4 = __pyx_t_9(__pyx_t_2);
            if (unlikely(!__pyx_t_4)) {
              PyObject* exc_type = PyErr_Occurred();
              if (exc_type) {
                if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
                else __PYX_ERR(0, 1508, __pyx_L7_error)
              }
              break;
            }
            __Pyx_GOTREF(__pyx_t_4);
          }
          __Pyx_XDECREF_SET(__pyx_8genexpr6__pyx_v_segment, __pyx_t_4);
          __pyx_t_4 = 0;
          __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_8genexpr6__pyx_v_segment, __pyx_n_s_attrib); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1508, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_5 = PyObject_GetItem(__pyx_t_4, __pyx_n_u_media); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1508, __pyx_L7_error)
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_5))) __PYX_ERR(0, 1508, __pyx_L7_error)
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        }
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_XDECREF(__pyx_8genexpr6__pyx_v_segment);
        goto __pyx_L10_exit_scope;
        __pyx_L7_error:;
        __Pyx_XDECREF(__pyx_8genexpr6__pyx_v_segment);
        goto __pyx_L1_error;
        __pyx_L10_exit_scope:;
      } /* exit inner scope */
      if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_segment_urls, __pyx_t_1) < 0)) __PYX_ERR(0, 1508, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":1507
 *             if segment_list is not None:
 *                 segment_urls_e = segment_list.findall(_add_ns('SegmentURL'))
 *                 if segment_urls_e:             # <<<<<<<<<<<<<<
 *                     ms_info['segment_urls'] = [segment.attrib['media'] for segment in segment_urls_e]
 *                 initialization = segment_list.find(_add_ns('Initialization'))
 */
    }

    /* "youtube_dl/extractor/common.py":1509
 *                 if segment_urls_e:
 *                     ms_info['segment_urls'] = [segment.attrib['media'] for segment in segment_urls_e]
 *                 initialization = segment_list.find(_add_ns('Initialization'))             # <<<<<<<<<<<<<<
 *                 if initialization is not None:
 *                     ms_info['initialization_url'] = initialization.attrib['sourceURL']
 */
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_list, __pyx_n_s_find); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1509, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    if (unlikely(!__pyx_cur_scope->__pyx_v__add_ns)) { __Pyx_RaiseClosureNameError("_add_ns"); __PYX_ERR(0, 1509, __pyx_L1_error) }
    __pyx_t_5 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_Initialization); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1509, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_4 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
      if (likely(__pyx_t_4)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
        __Pyx_INCREF(__pyx_t_4);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_2, function);
      }
    }
    if (!__pyx_t_4) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1509, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1509, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4); __pyx_t_4 = NULL;
      __Pyx_GIVEREF(__pyx_t_5);
      PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_t_5);
      __pyx_t_5 = 0;
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1509, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    }
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_initialization = __pyx_t_1;
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1510
 *                     ms_info['segment_urls'] = [segment.attrib['media'] for segment in segment_urls_e]
 *                 initialization = segment_list.find(_add_ns('Initialization'))
 *                 if initialization is not None:             # <<<<<<<<<<<<<<
 *                     ms_info['initialization_url'] = initialization.attrib['sourceURL']
 *             else:
 */
    __pyx_t_7 = (__pyx_v_initialization != Py_None);
    __pyx_t_6 = (__pyx_t_7 != 0);
    if (__pyx_t_6) {

      /* "youtube_dl/extractor/common.py":1511
 *                 initialization = segment_list.find(_add_ns('Initialization'))
 *                 if initialization is not None:
 *                     ms_info['initialization_url'] = initialization.attrib['sourceURL']             # <<<<<<<<<<<<<<
 *             else:
 *                 segment_template = element.find(_add_ns('SegmentTemplate'))
 */
      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_initialization, __pyx_n_s_attrib); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1511, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_2 = PyObject_GetItem(__pyx_t_1, __pyx_n_u_sourceURL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1511, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_initialization_url, __pyx_t_2) < 0)) __PYX_ERR(0, 1511, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

      /* "youtube_dl/extractor/common.py":1510
 *                     ms_info['segment_urls'] = [segment.attrib['media'] for segment in segment_urls_e]
 *                 initialization = segment_list.find(_add_ns('Initialization'))
 *                 if initialization is not None:             # <<<<<<<<<<<<<<
 *                     ms_info['initialization_url'] = initialization.attrib['sourceURL']
 *             else:
 */
    }

    /* "youtube_dl/extractor/common.py":1505
 *             ms_info = ms_parent_info.copy()
 *             segment_list = element.find(_add_ns('SegmentList'))
 *             if segment_list is not None:             # <<<<<<<<<<<<<<
 *                 segment_urls_e = segment_list.findall(_add_ns('SegmentURL'))
 *                 if segment_urls_e:
 */
    goto __pyx_L3;
  }

  /* "youtube_dl/extractor/common.py":1513
 *                     ms_info['initialization_url'] = initialization.attrib['sourceURL']
 *             else:
 *                 segment_template = element.find(_add_ns('SegmentTemplate'))             # <<<<<<<<<<<<<<
 *                 if segment_template is not None:
 *                     start_number = segment_template.get('startNumber')
 */
  /*else*/ {
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_element, __pyx_n_s_find); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1513, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    if (unlikely(!__pyx_cur_scope->__pyx_v__add_ns)) { __Pyx_RaiseClosureNameError("_add_ns"); __PYX_ERR(0, 1513, __pyx_L1_error) }
    __pyx_t_3 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_SegmentTemplate); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1513, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_5 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
      if (likely(__pyx_t_5)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
        __Pyx_INCREF(__pyx_t_5);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_1, function);
      }
    }
    if (!__pyx_t_5) {
      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1513, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_GOTREF(__pyx_t_2);
    } else {
      __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1513, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_5); __pyx_t_5 = NULL;
      __Pyx_GIVEREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_3);
      __pyx_t_3 = 0;
      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_4, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1513, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    }
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_segment_template = __pyx_t_2;
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1514
 *             else:
 *                 segment_template = element.find(_add_ns('SegmentTemplate'))
 *                 if segment_template is not None:             # <<<<<<<<<<<<<<
 *                     start_number = segment_template.get('startNumber')
 *                     if start_number:
 */
    __pyx_t_6 = (__pyx_v_segment_template != Py_None);
    __pyx_t_7 = (__pyx_t_6 != 0);
    if (__pyx_t_7) {

      /* "youtube_dl/extractor/common.py":1515
 *                 segment_template = element.find(_add_ns('SegmentTemplate'))
 *                 if segment_template is not None:
 *                     start_number = segment_template.get('startNumber')             # <<<<<<<<<<<<<<
 *                     if start_number:
 *                         ms_info['start_number'] = int(start_number)
 */
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_template, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1515, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__176, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1515, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_v_start_number = __pyx_t_1;
      __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":1516
 *                 if segment_template is not None:
 *                     start_number = segment_template.get('startNumber')
 *                     if start_number:             # <<<<<<<<<<<<<<
 *                         ms_info['start_number'] = int(start_number)
 *                     segment_timeline = segment_template.find(_add_ns('SegmentTimeline'))
 */
      __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_v_start_number); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1516, __pyx_L1_error)
      if (__pyx_t_7) {

        /* "youtube_dl/extractor/common.py":1517
 *                     start_number = segment_template.get('startNumber')
 *                     if start_number:
 *                         ms_info['start_number'] = int(start_number)             # <<<<<<<<<<<<<<
 *                     segment_timeline = segment_template.find(_add_ns('SegmentTimeline'))
 *                     if segment_timeline is not None:
 */
        __pyx_t_1 = __Pyx_PyNumber_Int(__pyx_v_start_number); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1517, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_start_number, __pyx_t_1) < 0)) __PYX_ERR(0, 1517, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1516
 *                 if segment_template is not None:
 *                     start_number = segment_template.get('startNumber')
 *                     if start_number:             # <<<<<<<<<<<<<<
 *                         ms_info['start_number'] = int(start_number)
 *                     segment_timeline = segment_template.find(_add_ns('SegmentTimeline'))
 */
      }

      /* "youtube_dl/extractor/common.py":1518
 *                     if start_number:
 *                         ms_info['start_number'] = int(start_number)
 *                     segment_timeline = segment_template.find(_add_ns('SegmentTimeline'))             # <<<<<<<<<<<<<<
 *                     if segment_timeline is not None:
 *                         s_e = segment_timeline.findall(_add_ns('S'))
 */
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_template, __pyx_n_s_find); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1518, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      if (unlikely(!__pyx_cur_scope->__pyx_v__add_ns)) { __Pyx_RaiseClosureNameError("_add_ns"); __PYX_ERR(0, 1518, __pyx_L1_error) }
      __pyx_t_4 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_SegmentTimeline); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1518, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_3 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
        if (likely(__pyx_t_3)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_2, function);
        }
      }
      if (!__pyx_t_3) {
        __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1518, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_GOTREF(__pyx_t_1);
      } else {
        __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1518, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3); __pyx_t_3 = NULL;
        __Pyx_GIVEREF(__pyx_t_4);
        PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_4);
        __pyx_t_4 = 0;
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1518, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_v_segment_timeline = __pyx_t_1;
      __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":1519
 *                         ms_info['start_number'] = int(start_number)
 *                     segment_timeline = segment_template.find(_add_ns('SegmentTimeline'))
 *                     if segment_timeline is not None:             # <<<<<<<<<<<<<<
 *                         s_e = segment_timeline.findall(_add_ns('S'))
 *                         if s_e:
 */
      __pyx_t_7 = (__pyx_v_segment_timeline != Py_None);
      __pyx_t_6 = (__pyx_t_7 != 0);
      if (__pyx_t_6) {

        /* "youtube_dl/extractor/common.py":1520
 *                     segment_timeline = segment_template.find(_add_ns('SegmentTimeline'))
 *                     if segment_timeline is not None:
 *                         s_e = segment_timeline.findall(_add_ns('S'))             # <<<<<<<<<<<<<<
 *                         if s_e:
 *                             ms_info['total_number'] = 0
 */
        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_timeline, __pyx_n_s_findall); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1520, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        if (unlikely(!__pyx_cur_scope->__pyx_v__add_ns)) { __Pyx_RaiseClosureNameError("_add_ns"); __PYX_ERR(0, 1520, __pyx_L1_error) }
        __pyx_t_5 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_S); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1520, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_4 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
          __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
          if (likely(__pyx_t_4)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
            __Pyx_INCREF(__pyx_t_4);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_2, function);
          }
        }
        if (!__pyx_t_4) {
          __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1520, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
          __Pyx_GOTREF(__pyx_t_1);
        } else {
          __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1520, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_3);
          __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4); __pyx_t_4 = NULL;
          __Pyx_GIVEREF(__pyx_t_5);
          PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_t_5);
          __pyx_t_5 = 0;
          __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1520, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        }
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_v_s_e = __pyx_t_1;
        __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1521
 *                     if segment_timeline is not None:
 *                         s_e = segment_timeline.findall(_add_ns('S'))
 *                         if s_e:             # <<<<<<<<<<<<<<
 *                             ms_info['total_number'] = 0
 *                             ms_info['s'] = []
 */
        __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_s_e); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1521, __pyx_L1_error)
        if (__pyx_t_6) {

          /* "youtube_dl/extractor/common.py":1522
 *                         s_e = segment_timeline.findall(_add_ns('S'))
 *                         if s_e:
 *                             ms_info['total_number'] = 0             # <<<<<<<<<<<<<<
 *                             ms_info['s'] = []
 *                             for s in s_e:
 */
          if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_total_number, __pyx_int_0) < 0)) __PYX_ERR(0, 1522, __pyx_L1_error)

          /* "youtube_dl/extractor/common.py":1523
 *                         if s_e:
 *                             ms_info['total_number'] = 0
 *                             ms_info['s'] = []             # <<<<<<<<<<<<<<
 *                             for s in s_e:
 *                                 r = int(s.get('r', 0))
 */
          __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1523, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_s_3, __pyx_t_1) < 0)) __PYX_ERR(0, 1523, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

          /* "youtube_dl/extractor/common.py":1524
 *                             ms_info['total_number'] = 0
 *                             ms_info['s'] = []
 *                             for s in s_e:             # <<<<<<<<<<<<<<
 *                                 r = int(s.get('r', 0))
 *                                 ms_info['total_number'] += 1 + r
 */
          if (likely(PyList_CheckExact(__pyx_v_s_e)) || PyTuple_CheckExact(__pyx_v_s_e)) {
            __pyx_t_1 = __pyx_v_s_e; __Pyx_INCREF(__pyx_t_1); __pyx_t_8 = 0;
            __pyx_t_9 = NULL;
          } else {
            __pyx_t_8 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_s_e); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1524, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_1);
            __pyx_t_9 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1524, __pyx_L1_error)
          }
          for (;;) {
            if (likely(!__pyx_t_9)) {
              if (likely(PyList_CheckExact(__pyx_t_1))) {
                if (__pyx_t_8 >= PyList_GET_SIZE(__pyx_t_1)) break;
                #if CYTHON_COMPILING_IN_CPYTHON
                __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_8); __Pyx_INCREF(__pyx_t_2); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 1524, __pyx_L1_error)
                #else
                __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1524, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_2);
                #endif
              } else {
                if (__pyx_t_8 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
                #if CYTHON_COMPILING_IN_CPYTHON
                __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_8); __Pyx_INCREF(__pyx_t_2); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 1524, __pyx_L1_error)
                #else
                __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1524, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_2);
                #endif
              }
            } else {
              __pyx_t_2 = __pyx_t_9(__pyx_t_1);
              if (unlikely(!__pyx_t_2)) {
                PyObject* exc_type = PyErr_Occurred();
                if (exc_type) {
                  if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
                  else __PYX_ERR(0, 1524, __pyx_L1_error)
                }
                break;
              }
              __Pyx_GOTREF(__pyx_t_2);
            }
            __Pyx_XDECREF_SET(__pyx_v_s, __pyx_t_2);
            __pyx_t_2 = 0;

            /* "youtube_dl/extractor/common.py":1525
 *                             ms_info['s'] = []
 *                             for s in s_e:
 *                                 r = int(s.get('r', 0))             # <<<<<<<<<<<<<<
 *                                 ms_info['total_number'] += 1 + r
 *                                 ms_info['s'].append({
 */
            __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_s, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1525, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__177, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1525, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_3);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
            __pyx_t_2 = __Pyx_PyNumber_Int(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1525, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
            __Pyx_XDECREF_SET(__pyx_v_r, __pyx_t_2);
            __pyx_t_2 = 0;

            /* "youtube_dl/extractor/common.py":1526
 *                             for s in s_e:
 *                                 r = int(s.get('r', 0))
 *                                 ms_info['total_number'] += 1 + r             # <<<<<<<<<<<<<<
 *                                 ms_info['s'].append({
 *                                     't': int(s.get('t', 0)),
 */
            __Pyx_INCREF(__pyx_n_u_total_number);
            __pyx_t_10 = __pyx_n_u_total_number;
            __pyx_t_2 = PyObject_GetItem(__pyx_v_ms_info, __pyx_t_10); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1526, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __pyx_t_3 = __Pyx_PyInt_AddCObj(__pyx_int_1, __pyx_v_r, 1, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1526, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_3);
            __pyx_t_5 = PyNumber_InPlaceAdd(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1526, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_5);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
            __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_t_10, __pyx_t_5) < 0)) __PYX_ERR(0, 1526, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
            __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

            /* "youtube_dl/extractor/common.py":1527
 *                                 r = int(s.get('r', 0))
 *                                 ms_info['total_number'] += 1 + r
 *                                 ms_info['s'].append({             # <<<<<<<<<<<<<<
 *                                     't': int(s.get('t', 0)),
 *                                     # @d is mandatory (see [1, 5.3.9.6.2, Table 17, page 60])
 */
            __pyx_t_5 = PyObject_GetItem(__pyx_v_ms_info, __pyx_n_u_s_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1527, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_5);

            /* "youtube_dl/extractor/common.py":1528
 *                                 ms_info['total_number'] += 1 + r
 *                                 ms_info['s'].append({
 *                                     't': int(s.get('t', 0)),             # <<<<<<<<<<<<<<
 *                                     # @d is mandatory (see [1, 5.3.9.6.2, Table 17, page 60])
 *                                     'd': int(s.attrib['d']),
 */
            __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1528, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_3);
            __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_s, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1528, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__178, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1528, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
            __pyx_t_2 = __Pyx_PyNumber_Int(__pyx_t_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1528, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
            if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_t, __pyx_t_2) < 0) __PYX_ERR(0, 1528, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

            /* "youtube_dl/extractor/common.py":1530
 *                                     't': int(s.get('t', 0)),
 *                                     # @d is mandatory (see [1, 5.3.9.6.2, Table 17, page 60])
 *                                     'd': int(s.attrib['d']),             # <<<<<<<<<<<<<<
 *                                     'r': r,
 *                                 })
 */
            __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_s, __pyx_n_s_attrib); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1530, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __pyx_t_4 = PyObject_GetItem(__pyx_t_2, __pyx_n_u_d_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1530, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
            __pyx_t_2 = __Pyx_PyNumber_Int(__pyx_t_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1530, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
            if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_d_2, __pyx_t_2) < 0) __PYX_ERR(0, 1528, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

            /* "youtube_dl/extractor/common.py":1531
 *                                     # @d is mandatory (see [1, 5.3.9.6.2, Table 17, page 60])
 *                                     'd': int(s.attrib['d']),
 *                                     'r': r,             # <<<<<<<<<<<<<<
 *                                 })
 *                     else:
 */
            if (PyDict_SetItem(__pyx_t_3, __pyx_n_u_r, __pyx_v_r) < 0) __PYX_ERR(0, 1528, __pyx_L1_error)

            /* "youtube_dl/extractor/common.py":1527
 *                                 r = int(s.get('r', 0))
 *                                 ms_info['total_number'] += 1 + r
 *                                 ms_info['s'].append({             # <<<<<<<<<<<<<<
 *                                     't': int(s.get('t', 0)),
 *                                     # @d is mandatory (see [1, 5.3.9.6.2, Table 17, page 60])
 */
            __pyx_t_11 = __Pyx_PyObject_Append(__pyx_t_5, __pyx_t_3); if (unlikely(__pyx_t_11 == -1)) __PYX_ERR(0, 1527, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
            __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

            /* "youtube_dl/extractor/common.py":1524
 *                             ms_info['total_number'] = 0
 *                             ms_info['s'] = []
 *                             for s in s_e:             # <<<<<<<<<<<<<<
 *                                 r = int(s.get('r', 0))
 *                                 ms_info['total_number'] += 1 + r
 */
          }
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

          /* "youtube_dl/extractor/common.py":1521
 *                     if segment_timeline is not None:
 *                         s_e = segment_timeline.findall(_add_ns('S'))
 *                         if s_e:             # <<<<<<<<<<<<<<
 *                             ms_info['total_number'] = 0
 *                             ms_info['s'] = []
 */
        }

        /* "youtube_dl/extractor/common.py":1519
 *                         ms_info['start_number'] = int(start_number)
 *                     segment_timeline = segment_template.find(_add_ns('SegmentTimeline'))
 *                     if segment_timeline is not None:             # <<<<<<<<<<<<<<
 *                         s_e = segment_timeline.findall(_add_ns('S'))
 *                         if s_e:
 */
        goto __pyx_L14;
      }

      /* "youtube_dl/extractor/common.py":1534
 *                                 })
 *                     else:
 *                         timescale = segment_template.get('timescale')             # <<<<<<<<<<<<<<
 *                         if timescale:
 *                             ms_info['timescale'] = int(timescale)
 */
      /*else*/ {
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_template, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1534, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__179, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1534, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_v_timescale = __pyx_t_3;
        __pyx_t_3 = 0;

        /* "youtube_dl/extractor/common.py":1535
 *                     else:
 *                         timescale = segment_template.get('timescale')
 *                         if timescale:             # <<<<<<<<<<<<<<
 *                             ms_info['timescale'] = int(timescale)
 *                         segment_duration = segment_template.get('duration')
 */
        __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_timescale); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1535, __pyx_L1_error)
        if (__pyx_t_6) {

          /* "youtube_dl/extractor/common.py":1536
 *                         timescale = segment_template.get('timescale')
 *                         if timescale:
 *                             ms_info['timescale'] = int(timescale)             # <<<<<<<<<<<<<<
 *                         segment_duration = segment_template.get('duration')
 *                         if segment_duration:
 */
          __pyx_t_3 = __Pyx_PyNumber_Int(__pyx_v_timescale); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1536, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_3);
          if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_timescale, __pyx_t_3) < 0)) __PYX_ERR(0, 1536, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

          /* "youtube_dl/extractor/common.py":1535
 *                     else:
 *                         timescale = segment_template.get('timescale')
 *                         if timescale:             # <<<<<<<<<<<<<<
 *                             ms_info['timescale'] = int(timescale)
 *                         segment_duration = segment_template.get('duration')
 */
        }

        /* "youtube_dl/extractor/common.py":1537
 *                         if timescale:
 *                             ms_info['timescale'] = int(timescale)
 *                         segment_duration = segment_template.get('duration')             # <<<<<<<<<<<<<<
 *                         if segment_duration:
 *                             ms_info['segment_duration'] = int(segment_duration)
 */
        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_template, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1537, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__180, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1537, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_v_segment_duration = __pyx_t_1;
        __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1538
 *                             ms_info['timescale'] = int(timescale)
 *                         segment_duration = segment_template.get('duration')
 *                         if segment_duration:             # <<<<<<<<<<<<<<
 *                             ms_info['segment_duration'] = int(segment_duration)
 *                     media_template = segment_template.get('media')
 */
        __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_segment_duration); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1538, __pyx_L1_error)
        if (__pyx_t_6) {

          /* "youtube_dl/extractor/common.py":1539
 *                         segment_duration = segment_template.get('duration')
 *                         if segment_duration:
 *                             ms_info['segment_duration'] = int(segment_duration)             # <<<<<<<<<<<<<<
 *                     media_template = segment_template.get('media')
 *                     if media_template:
 */
          __pyx_t_1 = __Pyx_PyNumber_Int(__pyx_v_segment_duration); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1539, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_segment_duration, __pyx_t_1) < 0)) __PYX_ERR(0, 1539, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

          /* "youtube_dl/extractor/common.py":1538
 *                             ms_info['timescale'] = int(timescale)
 *                         segment_duration = segment_template.get('duration')
 *                         if segment_duration:             # <<<<<<<<<<<<<<
 *                             ms_info['segment_duration'] = int(segment_duration)
 *                     media_template = segment_template.get('media')
 */
        }
      }
      __pyx_L14:;

      /* "youtube_dl/extractor/common.py":1540
 *                         if segment_duration:
 *                             ms_info['segment_duration'] = int(segment_duration)
 *                     media_template = segment_template.get('media')             # <<<<<<<<<<<<<<
 *                     if media_template:
 *                         ms_info['media_template'] = media_template
 */
      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_template, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1540, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__181, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1540, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_v_media_template = __pyx_t_3;
      __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1541
 *                             ms_info['segment_duration'] = int(segment_duration)
 *                     media_template = segment_template.get('media')
 *                     if media_template:             # <<<<<<<<<<<<<<
 *                         ms_info['media_template'] = media_template
 *                     initialization = segment_template.get('initialization')
 */
      __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_media_template); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1541, __pyx_L1_error)
      if (__pyx_t_6) {

        /* "youtube_dl/extractor/common.py":1542
 *                     media_template = segment_template.get('media')
 *                     if media_template:
 *                         ms_info['media_template'] = media_template             # <<<<<<<<<<<<<<
 *                     initialization = segment_template.get('initialization')
 *                     if initialization:
 */
        if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_media_template, __pyx_v_media_template) < 0)) __PYX_ERR(0, 1542, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1541
 *                             ms_info['segment_duration'] = int(segment_duration)
 *                     media_template = segment_template.get('media')
 *                     if media_template:             # <<<<<<<<<<<<<<
 *                         ms_info['media_template'] = media_template
 *                     initialization = segment_template.get('initialization')
 */
      }

      /* "youtube_dl/extractor/common.py":1543
 *                     if media_template:
 *                         ms_info['media_template'] = media_template
 *                     initialization = segment_template.get('initialization')             # <<<<<<<<<<<<<<
 *                     if initialization:
 *                         ms_info['initialization_url'] = initialization
 */
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_template, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1543, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__182, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1543, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_v_initialization = __pyx_t_1;
      __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":1544
 *                         ms_info['media_template'] = media_template
 *                     initialization = segment_template.get('initialization')
 *                     if initialization:             # <<<<<<<<<<<<<<
 *                         ms_info['initialization_url'] = initialization
 *                     else:
 */
      __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_initialization); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1544, __pyx_L1_error)
      if (__pyx_t_6) {

        /* "youtube_dl/extractor/common.py":1545
 *                     initialization = segment_template.get('initialization')
 *                     if initialization:
 *                         ms_info['initialization_url'] = initialization             # <<<<<<<<<<<<<<
 *                     else:
 *                         initialization = segment_template.find(_add_ns('Initialization'))
 */
        if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_initialization_url, __pyx_v_initialization) < 0)) __PYX_ERR(0, 1545, __pyx_L1_error)

        /* "youtube_dl/extractor/common.py":1544
 *                         ms_info['media_template'] = media_template
 *                     initialization = segment_template.get('initialization')
 *                     if initialization:             # <<<<<<<<<<<<<<
 *                         ms_info['initialization_url'] = initialization
 *                     else:
 */
        goto __pyx_L21;
      }

      /* "youtube_dl/extractor/common.py":1547
 *                         ms_info['initialization_url'] = initialization
 *                     else:
 *                         initialization = segment_template.find(_add_ns('Initialization'))             # <<<<<<<<<<<<<<
 *                         if initialization is not None:
 *                             ms_info['initialization_url'] = initialization.attrib['sourceURL']
 */
      /*else*/ {
        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_segment_template, __pyx_n_s_find); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1547, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        if (unlikely(!__pyx_cur_scope->__pyx_v__add_ns)) { __Pyx_RaiseClosureNameError("_add_ns"); __PYX_ERR(0, 1547, __pyx_L1_error) }
        __pyx_t_5 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_Initialization); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1547, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_2 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
          __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
          if (likely(__pyx_t_2)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
            __Pyx_INCREF(__pyx_t_2);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_3, function);
          }
        }
        if (!__pyx_t_2) {
          __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1547, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
          __Pyx_GOTREF(__pyx_t_1);
        } else {
          __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1547, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2); __pyx_t_2 = NULL;
          __Pyx_GIVEREF(__pyx_t_5);
          PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_5);
          __pyx_t_5 = 0;
          __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1547, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        }
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __Pyx_DECREF_SET(__pyx_v_initialization, __pyx_t_1);
        __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1548
 *                     else:
 *                         initialization = segment_template.find(_add_ns('Initialization'))
 *                         if initialization is not None:             # <<<<<<<<<<<<<<
 *                             ms_info['initialization_url'] = initialization.attrib['sourceURL']
 *             return ms_info
 */
        __pyx_t_6 = (__pyx_v_initialization != Py_None);
        __pyx_t_7 = (__pyx_t_6 != 0);
        if (__pyx_t_7) {

          /* "youtube_dl/extractor/common.py":1549
 *                         initialization = segment_template.find(_add_ns('Initialization'))
 *                         if initialization is not None:
 *                             ms_info['initialization_url'] = initialization.attrib['sourceURL']             # <<<<<<<<<<<<<<
 *             return ms_info
 * 
 */
          __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_initialization, __pyx_n_s_attrib); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1549, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          __pyx_t_3 = PyObject_GetItem(__pyx_t_1, __pyx_n_u_sourceURL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1549, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_3);
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
          if (unlikely(PyObject_SetItem(__pyx_v_ms_info, __pyx_n_u_initialization_url, __pyx_t_3) < 0)) __PYX_ERR(0, 1549, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

          /* "youtube_dl/extractor/common.py":1548
 *                     else:
 *                         initialization = segment_template.find(_add_ns('Initialization'))
 *                         if initialization is not None:             # <<<<<<<<<<<<<<
 *                             ms_info['initialization_url'] = initialization.attrib['sourceURL']
 *             return ms_info
 */
        }
      }
      __pyx_L21:;

      /* "youtube_dl/extractor/common.py":1514
 *             else:
 *                 segment_template = element.find(_add_ns('SegmentTemplate'))
 *                 if segment_template is not None:             # <<<<<<<<<<<<<<
 *                     start_number = segment_template.get('startNumber')
 *                     if start_number:
 */
    }
  }
  __pyx_L3:;

  /* "youtube_dl/extractor/common.py":1550
 *                         if initialization is not None:
 *                             ms_info['initialization_url'] = initialization.attrib['sourceURL']
 *             return ms_info             # <<<<<<<<<<<<<<
 * 
 *         mpd_duration = parse_duration(mpd_doc.get('mediaPresentationDuration'))
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_ms_info);
  __pyx_r = __pyx_v_ms_info;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1502
 *             return element.find(_add_ns('ContentProtection')) is not None
 * 
 *         def extract_multisegment_info(element, ms_parent_info):             # <<<<<<<<<<<<<<
 *             ms_info = ms_parent_info.copy()
 *             segment_list = element.find(_add_ns('SegmentList'))
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats.extract_multisegment_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_ms_info);
  __Pyx_XDECREF(__pyx_v_segment_list);
  __Pyx_XDECREF(__pyx_v_segment_urls_e);
  __Pyx_XDECREF(__pyx_v_initialization);
  __Pyx_XDECREF(__pyx_v_segment_template);
  __Pyx_XDECREF(__pyx_v_start_number);
  __Pyx_XDECREF(__pyx_v_segment_timeline);
  __Pyx_XDECREF(__pyx_v_s_e);
  __Pyx_XDECREF(__pyx_v_s);
  __Pyx_XDECREF(__pyx_v_r);
  __Pyx_XDECREF(__pyx_v_timescale);
  __Pyx_XDECREF(__pyx_v_segment_duration);
  __Pyx_XDECREF(__pyx_v_media_template);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1632
 *                                 segment_time = 0
 * 
 *                                 def add_segment_url():             # <<<<<<<<<<<<<<
 *                                     representation_ms_info['segment_urls'].append(
 *                                         media_template % {
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_7add_segment_url(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_7add_segment_url = {"add_segment_url", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_7add_segment_url, METH_NOARGS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_7add_segment_url(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("add_segment_url (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_6add_segment_url(__pyx_self);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_6add_segment_url(PyObject *__pyx_self) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_cur_scope;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  __Pyx_RefNannySetupContext("add_segment_url", 0);
  __pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *) __Pyx_CyFunction_GetClosure(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;

  /* "youtube_dl/extractor/common.py":1633
 * 
 *                                 def add_segment_url():
 *                                     representation_ms_info['segment_urls'].append(             # <<<<<<<<<<<<<<
 *                                         media_template % {
 *                                             'Time': segment_time,
 */
  if (unlikely(!__pyx_cur_scope->__pyx_v_representation_ms_info)) { __Pyx_RaiseClosureNameError("representation_ms_info"); __PYX_ERR(0, 1633, __pyx_L1_error) }
  __pyx_t_1 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_segment_urls); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1633, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);

  /* "youtube_dl/extractor/common.py":1634
 *                                 def add_segment_url():
 *                                     representation_ms_info['segment_urls'].append(
 *                                         media_template % {             # <<<<<<<<<<<<<<
 *                                             'Time': segment_time,
 *                                             'Bandwidth': representation_attrib.get('bandwidth'),
 */
  if (unlikely(!__pyx_cur_scope->__pyx_v_media_template)) { __Pyx_RaiseClosureNameError("media_template"); __PYX_ERR(0, 1634, __pyx_L1_error) }

  /* "youtube_dl/extractor/common.py":1635
 *                                     representation_ms_info['segment_urls'].append(
 *                                         media_template % {
 *                                             'Time': segment_time,             # <<<<<<<<<<<<<<
 *                                             'Bandwidth': representation_attrib.get('bandwidth'),
 *                                         }
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1635, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (unlikely(!__pyx_cur_scope->__pyx_v_segment_time)) { __Pyx_RaiseClosureNameError("segment_time"); __PYX_ERR(0, 1635, __pyx_L1_error) }
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_u_Time, __pyx_cur_scope->__pyx_v_segment_time) < 0) __PYX_ERR(0, 1635, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1636
 *                                         media_template % {
 *                                             'Time': segment_time,
 *                                             'Bandwidth': representation_attrib.get('bandwidth'),             # <<<<<<<<<<<<<<
 *                                         }
 *                                     )
 */
  if (unlikely(!__pyx_cur_scope->__pyx_v_representation_attrib)) { __Pyx_RaiseClosureNameError("representation_attrib"); __PYX_ERR(0, 1636, __pyx_L1_error) }
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__183, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_u_Bandwidth, __pyx_t_4) < 0) __PYX_ERR(0, 1635, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1634
 *                                 def add_segment_url():
 *                                     representation_ms_info['segment_urls'].append(
 *                                         media_template % {             # <<<<<<<<<<<<<<
 *                                             'Time': segment_time,
 *                                             'Bandwidth': representation_attrib.get('bandwidth'),
 */
  __pyx_t_4 = PyNumber_Remainder(__pyx_cur_scope->__pyx_v_media_template, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1634, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1633
 * 
 *                                 def add_segment_url():
 *                                     representation_ms_info['segment_urls'].append(             # <<<<<<<<<<<<<<
 *                                         media_template % {
 *                                             'Time': segment_time,
 */
  __pyx_t_5 = __Pyx_PyObject_Append(__pyx_t_1, __pyx_t_4); if (unlikely(__pyx_t_5 == -1)) __PYX_ERR(0, 1633, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1632
 *                                 segment_time = 0
 * 
 *                                 def add_segment_url():             # <<<<<<<<<<<<<<
 *                                     representation_ms_info['segment_urls'].append(
 *                                         media_template % {
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats.add_segment_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}
static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_10generator4(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value); /* proto */

/* "youtube_dl/extractor/common.py":1661
 *                         try:
 *                             existing_format = next(
 *                                 fo for fo in formats             # <<<<<<<<<<<<<<
 *                                 if fo['format_id'] == representation_id)
 *                         except StopIteration:
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_8genexpr(PyObject *__pyx_self) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("genexpr", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *) __pyx_self;
  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
  {
    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_10generator4, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_InfoExtractor__parse_mpd_formats, __pyx_n_s_youtube_dl_extractor_common); if (unlikely(!gen)) __PYX_ERR(0, 1661, __pyx_L1_error)
    __Pyx_DECREF(__pyx_cur_scope);
    __Pyx_RefNannyFinishContext();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_10generator4(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value) /* generator body */
{
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *__pyx_cur_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *)__pyx_generator->closure);
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("None", 0);
  switch (__pyx_generator->resume_label) {
    case 0: goto __pyx_L3_first_run;
    case 1: goto __pyx_L7_resume_from_yield;
    default: /* CPython raises the right error here */
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1661, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1662
 *                             existing_format = next(
 *                                 fo for fo in formats
 *                                 if fo['format_id'] == representation_id)             # <<<<<<<<<<<<<<
 *                         except StopIteration:
 *                             full_info = formats_dict.get(representation_id, {}).copy()
 */
  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_formats)) { __Pyx_RaiseClosureNameError("formats"); __PYX_ERR(0, 1662, __pyx_L1_error) }
  if (unlikely(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_formats == Py_None)) {
    PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable");
    __PYX_ERR(0, 1662, __pyx_L1_error)
  }

  /* "youtube_dl/extractor/common.py":1661
 *                         try:
 *                             existing_format = next(
 *                                 fo for fo in formats             # <<<<<<<<<<<<<<
 *                                 if fo['format_id'] == representation_id)
 *                         except StopIteration:
 */
  __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_formats; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
  for (;;) {
    if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
    #if CYTHON_COMPILING_IN_CPYTHON
    __pyx_t_3 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_3); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(0, 1661, __pyx_L1_error)
    #else
    __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1661, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    #endif
    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_fo);
    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_fo, __pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1662
 *                             existing_format = next(
 *                                 fo for fo in formats
 *                                 if fo['format_id'] == representation_id)             # <<<<<<<<<<<<<<
 *                         except StopIteration:
 *                             full_info = formats_dict.get(representation_id, {}).copy()
 */
    __pyx_t_3 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_fo, __pyx_n_u_format_id); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1662, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_representation_id)) { __Pyx_RaiseClosureNameError("representation_id"); __PYX_ERR(0, 1662, __pyx_L1_error) }
    __pyx_t_4 = PyObject_RichCompare(__pyx_t_3, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_representation_id, Py_EQ); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1662, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1662, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_5) {

      /* "youtube_dl/extractor/common.py":1661
 *                         try:
 *                             existing_format = next(
 *                                 fo for fo in formats             # <<<<<<<<<<<<<<
 *                                 if fo['format_id'] == representation_id)
 *                         except StopIteration:
 */
      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_fo);
      __pyx_r = __pyx_cur_scope->__pyx_v_fo;
      __Pyx_XGIVEREF(__pyx_t_1);
      __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
      __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
      __Pyx_XGIVEREF(__pyx_r);
      __Pyx_RefNannyFinishContext();
      /* return from generator, yielding value */
      __pyx_generator->resume_label = 1;
      return __pyx_r;
      __pyx_L7_resume_from_yield:;
      __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
      __pyx_cur_scope->__pyx_t_0 = 0;
      __Pyx_XGOTREF(__pyx_t_1);
      __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
      if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1661, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1662
 *                             existing_format = next(
 *                                 fo for fo in formats
 *                                 if fo['format_id'] == representation_id)             # <<<<<<<<<<<<<<
 *                         except StopIteration:
 *                             full_info = formats_dict.get(representation_id, {}).copy()
 */
    }

    /* "youtube_dl/extractor/common.py":1661
 *                         try:
 *                             existing_format = next(
 *                                 fo for fo in formats             # <<<<<<<<<<<<<<
 *                                 if fo['format_id'] == representation_id)
 *                         except StopIteration:
 */
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* function exit code */
  PyErr_SetNone(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
  __pyx_generator->resume_label = -1;
  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1483
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):             # <<<<<<<<<<<<<<
 *         """
 *         Parse formats from MPD manifest.
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_146_parse_mpd_formats(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_mpd_doc, PyObject *__pyx_v_mpd_id, PyObject *__pyx_v_mpd_base_url, PyObject *__pyx_v_formats_dict) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_cur_scope;
  PyObject *__pyx_v_is_drm_protected = 0;
  PyObject *__pyx_v_extract_multisegment_info = 0;
  PyObject *__pyx_v_mpd_duration = NULL;
  PyObject *__pyx_v_period = NULL;
  PyObject *__pyx_v_period_duration = NULL;
  PyObject *__pyx_v_period_ms_info = NULL;
  PyObject *__pyx_v_adaptation_set = NULL;
  PyObject *__pyx_v_adaption_set_ms_info = NULL;
  PyObject *__pyx_v_representation = NULL;
  PyObject *__pyx_v_mime_type = NULL;
  PyObject *__pyx_v_content_type = NULL;
  PyObject *__pyx_v_base_url = NULL;
  PyObject *__pyx_v_element = NULL;
  PyObject *__pyx_v_base_url_e = NULL;
  PyObject *__pyx_v_lang = NULL;
  PyObject *__pyx_v_url_el = NULL;
  PyObject *__pyx_v_filesize = NULL;
  PyObject *__pyx_v_f = NULL;
  double __pyx_v_segment_duration;
  PyObject *__pyx_v_add_segment_url = 0;
  CYTHON_UNUSED PyObject *__pyx_v_num = NULL;
  PyObject *__pyx_v_s = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_r = NULL;
  PyObject *__pyx_v_initialization_url = NULL;
  PyObject *__pyx_v_existing_format = NULL;
  PyObject *__pyx_v_full_info = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  PyObject *(*__pyx_t_8)(PyObject *);
  PyObject *__pyx_t_9 = NULL;
  PyObject *__pyx_t_10 = NULL;
  Py_ssize_t __pyx_t_11;
  PyObject *(*__pyx_t_12)(PyObject *);
  Py_ssize_t __pyx_t_13;
  PyObject *(*__pyx_t_14)(PyObject *);
  PyObject *__pyx_t_15 = NULL;
  int __pyx_t_16;
  Py_ssize_t __pyx_t_17;
  PyObject *__pyx_t_18 = NULL;
  Py_ssize_t __pyx_t_19;
  int __pyx_t_20;
  double __pyx_t_21;
  double __pyx_t_22;
  PyObject *(*__pyx_t_23)(PyObject *);
  PyObject *(*__pyx_t_24)(PyObject *);
  PyObject *__pyx_t_25 = NULL;
  PyObject *__pyx_t_26 = NULL;
  PyObject *__pyx_t_27 = NULL;
  int __pyx_t_28;
  PyObject *__pyx_t_29 = NULL;
  PyObject *__pyx_t_30 = NULL;
  PyObject *__pyx_t_31 = NULL;
  int __pyx_t_32;
  __Pyx_RefNannySetupContext("_parse_mpd_formats", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_self);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_self);
  __Pyx_INCREF(__pyx_v_mpd_base_url);

  /* "youtube_dl/extractor/common.py":1491
 *          2. https://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP
 *         """
 *         if mpd_doc.get('type') == 'dynamic':             # <<<<<<<<<<<<<<
 *             return []
 * 
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_mpd_doc, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1491, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__184, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1491, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__Pyx_PyUnicode_Equals(__pyx_t_2, __pyx_n_u_dynamic, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1491, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":1492
 *         """
 *         if mpd_doc.get('type') == 'dynamic':
 *             return []             # <<<<<<<<<<<<<<
 * 
 *         namespace = self._search_regex(r'(?i)^{([^}]+)?}MPD$', mpd_doc.tag, 'namespace', default=None)
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1492, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1491
 *          2. https://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP
 *         """
 *         if mpd_doc.get('type') == 'dynamic':             # <<<<<<<<<<<<<<
 *             return []
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":1494
 *             return []
 * 
 *         namespace = self._search_regex(r'(?i)^{([^}]+)?}MPD$', mpd_doc.tag, 'namespace', default=None)             # <<<<<<<<<<<<<<
 * 
 *         def _add_ns(path):
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_search_regex); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1494, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_mpd_doc, __pyx_n_s_tag); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1494, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1494, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_kp_u_i_MPD);
  __Pyx_GIVEREF(__pyx_kp_u_i_MPD);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_kp_u_i_MPD);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_1);
  __Pyx_INCREF(__pyx_n_u_namespace);
  __Pyx_GIVEREF(__pyx_n_u_namespace);
  PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_n_u_namespace);
  __pyx_t_1 = 0;
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1494, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_default, Py_None) < 0) __PYX_ERR(0, 1494, __pyx_L1_error)
  __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_4, __pyx_t_1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1494, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_cur_scope->__pyx_v_namespace = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1496
 *         namespace = self._search_regex(r'(?i)^{([^}]+)?}MPD$', mpd_doc.tag, 'namespace', default=None)
 * 
 *         def _add_ns(path):             # <<<<<<<<<<<<<<
 *             return self._xpath_ns(path, namespace)
 * 
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_1_add_ns, 0, __pyx_n_s_InfoExtractor__parse_mpd_formats_2, ((PyObject*)__pyx_cur_scope), __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__186)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1496, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_cur_scope->__pyx_v__add_ns = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1499
 *             return self._xpath_ns(path, namespace)
 * 
 *         def is_drm_protected(element):             # <<<<<<<<<<<<<<
 *             return element.find(_add_ns('ContentProtection')) is not None
 * 
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_3is_drm_protected, 0, __pyx_n_s_InfoExtractor__parse_mpd_formats_3, ((PyObject*)__pyx_cur_scope), __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__188)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1499, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_v_is_drm_protected = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1502
 *             return element.find(_add_ns('ContentProtection')) is not None
 * 
 *         def extract_multisegment_info(element, ms_parent_info):             # <<<<<<<<<<<<<<
 *             ms_info = ms_parent_info.copy()
 *             segment_list = element.find(_add_ns('SegmentList'))
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_5extract_multisegment_info, 0, __pyx_n_s_InfoExtractor__parse_mpd_formats_4, ((PyObject*)__pyx_cur_scope), __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__190)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1502, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_v_extract_multisegment_info = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1552
 *             return ms_info
 * 
 *         mpd_duration = parse_duration(mpd_doc.get('mediaPresentationDuration'))             # <<<<<<<<<<<<<<
 *         formats = []
 *         for period in mpd_doc.findall(_add_ns('Period')):
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_parse_duration); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1552, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_mpd_doc, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1552, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__191, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1552, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_1))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_1);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_1, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1552, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_GOTREF(__pyx_t_5);
  } else {
    __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1552, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_GIVEREF(__pyx_t_2);
    PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_6, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1552, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_mpd_duration = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1553
 * 
 *         mpd_duration = parse_duration(mpd_doc.get('mediaPresentationDuration'))
 *         formats = []             # <<<<<<<<<<<<<<
 *         for period in mpd_doc.findall(_add_ns('Period')):
 *             period_duration = parse_duration(period.get('duration')) or mpd_duration
 */
  __pyx_t_5 = PyList_New(0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1553, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_cur_scope->__pyx_v_formats = ((PyObject*)__pyx_t_5);
  __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1554
 *         mpd_duration = parse_duration(mpd_doc.get('mediaPresentationDuration'))
 *         formats = []
 *         for period in mpd_doc.findall(_add_ns('Period')):             # <<<<<<<<<<<<<<
 *             period_duration = parse_duration(period.get('duration')) or mpd_duration
 *             period_ms_info = extract_multisegment_info(period, {
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_mpd_doc, __pyx_n_s_findall); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1554, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_6 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_Period); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1554, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_2 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_1))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_1, function);
    }
  }
  if (!__pyx_t_2) {
    __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1554, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_GOTREF(__pyx_t_5);
  } else {
    __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1554, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2); __pyx_t_2 = NULL;
    __Pyx_GIVEREF(__pyx_t_6);
    PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_6);
    __pyx_t_6 = 0;
    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_4, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1554, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (likely(PyList_CheckExact(__pyx_t_5)) || PyTuple_CheckExact(__pyx_t_5)) {
    __pyx_t_1 = __pyx_t_5; __Pyx_INCREF(__pyx_t_1); __pyx_t_7 = 0;
    __pyx_t_8 = NULL;
  } else {
    __pyx_t_7 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1554, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_8 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1554, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  for (;;) {
    if (likely(!__pyx_t_8)) {
      if (likely(PyList_CheckExact(__pyx_t_1))) {
        if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_5 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_5); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 1554, __pyx_L1_error)
        #else
        __pyx_t_5 = PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1554, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        #endif
      } else {
        if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_5); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(0, 1554, __pyx_L1_error)
        #else
        __pyx_t_5 = PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1554, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        #endif
      }
    } else {
      __pyx_t_5 = __pyx_t_8(__pyx_t_1);
      if (unlikely(!__pyx_t_5)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1554, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_5);
    }
    __Pyx_XDECREF_SET(__pyx_v_period, __pyx_t_5);
    __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1555
 *         formats = []
 *         for period in mpd_doc.findall(_add_ns('Period')):
 *             period_duration = parse_duration(period.get('duration')) or mpd_duration             # <<<<<<<<<<<<<<
 *             period_ms_info = extract_multisegment_info(period, {
 *                 'start_number': 1,
 */
    __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_parse_duration); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1555, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_period, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1555, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__192, NULL); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1555, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_9);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_6))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_6, function);
      }
    }
    if (!__pyx_t_2) {
      __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_9); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1555, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __Pyx_GOTREF(__pyx_t_4);
    } else {
      __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1555, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_2); __pyx_t_2 = NULL;
      __Pyx_GIVEREF(__pyx_t_9);
      PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_t_9);
      __pyx_t_9 = 0;
      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_10, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1555, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1555, __pyx_L1_error)
    if (!__pyx_t_3) {
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    } else {
      __Pyx_INCREF(__pyx_t_4);
      __pyx_t_5 = __pyx_t_4;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L6_bool_binop_done;
    }
    __Pyx_INCREF(__pyx_v_mpd_duration);
    __pyx_t_5 = __pyx_v_mpd_duration;
    __pyx_L6_bool_binop_done:;
    __Pyx_XDECREF_SET(__pyx_v_period_duration, __pyx_t_5);
    __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1557
 *             period_duration = parse_duration(period.get('duration')) or mpd_duration
 *             period_ms_info = extract_multisegment_info(period, {
 *                 'start_number': 1,             # <<<<<<<<<<<<<<
 *                 'timescale': 1,
 *             })
 */
    __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1557, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_start_number, __pyx_int_1) < 0) __PYX_ERR(0, 1557, __pyx_L1_error)
    if (PyDict_SetItem(__pyx_t_5, __pyx_n_u_timescale, __pyx_int_1) < 0) __PYX_ERR(0, 1557, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1556
 *         for period in mpd_doc.findall(_add_ns('Period')):
 *             period_duration = parse_duration(period.get('duration')) or mpd_duration
 *             period_ms_info = extract_multisegment_info(period, {             # <<<<<<<<<<<<<<
 *                 'start_number': 1,
 *                 'timescale': 1,
 */
    __pyx_t_4 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_4extract_multisegment_info(__pyx_v_extract_multisegment_info, __pyx_v_period, __pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1556, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_XDECREF_SET(__pyx_v_period_ms_info, __pyx_t_4);
    __pyx_t_4 = 0;

    /* "youtube_dl/extractor/common.py":1560
 *                 'timescale': 1,
 *             })
 *             for adaptation_set in period.findall(_add_ns('AdaptationSet')):             # <<<<<<<<<<<<<<
 *                 if is_drm_protected(adaptation_set):
 *                     continue
 */
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_period, __pyx_n_s_findall); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1560, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_6 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_AdaptationSet); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1560, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_10 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_10)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_10);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
      }
    }
    if (!__pyx_t_10) {
      __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1560, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_GOTREF(__pyx_t_4);
    } else {
      __pyx_t_9 = PyTuple_New(1+1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1560, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_10); __pyx_t_10 = NULL;
      __Pyx_GIVEREF(__pyx_t_6);
      PyTuple_SET_ITEM(__pyx_t_9, 0+1, __pyx_t_6);
      __pyx_t_6 = 0;
      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_9, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1560, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    }
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (likely(PyList_CheckExact(__pyx_t_4)) || PyTuple_CheckExact(__pyx_t_4)) {
      __pyx_t_5 = __pyx_t_4; __Pyx_INCREF(__pyx_t_5); __pyx_t_11 = 0;
      __pyx_t_12 = NULL;
    } else {
      __pyx_t_11 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1560, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_12 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1560, __pyx_L1_error)
    }
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    for (;;) {
      if (likely(!__pyx_t_12)) {
        if (likely(PyList_CheckExact(__pyx_t_5))) {
          if (__pyx_t_11 >= PyList_GET_SIZE(__pyx_t_5)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_4 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_11); __Pyx_INCREF(__pyx_t_4); __pyx_t_11++; if (unlikely(0 < 0)) __PYX_ERR(0, 1560, __pyx_L1_error)
          #else
          __pyx_t_4 = PySequence_ITEM(__pyx_t_5, __pyx_t_11); __pyx_t_11++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1560, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          #endif
        } else {
          if (__pyx_t_11 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_11); __Pyx_INCREF(__pyx_t_4); __pyx_t_11++; if (unlikely(0 < 0)) __PYX_ERR(0, 1560, __pyx_L1_error)
          #else
          __pyx_t_4 = PySequence_ITEM(__pyx_t_5, __pyx_t_11); __pyx_t_11++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1560, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          #endif
        }
      } else {
        __pyx_t_4 = __pyx_t_12(__pyx_t_5);
        if (unlikely(!__pyx_t_4)) {
          PyObject* exc_type = PyErr_Occurred();
          if (exc_type) {
            if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
            else __PYX_ERR(0, 1560, __pyx_L1_error)
          }
          break;
        }
        __Pyx_GOTREF(__pyx_t_4);
      }
      __Pyx_XDECREF_SET(__pyx_v_adaptation_set, __pyx_t_4);
      __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":1561
 *             })
 *             for adaptation_set in period.findall(_add_ns('AdaptationSet')):
 *                 if is_drm_protected(adaptation_set):             # <<<<<<<<<<<<<<
 *                     continue
 *                 adaption_set_ms_info = extract_multisegment_info(adaptation_set, period_ms_info)
 */
      __pyx_t_4 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_2is_drm_protected(__pyx_v_is_drm_protected, __pyx_v_adaptation_set); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1561, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1561, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_3) {

        /* "youtube_dl/extractor/common.py":1562
 *             for adaptation_set in period.findall(_add_ns('AdaptationSet')):
 *                 if is_drm_protected(adaptation_set):
 *                     continue             # <<<<<<<<<<<<<<
 *                 adaption_set_ms_info = extract_multisegment_info(adaptation_set, period_ms_info)
 *                 for representation in adaptation_set.findall(_add_ns('Representation')):
 */
        goto __pyx_L8_continue;

        /* "youtube_dl/extractor/common.py":1561
 *             })
 *             for adaptation_set in period.findall(_add_ns('AdaptationSet')):
 *                 if is_drm_protected(adaptation_set):             # <<<<<<<<<<<<<<
 *                     continue
 *                 adaption_set_ms_info = extract_multisegment_info(adaptation_set, period_ms_info)
 */
      }

      /* "youtube_dl/extractor/common.py":1563
 *                 if is_drm_protected(adaptation_set):
 *                     continue
 *                 adaption_set_ms_info = extract_multisegment_info(adaptation_set, period_ms_info)             # <<<<<<<<<<<<<<
 *                 for representation in adaptation_set.findall(_add_ns('Representation')):
 *                     if is_drm_protected(representation):
 */
      __pyx_t_4 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_4extract_multisegment_info(__pyx_v_extract_multisegment_info, __pyx_v_adaptation_set, __pyx_v_period_ms_info); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1563, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_XDECREF_SET(__pyx_v_adaption_set_ms_info, __pyx_t_4);
      __pyx_t_4 = 0;

      /* "youtube_dl/extractor/common.py":1564
 *                     continue
 *                 adaption_set_ms_info = extract_multisegment_info(adaptation_set, period_ms_info)
 *                 for representation in adaptation_set.findall(_add_ns('Representation')):             # <<<<<<<<<<<<<<
 *                     if is_drm_protected(representation):
 *                         continue
 */
      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_adaptation_set, __pyx_n_s_findall); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1564, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_6 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_Representation); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1564, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_10 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_9))) {
        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_9);
        if (likely(__pyx_t_10)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
          __Pyx_INCREF(__pyx_t_10);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_9, function);
        }
      }
      if (!__pyx_t_10) {
        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1564, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_GOTREF(__pyx_t_4);
      } else {
        __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1564, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_10); __pyx_t_10 = NULL;
        __Pyx_GIVEREF(__pyx_t_6);
        PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_t_6);
        __pyx_t_6 = 0;
        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_t_2, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1564, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      }
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      if (likely(PyList_CheckExact(__pyx_t_4)) || PyTuple_CheckExact(__pyx_t_4)) {
        __pyx_t_9 = __pyx_t_4; __Pyx_INCREF(__pyx_t_9); __pyx_t_13 = 0;
        __pyx_t_14 = NULL;
      } else {
        __pyx_t_13 = -1; __pyx_t_9 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1564, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_9);
        __pyx_t_14 = Py_TYPE(__pyx_t_9)->tp_iternext; if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1564, __pyx_L1_error)
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      for (;;) {
        if (likely(!__pyx_t_14)) {
          if (likely(PyList_CheckExact(__pyx_t_9))) {
            if (__pyx_t_13 >= PyList_GET_SIZE(__pyx_t_9)) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_4 = PyList_GET_ITEM(__pyx_t_9, __pyx_t_13); __Pyx_INCREF(__pyx_t_4); __pyx_t_13++; if (unlikely(0 < 0)) __PYX_ERR(0, 1564, __pyx_L1_error)
            #else
            __pyx_t_4 = PySequence_ITEM(__pyx_t_9, __pyx_t_13); __pyx_t_13++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1564, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            #endif
          } else {
            if (__pyx_t_13 >= PyTuple_GET_SIZE(__pyx_t_9)) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_9, __pyx_t_13); __Pyx_INCREF(__pyx_t_4); __pyx_t_13++; if (unlikely(0 < 0)) __PYX_ERR(0, 1564, __pyx_L1_error)
            #else
            __pyx_t_4 = PySequence_ITEM(__pyx_t_9, __pyx_t_13); __pyx_t_13++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1564, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            #endif
          }
        } else {
          __pyx_t_4 = __pyx_t_14(__pyx_t_9);
          if (unlikely(!__pyx_t_4)) {
            PyObject* exc_type = PyErr_Occurred();
            if (exc_type) {
              if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
              else __PYX_ERR(0, 1564, __pyx_L1_error)
            }
            break;
          }
          __Pyx_GOTREF(__pyx_t_4);
        }
        __Pyx_XDECREF_SET(__pyx_v_representation, __pyx_t_4);
        __pyx_t_4 = 0;

        /* "youtube_dl/extractor/common.py":1565
 *                 adaption_set_ms_info = extract_multisegment_info(adaptation_set, period_ms_info)
 *                 for representation in adaptation_set.findall(_add_ns('Representation')):
 *                     if is_drm_protected(representation):             # <<<<<<<<<<<<<<
 *                         continue
 *                     representation_attrib = adaptation_set.attrib.copy()
 */
        __pyx_t_4 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_2is_drm_protected(__pyx_v_is_drm_protected, __pyx_v_representation); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1565, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1565, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (__pyx_t_3) {

          /* "youtube_dl/extractor/common.py":1566
 *                 for representation in adaptation_set.findall(_add_ns('Representation')):
 *                     if is_drm_protected(representation):
 *                         continue             # <<<<<<<<<<<<<<
 *                     representation_attrib = adaptation_set.attrib.copy()
 *                     representation_attrib.update(representation.attrib)
 */
          goto __pyx_L11_continue;

          /* "youtube_dl/extractor/common.py":1565
 *                 adaption_set_ms_info = extract_multisegment_info(adaptation_set, period_ms_info)
 *                 for representation in adaptation_set.findall(_add_ns('Representation')):
 *                     if is_drm_protected(representation):             # <<<<<<<<<<<<<<
 *                         continue
 *                     representation_attrib = adaptation_set.attrib.copy()
 */
        }

        /* "youtube_dl/extractor/common.py":1567
 *                     if is_drm_protected(representation):
 *                         continue
 *                     representation_attrib = adaptation_set.attrib.copy()             # <<<<<<<<<<<<<<
 *                     representation_attrib.update(representation.attrib)
 *                     # According to [1, 5.3.7.2, Table 9, page 41], @mimeType is mandatory
 */
        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_adaptation_set, __pyx_n_s_attrib); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1567, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_copy); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1567, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
          __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
          if (likely(__pyx_t_2)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
            __Pyx_INCREF(__pyx_t_2);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_6, function);
          }
        }
        if (__pyx_t_2) {
          __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1567, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        } else {
          __pyx_t_4 = __Pyx_PyObject_CallNoArg(__pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1567, __pyx_L1_error)
        }
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_representation_attrib);
        __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_t_4);
        __Pyx_GIVEREF(__pyx_t_4);
        __pyx_t_4 = 0;

        /* "youtube_dl/extractor/common.py":1568
 *                         continue
 *                     representation_attrib = adaptation_set.attrib.copy()
 *                     representation_attrib.update(representation.attrib)             # <<<<<<<<<<<<<<
 *                     # According to [1, 5.3.7.2, Table 9, page 41], @mimeType is mandatory
 *                     mime_type = representation_attrib['mimeType']
 */
        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_update); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1568, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_representation, __pyx_n_s_attrib); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1568, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_10 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
          __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_6);
          if (likely(__pyx_t_10)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
            __Pyx_INCREF(__pyx_t_10);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_6, function);
          }
        }
        if (!__pyx_t_10) {
          __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1568, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __Pyx_GOTREF(__pyx_t_4);
        } else {
          __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1568, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_10); __pyx_t_10 = NULL;
          __Pyx_GIVEREF(__pyx_t_2);
          PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_t_2);
          __pyx_t_2 = 0;
          __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_15, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1568, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
        }
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

        /* "youtube_dl/extractor/common.py":1570
 *                     representation_attrib.update(representation.attrib)
 *                     # According to [1, 5.3.7.2, Table 9, page 41], @mimeType is mandatory
 *                     mime_type = representation_attrib['mimeType']             # <<<<<<<<<<<<<<
 *                     content_type = mime_type.split('/')[0]
 *                     if content_type == 'text':
 */
        __pyx_t_4 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_u_mimeType); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1570, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_XDECREF_SET(__pyx_v_mime_type, __pyx_t_4);
        __pyx_t_4 = 0;

        /* "youtube_dl/extractor/common.py":1571
 *                     # According to [1, 5.3.7.2, Table 9, page 41], @mimeType is mandatory
 *                     mime_type = representation_attrib['mimeType']
 *                     content_type = mime_type.split('/')[0]             # <<<<<<<<<<<<<<
 *                     if content_type == 'text':
 *                         # TODO implement WebVTT downloading
 */
        __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_mime_type, __pyx_n_s_split); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1571, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__193, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1571, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = __Pyx_GetItemInt(__pyx_t_6, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1571, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_XDECREF_SET(__pyx_v_content_type, __pyx_t_4);
        __pyx_t_4 = 0;

        /* "youtube_dl/extractor/common.py":1572
 *                     mime_type = representation_attrib['mimeType']
 *                     content_type = mime_type.split('/')[0]
 *                     if content_type == 'text':             # <<<<<<<<<<<<<<
 *                         # TODO implement WebVTT downloading
 *                         pass
 */
        __pyx_t_3 = (__Pyx_PyUnicode_Equals(__pyx_v_content_type, __pyx_n_u_text, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1572, __pyx_L1_error)
        if (__pyx_t_3) {
          goto __pyx_L14;
        }

        /* "youtube_dl/extractor/common.py":1575
 *                         # TODO implement WebVTT downloading
 *                         pass
 *                     elif content_type == 'video' or content_type == 'audio':             # <<<<<<<<<<<<<<
 *                         base_url = ''
 *                         for element in (representation, adaptation_set, period, mpd_doc):
 */
        __pyx_t_16 = (__Pyx_PyUnicode_Equals(__pyx_v_content_type, __pyx_n_u_video, Py_EQ)); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1575, __pyx_L1_error)
        if (!__pyx_t_16) {
        } else {
          __pyx_t_3 = __pyx_t_16;
          goto __pyx_L15_bool_binop_done;
        }
        __pyx_t_16 = (__Pyx_PyUnicode_Equals(__pyx_v_content_type, __pyx_n_u_audio_2, Py_EQ)); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1575, __pyx_L1_error)
        __pyx_t_3 = __pyx_t_16;
        __pyx_L15_bool_binop_done:;
        if (__pyx_t_3) {

          /* "youtube_dl/extractor/common.py":1576
 *                         pass
 *                     elif content_type == 'video' or content_type == 'audio':
 *                         base_url = ''             # <<<<<<<<<<<<<<
 *                         for element in (representation, adaptation_set, period, mpd_doc):
 *                             base_url_e = element.find(_add_ns('BaseURL'))
 */
          __Pyx_INCREF(__pyx_kp_u__14);
          __Pyx_XDECREF_SET(__pyx_v_base_url, __pyx_kp_u__14);

          /* "youtube_dl/extractor/common.py":1577
 *                     elif content_type == 'video' or content_type == 'audio':
 *                         base_url = ''
 *                         for element in (representation, adaptation_set, period, mpd_doc):             # <<<<<<<<<<<<<<
 *                             base_url_e = element.find(_add_ns('BaseURL'))
 *                             if base_url_e is not None:
 */
          __pyx_t_4 = PyTuple_New(4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1577, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_INCREF(__pyx_v_representation);
          __Pyx_GIVEREF(__pyx_v_representation);
          PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_representation);
          __Pyx_INCREF(__pyx_v_adaptation_set);
          __Pyx_GIVEREF(__pyx_v_adaptation_set);
          PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_adaptation_set);
          __Pyx_INCREF(__pyx_v_period);
          __Pyx_GIVEREF(__pyx_v_period);
          PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_v_period);
          __Pyx_INCREF(__pyx_v_mpd_doc);
          __Pyx_GIVEREF(__pyx_v_mpd_doc);
          PyTuple_SET_ITEM(__pyx_t_4, 3, __pyx_v_mpd_doc);
          __pyx_t_6 = __pyx_t_4; __Pyx_INCREF(__pyx_t_6); __pyx_t_17 = 0;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          for (;;) {
            if (__pyx_t_17 >= 4) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_6, __pyx_t_17); __Pyx_INCREF(__pyx_t_4); __pyx_t_17++; if (unlikely(0 < 0)) __PYX_ERR(0, 1577, __pyx_L1_error)
            #else
            __pyx_t_4 = PySequence_ITEM(__pyx_t_6, __pyx_t_17); __pyx_t_17++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1577, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            #endif
            __Pyx_XDECREF_SET(__pyx_v_element, __pyx_t_4);
            __pyx_t_4 = 0;

            /* "youtube_dl/extractor/common.py":1578
 *                         base_url = ''
 *                         for element in (representation, adaptation_set, period, mpd_doc):
 *                             base_url_e = element.find(_add_ns('BaseURL'))             # <<<<<<<<<<<<<<
 *                             if base_url_e is not None:
 *                                 base_url = base_url_e.text + base_url
 */
            __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_v_element, __pyx_n_s_find); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1578, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_15);
            __pyx_t_2 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_BaseURL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1578, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __pyx_t_10 = NULL;
            if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_15))) {
              __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_15);
              if (likely(__pyx_t_10)) {
                PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
                __Pyx_INCREF(__pyx_t_10);
                __Pyx_INCREF(function);
                __Pyx_DECREF_SET(__pyx_t_15, function);
              }
            }
            if (!__pyx_t_10) {
              __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_15, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1578, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
              __Pyx_GOTREF(__pyx_t_4);
            } else {
              __pyx_t_18 = PyTuple_New(1+1); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1578, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_18);
              __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_18, 0, __pyx_t_10); __pyx_t_10 = NULL;
              __Pyx_GIVEREF(__pyx_t_2);
              PyTuple_SET_ITEM(__pyx_t_18, 0+1, __pyx_t_2);
              __pyx_t_2 = 0;
              __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_t_18, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1578, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_4);
              __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
            }
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_XDECREF_SET(__pyx_v_base_url_e, __pyx_t_4);
            __pyx_t_4 = 0;

            /* "youtube_dl/extractor/common.py":1579
 *                         for element in (representation, adaptation_set, period, mpd_doc):
 *                             base_url_e = element.find(_add_ns('BaseURL'))
 *                             if base_url_e is not None:             # <<<<<<<<<<<<<<
 *                                 base_url = base_url_e.text + base_url
 *                                 if re.match(r'^https?://', base_url):
 */
            __pyx_t_3 = (__pyx_v_base_url_e != Py_None);
            __pyx_t_16 = (__pyx_t_3 != 0);
            if (__pyx_t_16) {

              /* "youtube_dl/extractor/common.py":1580
 *                             base_url_e = element.find(_add_ns('BaseURL'))
 *                             if base_url_e is not None:
 *                                 base_url = base_url_e.text + base_url             # <<<<<<<<<<<<<<
 *                                 if re.match(r'^https?://', base_url):
 *                                     break
 */
              __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_base_url_e, __pyx_n_s_text); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1580, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_4);
              __pyx_t_15 = PyNumber_Add(__pyx_t_4, __pyx_v_base_url); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1580, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_15);
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
              __Pyx_DECREF_SET(__pyx_v_base_url, __pyx_t_15);
              __pyx_t_15 = 0;

              /* "youtube_dl/extractor/common.py":1581
 *                             if base_url_e is not None:
 *                                 base_url = base_url_e.text + base_url
 *                                 if re.match(r'^https?://', base_url):             # <<<<<<<<<<<<<<
 *                                     break
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):
 */
              __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1581, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_4);
              __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_match); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1581, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_18);
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
              __pyx_t_4 = NULL;
              __pyx_t_19 = 0;
              if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_18))) {
                __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_18);
                if (likely(__pyx_t_4)) {
                  PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_18);
                  __Pyx_INCREF(__pyx_t_4);
                  __Pyx_INCREF(function);
                  __Pyx_DECREF_SET(__pyx_t_18, function);
                  __pyx_t_19 = 1;
                }
              }
              __pyx_t_2 = PyTuple_New(2+__pyx_t_19); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1581, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_2);
              if (__pyx_t_4) {
                __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_4); __pyx_t_4 = NULL;
              }
              __Pyx_INCREF(__pyx_kp_u_https_4);
              __Pyx_GIVEREF(__pyx_kp_u_https_4);
              PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_19, __pyx_kp_u_https_4);
              __Pyx_INCREF(__pyx_v_base_url);
              __Pyx_GIVEREF(__pyx_v_base_url);
              PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_19, __pyx_v_base_url);
              __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_t_2, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1581, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_15);
              __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
              __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
              __pyx_t_16 = __Pyx_PyObject_IsTrue(__pyx_t_15); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1581, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
              if (__pyx_t_16) {

                /* "youtube_dl/extractor/common.py":1582
 *                                 base_url = base_url_e.text + base_url
 *                                 if re.match(r'^https?://', base_url):
 *                                     break             # <<<<<<<<<<<<<<
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):
 *                             if not mpd_base_url.endswith('/') and not base_url.startswith('/'):
 */
                goto __pyx_L18_break;

                /* "youtube_dl/extractor/common.py":1581
 *                             if base_url_e is not None:
 *                                 base_url = base_url_e.text + base_url
 *                                 if re.match(r'^https?://', base_url):             # <<<<<<<<<<<<<<
 *                                     break
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):
 */
              }

              /* "youtube_dl/extractor/common.py":1579
 *                         for element in (representation, adaptation_set, period, mpd_doc):
 *                             base_url_e = element.find(_add_ns('BaseURL'))
 *                             if base_url_e is not None:             # <<<<<<<<<<<<<<
 *                                 base_url = base_url_e.text + base_url
 *                                 if re.match(r'^https?://', base_url):
 */
            }

            /* "youtube_dl/extractor/common.py":1577
 *                     elif content_type == 'video' or content_type == 'audio':
 *                         base_url = ''
 *                         for element in (representation, adaptation_set, period, mpd_doc):             # <<<<<<<<<<<<<<
 *                             base_url_e = element.find(_add_ns('BaseURL'))
 *                             if base_url_e is not None:
 */
          }
          __pyx_L18_break:;
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

          /* "youtube_dl/extractor/common.py":1583
 *                                 if re.match(r'^https?://', base_url):
 *                                     break
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):             # <<<<<<<<<<<<<<
 *                             if not mpd_base_url.endswith('/') and not base_url.startswith('/'):
 *                                 mpd_base_url += '/'
 */
          __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_mpd_base_url); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1583, __pyx_L1_error)
          if (__pyx_t_3) {
          } else {
            __pyx_t_16 = __pyx_t_3;
            goto __pyx_L22_bool_binop_done;
          }
          __pyx_t_15 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1583, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_t_15, __pyx_n_s_match); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1583, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_18);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __pyx_t_15 = NULL;
          __pyx_t_17 = 0;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_18))) {
            __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_18);
            if (likely(__pyx_t_15)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_18);
              __Pyx_INCREF(__pyx_t_15);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_18, function);
              __pyx_t_17 = 1;
            }
          }
          __pyx_t_2 = PyTuple_New(2+__pyx_t_17); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1583, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          if (__pyx_t_15) {
            __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_15); __pyx_t_15 = NULL;
          }
          __Pyx_INCREF(__pyx_kp_u_https_4);
          __Pyx_GIVEREF(__pyx_kp_u_https_4);
          PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_17, __pyx_kp_u_https_4);
          __Pyx_INCREF(__pyx_v_base_url);
          __Pyx_GIVEREF(__pyx_v_base_url);
          PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_17, __pyx_v_base_url);
          __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_t_2, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1583, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
          __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1583, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __pyx_t_20 = ((!__pyx_t_3) != 0);
          __pyx_t_16 = __pyx_t_20;
          __pyx_L22_bool_binop_done:;
          if (__pyx_t_16) {

            /* "youtube_dl/extractor/common.py":1584
 *                                     break
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):
 *                             if not mpd_base_url.endswith('/') and not base_url.startswith('/'):             # <<<<<<<<<<<<<<
 *                                 mpd_base_url += '/'
 *                             base_url = mpd_base_url + base_url
 */
            __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_mpd_base_url, __pyx_n_s_endswith); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1584, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);
            __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__194, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1584, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __pyx_t_20 = __Pyx_PyObject_IsTrue(__pyx_t_18); if (unlikely(__pyx_t_20 < 0)) __PYX_ERR(0, 1584, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
            __pyx_t_3 = ((!__pyx_t_20) != 0);
            if (__pyx_t_3) {
            } else {
              __pyx_t_16 = __pyx_t_3;
              goto __pyx_L25_bool_binop_done;
            }
            __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_v_base_url, __pyx_n_s_startswith); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1584, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_tuple__195, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1584, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);
            __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
            __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1584, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __pyx_t_20 = ((!__pyx_t_3) != 0);
            __pyx_t_16 = __pyx_t_20;
            __pyx_L25_bool_binop_done:;
            if (__pyx_t_16) {

              /* "youtube_dl/extractor/common.py":1585
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):
 *                             if not mpd_base_url.endswith('/') and not base_url.startswith('/'):
 *                                 mpd_base_url += '/'             # <<<<<<<<<<<<<<
 *                             base_url = mpd_base_url + base_url
 *                         representation_id = representation_attrib.get('id')
 */
              __pyx_t_6 = PyNumber_InPlaceAdd(__pyx_v_mpd_base_url, __pyx_kp_u__125); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1585, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_6);
              __Pyx_DECREF_SET(__pyx_v_mpd_base_url, __pyx_t_6);
              __pyx_t_6 = 0;

              /* "youtube_dl/extractor/common.py":1584
 *                                     break
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):
 *                             if not mpd_base_url.endswith('/') and not base_url.startswith('/'):             # <<<<<<<<<<<<<<
 *                                 mpd_base_url += '/'
 *                             base_url = mpd_base_url + base_url
 */
            }

            /* "youtube_dl/extractor/common.py":1586
 *                             if not mpd_base_url.endswith('/') and not base_url.startswith('/'):
 *                                 mpd_base_url += '/'
 *                             base_url = mpd_base_url + base_url             # <<<<<<<<<<<<<<
 *                         representation_id = representation_attrib.get('id')
 *                         lang = representation_attrib.get('lang')
 */
            __pyx_t_6 = PyNumber_Add(__pyx_v_mpd_base_url, __pyx_v_base_url); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1586, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);
            __Pyx_DECREF_SET(__pyx_v_base_url, __pyx_t_6);
            __pyx_t_6 = 0;

            /* "youtube_dl/extractor/common.py":1583
 *                                 if re.match(r'^https?://', base_url):
 *                                     break
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):             # <<<<<<<<<<<<<<
 *                             if not mpd_base_url.endswith('/') and not base_url.startswith('/'):
 *                                 mpd_base_url += '/'
 */
          }

          /* "youtube_dl/extractor/common.py":1587
 *                                 mpd_base_url += '/'
 *                             base_url = mpd_base_url + base_url
 *                         representation_id = representation_attrib.get('id')             # <<<<<<<<<<<<<<
 *                         lang = representation_attrib.get('lang')
 *                         url_el = representation.find(_add_ns('BaseURL'))
 */
          __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1587, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_tuple__196, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1587, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_18);
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_representation_id);
          __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_representation_id, __pyx_t_18);
          __Pyx_GIVEREF(__pyx_t_18);
          __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1588
 *                             base_url = mpd_base_url + base_url
 *                         representation_id = representation_attrib.get('id')
 *                         lang = representation_attrib.get('lang')             # <<<<<<<<<<<<<<
 *                         url_el = representation.find(_add_ns('BaseURL'))
 *                         filesize = int_or_none(url_el.attrib.get('{http://youtube.com/yt/2012/10/10}contentLength') if url_el is not None else None)
 */
          __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1588, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_18);
          __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_tuple__197, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1588, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
          __Pyx_XDECREF_SET(__pyx_v_lang, __pyx_t_6);
          __pyx_t_6 = 0;

          /* "youtube_dl/extractor/common.py":1589
 *                         representation_id = representation_attrib.get('id')
 *                         lang = representation_attrib.get('lang')
 *                         url_el = representation.find(_add_ns('BaseURL'))             # <<<<<<<<<<<<<<
 *                         filesize = int_or_none(url_el.attrib.get('{http://youtube.com/yt/2012/10/10}contentLength') if url_el is not None else None)
 *                         f = {
 */
          __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_v_representation, __pyx_n_s_find); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1589, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_18);
          __pyx_t_2 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats__add_ns(__pyx_cur_scope->__pyx_v__add_ns, __pyx_n_u_BaseURL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1589, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __pyx_t_15 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_18))) {
            __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_18);
            if (likely(__pyx_t_15)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_18);
              __Pyx_INCREF(__pyx_t_15);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_18, function);
            }
          }
          if (!__pyx_t_15) {
            __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_18, __pyx_t_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1589, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
            __Pyx_GOTREF(__pyx_t_6);
          } else {
            __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1589, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_15); __pyx_t_15 = NULL;
            __Pyx_GIVEREF(__pyx_t_2);
            PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_2);
            __pyx_t_2 = 0;
            __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_t_4, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1589, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);
            __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          }
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
          __Pyx_XDECREF_SET(__pyx_v_url_el, __pyx_t_6);
          __pyx_t_6 = 0;

          /* "youtube_dl/extractor/common.py":1590
 *                         lang = representation_attrib.get('lang')
 *                         url_el = representation.find(_add_ns('BaseURL'))
 *                         filesize = int_or_none(url_el.attrib.get('{http://youtube.com/yt/2012/10/10}contentLength') if url_el is not None else None)             # <<<<<<<<<<<<<<
 *                         f = {
 *                             'format_id': '%s-%s' % (mpd_id, representation_id) if mpd_id else representation_id,
 */
          __pyx_t_18 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1590, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_18);
          __pyx_t_16 = (__pyx_v_url_el != Py_None);
          if ((__pyx_t_16 != 0)) {
            __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_url_el, __pyx_n_s_attrib); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1590, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1590, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
            __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_tuple__198, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1590, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __pyx_t_4 = __pyx_t_2;
            __pyx_t_2 = 0;
          } else {
            __Pyx_INCREF(Py_None);
            __pyx_t_4 = Py_None;
          }
          __pyx_t_2 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_18))) {
            __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_18);
            if (likely(__pyx_t_2)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_18);
              __Pyx_INCREF(__pyx_t_2);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_18, function);
            }
          }
          if (!__pyx_t_2) {
            __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_18, __pyx_t_4); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1590, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
            __Pyx_GOTREF(__pyx_t_6);
          } else {
            __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1590, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_2); __pyx_t_2 = NULL;
            __Pyx_GIVEREF(__pyx_t_4);
            PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_t_4);
            __pyx_t_4 = 0;
            __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_t_15, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1590, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          }
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
          __Pyx_XDECREF_SET(__pyx_v_filesize, __pyx_t_6);
          __pyx_t_6 = 0;

          /* "youtube_dl/extractor/common.py":1592
 *                         filesize = int_or_none(url_el.attrib.get('{http://youtube.com/yt/2012/10/10}contentLength') if url_el is not None else None)
 *                         f = {
 *                             'format_id': '%s-%s' % (mpd_id, representation_id) if mpd_id else representation_id,             # <<<<<<<<<<<<<<
 *                             'url': base_url,
 *                             'ext': mimetype2ext(mime_type),
 */
          __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          __pyx_t_16 = __Pyx_PyObject_IsTrue(__pyx_v_mpd_id); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1592, __pyx_L1_error)
          if (__pyx_t_16) {
            __pyx_t_15 = PyTuple_New(2); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1592, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_INCREF(__pyx_v_mpd_id);
            __Pyx_GIVEREF(__pyx_v_mpd_id);
            PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_v_mpd_id);
            __Pyx_INCREF(__pyx_cur_scope->__pyx_v_representation_id);
            __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_representation_id);
            PyTuple_SET_ITEM(__pyx_t_15, 1, __pyx_cur_scope->__pyx_v_representation_id);
            __pyx_t_4 = PyUnicode_Format(__pyx_kp_u_s_s_4, __pyx_t_15); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1592, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __pyx_t_18 = __pyx_t_4;
            __pyx_t_4 = 0;
          } else {
            __Pyx_INCREF(__pyx_cur_scope->__pyx_v_representation_id);
            __pyx_t_18 = __pyx_cur_scope->__pyx_v_representation_id;
          }
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_format_id, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1593
 *                         f = {
 *                             'format_id': '%s-%s' % (mpd_id, representation_id) if mpd_id else representation_id,
 *                             'url': base_url,             # <<<<<<<<<<<<<<
 *                             'ext': mimetype2ext(mime_type),
 *                             'width': int_or_none(representation_attrib.get('width')),
 */
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_url, __pyx_v_base_url) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)

          /* "youtube_dl/extractor/common.py":1594
 *                             'format_id': '%s-%s' % (mpd_id, representation_id) if mpd_id else representation_id,
 *                             'url': base_url,
 *                             'ext': mimetype2ext(mime_type),             # <<<<<<<<<<<<<<
 *                             'width': int_or_none(representation_attrib.get('width')),
 *                             'height': int_or_none(representation_attrib.get('height')),
 */
          __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_mimetype2ext); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1594, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_15 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
            __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_4);
            if (likely(__pyx_t_15)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
              __Pyx_INCREF(__pyx_t_15);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_4, function);
            }
          }
          if (!__pyx_t_15) {
            __pyx_t_18 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_v_mime_type); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1594, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
          } else {
            __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1594, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_15); __pyx_t_15 = NULL;
            __Pyx_INCREF(__pyx_v_mime_type);
            __Pyx_GIVEREF(__pyx_v_mime_type);
            PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_v_mime_type);
            __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_2, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1594, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          }
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_ext, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1595
 *                             'url': base_url,
 *                             'ext': mimetype2ext(mime_type),
 *                             'width': int_or_none(representation_attrib.get('width')),             # <<<<<<<<<<<<<<
 *                             'height': int_or_none(representation_attrib.get('height')),
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),
 */
          __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1595, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1595, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__199, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1595, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
            __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_4);
            if (likely(__pyx_t_2)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
              __Pyx_INCREF(__pyx_t_2);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_4, function);
            }
          }
          if (!__pyx_t_2) {
            __pyx_t_18 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_15); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1595, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_GOTREF(__pyx_t_18);
          } else {
            __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1595, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_10);
            __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_2); __pyx_t_2 = NULL;
            __Pyx_GIVEREF(__pyx_t_15);
            PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_t_15);
            __pyx_t_15 = 0;
            __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_10, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1595, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          }
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_width, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1596
 *                             'ext': mimetype2ext(mime_type),
 *                             'width': int_or_none(representation_attrib.get('width')),
 *                             'height': int_or_none(representation_attrib.get('height')),             # <<<<<<<<<<<<<<
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),
 */
          __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1596, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1596, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_10);
          __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__200, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1596, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __pyx_t_10 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
            __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_4);
            if (likely(__pyx_t_10)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
              __Pyx_INCREF(__pyx_t_10);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_4, function);
            }
          }
          if (!__pyx_t_10) {
            __pyx_t_18 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_15); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1596, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_GOTREF(__pyx_t_18);
          } else {
            __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1596, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_10); __pyx_t_10 = NULL;
            __Pyx_GIVEREF(__pyx_t_15);
            PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_t_15);
            __pyx_t_15 = 0;
            __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_2, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1596, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          }
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_height, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1597
 *                             'width': int_or_none(representation_attrib.get('width')),
 *                             'height': int_or_none(representation_attrib.get('height')),
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),             # <<<<<<<<<<<<<<
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),
 */
          __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1597, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1597, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__201, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1597, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = NULL;
          __pyx_t_17 = 0;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
            __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_4);
            if (likely(__pyx_t_2)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
              __Pyx_INCREF(__pyx_t_2);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_4, function);
              __pyx_t_17 = 1;
            }
          }
          __pyx_t_10 = PyTuple_New(2+__pyx_t_17); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1597, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_10);
          if (__pyx_t_2) {
            __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_2); __pyx_t_2 = NULL;
          }
          __Pyx_GIVEREF(__pyx_t_15);
          PyTuple_SET_ITEM(__pyx_t_10, 0+__pyx_t_17, __pyx_t_15);
          __Pyx_INCREF(__pyx_int_1000);
          __Pyx_GIVEREF(__pyx_int_1000);
          PyTuple_SET_ITEM(__pyx_t_10, 1+__pyx_t_17, __pyx_int_1000);
          __pyx_t_15 = 0;
          __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_10, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1597, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_18);
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_tbr, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1598
 *                             'height': int_or_none(representation_attrib.get('height')),
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),             # <<<<<<<<<<<<<<
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),
 */
          __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1598, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1598, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_10);
          __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__202, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1598, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          __pyx_t_10 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
            __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_4);
            if (likely(__pyx_t_10)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
              __Pyx_INCREF(__pyx_t_10);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_4, function);
            }
          }
          if (!__pyx_t_10) {
            __pyx_t_18 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_15); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1598, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_GOTREF(__pyx_t_18);
          } else {
            __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1598, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_10); __pyx_t_10 = NULL;
            __Pyx_GIVEREF(__pyx_t_15);
            PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_t_15);
            __pyx_t_15 = 0;
            __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_2, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1598, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          }
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_asr, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1599
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),             # <<<<<<<<<<<<<<
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),
 *                             'acodec': 'none' if content_type == 'video' else representation_attrib.get('codecs'),
 */
          __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1599, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1599, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__203, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1599, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
            __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_4);
            if (likely(__pyx_t_2)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
              __Pyx_INCREF(__pyx_t_2);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_4, function);
            }
          }
          if (!__pyx_t_2) {
            __pyx_t_18 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_15); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1599, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_GOTREF(__pyx_t_18);
          } else {
            __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1599, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_10);
            __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_2); __pyx_t_2 = NULL;
            __Pyx_GIVEREF(__pyx_t_15);
            PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_t_15);
            __pyx_t_15 = 0;
            __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_10, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1599, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
          }
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_fps, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1600
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),             # <<<<<<<<<<<<<<
 *                             'acodec': 'none' if content_type == 'video' else representation_attrib.get('codecs'),
 *                             'language': lang if lang not in ('mul', 'und', 'zxx', 'mis') else None,
 */
          __pyx_t_16 = (__Pyx_PyUnicode_Equals(__pyx_v_content_type, __pyx_n_u_audio_2, Py_EQ)); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1600, __pyx_L1_error)
          if (__pyx_t_16) {
            __Pyx_INCREF(__pyx_n_u_none);
            __pyx_t_18 = __pyx_n_u_none;
          } else {
            __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1600, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__204, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1600, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_10);
            __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
            __pyx_t_18 = __pyx_t_10;
            __pyx_t_10 = 0;
          }
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_vcodec, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1601
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),
 *                             'acodec': 'none' if content_type == 'video' else representation_attrib.get('codecs'),             # <<<<<<<<<<<<<<
 *                             'language': lang if lang not in ('mul', 'und', 'zxx', 'mis') else None,
 *                             'format_note': 'DASH %s' % content_type,
 */
          __pyx_t_16 = (__Pyx_PyUnicode_Equals(__pyx_v_content_type, __pyx_n_u_video, Py_EQ)); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1601, __pyx_L1_error)
          if (__pyx_t_16) {
            __Pyx_INCREF(__pyx_n_u_none);
            __pyx_t_18 = __pyx_n_u_none;
          } else {
            __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1601, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_10);
            __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__205, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1601, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
            __pyx_t_18 = __pyx_t_4;
            __pyx_t_4 = 0;
          }
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_acodec, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1602
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),
 *                             'acodec': 'none' if content_type == 'video' else representation_attrib.get('codecs'),
 *                             'language': lang if lang not in ('mul', 'und', 'zxx', 'mis') else None,             # <<<<<<<<<<<<<<
 *                             'format_note': 'DASH %s' % content_type,
 *                             'filesize': filesize,
 */
          __Pyx_INCREF(__pyx_v_lang);
          __pyx_t_4 = __pyx_v_lang;
          __pyx_t_20 = (__Pyx_PyUnicode_Equals(__pyx_t_4, __pyx_n_u_mul, Py_NE)); if (unlikely(__pyx_t_20 < 0)) __PYX_ERR(0, 1602, __pyx_L1_error)
          if (__pyx_t_20) {
          } else {
            __pyx_t_16 = __pyx_t_20;
            goto __pyx_L27_bool_binop_done;
          }
          __pyx_t_20 = (__Pyx_PyUnicode_Equals(__pyx_t_4, __pyx_n_u_und, Py_NE)); if (unlikely(__pyx_t_20 < 0)) __PYX_ERR(0, 1602, __pyx_L1_error)
          if (__pyx_t_20) {
          } else {
            __pyx_t_16 = __pyx_t_20;
            goto __pyx_L27_bool_binop_done;
          }
          __pyx_t_20 = (__Pyx_PyUnicode_Equals(__pyx_t_4, __pyx_n_u_zxx, Py_NE)); if (unlikely(__pyx_t_20 < 0)) __PYX_ERR(0, 1602, __pyx_L1_error)
          if (__pyx_t_20) {
          } else {
            __pyx_t_16 = __pyx_t_20;
            goto __pyx_L27_bool_binop_done;
          }
          __pyx_t_20 = (__Pyx_PyUnicode_Equals(__pyx_t_4, __pyx_n_u_mis, Py_NE)); if (unlikely(__pyx_t_20 < 0)) __PYX_ERR(0, 1602, __pyx_L1_error)
          __pyx_t_16 = __pyx_t_20;
          __pyx_L27_bool_binop_done:;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          if ((__pyx_t_16 != 0)) {
            __Pyx_INCREF(__pyx_v_lang);
            __pyx_t_18 = __pyx_v_lang;
          } else {
            __Pyx_INCREF(Py_None);
            __pyx_t_18 = Py_None;
          }
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_language, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1603
 *                             'acodec': 'none' if content_type == 'video' else representation_attrib.get('codecs'),
 *                             'language': lang if lang not in ('mul', 'und', 'zxx', 'mis') else None,
 *                             'format_note': 'DASH %s' % content_type,             # <<<<<<<<<<<<<<
 *                             'filesize': filesize,
 *                         }
 */
          __pyx_t_18 = PyUnicode_Format(__pyx_kp_u_DASH_s, __pyx_v_content_type); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1603, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_18);
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_format_note, __pyx_t_18) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

          /* "youtube_dl/extractor/common.py":1604
 *                             'language': lang if lang not in ('mul', 'und', 'zxx', 'mis') else None,
 *                             'format_note': 'DASH %s' % content_type,
 *                             'filesize': filesize,             # <<<<<<<<<<<<<<
 *                         }
 *                         representation_ms_info = extract_multisegment_info(representation, adaption_set_ms_info)
 */
          if (PyDict_SetItem(__pyx_t_6, __pyx_n_u_filesize, __pyx_v_filesize) < 0) __PYX_ERR(0, 1592, __pyx_L1_error)
          __Pyx_XDECREF_SET(__pyx_v_f, ((PyObject*)__pyx_t_6));
          __pyx_t_6 = 0;

          /* "youtube_dl/extractor/common.py":1606
 *                             'filesize': filesize,
 *                         }
 *                         representation_ms_info = extract_multisegment_info(representation, adaption_set_ms_info)             # <<<<<<<<<<<<<<
 *                         if 'segment_urls' not in representation_ms_info and 'media_template' in representation_ms_info:
 *                             if 'total_number' not in representation_ms_info and 'segment_duration':
 */
          __pyx_t_6 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_4extract_multisegment_info(__pyx_v_extract_multisegment_info, __pyx_v_representation, __pyx_v_adaption_set_ms_info); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1606, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_representation_ms_info);
          __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_t_6);
          __Pyx_GIVEREF(__pyx_t_6);
          __pyx_t_6 = 0;

          /* "youtube_dl/extractor/common.py":1607
 *                         }
 *                         representation_ms_info = extract_multisegment_info(representation, adaption_set_ms_info)
 *                         if 'segment_urls' not in representation_ms_info and 'media_template' in representation_ms_info:             # <<<<<<<<<<<<<<
 *                             if 'total_number' not in representation_ms_info and 'segment_duration':
 *                                 segment_duration = float(representation_ms_info['segment_duration']) / float(representation_ms_info['timescale'])
 */
          __pyx_t_20 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_segment_urls, __pyx_cur_scope->__pyx_v_representation_ms_info, Py_NE)); if (unlikely(__pyx_t_20 < 0)) __PYX_ERR(0, 1607, __pyx_L1_error)
          __pyx_t_3 = (__pyx_t_20 != 0);
          if (__pyx_t_3) {
          } else {
            __pyx_t_16 = __pyx_t_3;
            goto __pyx_L32_bool_binop_done;
          }
          __pyx_t_3 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_media_template, __pyx_cur_scope->__pyx_v_representation_ms_info, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1607, __pyx_L1_error)
          __pyx_t_20 = (__pyx_t_3 != 0);
          __pyx_t_16 = __pyx_t_20;
          __pyx_L32_bool_binop_done:;
          if (__pyx_t_16) {

            /* "youtube_dl/extractor/common.py":1608
 *                         representation_ms_info = extract_multisegment_info(representation, adaption_set_ms_info)
 *                         if 'segment_urls' not in representation_ms_info and 'media_template' in representation_ms_info:
 *                             if 'total_number' not in representation_ms_info and 'segment_duration':             # <<<<<<<<<<<<<<
 *                                 segment_duration = float(representation_ms_info['segment_duration']) / float(representation_ms_info['timescale'])
 *                                 representation_ms_info['total_number'] = int(math.ceil(float(period_duration) / segment_duration))
 */
            __pyx_t_20 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_total_number, __pyx_cur_scope->__pyx_v_representation_ms_info, Py_NE)); if (unlikely(__pyx_t_20 < 0)) __PYX_ERR(0, 1608, __pyx_L1_error)
            __pyx_t_3 = (__pyx_t_20 != 0);
            if (__pyx_t_3) {
            } else {
              __pyx_t_16 = __pyx_t_3;
              goto __pyx_L35_bool_binop_done;
            }
            __pyx_t_16 = 1;
            __pyx_L35_bool_binop_done:;
            if (__pyx_t_16) {

              /* "youtube_dl/extractor/common.py":1609
 *                         if 'segment_urls' not in representation_ms_info and 'media_template' in representation_ms_info:
 *                             if 'total_number' not in representation_ms_info and 'segment_duration':
 *                                 segment_duration = float(representation_ms_info['segment_duration']) / float(representation_ms_info['timescale'])             # <<<<<<<<<<<<<<
 *                                 representation_ms_info['total_number'] = int(math.ceil(float(period_duration) / segment_duration))
 *                             media_template = representation_ms_info['media_template']
 */
              __pyx_t_6 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_segment_duration); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1609, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_6);
              __pyx_t_21 = __Pyx_PyObject_AsDouble(__pyx_t_6); if (unlikely(__pyx_t_21 == ((double)-1) && PyErr_Occurred())) __PYX_ERR(0, 1609, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
              __pyx_t_6 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_timescale); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1609, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_6);
              __pyx_t_22 = __Pyx_PyObject_AsDouble(__pyx_t_6); if (unlikely(__pyx_t_22 == ((double)-1) && PyErr_Occurred())) __PYX_ERR(0, 1609, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
              if (unlikely(__pyx_t_22 == 0)) {
                PyErr_SetString(PyExc_ZeroDivisionError, "float division");
                __PYX_ERR(0, 1609, __pyx_L1_error)
              }
              __pyx_v_segment_duration = (__pyx_t_21 / __pyx_t_22);

              /* "youtube_dl/extractor/common.py":1610
 *                             if 'total_number' not in representation_ms_info and 'segment_duration':
 *                                 segment_duration = float(representation_ms_info['segment_duration']) / float(representation_ms_info['timescale'])
 *                                 representation_ms_info['total_number'] = int(math.ceil(float(period_duration) / segment_duration))             # <<<<<<<<<<<<<<
 *                             media_template = representation_ms_info['media_template']
 *                             media_template = media_template.replace('$RepresentationID$', representation_id)
 */
              __pyx_t_18 = __Pyx_GetModuleGlobalName(__pyx_n_s_math); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1610, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_18);
              __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_18, __pyx_n_s_ceil); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1610, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_4);
              __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
              __pyx_t_22 = __Pyx_PyObject_AsDouble(__pyx_v_period_duration); if (unlikely(__pyx_t_22 == ((double)-1) && PyErr_Occurred())) __PYX_ERR(0, 1610, __pyx_L1_error)
              if (unlikely(__pyx_v_segment_duration == 0)) {
                PyErr_SetString(PyExc_ZeroDivisionError, "float division");
                __PYX_ERR(0, 1610, __pyx_L1_error)
              }
              __pyx_t_18 = PyFloat_FromDouble((__pyx_t_22 / __pyx_v_segment_duration)); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1610, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_18);
              __pyx_t_10 = NULL;
              if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_4))) {
                __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_4);
                if (likely(__pyx_t_10)) {
                  PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
                  __Pyx_INCREF(__pyx_t_10);
                  __Pyx_INCREF(function);
                  __Pyx_DECREF_SET(__pyx_t_4, function);
                }
              }
              if (!__pyx_t_10) {
                __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_18); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1610, __pyx_L1_error)
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
                __Pyx_GOTREF(__pyx_t_6);
              } else {
                __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1610, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_15);
                __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_10); __pyx_t_10 = NULL;
                __Pyx_GIVEREF(__pyx_t_18);
                PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_t_18);
                __pyx_t_18 = 0;
                __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_15, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1610, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_6);
                __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
              }
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
              __pyx_t_4 = __Pyx_PyNumber_Int(__pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1610, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_4);
              __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
              if (unlikely(PyObject_SetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_total_number, __pyx_t_4) < 0)) __PYX_ERR(0, 1610, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

              /* "youtube_dl/extractor/common.py":1608
 *                         representation_ms_info = extract_multisegment_info(representation, adaption_set_ms_info)
 *                         if 'segment_urls' not in representation_ms_info and 'media_template' in representation_ms_info:
 *                             if 'total_number' not in representation_ms_info and 'segment_duration':             # <<<<<<<<<<<<<<
 *                                 segment_duration = float(representation_ms_info['segment_duration']) / float(representation_ms_info['timescale'])
 *                                 representation_ms_info['total_number'] = int(math.ceil(float(period_duration) / segment_duration))
 */
            }

            /* "youtube_dl/extractor/common.py":1611
 *                                 segment_duration = float(representation_ms_info['segment_duration']) / float(representation_ms_info['timescale'])
 *                                 representation_ms_info['total_number'] = int(math.ceil(float(period_duration) / segment_duration))
 *                             media_template = representation_ms_info['media_template']             # <<<<<<<<<<<<<<
 *                             media_template = media_template.replace('$RepresentationID$', representation_id)
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)\$', r'%(\1)d', media_template)
 */
            __pyx_t_4 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_media_template); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1611, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_media_template);
            __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_media_template, __pyx_t_4);
            __Pyx_GIVEREF(__pyx_t_4);
            __pyx_t_4 = 0;

            /* "youtube_dl/extractor/common.py":1612
 *                                 representation_ms_info['total_number'] = int(math.ceil(float(period_duration) / segment_duration))
 *                             media_template = representation_ms_info['media_template']
 *                             media_template = media_template.replace('$RepresentationID$', representation_id)             # <<<<<<<<<<<<<<
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)\$', r'%(\1)d', media_template)
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)%([^$]+)\$', r'%(\1)\2', media_template)
 */
            __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_media_template, __pyx_n_s_replace); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1612, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);
            __pyx_t_15 = NULL;
            __pyx_t_17 = 0;
            if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
              __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_6);
              if (likely(__pyx_t_15)) {
                PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
                __Pyx_INCREF(__pyx_t_15);
                __Pyx_INCREF(function);
                __Pyx_DECREF_SET(__pyx_t_6, function);
                __pyx_t_17 = 1;
              }
            }
            __pyx_t_18 = PyTuple_New(2+__pyx_t_17); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1612, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            if (__pyx_t_15) {
              __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_18, 0, __pyx_t_15); __pyx_t_15 = NULL;
            }
            __Pyx_INCREF(__pyx_kp_u_RepresentationID);
            __Pyx_GIVEREF(__pyx_kp_u_RepresentationID);
            PyTuple_SET_ITEM(__pyx_t_18, 0+__pyx_t_17, __pyx_kp_u_RepresentationID);
            __Pyx_INCREF(__pyx_cur_scope->__pyx_v_representation_id);
            __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_representation_id);
            PyTuple_SET_ITEM(__pyx_t_18, 1+__pyx_t_17, __pyx_cur_scope->__pyx_v_representation_id);
            __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_18, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1612, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_media_template);
            __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_media_template, __pyx_t_4);
            __Pyx_GIVEREF(__pyx_t_4);
            __pyx_t_4 = 0;

            /* "youtube_dl/extractor/common.py":1613
 *                             media_template = representation_ms_info['media_template']
 *                             media_template = media_template.replace('$RepresentationID$', representation_id)
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)\$', r'%(\1)d', media_template)             # <<<<<<<<<<<<<<
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)%([^$]+)\$', r'%(\1)\2', media_template)
 *                             media_template.replace('$$', '$')
 */
            __pyx_t_6 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1613, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);
            __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_sub); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1613, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __pyx_t_6 = NULL;
            __pyx_t_17 = 0;
            if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_18))) {
              __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_18);
              if (likely(__pyx_t_6)) {
                PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_18);
                __Pyx_INCREF(__pyx_t_6);
                __Pyx_INCREF(function);
                __Pyx_DECREF_SET(__pyx_t_18, function);
                __pyx_t_17 = 1;
              }
            }
            __pyx_t_15 = PyTuple_New(3+__pyx_t_17); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1613, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_15);
            if (__pyx_t_6) {
              __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_6); __pyx_t_6 = NULL;
            }
            __Pyx_INCREF(__pyx_kp_u_Number_Bandwidth_Time);
            __Pyx_GIVEREF(__pyx_kp_u_Number_Bandwidth_Time);
            PyTuple_SET_ITEM(__pyx_t_15, 0+__pyx_t_17, __pyx_kp_u_Number_Bandwidth_Time);
            __Pyx_INCREF(__pyx_kp_u_1_d);
            __Pyx_GIVEREF(__pyx_kp_u_1_d);
            PyTuple_SET_ITEM(__pyx_t_15, 1+__pyx_t_17, __pyx_kp_u_1_d);
            __Pyx_INCREF(__pyx_cur_scope->__pyx_v_media_template);
            __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_media_template);
            PyTuple_SET_ITEM(__pyx_t_15, 2+__pyx_t_17, __pyx_cur_scope->__pyx_v_media_template);
            __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_t_15, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1613, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
            __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_media_template);
            __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_media_template, __pyx_t_4);
            __Pyx_GIVEREF(__pyx_t_4);
            __pyx_t_4 = 0;

            /* "youtube_dl/extractor/common.py":1614
 *                             media_template = media_template.replace('$RepresentationID$', representation_id)
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)\$', r'%(\1)d', media_template)
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)%([^$]+)\$', r'%(\1)\2', media_template)             # <<<<<<<<<<<<<<
 *                             media_template.replace('$$', '$')
 * 
 */
            __pyx_t_18 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1614, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_t_18, __pyx_n_s_sub); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1614, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
            __pyx_t_18 = NULL;
            __pyx_t_17 = 0;
            if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_15))) {
              __pyx_t_18 = PyMethod_GET_SELF(__pyx_t_15);
              if (likely(__pyx_t_18)) {
                PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
                __Pyx_INCREF(__pyx_t_18);
                __Pyx_INCREF(function);
                __Pyx_DECREF_SET(__pyx_t_15, function);
                __pyx_t_17 = 1;
              }
            }
            __pyx_t_6 = PyTuple_New(3+__pyx_t_17); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1614, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);
            if (__pyx_t_18) {
              __Pyx_GIVEREF(__pyx_t_18); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_18); __pyx_t_18 = NULL;
            }
            __Pyx_INCREF(__pyx_kp_u_Number_Bandwidth_Time_2);
            __Pyx_GIVEREF(__pyx_kp_u_Number_Bandwidth_Time_2);
            PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_17, __pyx_kp_u_Number_Bandwidth_Time_2);
            __Pyx_INCREF(__pyx_kp_u_1_2);
            __Pyx_GIVEREF(__pyx_kp_u_1_2);
            PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_17, __pyx_kp_u_1_2);
            __Pyx_INCREF(__pyx_cur_scope->__pyx_v_media_template);
            __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_media_template);
            PyTuple_SET_ITEM(__pyx_t_6, 2+__pyx_t_17, __pyx_cur_scope->__pyx_v_media_template);
            __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_t_6, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1614, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_media_template);
            __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_media_template, __pyx_t_4);
            __Pyx_GIVEREF(__pyx_t_4);
            __pyx_t_4 = 0;

            /* "youtube_dl/extractor/common.py":1615
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)\$', r'%(\1)d', media_template)
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)%([^$]+)\$', r'%(\1)\2', media_template)
 *                             media_template.replace('$$', '$')             # <<<<<<<<<<<<<<
 * 
 *                             # As per [1, 5.3.9.4.4, Table 16, page 55] $Number$ and $Time$
 */
            __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_media_template, __pyx_n_s_replace); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1615, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_4);
            __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__208, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1615, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_15);
            __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;

            /* "youtube_dl/extractor/common.py":1619
 *                             # As per [1, 5.3.9.4.4, Table 16, page 55] $Number$ and $Time$
 *                             # can't be used at the same time
 *                             if '%(Number' in media_template:             # <<<<<<<<<<<<<<
 *                                 representation_ms_info['segment_urls'] = [
 *                                     media_template % {
 */
            __pyx_t_16 = (__Pyx_PySequence_ContainsTF(__pyx_kp_u_Number, __pyx_cur_scope->__pyx_v_media_template, Py_EQ)); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1619, __pyx_L1_error)
            __pyx_t_3 = (__pyx_t_16 != 0);
            if (__pyx_t_3) {

              /* "youtube_dl/extractor/common.py":1620
 *                             # can't be used at the same time
 *                             if '%(Number' in media_template:
 *                                 representation_ms_info['segment_urls'] = [             # <<<<<<<<<<<<<<
 *                                     media_template % {
 *                                         'Number': segment_number,
 */
              { /* enter inner scope */
                PyObject *__pyx_8genexpr7__pyx_v_segment_number = NULL;
                __pyx_t_15 = PyList_New(0); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1620, __pyx_L40_error)
                __Pyx_GOTREF(__pyx_t_15);

                /* "youtube_dl/extractor/common.py":1626
 *                                     }
 *                                     for segment_number in range(
 *                                         representation_ms_info['start_number'],             # <<<<<<<<<<<<<<
 *                                         representation_ms_info['total_number'] + representation_ms_info['start_number'])]
 *                             else:
 */
                __pyx_t_4 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_start_number); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1626, __pyx_L40_error)
                __Pyx_GOTREF(__pyx_t_4);

                /* "youtube_dl/extractor/common.py":1627
 *                                     for segment_number in range(
 *                                         representation_ms_info['start_number'],
 *                                         representation_ms_info['total_number'] + representation_ms_info['start_number'])]             # <<<<<<<<<<<<<<
 *                             else:
 *                                 representation_ms_info['segment_urls'] = []
 */
                __pyx_t_6 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_total_number); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1627, __pyx_L40_error)
                __Pyx_GOTREF(__pyx_t_6);
                __pyx_t_18 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_start_number); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1627, __pyx_L40_error)
                __Pyx_GOTREF(__pyx_t_18);
                __pyx_t_10 = PyNumber_Add(__pyx_t_6, __pyx_t_18); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1627, __pyx_L40_error)
                __Pyx_GOTREF(__pyx_t_10);
                __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

                /* "youtube_dl/extractor/common.py":1625
 *                                         'Bandwidth': representation_attrib.get('bandwidth'),
 *                                     }
 *                                     for segment_number in range(             # <<<<<<<<<<<<<<
 *                                         representation_ms_info['start_number'],
 *                                         representation_ms_info['total_number'] + representation_ms_info['start_number'])]
 */
                __pyx_t_18 = PyTuple_New(2); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1625, __pyx_L40_error)
                __Pyx_GOTREF(__pyx_t_18);
                __Pyx_GIVEREF(__pyx_t_4);
                PyTuple_SET_ITEM(__pyx_t_18, 0, __pyx_t_4);
                __Pyx_GIVEREF(__pyx_t_10);
                PyTuple_SET_ITEM(__pyx_t_18, 1, __pyx_t_10);
                __pyx_t_4 = 0;
                __pyx_t_10 = 0;
                __pyx_t_10 = __Pyx_PyObject_Call(__pyx_builtin_range, __pyx_t_18, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1625, __pyx_L40_error)
                __Pyx_GOTREF(__pyx_t_10);
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
                if (likely(PyList_CheckExact(__pyx_t_10)) || PyTuple_CheckExact(__pyx_t_10)) {
                  __pyx_t_18 = __pyx_t_10; __Pyx_INCREF(__pyx_t_18); __pyx_t_17 = 0;
                  __pyx_t_23 = NULL;
                } else {
                  __pyx_t_17 = -1; __pyx_t_18 = PyObject_GetIter(__pyx_t_10); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1625, __pyx_L40_error)
                  __Pyx_GOTREF(__pyx_t_18);
                  __pyx_t_23 = Py_TYPE(__pyx_t_18)->tp_iternext; if (unlikely(!__pyx_t_23)) __PYX_ERR(0, 1625, __pyx_L40_error)
                }
                __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
                for (;;) {
                  if (likely(!__pyx_t_23)) {
                    if (likely(PyList_CheckExact(__pyx_t_18))) {
                      if (__pyx_t_17 >= PyList_GET_SIZE(__pyx_t_18)) break;
                      #if CYTHON_COMPILING_IN_CPYTHON
                      __pyx_t_10 = PyList_GET_ITEM(__pyx_t_18, __pyx_t_17); __Pyx_INCREF(__pyx_t_10); __pyx_t_17++; if (unlikely(0 < 0)) __PYX_ERR(0, 1625, __pyx_L40_error)
                      #else
                      __pyx_t_10 = PySequence_ITEM(__pyx_t_18, __pyx_t_17); __pyx_t_17++; if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1625, __pyx_L40_error)
                      __Pyx_GOTREF(__pyx_t_10);
                      #endif
                    } else {
                      if (__pyx_t_17 >= PyTuple_GET_SIZE(__pyx_t_18)) break;
                      #if CYTHON_COMPILING_IN_CPYTHON
                      __pyx_t_10 = PyTuple_GET_ITEM(__pyx_t_18, __pyx_t_17); __Pyx_INCREF(__pyx_t_10); __pyx_t_17++; if (unlikely(0 < 0)) __PYX_ERR(0, 1625, __pyx_L40_error)
                      #else
                      __pyx_t_10 = PySequence_ITEM(__pyx_t_18, __pyx_t_17); __pyx_t_17++; if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1625, __pyx_L40_error)
                      __Pyx_GOTREF(__pyx_t_10);
                      #endif
                    }
                  } else {
                    __pyx_t_10 = __pyx_t_23(__pyx_t_18);
                    if (unlikely(!__pyx_t_10)) {
                      PyObject* exc_type = PyErr_Occurred();
                      if (exc_type) {
                        if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
                        else __PYX_ERR(0, 1625, __pyx_L40_error)
                      }
                      break;
                    }
                    __Pyx_GOTREF(__pyx_t_10);
                  }
                  __Pyx_XDECREF_SET(__pyx_8genexpr7__pyx_v_segment_number, __pyx_t_10);
                  __pyx_t_10 = 0;

                  /* "youtube_dl/extractor/common.py":1622
 *                                 representation_ms_info['segment_urls'] = [
 *                                     media_template % {
 *                                         'Number': segment_number,             # <<<<<<<<<<<<<<
 *                                         'Bandwidth': representation_attrib.get('bandwidth'),
 *                                     }
 */
                  __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1622, __pyx_L40_error)
                  __Pyx_GOTREF(__pyx_t_10);
                  if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_Number_2, __pyx_8genexpr7__pyx_v_segment_number) < 0) __PYX_ERR(0, 1622, __pyx_L40_error)

                  /* "youtube_dl/extractor/common.py":1623
 *                                     media_template % {
 *                                         'Number': segment_number,
 *                                         'Bandwidth': representation_attrib.get('bandwidth'),             # <<<<<<<<<<<<<<
 *                                     }
 *                                     for segment_number in range(
 */
                  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_representation_attrib, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1623, __pyx_L40_error)
                  __Pyx_GOTREF(__pyx_t_4);
                  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__209, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1623, __pyx_L40_error)
                  __Pyx_GOTREF(__pyx_t_6);
                  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
                  if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_Bandwidth, __pyx_t_6) < 0) __PYX_ERR(0, 1622, __pyx_L40_error)
                  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

                  /* "youtube_dl/extractor/common.py":1621
 *                             if '%(Number' in media_template:
 *                                 representation_ms_info['segment_urls'] = [
 *                                     media_template % {             # <<<<<<<<<<<<<<
 *                                         'Number': segment_number,
 *                                         'Bandwidth': representation_attrib.get('bandwidth'),
 */
                  __pyx_t_6 = PyNumber_Remainder(__pyx_cur_scope->__pyx_v_media_template, __pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1621, __pyx_L40_error)
                  __Pyx_GOTREF(__pyx_t_6);
                  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
                  if (unlikely(__Pyx_ListComp_Append(__pyx_t_15, (PyObject*)__pyx_t_6))) __PYX_ERR(0, 1620, __pyx_L40_error)
                  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

                  /* "youtube_dl/extractor/common.py":1625
 *                                         'Bandwidth': representation_attrib.get('bandwidth'),
 *                                     }
 *                                     for segment_number in range(             # <<<<<<<<<<<<<<
 *                                         representation_ms_info['start_number'],
 *                                         representation_ms_info['total_number'] + representation_ms_info['start_number'])]
 */
                }
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
                __Pyx_XDECREF(__pyx_8genexpr7__pyx_v_segment_number);
                goto __pyx_L43_exit_scope;
                __pyx_L40_error:;
                __Pyx_XDECREF(__pyx_8genexpr7__pyx_v_segment_number);
                goto __pyx_L1_error;
                __pyx_L43_exit_scope:;
              } /* exit inner scope */

              /* "youtube_dl/extractor/common.py":1620
 *                             # can't be used at the same time
 *                             if '%(Number' in media_template:
 *                                 representation_ms_info['segment_urls'] = [             # <<<<<<<<<<<<<<
 *                                     media_template % {
 *                                         'Number': segment_number,
 */
              if (unlikely(PyObject_SetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_segment_urls, __pyx_t_15) < 0)) __PYX_ERR(0, 1620, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;

              /* "youtube_dl/extractor/common.py":1619
 *                             # As per [1, 5.3.9.4.4, Table 16, page 55] $Number$ and $Time$
 *                             # can't be used at the same time
 *                             if '%(Number' in media_template:             # <<<<<<<<<<<<<<
 *                                 representation_ms_info['segment_urls'] = [
 *                                     media_template % {
 */
              goto __pyx_L37;
            }

            /* "youtube_dl/extractor/common.py":1629
 *                                         representation_ms_info['total_number'] + representation_ms_info['start_number'])]
 *                             else:
 *                                 representation_ms_info['segment_urls'] = []             # <<<<<<<<<<<<<<
 *                                 segment_time = 0
 * 
 */
            /*else*/ {
              __pyx_t_15 = PyList_New(0); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1629, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_15);
              if (unlikely(PyObject_SetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_segment_urls, __pyx_t_15) < 0)) __PYX_ERR(0, 1629, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;

              /* "youtube_dl/extractor/common.py":1630
 *                             else:
 *                                 representation_ms_info['segment_urls'] = []
 *                                 segment_time = 0             # <<<<<<<<<<<<<<
 * 
 *                                 def add_segment_url():
 */
              __Pyx_INCREF(__pyx_int_0);
              __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_segment_time);
              __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_segment_time, __pyx_int_0);
              __Pyx_GIVEREF(__pyx_int_0);

              /* "youtube_dl/extractor/common.py":1632
 *                                 segment_time = 0
 * 
 *                                 def add_segment_url():             # <<<<<<<<<<<<<<
 *                                     representation_ms_info['segment_urls'].append(
 *                                         media_template % {
 */
              __pyx_t_15 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_7add_segment_url, 0, __pyx_n_s_InfoExtractor__parse_mpd_formats_5, ((PyObject*)__pyx_cur_scope), __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__210)); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1632, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_15);
              __Pyx_XDECREF_SET(__pyx_v_add_segment_url, __pyx_t_15);
              __pyx_t_15 = 0;

              /* "youtube_dl/extractor/common.py":1640
 *                                     )
 * 
 *                                 for num, s in enumerate(representation_ms_info['s']):             # <<<<<<<<<<<<<<
 *                                     segment_time = s.get('t') or segment_time
 *                                     add_segment_url()
 */
              __Pyx_INCREF(__pyx_int_0);
              __pyx_t_15 = __pyx_int_0;
              __pyx_t_18 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_s_3); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1640, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_18);
              if (likely(PyList_CheckExact(__pyx_t_18)) || PyTuple_CheckExact(__pyx_t_18)) {
                __pyx_t_6 = __pyx_t_18; __Pyx_INCREF(__pyx_t_6); __pyx_t_17 = 0;
                __pyx_t_23 = NULL;
              } else {
                __pyx_t_17 = -1; __pyx_t_6 = PyObject_GetIter(__pyx_t_18); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1640, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_6);
                __pyx_t_23 = Py_TYPE(__pyx_t_6)->tp_iternext; if (unlikely(!__pyx_t_23)) __PYX_ERR(0, 1640, __pyx_L1_error)
              }
              __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
              for (;;) {
                if (likely(!__pyx_t_23)) {
                  if (likely(PyList_CheckExact(__pyx_t_6))) {
                    if (__pyx_t_17 >= PyList_GET_SIZE(__pyx_t_6)) break;
                    #if CYTHON_COMPILING_IN_CPYTHON
                    __pyx_t_18 = PyList_GET_ITEM(__pyx_t_6, __pyx_t_17); __Pyx_INCREF(__pyx_t_18); __pyx_t_17++; if (unlikely(0 < 0)) __PYX_ERR(0, 1640, __pyx_L1_error)
                    #else
                    __pyx_t_18 = PySequence_ITEM(__pyx_t_6, __pyx_t_17); __pyx_t_17++; if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1640, __pyx_L1_error)
                    __Pyx_GOTREF(__pyx_t_18);
                    #endif
                  } else {
                    if (__pyx_t_17 >= PyTuple_GET_SIZE(__pyx_t_6)) break;
                    #if CYTHON_COMPILING_IN_CPYTHON
                    __pyx_t_18 = PyTuple_GET_ITEM(__pyx_t_6, __pyx_t_17); __Pyx_INCREF(__pyx_t_18); __pyx_t_17++; if (unlikely(0 < 0)) __PYX_ERR(0, 1640, __pyx_L1_error)
                    #else
                    __pyx_t_18 = PySequence_ITEM(__pyx_t_6, __pyx_t_17); __pyx_t_17++; if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1640, __pyx_L1_error)
                    __Pyx_GOTREF(__pyx_t_18);
                    #endif
                  }
                } else {
                  __pyx_t_18 = __pyx_t_23(__pyx_t_6);
                  if (unlikely(!__pyx_t_18)) {
                    PyObject* exc_type = PyErr_Occurred();
                    if (exc_type) {
                      if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
                      else __PYX_ERR(0, 1640, __pyx_L1_error)
                    }
                    break;
                  }
                  __Pyx_GOTREF(__pyx_t_18);
                }
                __Pyx_XDECREF_SET(__pyx_v_s, __pyx_t_18);
                __pyx_t_18 = 0;
                __Pyx_INCREF(__pyx_t_15);
                __Pyx_XDECREF_SET(__pyx_v_num, __pyx_t_15);
                __pyx_t_18 = __Pyx_PyInt_AddObjC(__pyx_t_15, __pyx_int_1, 1, 0); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1640, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_18);
                __Pyx_DECREF(__pyx_t_15);
                __pyx_t_15 = __pyx_t_18;
                __pyx_t_18 = 0;

                /* "youtube_dl/extractor/common.py":1641
 * 
 *                                 for num, s in enumerate(representation_ms_info['s']):
 *                                     segment_time = s.get('t') or segment_time             # <<<<<<<<<<<<<<
 *                                     add_segment_url()
 *                                     for r in range(s.get('r', 0)):
 */
                __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_v_s, __pyx_n_s_get); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1641, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_10);
                __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_10, __pyx_tuple__211, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1641, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_4);
                __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
                __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1641, __pyx_L1_error)
                if (!__pyx_t_3) {
                  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
                } else {
                  __Pyx_INCREF(__pyx_t_4);
                  __pyx_t_18 = __pyx_t_4;
                  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
                  goto __pyx_L46_bool_binop_done;
                }
                __Pyx_INCREF(__pyx_cur_scope->__pyx_v_segment_time);
                __pyx_t_18 = __pyx_cur_scope->__pyx_v_segment_time;
                __pyx_L46_bool_binop_done:;
                __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_segment_time);
                __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_segment_time, __pyx_t_18);
                __Pyx_GIVEREF(__pyx_t_18);
                __pyx_t_18 = 0;

                /* "youtube_dl/extractor/common.py":1642
 *                                 for num, s in enumerate(representation_ms_info['s']):
 *                                     segment_time = s.get('t') or segment_time
 *                                     add_segment_url()             # <<<<<<<<<<<<<<
 *                                     for r in range(s.get('r', 0)):
 *                                         segment_time += s['d']
 */
                __pyx_t_18 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_6add_segment_url(__pyx_v_add_segment_url); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1642, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_18);
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

                /* "youtube_dl/extractor/common.py":1643
 *                                     segment_time = s.get('t') or segment_time
 *                                     add_segment_url()
 *                                     for r in range(s.get('r', 0)):             # <<<<<<<<<<<<<<
 *                                         segment_time += s['d']
 *                                         add_segment_url()
 */
                __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_v_s, __pyx_n_s_get); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1643, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_18);
                __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_18, __pyx_tuple__212, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1643, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_4);
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
                __pyx_t_18 = PyTuple_New(1); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1643, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_18);
                __Pyx_GIVEREF(__pyx_t_4);
                PyTuple_SET_ITEM(__pyx_t_18, 0, __pyx_t_4);
                __pyx_t_4 = 0;
                __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_range, __pyx_t_18, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1643, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_4);
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
                if (likely(PyList_CheckExact(__pyx_t_4)) || PyTuple_CheckExact(__pyx_t_4)) {
                  __pyx_t_18 = __pyx_t_4; __Pyx_INCREF(__pyx_t_18); __pyx_t_19 = 0;
                  __pyx_t_24 = NULL;
                } else {
                  __pyx_t_19 = -1; __pyx_t_18 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1643, __pyx_L1_error)
                  __Pyx_GOTREF(__pyx_t_18);
                  __pyx_t_24 = Py_TYPE(__pyx_t_18)->tp_iternext; if (unlikely(!__pyx_t_24)) __PYX_ERR(0, 1643, __pyx_L1_error)
                }
                __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
                for (;;) {
                  if (likely(!__pyx_t_24)) {
                    if (likely(PyList_CheckExact(__pyx_t_18))) {
                      if (__pyx_t_19 >= PyList_GET_SIZE(__pyx_t_18)) break;
                      #if CYTHON_COMPILING_IN_CPYTHON
                      __pyx_t_4 = PyList_GET_ITEM(__pyx_t_18, __pyx_t_19); __Pyx_INCREF(__pyx_t_4); __pyx_t_19++; if (unlikely(0 < 0)) __PYX_ERR(0, 1643, __pyx_L1_error)
                      #else
                      __pyx_t_4 = PySequence_ITEM(__pyx_t_18, __pyx_t_19); __pyx_t_19++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1643, __pyx_L1_error)
                      __Pyx_GOTREF(__pyx_t_4);
                      #endif
                    } else {
                      if (__pyx_t_19 >= PyTuple_GET_SIZE(__pyx_t_18)) break;
                      #if CYTHON_COMPILING_IN_CPYTHON
                      __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_18, __pyx_t_19); __Pyx_INCREF(__pyx_t_4); __pyx_t_19++; if (unlikely(0 < 0)) __PYX_ERR(0, 1643, __pyx_L1_error)
                      #else
                      __pyx_t_4 = PySequence_ITEM(__pyx_t_18, __pyx_t_19); __pyx_t_19++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1643, __pyx_L1_error)
                      __Pyx_GOTREF(__pyx_t_4);
                      #endif
                    }
                  } else {
                    __pyx_t_4 = __pyx_t_24(__pyx_t_18);
                    if (unlikely(!__pyx_t_4)) {
                      PyObject* exc_type = PyErr_Occurred();
                      if (exc_type) {
                        if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
                        else __PYX_ERR(0, 1643, __pyx_L1_error)
                      }
                      break;
                    }
                    __Pyx_GOTREF(__pyx_t_4);
                  }
                  __Pyx_XDECREF_SET(__pyx_v_r, __pyx_t_4);
                  __pyx_t_4 = 0;

                  /* "youtube_dl/extractor/common.py":1644
 *                                     add_segment_url()
 *                                     for r in range(s.get('r', 0)):
 *                                         segment_time += s['d']             # <<<<<<<<<<<<<<
 *                                         add_segment_url()
 *                                     segment_time += s['d']
 */
                  __pyx_t_4 = PyObject_GetItem(__pyx_v_s, __pyx_n_u_d_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1644, __pyx_L1_error)
                  __Pyx_GOTREF(__pyx_t_4);
                  __pyx_t_10 = PyNumber_InPlaceAdd(__pyx_cur_scope->__pyx_v_segment_time, __pyx_t_4); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1644, __pyx_L1_error)
                  __Pyx_GOTREF(__pyx_t_10);
                  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
                  __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_segment_time);
                  __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_segment_time, __pyx_t_10);
                  __Pyx_GIVEREF(__pyx_t_10);
                  __pyx_t_10 = 0;

                  /* "youtube_dl/extractor/common.py":1645
 *                                     for r in range(s.get('r', 0)):
 *                                         segment_time += s['d']
 *                                         add_segment_url()             # <<<<<<<<<<<<<<
 *                                     segment_time += s['d']
 *                         if 'segment_urls' in representation_ms_info:
 */
                  __pyx_t_10 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_6add_segment_url(__pyx_v_add_segment_url); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1645, __pyx_L1_error)
                  __Pyx_GOTREF(__pyx_t_10);
                  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

                  /* "youtube_dl/extractor/common.py":1643
 *                                     segment_time = s.get('t') or segment_time
 *                                     add_segment_url()
 *                                     for r in range(s.get('r', 0)):             # <<<<<<<<<<<<<<
 *                                         segment_time += s['d']
 *                                         add_segment_url()
 */
                }
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

                /* "youtube_dl/extractor/common.py":1646
 *                                         segment_time += s['d']
 *                                         add_segment_url()
 *                                     segment_time += s['d']             # <<<<<<<<<<<<<<
 *                         if 'segment_urls' in representation_ms_info:
 *                             f.update({
 */
                __pyx_t_18 = PyObject_GetItem(__pyx_v_s, __pyx_n_u_d_2); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1646, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_18);
                __pyx_t_10 = PyNumber_InPlaceAdd(__pyx_cur_scope->__pyx_v_segment_time, __pyx_t_18); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1646, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_10);
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
                __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_segment_time);
                __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_segment_time, __pyx_t_10);
                __Pyx_GIVEREF(__pyx_t_10);
                __pyx_t_10 = 0;

                /* "youtube_dl/extractor/common.py":1640
 *                                     )
 * 
 *                                 for num, s in enumerate(representation_ms_info['s']):             # <<<<<<<<<<<<<<
 *                                     segment_time = s.get('t') or segment_time
 *                                     add_segment_url()
 */
              }
              __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            }
            __pyx_L37:;

            /* "youtube_dl/extractor/common.py":1607
 *                         }
 *                         representation_ms_info = extract_multisegment_info(representation, adaption_set_ms_info)
 *                         if 'segment_urls' not in representation_ms_info and 'media_template' in representation_ms_info:             # <<<<<<<<<<<<<<
 *                             if 'total_number' not in representation_ms_info and 'segment_duration':
 *                                 segment_duration = float(representation_ms_info['segment_duration']) / float(representation_ms_info['timescale'])
 */
          }

          /* "youtube_dl/extractor/common.py":1647
 *                                         add_segment_url()
 *                                     segment_time += s['d']
 *                         if 'segment_urls' in representation_ms_info:             # <<<<<<<<<<<<<<
 *                             f.update({
 *                                 'segment_urls': representation_ms_info['segment_urls'],
 */
          __pyx_t_3 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_segment_urls, __pyx_cur_scope->__pyx_v_representation_ms_info, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1647, __pyx_L1_error)
          __pyx_t_16 = (__pyx_t_3 != 0);
          if (__pyx_t_16) {

            /* "youtube_dl/extractor/common.py":1648
 *                                     segment_time += s['d']
 *                         if 'segment_urls' in representation_ms_info:
 *                             f.update({             # <<<<<<<<<<<<<<
 *                                 'segment_urls': representation_ms_info['segment_urls'],
 *                                 'protocol': 'http_dash_segments',
 */
            __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_update); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1648, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_6);

            /* "youtube_dl/extractor/common.py":1649
 *                         if 'segment_urls' in representation_ms_info:
 *                             f.update({
 *                                 'segment_urls': representation_ms_info['segment_urls'],             # <<<<<<<<<<<<<<
 *                                 'protocol': 'http_dash_segments',
 *                             })
 */
            __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1649, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_10);
            __pyx_t_18 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_segment_urls); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1649, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_18);
            if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_segment_urls, __pyx_t_18) < 0) __PYX_ERR(0, 1649, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
            if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_protocol, __pyx_n_u_http_dash_segments) < 0) __PYX_ERR(0, 1649, __pyx_L1_error)
            __pyx_t_18 = NULL;
            if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
              __pyx_t_18 = PyMethod_GET_SELF(__pyx_t_6);
              if (likely(__pyx_t_18)) {
                PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
                __Pyx_INCREF(__pyx_t_18);
                __Pyx_INCREF(function);
                __Pyx_DECREF_SET(__pyx_t_6, function);
              }
            }
            if (!__pyx_t_18) {
              __pyx_t_15 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_10); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1648, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
              __Pyx_GOTREF(__pyx_t_15);
            } else {
              __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1648, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_4);
              __Pyx_GIVEREF(__pyx_t_18); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_18); __pyx_t_18 = NULL;
              __Pyx_GIVEREF(__pyx_t_10);
              PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_10);
              __pyx_t_10 = 0;
              __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_4, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1648, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_15);
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
            }
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;

            /* "youtube_dl/extractor/common.py":1652
 *                                 'protocol': 'http_dash_segments',
 *                             })
 *                             if 'initialization_url' in representation_ms_info:             # <<<<<<<<<<<<<<
 *                                 initialization_url = representation_ms_info['initialization_url'].replace('$RepresentationID$', representation_id)
 *                                 f.update({
 */
            __pyx_t_16 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_initialization_url, __pyx_cur_scope->__pyx_v_representation_ms_info, Py_EQ)); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1652, __pyx_L1_error)
            __pyx_t_3 = (__pyx_t_16 != 0);
            if (__pyx_t_3) {

              /* "youtube_dl/extractor/common.py":1653
 *                             })
 *                             if 'initialization_url' in representation_ms_info:
 *                                 initialization_url = representation_ms_info['initialization_url'].replace('$RepresentationID$', representation_id)             # <<<<<<<<<<<<<<
 *                                 f.update({
 *                                     'initialization_url': initialization_url,
 */
              __pyx_t_6 = PyObject_GetItem(__pyx_cur_scope->__pyx_v_representation_ms_info, __pyx_n_u_initialization_url); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1653, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_6);
              __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_replace); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1653, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_4);
              __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
              __pyx_t_6 = NULL;
              __pyx_t_17 = 0;
              if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
                __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
                if (likely(__pyx_t_6)) {
                  PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
                  __Pyx_INCREF(__pyx_t_6);
                  __Pyx_INCREF(function);
                  __Pyx_DECREF_SET(__pyx_t_4, function);
                  __pyx_t_17 = 1;
                }
              }
              __pyx_t_10 = PyTuple_New(2+__pyx_t_17); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1653, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_10);
              if (__pyx_t_6) {
                __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_6); __pyx_t_6 = NULL;
              }
              __Pyx_INCREF(__pyx_kp_u_RepresentationID);
              __Pyx_GIVEREF(__pyx_kp_u_RepresentationID);
              PyTuple_SET_ITEM(__pyx_t_10, 0+__pyx_t_17, __pyx_kp_u_RepresentationID);
              __Pyx_INCREF(__pyx_cur_scope->__pyx_v_representation_id);
              __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_representation_id);
              PyTuple_SET_ITEM(__pyx_t_10, 1+__pyx_t_17, __pyx_cur_scope->__pyx_v_representation_id);
              __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_10, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1653, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_15);
              __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
              __Pyx_XDECREF_SET(__pyx_v_initialization_url, __pyx_t_15);
              __pyx_t_15 = 0;

              /* "youtube_dl/extractor/common.py":1654
 *                             if 'initialization_url' in representation_ms_info:
 *                                 initialization_url = representation_ms_info['initialization_url'].replace('$RepresentationID$', representation_id)
 *                                 f.update({             # <<<<<<<<<<<<<<
 *                                     'initialization_url': initialization_url,
 *                                 })
 */
              __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_update); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1654, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_4);

              /* "youtube_dl/extractor/common.py":1655
 *                                 initialization_url = representation_ms_info['initialization_url'].replace('$RepresentationID$', representation_id)
 *                                 f.update({
 *                                     'initialization_url': initialization_url,             # <<<<<<<<<<<<<<
 *                                 })
 *                                 if not f.get('url'):
 */
              __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1655, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_10);
              if (PyDict_SetItem(__pyx_t_10, __pyx_n_u_initialization_url, __pyx_v_initialization_url) < 0) __PYX_ERR(0, 1655, __pyx_L1_error)
              __pyx_t_6 = NULL;
              if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
                __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
                if (likely(__pyx_t_6)) {
                  PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
                  __Pyx_INCREF(__pyx_t_6);
                  __Pyx_INCREF(function);
                  __Pyx_DECREF_SET(__pyx_t_4, function);
                }
              }
              if (!__pyx_t_6) {
                __pyx_t_15 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_10); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1654, __pyx_L1_error)
                __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
                __Pyx_GOTREF(__pyx_t_15);
              } else {
                __pyx_t_18 = PyTuple_New(1+1); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1654, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_18);
                __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_18, 0, __pyx_t_6); __pyx_t_6 = NULL;
                __Pyx_GIVEREF(__pyx_t_10);
                PyTuple_SET_ITEM(__pyx_t_18, 0+1, __pyx_t_10);
                __pyx_t_10 = 0;
                __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_18, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1654, __pyx_L1_error)
                __Pyx_GOTREF(__pyx_t_15);
                __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
              }
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;

              /* "youtube_dl/extractor/common.py":1657
 *                                     'initialization_url': initialization_url,
 *                                 })
 *                                 if not f.get('url'):             # <<<<<<<<<<<<<<
 *                                     f['url'] = initialization_url
 *                         try:
 */
              __pyx_t_15 = __Pyx_PyDict_GetItemDefault(__pyx_v_f, __pyx_n_u_url, Py_None); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1657, __pyx_L1_error)
              __Pyx_GOTREF(__pyx_t_15);
              __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_15); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1657, __pyx_L1_error)
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
              __pyx_t_16 = ((!__pyx_t_3) != 0);
              if (__pyx_t_16) {

                /* "youtube_dl/extractor/common.py":1658
 *                                 })
 *                                 if not f.get('url'):
 *                                     f['url'] = initialization_url             # <<<<<<<<<<<<<<
 *                         try:
 *                             existing_format = next(
 */
                if (unlikely(PyDict_SetItem(__pyx_v_f, __pyx_n_u_url, __pyx_v_initialization_url) < 0)) __PYX_ERR(0, 1658, __pyx_L1_error)

                /* "youtube_dl/extractor/common.py":1657
 *                                     'initialization_url': initialization_url,
 *                                 })
 *                                 if not f.get('url'):             # <<<<<<<<<<<<<<
 *                                     f['url'] = initialization_url
 *                         try:
 */
              }

              /* "youtube_dl/extractor/common.py":1652
 *                                 'protocol': 'http_dash_segments',
 *                             })
 *                             if 'initialization_url' in representation_ms_info:             # <<<<<<<<<<<<<<
 *                                 initialization_url = representation_ms_info['initialization_url'].replace('$RepresentationID$', representation_id)
 *                                 f.update({
 */
            }

            /* "youtube_dl/extractor/common.py":1647
 *                                         add_segment_url()
 *                                     segment_time += s['d']
 *                         if 'segment_urls' in representation_ms_info:             # <<<<<<<<<<<<<<
 *                             f.update({
 *                                 'segment_urls': representation_ms_info['segment_urls'],
 */
          }

          /* "youtube_dl/extractor/common.py":1659
 *                                 if not f.get('url'):
 *                                     f['url'] = initialization_url
 *                         try:             # <<<<<<<<<<<<<<
 *                             existing_format = next(
 *                                 fo for fo in formats
 */
          {
            __Pyx_PyThreadState_declare
            __Pyx_PyThreadState_assign
            __Pyx_ExceptionSave(&__pyx_t_25, &__pyx_t_26, &__pyx_t_27);
            __Pyx_XGOTREF(__pyx_t_25);
            __Pyx_XGOTREF(__pyx_t_26);
            __Pyx_XGOTREF(__pyx_t_27);
            /*try:*/ {

              /* "youtube_dl/extractor/common.py":1661
 *                         try:
 *                             existing_format = next(
 *                                 fo for fo in formats             # <<<<<<<<<<<<<<
 *                                 if fo['format_id'] == representation_id)
 *                         except StopIteration:
 */
              __pyx_t_15 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_18_parse_mpd_formats_8genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1661, __pyx_L53_error)
              __Pyx_GOTREF(__pyx_t_15);

              /* "youtube_dl/extractor/common.py":1660
 *                                     f['url'] = initialization_url
 *                         try:
 *                             existing_format = next(             # <<<<<<<<<<<<<<
 *                                 fo for fo in formats
 *                                 if fo['format_id'] == representation_id)
 */
              __pyx_t_4 = __Pyx_PyIter_Next(__pyx_t_15); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1660, __pyx_L53_error)
              __Pyx_GOTREF(__pyx_t_4);
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
              __Pyx_XDECREF_SET(__pyx_v_existing_format, __pyx_t_4);
              __pyx_t_4 = 0;

              /* "youtube_dl/extractor/common.py":1659
 *                                 if not f.get('url'):
 *                                     f['url'] = initialization_url
 *                         try:             # <<<<<<<<<<<<<<
 *                             existing_format = next(
 *                                 fo for fo in formats
 */
            }

            /* "youtube_dl/extractor/common.py":1668
 *                             formats.append(full_info)
 *                         else:
 *                             existing_format.update(f)             # <<<<<<<<<<<<<<
 *                     else:
 *                         self.report_warning('Unknown MIME type %s in DASH manifest' % mime_type)
 */
            /*else:*/ {
              __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_v_existing_format, __pyx_n_s_update); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1668, __pyx_L55_except_error)
              __Pyx_GOTREF(__pyx_t_15);
              __pyx_t_18 = NULL;
              if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_15))) {
                __pyx_t_18 = PyMethod_GET_SELF(__pyx_t_15);
                if (likely(__pyx_t_18)) {
                  PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
                  __Pyx_INCREF(__pyx_t_18);
                  __Pyx_INCREF(function);
                  __Pyx_DECREF_SET(__pyx_t_15, function);
                }
              }
              if (!__pyx_t_18) {
                __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_t_15, __pyx_v_f); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1668, __pyx_L55_except_error)
                __Pyx_GOTREF(__pyx_t_4);
              } else {
                __pyx_t_10 = PyTuple_New(1+1); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1668, __pyx_L55_except_error)
                __Pyx_GOTREF(__pyx_t_10);
                __Pyx_GIVEREF(__pyx_t_18); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_18); __pyx_t_18 = NULL;
                __Pyx_INCREF(__pyx_v_f);
                __Pyx_GIVEREF(__pyx_v_f);
                PyTuple_SET_ITEM(__pyx_t_10, 0+1, __pyx_v_f);
                __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_t_10, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1668, __pyx_L55_except_error)
                __Pyx_GOTREF(__pyx_t_4);
                __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
              }
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
            }
            __Pyx_XDECREF(__pyx_t_25); __pyx_t_25 = 0;
            __Pyx_XDECREF(__pyx_t_26); __pyx_t_26 = 0;
            __Pyx_XDECREF(__pyx_t_27); __pyx_t_27 = 0;
            goto __pyx_L60_try_end;
            __pyx_L53_error:;
            __Pyx_PyThreadState_assign
            __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
            __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
            __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
            __Pyx_XDECREF(__pyx_t_18); __pyx_t_18 = 0;
            __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
            __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;

            /* "youtube_dl/extractor/common.py":1663
 *                                 fo for fo in formats
 *                                 if fo['format_id'] == representation_id)
 *                         except StopIteration:             # <<<<<<<<<<<<<<
 *                             full_info = formats_dict.get(representation_id, {}).copy()
 *                             full_info.update(f)
 */
            __pyx_t_28 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_StopIteration);
            if (__pyx_t_28) {
              __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
              if (__Pyx_GetException(&__pyx_t_4, &__pyx_t_15, &__pyx_t_10) < 0) __PYX_ERR(0, 1663, __pyx_L55_except_error)
              __Pyx_GOTREF(__pyx_t_4);
              __Pyx_GOTREF(__pyx_t_15);
              __Pyx_GOTREF(__pyx_t_10);

              /* "youtube_dl/extractor/common.py":1664
 *                                 if fo['format_id'] == representation_id)
 *                         except StopIteration:
 *                             full_info = formats_dict.get(representation_id, {}).copy()             # <<<<<<<<<<<<<<
 *                             full_info.update(f)
 *                             formats.append(full_info)
 */
              __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_formats_dict, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1664, __pyx_L55_except_error)
              __Pyx_GOTREF(__pyx_t_2);
              __pyx_t_29 = PyDict_New(); if (unlikely(!__pyx_t_29)) __PYX_ERR(0, 1664, __pyx_L55_except_error)
              __Pyx_GOTREF(__pyx_t_29);
              __pyx_t_30 = NULL;
              __pyx_t_17 = 0;
              if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
                __pyx_t_30 = PyMethod_GET_SELF(__pyx_t_2);
                if (likely(__pyx_t_30)) {
                  PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
                  __Pyx_INCREF(__pyx_t_30);
                  __Pyx_INCREF(function);
                  __Pyx_DECREF_SET(__pyx_t_2, function);
                  __pyx_t_17 = 1;
                }
              }
              __pyx_t_31 = PyTuple_New(2+__pyx_t_17); if (unlikely(!__pyx_t_31)) __PYX_ERR(0, 1664, __pyx_L55_except_error)
              __Pyx_GOTREF(__pyx_t_31);
              if (__pyx_t_30) {
                __Pyx_GIVEREF(__pyx_t_30); PyTuple_SET_ITEM(__pyx_t_31, 0, __pyx_t_30); __pyx_t_30 = NULL;
              }
              __Pyx_INCREF(__pyx_cur_scope->__pyx_v_representation_id);
              __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_representation_id);
              PyTuple_SET_ITEM(__pyx_t_31, 0+__pyx_t_17, __pyx_cur_scope->__pyx_v_representation_id);
              __Pyx_GIVEREF(__pyx_t_29);
              PyTuple_SET_ITEM(__pyx_t_31, 1+__pyx_t_17, __pyx_t_29);
              __pyx_t_29 = 0;
              __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_31, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1664, __pyx_L55_except_error)
              __Pyx_GOTREF(__pyx_t_6);
              __Pyx_DECREF(__pyx_t_31); __pyx_t_31 = 0;
              __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
              __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_copy); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1664, __pyx_L55_except_error)
              __Pyx_GOTREF(__pyx_t_2);
              __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
              __pyx_t_6 = NULL;
              if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
                __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_2);
                if (likely(__pyx_t_6)) {
                  PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
                  __Pyx_INCREF(__pyx_t_6);
                  __Pyx_INCREF(function);
                  __Pyx_DECREF_SET(__pyx_t_2, function);
                }
              }
              if (__pyx_t_6) {
                __pyx_t_18 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_6); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1664, __pyx_L55_except_error)
                __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
              } else {
                __pyx_t_18 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1664, __pyx_L55_except_error)
              }
              __Pyx_GOTREF(__pyx_t_18);
              __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
              __Pyx_XDECREF_SET(__pyx_v_full_info, __pyx_t_18);
              __pyx_t_18 = 0;

              /* "youtube_dl/extractor/common.py":1665
 *                         except StopIteration:
 *                             full_info = formats_dict.get(representation_id, {}).copy()
 *                             full_info.update(f)             # <<<<<<<<<<<<<<
 *                             formats.append(full_info)
 *                         else:
 */
              __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_full_info, __pyx_n_s_update); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1665, __pyx_L55_except_error)
              __Pyx_GOTREF(__pyx_t_2);
              __pyx_t_6 = NULL;
              if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
                __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_2);
                if (likely(__pyx_t_6)) {
                  PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
                  __Pyx_INCREF(__pyx_t_6);
                  __Pyx_INCREF(function);
                  __Pyx_DECREF_SET(__pyx_t_2, function);
                }
              }
              if (!__pyx_t_6) {
                __pyx_t_18 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_f); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1665, __pyx_L55_except_error)
                __Pyx_GOTREF(__pyx_t_18);
              } else {
                __pyx_t_31 = PyTuple_New(1+1); if (unlikely(!__pyx_t_31)) __PYX_ERR(0, 1665, __pyx_L55_except_error)
                __Pyx_GOTREF(__pyx_t_31);
                __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_31, 0, __pyx_t_6); __pyx_t_6 = NULL;
                __Pyx_INCREF(__pyx_v_f);
                __Pyx_GIVEREF(__pyx_v_f);
                PyTuple_SET_ITEM(__pyx_t_31, 0+1, __pyx_v_f);
                __pyx_t_18 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_31, NULL); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1665, __pyx_L55_except_error)
                __Pyx_GOTREF(__pyx_t_18);
                __Pyx_DECREF(__pyx_t_31); __pyx_t_31 = 0;
              }
              __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
              __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;

              /* "youtube_dl/extractor/common.py":1666
 *                             full_info = formats_dict.get(representation_id, {}).copy()
 *                             full_info.update(f)
 *                             formats.append(full_info)             # <<<<<<<<<<<<<<
 *                         else:
 *                             existing_format.update(f)
 */
              __pyx_t_32 = __Pyx_PyList_Append(__pyx_cur_scope->__pyx_v_formats, __pyx_v_full_info); if (unlikely(__pyx_t_32 == -1)) __PYX_ERR(0, 1666, __pyx_L55_except_error)
              __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
              __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
              goto __pyx_L54_exception_handled;
            }
            goto __pyx_L55_except_error;
            __pyx_L55_except_error:;

            /* "youtube_dl/extractor/common.py":1659
 *                                 if not f.get('url'):
 *                                     f['url'] = initialization_url
 *                         try:             # <<<<<<<<<<<<<<
 *                             existing_format = next(
 *                                 fo for fo in formats
 */
            __Pyx_PyThreadState_assign
            __Pyx_XGIVEREF(__pyx_t_25);
            __Pyx_XGIVEREF(__pyx_t_26);
            __Pyx_XGIVEREF(__pyx_t_27);
            __Pyx_ExceptionReset(__pyx_t_25, __pyx_t_26, __pyx_t_27);
            goto __pyx_L1_error;
            __pyx_L54_exception_handled:;
            __Pyx_PyThreadState_assign
            __Pyx_XGIVEREF(__pyx_t_25);
            __Pyx_XGIVEREF(__pyx_t_26);
            __Pyx_XGIVEREF(__pyx_t_27);
            __Pyx_ExceptionReset(__pyx_t_25, __pyx_t_26, __pyx_t_27);
            __pyx_L60_try_end:;
          }

          /* "youtube_dl/extractor/common.py":1575
 *                         # TODO implement WebVTT downloading
 *                         pass
 *                     elif content_type == 'video' or content_type == 'audio':             # <<<<<<<<<<<<<<
 *                         base_url = ''
 *                         for element in (representation, adaptation_set, period, mpd_doc):
 */
          goto __pyx_L14;
        }

        /* "youtube_dl/extractor/common.py":1670
 *                             existing_format.update(f)
 *                     else:
 *                         self.report_warning('Unknown MIME type %s in DASH manifest' % mime_type)             # <<<<<<<<<<<<<<
 *         return formats
 * 
 */
        /*else*/ {
          __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1670, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __pyx_t_4 = PyUnicode_Format(__pyx_kp_u_Unknown_MIME_type_s_in_DASH_mani, __pyx_v_mime_type); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1670, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_18 = NULL;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_15))) {
            __pyx_t_18 = PyMethod_GET_SELF(__pyx_t_15);
            if (likely(__pyx_t_18)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
              __Pyx_INCREF(__pyx_t_18);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_15, function);
            }
          }
          if (!__pyx_t_18) {
            __pyx_t_10 = __Pyx_PyObject_CallOneArg(__pyx_t_15, __pyx_t_4); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1670, __pyx_L1_error)
            __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
            __Pyx_GOTREF(__pyx_t_10);
          } else {
            __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1670, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_2);
            __Pyx_GIVEREF(__pyx_t_18); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_18); __pyx_t_18 = NULL;
            __Pyx_GIVEREF(__pyx_t_4);
            PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_t_4);
            __pyx_t_4 = 0;
            __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_t_2, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1670, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_10);
            __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
          }
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        }
        __pyx_L14:;

        /* "youtube_dl/extractor/common.py":1564
 *                     continue
 *                 adaption_set_ms_info = extract_multisegment_info(adaptation_set, period_ms_info)
 *                 for representation in adaptation_set.findall(_add_ns('Representation')):             # <<<<<<<<<<<<<<
 *                     if is_drm_protected(representation):
 *                         continue
 */
        __pyx_L11_continue:;
      }
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;

      /* "youtube_dl/extractor/common.py":1560
 *                 'timescale': 1,
 *             })
 *             for adaptation_set in period.findall(_add_ns('AdaptationSet')):             # <<<<<<<<<<<<<<
 *                 if is_drm_protected(adaptation_set):
 *                     continue
 */
      __pyx_L8_continue:;
    }
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

    /* "youtube_dl/extractor/common.py":1554
 *         mpd_duration = parse_duration(mpd_doc.get('mediaPresentationDuration'))
 *         formats = []
 *         for period in mpd_doc.findall(_add_ns('Period')):             # <<<<<<<<<<<<<<
 *             period_duration = parse_duration(period.get('duration')) or mpd_duration
 *             period_ms_info = extract_multisegment_info(period, {
 */
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1671
 *                     else:
 *                         self.report_warning('Unknown MIME type %s in DASH manifest' % mime_type)
 *         return formats             # <<<<<<<<<<<<<<
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_formats);
  __pyx_r = __pyx_cur_scope->__pyx_v_formats;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1483
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):             # <<<<<<<<<<<<<<
 *         """
 *         Parse formats from MPD manifest.
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_XDECREF(__pyx_t_18);
  __Pyx_XDECREF(__pyx_t_29);
  __Pyx_XDECREF(__pyx_t_30);
  __Pyx_XDECREF(__pyx_t_31);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_mpd_formats", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_is_drm_protected);
  __Pyx_XDECREF(__pyx_v_extract_multisegment_info);
  __Pyx_XDECREF(__pyx_v_mpd_duration);
  __Pyx_XDECREF(__pyx_v_period);
  __Pyx_XDECREF(__pyx_v_period_duration);
  __Pyx_XDECREF(__pyx_v_period_ms_info);
  __Pyx_XDECREF(__pyx_v_adaptation_set);
  __Pyx_XDECREF(__pyx_v_adaption_set_ms_info);
  __Pyx_XDECREF(__pyx_v_representation);
  __Pyx_XDECREF(__pyx_v_mime_type);
  __Pyx_XDECREF(__pyx_v_content_type);
  __Pyx_XDECREF(__pyx_v_base_url);
  __Pyx_XDECREF(__pyx_v_element);
  __Pyx_XDECREF(__pyx_v_base_url_e);
  __Pyx_XDECREF(__pyx_v_lang);
  __Pyx_XDECREF(__pyx_v_url_el);
  __Pyx_XDECREF(__pyx_v_filesize);
  __Pyx_XDECREF(__pyx_v_f);
  __Pyx_XDECREF(__pyx_v_add_segment_url);
  __Pyx_XDECREF(__pyx_v_num);
  __Pyx_XDECREF(__pyx_v_s);
  __Pyx_XDECREF(__pyx_v_r);
  __Pyx_XDECREF(__pyx_v_initialization_url);
  __Pyx_XDECREF(__pyx_v_existing_format);
  __Pyx_XDECREF(__pyx_v_full_info);
  __Pyx_XDECREF(__pyx_v_mpd_base_url);
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1673
 *         return formats
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):             # <<<<<<<<<<<<<<
 *         def absolute_url(video_url):
 *             return compat_urlparse.urljoin(base_url, video_url)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_149_parse_html5_media_entries(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_149_parse_html5_media_entries = {"_parse_html5_media_entries", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_149_parse_html5_media_entries, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_149_parse_html5_media_entries(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_base_url = 0;
  PyObject *__pyx_v_webpage = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_parse_html5_media_entries (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_base_url,&__pyx_n_s_webpage,0};
    PyObject* values[3] = {0,0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_base_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_html5_media_entries", 1, 3, 3, 1); __PYX_ERR(0, 1673, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_webpage)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_parse_html5_media_entries", 1, 3, 3, 2); __PYX_ERR(0, 1673, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_html5_media_entries") < 0)) __PYX_ERR(0, 1673, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
    }
    __pyx_v_self = values[0];
    __pyx_v_base_url = values[1];
    __pyx_v_webpage = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_parse_html5_media_entries", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1673, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_html5_media_entries", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_148_parse_html5_media_entries(__pyx_self, __pyx_v_self, __pyx_v_base_url, __pyx_v_webpage);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1674
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):
 *         def absolute_url(video_url):             # <<<<<<<<<<<<<<
 *             return compat_urlparse.urljoin(base_url, video_url)
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_1absolute_url(PyObject *__pyx_self, PyObject *__pyx_v_video_url); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_1absolute_url = {"absolute_url", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_1absolute_url, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_1absolute_url(PyObject *__pyx_self, PyObject *__pyx_v_video_url) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("absolute_url (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_absolute_url(__pyx_self, ((PyObject *)__pyx_v_video_url));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_absolute_url(PyObject *__pyx_self, PyObject *__pyx_v_video_url) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *__pyx_cur_scope;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("absolute_url", 0);
  __pyx_outer_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *) __Pyx_CyFunction_GetClosure(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;

  /* "youtube_dl/extractor/common.py":1675
 *     def _parse_html5_media_entries(self, base_url, webpage):
 *         def absolute_url(video_url):
 *             return compat_urlparse.urljoin(base_url, video_url)             # <<<<<<<<<<<<<<
 * 
 *         def parse_content_type(content_type):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_urlparse); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1675, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_urljoin); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1675, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (unlikely(!__pyx_cur_scope->__pyx_v_base_url)) { __Pyx_RaiseClosureNameError("base_url"); __PYX_ERR(0, 1675, __pyx_L1_error) }
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1675, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_2) {
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2); __pyx_t_2 = NULL;
  }
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_base_url);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_base_url);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_cur_scope->__pyx_v_base_url);
  __Pyx_INCREF(__pyx_v_video_url);
  __Pyx_GIVEREF(__pyx_v_video_url);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_video_url);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1675, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1674
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):
 *         def absolute_url(video_url):             # <<<<<<<<<<<<<<
 *             return compat_urlparse.urljoin(base_url, video_url)
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_html5_media_entries.absolute_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1677
 *             return compat_urlparse.urljoin(base_url, video_url)
 * 
 *         def parse_content_type(content_type):             # <<<<<<<<<<<<<<
 *             if not content_type:
 *                 return {}
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_3parse_content_type(PyObject *__pyx_self, PyObject *__pyx_v_content_type); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_3parse_content_type = {"parse_content_type", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_3parse_content_type, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_3parse_content_type(PyObject *__pyx_self, PyObject *__pyx_v_content_type) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("parse_content_type (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_2parse_content_type(__pyx_self, ((PyObject *)__pyx_v_content_type));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_2parse_content_type(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_content_type) {
  PyObject *__pyx_v_ctr = NULL;
  PyObject *__pyx_v_mimetype = NULL;
  PyObject *__pyx_v_codecs = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  Py_ssize_t __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  PyObject *(*__pyx_t_8)(PyObject *);
  __Pyx_RefNannySetupContext("parse_content_type", 0);

  /* "youtube_dl/extractor/common.py":1678
 * 
 *         def parse_content_type(content_type):
 *             if not content_type:             # <<<<<<<<<<<<<<
 *                 return {}
 *             ctr = re.search(r'(?P<mimetype>[^/]+/[^;]+)(?:;\s*codecs="?(?P<codecs>[^"]+))?', content_type)
 */
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_content_type); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 1678, __pyx_L1_error)
  __pyx_t_2 = ((!__pyx_t_1) != 0);
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":1679
 *         def parse_content_type(content_type):
 *             if not content_type:
 *                 return {}             # <<<<<<<<<<<<<<
 *             ctr = re.search(r'(?P<mimetype>[^/]+/[^;]+)(?:;\s*codecs="?(?P<codecs>[^"]+))?', content_type)
 *             if ctr:
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1679, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1678
 * 
 *         def parse_content_type(content_type):
 *             if not content_type:             # <<<<<<<<<<<<<<
 *                 return {}
 *             ctr = re.search(r'(?P<mimetype>[^/]+/[^;]+)(?:;\s*codecs="?(?P<codecs>[^"]+))?', content_type)
 */
  }

  /* "youtube_dl/extractor/common.py":1680
 *             if not content_type:
 *                 return {}
 *             ctr = re.search(r'(?P<mimetype>[^/]+/[^;]+)(?:;\s*codecs="?(?P<codecs>[^"]+))?', content_type)             # <<<<<<<<<<<<<<
 *             if ctr:
 *                 mimetype, codecs = ctr.groups()
 */
  __pyx_t_4 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1680, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_search); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1680, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_6 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_5);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_5, function);
      __pyx_t_6 = 1;
    }
  }
  __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1680, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_7);
  if (__pyx_t_4) {
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_4); __pyx_t_4 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_P_mimetype_s_codecs_P_codecs);
  __Pyx_GIVEREF(__pyx_kp_u_P_mimetype_s_codecs_P_codecs);
  PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_6, __pyx_kp_u_P_mimetype_s_codecs_P_codecs);
  __Pyx_INCREF(__pyx_v_content_type);
  __Pyx_GIVEREF(__pyx_v_content_type);
  PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_6, __pyx_v_content_type);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1680, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_v_ctr = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1681
 *                 return {}
 *             ctr = re.search(r'(?P<mimetype>[^/]+/[^;]+)(?:;\s*codecs="?(?P<codecs>[^"]+))?', content_type)
 *             if ctr:             # <<<<<<<<<<<<<<
 *                 mimetype, codecs = ctr.groups()
 *                 f = parse_codecs(codecs)
 */
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ctr); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 1681, __pyx_L1_error)
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":1682
 *             ctr = re.search(r'(?P<mimetype>[^/]+/[^;]+)(?:;\s*codecs="?(?P<codecs>[^"]+))?', content_type)
 *             if ctr:
 *                 mimetype, codecs = ctr.groups()             # <<<<<<<<<<<<<<
 *                 f = parse_codecs(codecs)
 *                 f['ext'] = mimetype2ext(mimetype)
 */
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_ctr, __pyx_n_s_groups); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1682, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_7 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_7)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_7);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
      }
    }
    if (__pyx_t_7) {
      __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1682, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    } else {
      __pyx_t_3 = __Pyx_PyObject_CallNoArg(__pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1682, __pyx_L1_error)
    }
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if ((likely(PyTuple_CheckExact(__pyx_t_3))) || (PyList_CheckExact(__pyx_t_3))) {
      PyObject* sequence = __pyx_t_3;
      #if CYTHON_COMPILING_IN_CPYTHON
      Py_ssize_t size = Py_SIZE(sequence);
      #else
      Py_ssize_t size = PySequence_Size(sequence);
      #endif
      if (unlikely(size != 2)) {
        if (size > 2) __Pyx_RaiseTooManyValuesError(2);
        else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
        __PYX_ERR(0, 1682, __pyx_L1_error)
      }
      #if CYTHON_COMPILING_IN_CPYTHON
      if (likely(PyTuple_CheckExact(sequence))) {
        __pyx_t_5 = PyTuple_GET_ITEM(sequence, 0); 
        __pyx_t_7 = PyTuple_GET_ITEM(sequence, 1); 
      } else {
        __pyx_t_5 = PyList_GET_ITEM(sequence, 0); 
        __pyx_t_7 = PyList_GET_ITEM(sequence, 1); 
      }
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_7);
      #else
      __pyx_t_5 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1682, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_7 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1682, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      #endif
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_4 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1682, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_8 = Py_TYPE(__pyx_t_4)->tp_iternext;
      index = 0; __pyx_t_5 = __pyx_t_8(__pyx_t_4); if (unlikely(!__pyx_t_5)) goto __pyx_L5_unpacking_failed;
      __Pyx_GOTREF(__pyx_t_5);
      index = 1; __pyx_t_7 = __pyx_t_8(__pyx_t_4); if (unlikely(!__pyx_t_7)) goto __pyx_L5_unpacking_failed;
      __Pyx_GOTREF(__pyx_t_7);
      if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_4), 2) < 0) __PYX_ERR(0, 1682, __pyx_L1_error)
      __pyx_t_8 = NULL;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L6_unpacking_done;
      __pyx_L5_unpacking_failed:;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = NULL;
      if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
      __PYX_ERR(0, 1682, __pyx_L1_error)
      __pyx_L6_unpacking_done:;
    }
    __pyx_v_mimetype = __pyx_t_5;
    __pyx_t_5 = 0;
    __pyx_v_codecs = __pyx_t_7;
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1683
 *             if ctr:
 *                 mimetype, codecs = ctr.groups()
 *                 f = parse_codecs(codecs)             # <<<<<<<<<<<<<<
 *                 f['ext'] = mimetype2ext(mimetype)
 *                 return f
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_parse_codecs); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1683, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_5 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_7);
      if (likely(__pyx_t_5)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
        __Pyx_INCREF(__pyx_t_5);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_7, function);
      }
    }
    if (!__pyx_t_5) {
      __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_codecs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1683, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
    } else {
      __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1683, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_5); __pyx_t_5 = NULL;
      __Pyx_INCREF(__pyx_v_codecs);
      __Pyx_GIVEREF(__pyx_v_codecs);
      PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_codecs);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1683, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    }
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_v_f = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1684
 *                 mimetype, codecs = ctr.groups()
 *                 f = parse_codecs(codecs)
 *                 f['ext'] = mimetype2ext(mimetype)             # <<<<<<<<<<<<<<
 *                 return f
 *             return {}
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_mimetype2ext); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1684, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_4 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_7);
      if (likely(__pyx_t_4)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
        __Pyx_INCREF(__pyx_t_4);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_7, function);
      }
    }
    if (!__pyx_t_4) {
      __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_mimetype); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1684, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
    } else {
      __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1684, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
      __Pyx_INCREF(__pyx_v_mimetype);
      __Pyx_GIVEREF(__pyx_v_mimetype);
      PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_v_mimetype);
      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_5, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1684, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    }
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(PyObject_SetItem(__pyx_v_f, __pyx_n_u_ext, __pyx_t_3) < 0)) __PYX_ERR(0, 1684, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1685
 *                 f = parse_codecs(codecs)
 *                 f['ext'] = mimetype2ext(mimetype)
 *                 return f             # <<<<<<<<<<<<<<
 *             return {}
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_f);
    __pyx_r = __pyx_v_f;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1681
 *                 return {}
 *             ctr = re.search(r'(?P<mimetype>[^/]+/[^;]+)(?:;\s*codecs="?(?P<codecs>[^"]+))?', content_type)
 *             if ctr:             # <<<<<<<<<<<<<<
 *                 mimetype, codecs = ctr.groups()
 *                 f = parse_codecs(codecs)
 */
  }

  /* "youtube_dl/extractor/common.py":1686
 *                 f['ext'] = mimetype2ext(mimetype)
 *                 return f
 *             return {}             # <<<<<<<<<<<<<<
 * 
 *         entries = []
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1686, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1677
 *             return compat_urlparse.urljoin(base_url, video_url)
 * 
 *         def parse_content_type(content_type):             # <<<<<<<<<<<<<<
 *             if not content_type:
 *                 return {}
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_html5_media_entries.parse_content_type", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_ctr);
  __Pyx_XDECREF(__pyx_v_mimetype);
  __Pyx_XDECREF(__pyx_v_codecs);
  __Pyx_XDECREF(__pyx_v_f);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1673
 *         return formats
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):             # <<<<<<<<<<<<<<
 *         def absolute_url(video_url):
 *             return compat_urlparse.urljoin(base_url, video_url)
 */

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_148_parse_html5_media_entries(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_base_url, PyObject *__pyx_v_webpage) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *__pyx_cur_scope;
  PyObject *__pyx_v_absolute_url = 0;
  PyObject *__pyx_v_parse_content_type = 0;
  PyObject *__pyx_v_entries = NULL;
  PyObject *__pyx_v_media_tag = NULL;
  PyObject *__pyx_v_media_type = NULL;
  PyObject *__pyx_v_media_content = NULL;
  PyObject *__pyx_v_media_info = NULL;
  PyObject *__pyx_v_media_attributes = NULL;
  PyObject *__pyx_v_src = NULL;
  PyObject *__pyx_v_source_tag = NULL;
  PyObject *__pyx_v_source_attributes = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_v_track_tag = NULL;
  PyObject *__pyx_v_track_attributes = NULL;
  PyObject *__pyx_v_kind = NULL;
  PyObject *__pyx_v_lang = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *(*__pyx_t_6)(PyObject *);
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  PyObject *(*__pyx_t_9)(PyObject *);
  int __pyx_t_10;
  int __pyx_t_11;
  Py_ssize_t __pyx_t_12;
  PyObject *(*__pyx_t_13)(PyObject *);
  int __pyx_t_14;
  PyObject *__pyx_t_15 = NULL;
  int __pyx_t_16;
  Py_ssize_t __pyx_t_17;
  __Pyx_RefNannySetupContext("_parse_html5_media_entries", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_v_base_url = __pyx_v_base_url;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_base_url);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_base_url);

  /* "youtube_dl/extractor/common.py":1674
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):
 *         def absolute_url(video_url):             # <<<<<<<<<<<<<<
 *             return compat_urlparse.urljoin(base_url, video_url)
 * 
 */
  __pyx_t_1 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_1absolute_url, 0, __pyx_n_s_InfoExtractor__parse_html5_media, ((PyObject*)__pyx_cur_scope), __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__214)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1674, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_absolute_url = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1677
 *             return compat_urlparse.urljoin(base_url, video_url)
 * 
 *         def parse_content_type(content_type):             # <<<<<<<<<<<<<<
 *             if not content_type:
 *                 return {}
 */
  __pyx_t_1 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_3parse_content_type, 0, __pyx_n_s_InfoExtractor__parse_html5_media_2, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__216)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1677, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_parse_content_type = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1688
 *             return {}
 * 
 *         entries = []             # <<<<<<<<<<<<<<
 *         for media_tag, media_type, media_content in re.findall(r'(?s)(<(?P<tag>video|audio)[^>]*>)(.*?)</(?P=tag)>', webpage):
 *             media_info = {
 */
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1688, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_entries = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1689
 * 
 *         entries = []
 *         for media_tag, media_type, media_content in re.findall(r'(?s)(<(?P<tag>video|audio)[^>]*>)(.*?)</(?P=tag)>', webpage):             # <<<<<<<<<<<<<<
 *             media_info = {
 *                 'formats': [],
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1689, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_findall); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1689, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1689, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_2) {
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2); __pyx_t_2 = NULL;
  }
  __Pyx_INCREF(__pyx_kp_u_s_P_tag_video_audio_P_tag);
  __Pyx_GIVEREF(__pyx_kp_u_s_P_tag_video_audio_P_tag);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_kp_u_s_P_tag_video_audio_P_tag);
  __Pyx_INCREF(__pyx_v_webpage);
  __Pyx_GIVEREF(__pyx_v_webpage);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_webpage);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1689, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (likely(PyList_CheckExact(__pyx_t_1)) || PyTuple_CheckExact(__pyx_t_1)) {
    __pyx_t_3 = __pyx_t_1; __Pyx_INCREF(__pyx_t_3); __pyx_t_4 = 0;
    __pyx_t_6 = NULL;
  } else {
    __pyx_t_4 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1689, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_6 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1689, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  for (;;) {
    if (likely(!__pyx_t_6)) {
      if (likely(PyList_CheckExact(__pyx_t_3))) {
        if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_3)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1689, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1689, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      } else {
        if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1689, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1689, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      }
    } else {
      __pyx_t_1 = __pyx_t_6(__pyx_t_3);
      if (unlikely(!__pyx_t_1)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1689, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    if ((likely(PyTuple_CheckExact(__pyx_t_1))) || (PyList_CheckExact(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      #if CYTHON_COMPILING_IN_CPYTHON
      Py_ssize_t size = Py_SIZE(sequence);
      #else
      Py_ssize_t size = PySequence_Size(sequence);
      #endif
      if (unlikely(size != 3)) {
        if (size > 3) __Pyx_RaiseTooManyValuesError(3);
        else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
        __PYX_ERR(0, 1689, __pyx_L1_error)
      }
      #if CYTHON_COMPILING_IN_CPYTHON
      if (likely(PyTuple_CheckExact(sequence))) {
        __pyx_t_5 = PyTuple_GET_ITEM(sequence, 0); 
        __pyx_t_2 = PyTuple_GET_ITEM(sequence, 1); 
        __pyx_t_7 = PyTuple_GET_ITEM(sequence, 2); 
      } else {
        __pyx_t_5 = PyList_GET_ITEM(sequence, 0); 
        __pyx_t_2 = PyList_GET_ITEM(sequence, 1); 
        __pyx_t_7 = PyList_GET_ITEM(sequence, 2); 
      }
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_7);
      #else
      __pyx_t_5 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1689, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1689, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_7 = PySequence_ITEM(sequence, 2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1689, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      #endif
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_8 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1689, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_9 = Py_TYPE(__pyx_t_8)->tp_iternext;
      index = 0; __pyx_t_5 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_5)) goto __pyx_L5_unpacking_failed;
      __Pyx_GOTREF(__pyx_t_5);
      index = 1; __pyx_t_2 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_2)) goto __pyx_L5_unpacking_failed;
      __Pyx_GOTREF(__pyx_t_2);
      index = 2; __pyx_t_7 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_7)) goto __pyx_L5_unpacking_failed;
      __Pyx_GOTREF(__pyx_t_7);
      if (__Pyx_IternextUnpackEndCheck(__pyx_t_9(__pyx_t_8), 3) < 0) __PYX_ERR(0, 1689, __pyx_L1_error)
      __pyx_t_9 = NULL;
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L6_unpacking_done;
      __pyx_L5_unpacking_failed:;
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_9 = NULL;
      if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
      __PYX_ERR(0, 1689, __pyx_L1_error)
      __pyx_L6_unpacking_done:;
    }
    __Pyx_XDECREF_SET(__pyx_v_media_tag, __pyx_t_5);
    __pyx_t_5 = 0;
    __Pyx_XDECREF_SET(__pyx_v_media_type, __pyx_t_2);
    __pyx_t_2 = 0;
    __Pyx_XDECREF_SET(__pyx_v_media_content, __pyx_t_7);
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1691
 *         for media_tag, media_type, media_content in re.findall(r'(?s)(<(?P<tag>video|audio)[^>]*>)(.*?)</(?P=tag)>', webpage):
 *             media_info = {
 *                 'formats': [],             # <<<<<<<<<<<<<<
 *                 'subtitles': {},
 *             }
 */
    __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1691, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_7 = PyList_New(0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1691, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_formats, __pyx_t_7) < 0) __PYX_ERR(0, 1691, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1692
 *             media_info = {
 *                 'formats': [],
 *                 'subtitles': {},             # <<<<<<<<<<<<<<
 *             }
 *             media_attributes = extract_attributes(media_tag)
 */
    __pyx_t_7 = PyDict_New(); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1692, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_subtitles, __pyx_t_7) < 0) __PYX_ERR(0, 1691, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF_SET(__pyx_v_media_info, ((PyObject*)__pyx_t_1));
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1694
 *                 'subtitles': {},
 *             }
 *             media_attributes = extract_attributes(media_tag)             # <<<<<<<<<<<<<<
 *             src = media_attributes.get('src')
 *             if src:
 */
    __pyx_t_7 = __Pyx_GetModuleGlobalName(__pyx_n_s_extract_attributes); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1694, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_2 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_7);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_7, function);
      }
    }
    if (!__pyx_t_2) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_media_tag); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1694, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1694, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2); __pyx_t_2 = NULL;
      __Pyx_INCREF(__pyx_v_media_tag);
      __Pyx_GIVEREF(__pyx_v_media_tag);
      PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_v_media_tag);
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1694, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    }
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __Pyx_XDECREF_SET(__pyx_v_media_attributes, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1695
 *             }
 *             media_attributes = extract_attributes(media_tag)
 *             src = media_attributes.get('src')             # <<<<<<<<<<<<<<
 *             if src:
 *                 media_info['formats'].append({
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1695, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__217, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1695, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF_SET(__pyx_v_src, __pyx_t_7);
    __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1696
 *             media_attributes = extract_attributes(media_tag)
 *             src = media_attributes.get('src')
 *             if src:             # <<<<<<<<<<<<<<
 *                 media_info['formats'].append({
 *                     'url': absolute_url(src),
 */
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_v_src); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1696, __pyx_L1_error)
    if (__pyx_t_10) {

      /* "youtube_dl/extractor/common.py":1697
 *             src = media_attributes.get('src')
 *             if src:
 *                 media_info['formats'].append({             # <<<<<<<<<<<<<<
 *                     'url': absolute_url(src),
 *                     'vcodec': 'none' if media_type == 'audio' else None,
 */
      __pyx_t_7 = __Pyx_PyDict_GetItem(__pyx_v_media_info, __pyx_n_u_formats); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1697, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);

      /* "youtube_dl/extractor/common.py":1698
 *             if src:
 *                 media_info['formats'].append({
 *                     'url': absolute_url(src),             # <<<<<<<<<<<<<<
 *                     'vcodec': 'none' if media_type == 'audio' else None,
 *                 })
 */
      __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1698, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_5 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_absolute_url(__pyx_v_absolute_url, __pyx_v_src); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1698, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_url, __pyx_t_5) < 0) __PYX_ERR(0, 1698, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

      /* "youtube_dl/extractor/common.py":1699
 *                 media_info['formats'].append({
 *                     'url': absolute_url(src),
 *                     'vcodec': 'none' if media_type == 'audio' else None,             # <<<<<<<<<<<<<<
 *                 })
 *             media_info['thumbnail'] = media_attributes.get('poster')
 */
      __pyx_t_10 = (__Pyx_PyUnicode_Equals(__pyx_v_media_type, __pyx_n_u_audio_2, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1699, __pyx_L1_error)
      if (__pyx_t_10) {
        __Pyx_INCREF(__pyx_n_u_none);
        __pyx_t_5 = __pyx_n_u_none;
      } else {
        __Pyx_INCREF(Py_None);
        __pyx_t_5 = Py_None;
      }
      if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_vcodec, __pyx_t_5) < 0) __PYX_ERR(0, 1698, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

      /* "youtube_dl/extractor/common.py":1697
 *             src = media_attributes.get('src')
 *             if src:
 *                 media_info['formats'].append({             # <<<<<<<<<<<<<<
 *                     'url': absolute_url(src),
 *                     'vcodec': 'none' if media_type == 'audio' else None,
 */
      __pyx_t_11 = __Pyx_PyObject_Append(__pyx_t_7, __pyx_t_1); if (unlikely(__pyx_t_11 == -1)) __PYX_ERR(0, 1697, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":1696
 *             media_attributes = extract_attributes(media_tag)
 *             src = media_attributes.get('src')
 *             if src:             # <<<<<<<<<<<<<<
 *                 media_info['formats'].append({
 *                     'url': absolute_url(src),
 */
    }

    /* "youtube_dl/extractor/common.py":1701
 *                     'vcodec': 'none' if media_type == 'audio' else None,
 *                 })
 *             media_info['thumbnail'] = media_attributes.get('poster')             # <<<<<<<<<<<<<<
 *             if media_content:
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_media_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1701, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__218, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1701, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(PyDict_SetItem(__pyx_v_media_info, __pyx_n_u_thumbnail, __pyx_t_7) < 0)) __PYX_ERR(0, 1701, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

    /* "youtube_dl/extractor/common.py":1702
 *                 })
 *             media_info['thumbnail'] = media_attributes.get('poster')
 *             if media_content:             # <<<<<<<<<<<<<<
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):
 *                     source_attributes = extract_attributes(source_tag)
 */
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_v_media_content); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1702, __pyx_L1_error)
    if (__pyx_t_10) {

      /* "youtube_dl/extractor/common.py":1703
 *             media_info['thumbnail'] = media_attributes.get('poster')
 *             if media_content:
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):             # <<<<<<<<<<<<<<
 *                     source_attributes = extract_attributes(source_tag)
 *                     src = source_attributes.get('src')
 */
      __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1703, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_findall); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1703, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_12 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_5))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_5);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_5, function);
          __pyx_t_12 = 1;
        }
      }
      __pyx_t_2 = PyTuple_New(2+__pyx_t_12); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1703, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      if (__pyx_t_1) {
        __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1); __pyx_t_1 = NULL;
      }
      __Pyx_INCREF(__pyx_kp_u_source);
      __Pyx_GIVEREF(__pyx_kp_u_source);
      PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_12, __pyx_kp_u_source);
      __Pyx_INCREF(__pyx_v_media_content);
      __Pyx_GIVEREF(__pyx_v_media_content);
      PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_12, __pyx_v_media_content);
      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_2, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1703, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      if (likely(PyList_CheckExact(__pyx_t_7)) || PyTuple_CheckExact(__pyx_t_7)) {
        __pyx_t_5 = __pyx_t_7; __Pyx_INCREF(__pyx_t_5); __pyx_t_12 = 0;
        __pyx_t_13 = NULL;
      } else {
        __pyx_t_12 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1703, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_13 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1703, __pyx_L1_error)
      }
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      for (;;) {
        if (likely(!__pyx_t_13)) {
          if (likely(PyList_CheckExact(__pyx_t_5))) {
            if (__pyx_t_12 >= PyList_GET_SIZE(__pyx_t_5)) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_7 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_12); __Pyx_INCREF(__pyx_t_7); __pyx_t_12++; if (unlikely(0 < 0)) __PYX_ERR(0, 1703, __pyx_L1_error)
            #else
            __pyx_t_7 = PySequence_ITEM(__pyx_t_5, __pyx_t_12); __pyx_t_12++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1703, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_7);
            #endif
          } else {
            if (__pyx_t_12 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_12); __Pyx_INCREF(__pyx_t_7); __pyx_t_12++; if (unlikely(0 < 0)) __PYX_ERR(0, 1703, __pyx_L1_error)
            #else
            __pyx_t_7 = PySequence_ITEM(__pyx_t_5, __pyx_t_12); __pyx_t_12++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1703, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_7);
            #endif
          }
        } else {
          __pyx_t_7 = __pyx_t_13(__pyx_t_5);
          if (unlikely(!__pyx_t_7)) {
            PyObject* exc_type = PyErr_Occurred();
            if (exc_type) {
              if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
              else __PYX_ERR(0, 1703, __pyx_L1_error)
            }
            break;
          }
          __Pyx_GOTREF(__pyx_t_7);
        }
        __Pyx_XDECREF_SET(__pyx_v_source_tag, __pyx_t_7);
        __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":1704
 *             if media_content:
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):
 *                     source_attributes = extract_attributes(source_tag)             # <<<<<<<<<<<<<<
 *                     src = source_attributes.get('src')
 *                     if not src:
 */
        __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_extract_attributes); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1704, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_1 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
          __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_2);
          if (likely(__pyx_t_1)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
            __Pyx_INCREF(__pyx_t_1);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_2, function);
          }
        }
        if (!__pyx_t_1) {
          __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_source_tag); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1704, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_7);
        } else {
          __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1704, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_8);
          __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_1); __pyx_t_1 = NULL;
          __Pyx_INCREF(__pyx_v_source_tag);
          __Pyx_GIVEREF(__pyx_v_source_tag);
          PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_v_source_tag);
          __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_8, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1704, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        }
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_XDECREF_SET(__pyx_v_source_attributes, __pyx_t_7);
        __pyx_t_7 = 0;

        /* "youtube_dl/extractor/common.py":1705
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):
 *                     source_attributes = extract_attributes(source_tag)
 *                     src = source_attributes.get('src')             # <<<<<<<<<<<<<<
 *                     if not src:
 *                         continue
 */
        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_source_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1705, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_tuple__219, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1705, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF_SET(__pyx_v_src, __pyx_t_2);
        __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1706
 *                     source_attributes = extract_attributes(source_tag)
 *                     src = source_attributes.get('src')
 *                     if not src:             # <<<<<<<<<<<<<<
 *                         continue
 *                     f = parse_content_type(source_attributes.get('type'))
 */
        __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_v_src); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1706, __pyx_L1_error)
        __pyx_t_14 = ((!__pyx_t_10) != 0);
        if (__pyx_t_14) {

          /* "youtube_dl/extractor/common.py":1707
 *                     src = source_attributes.get('src')
 *                     if not src:
 *                         continue             # <<<<<<<<<<<<<<
 *                     f = parse_content_type(source_attributes.get('type'))
 *                     f.update({
 */
          goto __pyx_L9_continue;

          /* "youtube_dl/extractor/common.py":1706
 *                     source_attributes = extract_attributes(source_tag)
 *                     src = source_attributes.get('src')
 *                     if not src:             # <<<<<<<<<<<<<<
 *                         continue
 *                     f = parse_content_type(source_attributes.get('type'))
 */
        }

        /* "youtube_dl/extractor/common.py":1708
 *                     if not src:
 *                         continue
 *                     f = parse_content_type(source_attributes.get('type'))             # <<<<<<<<<<<<<<
 *                     f.update({
 *                         'url': absolute_url(src),
 */
        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_source_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1708, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__220, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1708, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_2parse_content_type(__pyx_v_parse_content_type, __pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1708, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_XDECREF_SET(__pyx_v_f, __pyx_t_2);
        __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1709
 *                         continue
 *                     f = parse_content_type(source_attributes.get('type'))
 *                     f.update({             # <<<<<<<<<<<<<<
 *                         'url': absolute_url(src),
 *                         'vcodec': 'none' if media_type == 'audio' else None,
 */
        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_f, __pyx_n_s_update); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1709, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);

        /* "youtube_dl/extractor/common.py":1710
 *                     f = parse_content_type(source_attributes.get('type'))
 *                     f.update({
 *                         'url': absolute_url(src),             # <<<<<<<<<<<<<<
 *                         'vcodec': 'none' if media_type == 'audio' else None,
 *                     })
 */
        __pyx_t_8 = PyDict_New(); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1710, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_8);
        __pyx_t_1 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_absolute_url(__pyx_v_absolute_url, __pyx_v_src); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1710, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        if (PyDict_SetItem(__pyx_t_8, __pyx_n_u_url, __pyx_t_1) < 0) __PYX_ERR(0, 1710, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

        /* "youtube_dl/extractor/common.py":1711
 *                     f.update({
 *                         'url': absolute_url(src),
 *                         'vcodec': 'none' if media_type == 'audio' else None,             # <<<<<<<<<<<<<<
 *                     })
 *                     media_info['formats'].append(f)
 */
        __pyx_t_14 = (__Pyx_PyUnicode_Equals(__pyx_v_media_type, __pyx_n_u_audio_2, Py_EQ)); if (unlikely(__pyx_t_14 < 0)) __PYX_ERR(0, 1711, __pyx_L1_error)
        if (__pyx_t_14) {
          __Pyx_INCREF(__pyx_n_u_none);
          __pyx_t_1 = __pyx_n_u_none;
        } else {
          __Pyx_INCREF(Py_None);
          __pyx_t_1 = Py_None;
        }
        if (PyDict_SetItem(__pyx_t_8, __pyx_n_u_vcodec, __pyx_t_1) < 0) __PYX_ERR(0, 1710, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_1 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_7))) {
          __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_7);
          if (likely(__pyx_t_1)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
            __Pyx_INCREF(__pyx_t_1);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_7, function);
          }
        }
        if (!__pyx_t_1) {
          __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_8); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1709, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
          __Pyx_GOTREF(__pyx_t_2);
        } else {
          __pyx_t_15 = PyTuple_New(1+1); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1709, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_1); __pyx_t_1 = NULL;
          __Pyx_GIVEREF(__pyx_t_8);
          PyTuple_SET_ITEM(__pyx_t_15, 0+1, __pyx_t_8);
          __pyx_t_8 = 0;
          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_15, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1709, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_2);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
        }
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1713
 *                         'vcodec': 'none' if media_type == 'audio' else None,
 *                     })
 *                     media_info['formats'].append(f)             # <<<<<<<<<<<<<<
 *                 for track_tag in re.findall(r'<track[^>]+>', media_content):
 *                     track_attributes = extract_attributes(track_tag)
 */
        __pyx_t_2 = __Pyx_PyDict_GetItem(__pyx_v_media_info, __pyx_n_u_formats); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1713, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_11 = __Pyx_PyObject_Append(__pyx_t_2, __pyx_v_f); if (unlikely(__pyx_t_11 == -1)) __PYX_ERR(0, 1713, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

        /* "youtube_dl/extractor/common.py":1703
 *             media_info['thumbnail'] = media_attributes.get('poster')
 *             if media_content:
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):             # <<<<<<<<<<<<<<
 *                     source_attributes = extract_attributes(source_tag)
 *                     src = source_attributes.get('src')
 */
        __pyx_L9_continue:;
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

      /* "youtube_dl/extractor/common.py":1714
 *                     })
 *                     media_info['formats'].append(f)
 *                 for track_tag in re.findall(r'<track[^>]+>', media_content):             # <<<<<<<<<<<<<<
 *                     track_attributes = extract_attributes(track_tag)
 *                     kind = track_attributes.get('kind')
 */
      __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1714, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_findall); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1714, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      __pyx_t_12 = 0;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_7))) {
        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_7);
        if (likely(__pyx_t_2)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
          __Pyx_INCREF(__pyx_t_2);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_7, function);
          __pyx_t_12 = 1;
        }
      }
      __pyx_t_15 = PyTuple_New(2+__pyx_t_12); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1714, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_15);
      if (__pyx_t_2) {
        __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_15, 0, __pyx_t_2); __pyx_t_2 = NULL;
      }
      __Pyx_INCREF(__pyx_kp_u_track);
      __Pyx_GIVEREF(__pyx_kp_u_track);
      PyTuple_SET_ITEM(__pyx_t_15, 0+__pyx_t_12, __pyx_kp_u_track);
      __Pyx_INCREF(__pyx_v_media_content);
      __Pyx_GIVEREF(__pyx_v_media_content);
      PyTuple_SET_ITEM(__pyx_t_15, 1+__pyx_t_12, __pyx_v_media_content);
      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_15, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1714, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      if (likely(PyList_CheckExact(__pyx_t_5)) || PyTuple_CheckExact(__pyx_t_5)) {
        __pyx_t_7 = __pyx_t_5; __Pyx_INCREF(__pyx_t_7); __pyx_t_12 = 0;
        __pyx_t_13 = NULL;
      } else {
        __pyx_t_12 = -1; __pyx_t_7 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1714, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_13 = Py_TYPE(__pyx_t_7)->tp_iternext; if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1714, __pyx_L1_error)
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      for (;;) {
        if (likely(!__pyx_t_13)) {
          if (likely(PyList_CheckExact(__pyx_t_7))) {
            if (__pyx_t_12 >= PyList_GET_SIZE(__pyx_t_7)) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_5 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_12); __Pyx_INCREF(__pyx_t_5); __pyx_t_12++; if (unlikely(0 < 0)) __PYX_ERR(0, 1714, __pyx_L1_error)
            #else
            __pyx_t_5 = PySequence_ITEM(__pyx_t_7, __pyx_t_12); __pyx_t_12++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1714, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_5);
            #endif
          } else {
            if (__pyx_t_12 >= PyTuple_GET_SIZE(__pyx_t_7)) break;
            #if CYTHON_COMPILING_IN_CPYTHON
            __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_7, __pyx_t_12); __Pyx_INCREF(__pyx_t_5); __pyx_t_12++; if (unlikely(0 < 0)) __PYX_ERR(0, 1714, __pyx_L1_error)
            #else
            __pyx_t_5 = PySequence_ITEM(__pyx_t_7, __pyx_t_12); __pyx_t_12++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1714, __pyx_L1_error)
            __Pyx_GOTREF(__pyx_t_5);
            #endif
          }
        } else {
          __pyx_t_5 = __pyx_t_13(__pyx_t_7);
          if (unlikely(!__pyx_t_5)) {
            PyObject* exc_type = PyErr_Occurred();
            if (exc_type) {
              if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
              else __PYX_ERR(0, 1714, __pyx_L1_error)
            }
            break;
          }
          __Pyx_GOTREF(__pyx_t_5);
        }
        __Pyx_XDECREF_SET(__pyx_v_track_tag, __pyx_t_5);
        __pyx_t_5 = 0;

        /* "youtube_dl/extractor/common.py":1715
 *                     media_info['formats'].append(f)
 *                 for track_tag in re.findall(r'<track[^>]+>', media_content):
 *                     track_attributes = extract_attributes(track_tag)             # <<<<<<<<<<<<<<
 *                     kind = track_attributes.get('kind')
 *                     if not kind or kind == 'subtitles':
 */
        __pyx_t_15 = __Pyx_GetModuleGlobalName(__pyx_n_s_extract_attributes); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1715, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_15);
        __pyx_t_2 = NULL;
        if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_15))) {
          __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_15);
          if (likely(__pyx_t_2)) {
            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
            __Pyx_INCREF(__pyx_t_2);
            __Pyx_INCREF(function);
            __Pyx_DECREF_SET(__pyx_t_15, function);
          }
        }
        if (!__pyx_t_2) {
          __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_t_15, __pyx_v_track_tag); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1715, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_5);
        } else {
          __pyx_t_8 = PyTuple_New(1+1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1715, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_8);
          __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_2); __pyx_t_2 = NULL;
          __Pyx_INCREF(__pyx_v_track_tag);
          __Pyx_GIVEREF(__pyx_v_track_tag);
          PyTuple_SET_ITEM(__pyx_t_8, 0+1, __pyx_v_track_tag);
          __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_t_8, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1715, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        }
        __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
        __Pyx_XDECREF_SET(__pyx_v_track_attributes, __pyx_t_5);
        __pyx_t_5 = 0;

        /* "youtube_dl/extractor/common.py":1716
 *                 for track_tag in re.findall(r'<track[^>]+>', media_content):
 *                     track_attributes = extract_attributes(track_tag)
 *                     kind = track_attributes.get('kind')             # <<<<<<<<<<<<<<
 *                     if not kind or kind == 'subtitles':
 *                         src = track_attributes.get('src')
 */
        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_track_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1716, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__221, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1716, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_15);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __Pyx_XDECREF_SET(__pyx_v_kind, __pyx_t_15);
        __pyx_t_15 = 0;

        /* "youtube_dl/extractor/common.py":1717
 *                     track_attributes = extract_attributes(track_tag)
 *                     kind = track_attributes.get('kind')
 *                     if not kind or kind == 'subtitles':             # <<<<<<<<<<<<<<
 *                         src = track_attributes.get('src')
 *                         if not src:
 */
        __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_v_kind); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1717, __pyx_L1_error)
        __pyx_t_16 = ((!__pyx_t_10) != 0);
        if (!__pyx_t_16) {
        } else {
          __pyx_t_14 = __pyx_t_16;
          goto __pyx_L15_bool_binop_done;
        }
        __pyx_t_16 = (__Pyx_PyUnicode_Equals(__pyx_v_kind, __pyx_n_u_subtitles, Py_EQ)); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1717, __pyx_L1_error)
        __pyx_t_14 = __pyx_t_16;
        __pyx_L15_bool_binop_done:;
        if (__pyx_t_14) {

          /* "youtube_dl/extractor/common.py":1718
 *                     kind = track_attributes.get('kind')
 *                     if not kind or kind == 'subtitles':
 *                         src = track_attributes.get('src')             # <<<<<<<<<<<<<<
 *                         if not src:
 *                             continue
 */
          __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_v_track_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1718, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_tuple__222, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1718, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __Pyx_DECREF_SET(__pyx_v_src, __pyx_t_5);
          __pyx_t_5 = 0;

          /* "youtube_dl/extractor/common.py":1719
 *                     if not kind or kind == 'subtitles':
 *                         src = track_attributes.get('src')
 *                         if not src:             # <<<<<<<<<<<<<<
 *                             continue
 *                         lang = track_attributes.get('srclang') or track_attributes.get('lang') or track_attributes.get('label')
 */
          __pyx_t_14 = __Pyx_PyObject_IsTrue(__pyx_v_src); if (unlikely(__pyx_t_14 < 0)) __PYX_ERR(0, 1719, __pyx_L1_error)
          __pyx_t_16 = ((!__pyx_t_14) != 0);
          if (__pyx_t_16) {

            /* "youtube_dl/extractor/common.py":1720
 *                         src = track_attributes.get('src')
 *                         if not src:
 *                             continue             # <<<<<<<<<<<<<<
 *                         lang = track_attributes.get('srclang') or track_attributes.get('lang') or track_attributes.get('label')
 *                         media_info['subtitles'].setdefault(lang, []).append({
 */
            goto __pyx_L12_continue;

            /* "youtube_dl/extractor/common.py":1719
 *                     if not kind or kind == 'subtitles':
 *                         src = track_attributes.get('src')
 *                         if not src:             # <<<<<<<<<<<<<<
 *                             continue
 *                         lang = track_attributes.get('srclang') or track_attributes.get('lang') or track_attributes.get('label')
 */
          }

          /* "youtube_dl/extractor/common.py":1721
 *                         if not src:
 *                             continue
 *                         lang = track_attributes.get('srclang') or track_attributes.get('lang') or track_attributes.get('label')             # <<<<<<<<<<<<<<
 *                         media_info['subtitles'].setdefault(lang, []).append({
 *                             'url': absolute_url(src),
 */
          __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_v_track_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1721, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_tuple__223, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1721, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_8);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __pyx_t_16 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1721, __pyx_L1_error)
          if (!__pyx_t_16) {
            __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
          } else {
            __Pyx_INCREF(__pyx_t_8);
            __pyx_t_5 = __pyx_t_8;
            __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
            goto __pyx_L18_bool_binop_done;
          }
          __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_track_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1721, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_8);
          __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_tuple__224, NULL); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1721, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
          __pyx_t_16 = __Pyx_PyObject_IsTrue(__pyx_t_15); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1721, __pyx_L1_error)
          if (!__pyx_t_16) {
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          } else {
            __Pyx_INCREF(__pyx_t_15);
            __pyx_t_5 = __pyx_t_15;
            __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
            goto __pyx_L18_bool_binop_done;
          }
          __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_v_track_attributes, __pyx_n_s_get); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1721, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_tuple__225, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1721, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_8);
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __Pyx_INCREF(__pyx_t_8);
          __pyx_t_5 = __pyx_t_8;
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
          __pyx_L18_bool_binop_done:;
          __Pyx_XDECREF_SET(__pyx_v_lang, __pyx_t_5);
          __pyx_t_5 = 0;

          /* "youtube_dl/extractor/common.py":1722
 *                             continue
 *                         lang = track_attributes.get('srclang') or track_attributes.get('lang') or track_attributes.get('label')
 *                         media_info['subtitles'].setdefault(lang, []).append({             # <<<<<<<<<<<<<<
 *                             'url': absolute_url(src),
 *                         })
 */
          __pyx_t_8 = __Pyx_PyDict_GetItem(__pyx_v_media_info, __pyx_n_u_subtitles); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1722, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_8);
          __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_setdefault); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1722, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
          __pyx_t_8 = PyList_New(0); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1722, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_8);
          __pyx_t_2 = NULL;
          __pyx_t_17 = 0;
          if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_15))) {
            __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_15);
            if (likely(__pyx_t_2)) {
              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
              __Pyx_INCREF(__pyx_t_2);
              __Pyx_INCREF(function);
              __Pyx_DECREF_SET(__pyx_t_15, function);
              __pyx_t_17 = 1;
            }
          }
          __pyx_t_1 = PyTuple_New(2+__pyx_t_17); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1722, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          if (__pyx_t_2) {
            __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2); __pyx_t_2 = NULL;
          }
          __Pyx_INCREF(__pyx_v_lang);
          __Pyx_GIVEREF(__pyx_v_lang);
          PyTuple_SET_ITEM(__pyx_t_1, 0+__pyx_t_17, __pyx_v_lang);
          __Pyx_GIVEREF(__pyx_t_8);
          PyTuple_SET_ITEM(__pyx_t_1, 1+__pyx_t_17, __pyx_t_8);
          __pyx_t_8 = 0;
          __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_t_1, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1722, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;

          /* "youtube_dl/extractor/common.py":1723
 *                         lang = track_attributes.get('srclang') or track_attributes.get('lang') or track_attributes.get('label')
 *                         media_info['subtitles'].setdefault(lang, []).append({
 *                             'url': absolute_url(src),             # <<<<<<<<<<<<<<
 *                         })
 *             if media_info['formats']:
 */
          __pyx_t_15 = PyDict_New(); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1723, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_15);
          __pyx_t_1 = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_26_parse_html5_media_entries_absolute_url(__pyx_v_absolute_url, __pyx_v_src); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1723, __pyx_L1_error)
          __Pyx_GOTREF(__pyx_t_1);
          if (PyDict_SetItem(__pyx_t_15, __pyx_n_u_url, __pyx_t_1) < 0) __PYX_ERR(0, 1723, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

          /* "youtube_dl/extractor/common.py":1722
 *                             continue
 *                         lang = track_attributes.get('srclang') or track_attributes.get('lang') or track_attributes.get('label')
 *                         media_info['subtitles'].setdefault(lang, []).append({             # <<<<<<<<<<<<<<
 *                             'url': absolute_url(src),
 *                         })
 */
          __pyx_t_11 = __Pyx_PyObject_Append(__pyx_t_5, __pyx_t_15); if (unlikely(__pyx_t_11 == -1)) __PYX_ERR(0, 1722, __pyx_L1_error)
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;

          /* "youtube_dl/extractor/common.py":1717
 *                     track_attributes = extract_attributes(track_tag)
 *                     kind = track_attributes.get('kind')
 *                     if not kind or kind == 'subtitles':             # <<<<<<<<<<<<<<
 *                         src = track_attributes.get('src')
 *                         if not src:
 */
        }

        /* "youtube_dl/extractor/common.py":1714
 *                     })
 *                     media_info['formats'].append(f)
 *                 for track_tag in re.findall(r'<track[^>]+>', media_content):             # <<<<<<<<<<<<<<
 *                     track_attributes = extract_attributes(track_tag)
 *                     kind = track_attributes.get('kind')
 */
        __pyx_L12_continue:;
      }
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

      /* "youtube_dl/extractor/common.py":1702
 *                 })
 *             media_info['thumbnail'] = media_attributes.get('poster')
 *             if media_content:             # <<<<<<<<<<<<<<
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):
 *                     source_attributes = extract_attributes(source_tag)
 */
    }

    /* "youtube_dl/extractor/common.py":1725
 *                             'url': absolute_url(src),
 *                         })
 *             if media_info['formats']:             # <<<<<<<<<<<<<<
 *                 entries.append(media_info)
 *         return entries
 */
    __pyx_t_7 = __Pyx_PyDict_GetItem(__pyx_v_media_info, __pyx_n_u_formats); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1725, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_16 = __Pyx_PyObject_IsTrue(__pyx_t_7); if (unlikely(__pyx_t_16 < 0)) __PYX_ERR(0, 1725, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    if (__pyx_t_16) {

      /* "youtube_dl/extractor/common.py":1726
 *                         })
 *             if media_info['formats']:
 *                 entries.append(media_info)             # <<<<<<<<<<<<<<
 *         return entries
 * 
 */
      __pyx_t_11 = __Pyx_PyList_Append(__pyx_v_entries, __pyx_v_media_info); if (unlikely(__pyx_t_11 == -1)) __PYX_ERR(0, 1726, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1725
 *                             'url': absolute_url(src),
 *                         })
 *             if media_info['formats']:             # <<<<<<<<<<<<<<
 *                 entries.append(media_info)
 *         return entries
 */
    }

    /* "youtube_dl/extractor/common.py":1689
 * 
 *         entries = []
 *         for media_tag, media_type, media_content in re.findall(r'(?s)(<(?P<tag>video|audio)[^>]*>)(.*?)</(?P=tag)>', webpage):             # <<<<<<<<<<<<<<
 *             media_info = {
 *                 'formats': [],
 */
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1727
 *             if media_info['formats']:
 *                 entries.append(media_info)
 *         return entries             # <<<<<<<<<<<<<<
 * 
 *     def _live_title(self, name):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_entries);
  __pyx_r = __pyx_v_entries;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1673
 *         return formats
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):             # <<<<<<<<<<<<<<
 *         def absolute_url(video_url):
 *             return compat_urlparse.urljoin(base_url, video_url)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._parse_html5_media_entries", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_absolute_url);
  __Pyx_XDECREF(__pyx_v_parse_content_type);
  __Pyx_XDECREF(__pyx_v_entries);
  __Pyx_XDECREF(__pyx_v_media_tag);
  __Pyx_XDECREF(__pyx_v_media_type);
  __Pyx_XDECREF(__pyx_v_media_content);
  __Pyx_XDECREF(__pyx_v_media_info);
  __Pyx_XDECREF(__pyx_v_media_attributes);
  __Pyx_XDECREF(__pyx_v_src);
  __Pyx_XDECREF(__pyx_v_source_tag);
  __Pyx_XDECREF(__pyx_v_source_attributes);
  __Pyx_XDECREF(__pyx_v_f);
  __Pyx_XDECREF(__pyx_v_track_tag);
  __Pyx_XDECREF(__pyx_v_track_attributes);
  __Pyx_XDECREF(__pyx_v_kind);
  __Pyx_XDECREF(__pyx_v_lang);
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1729
 *         return entries
 * 
 *     def _live_title(self, name):             # <<<<<<<<<<<<<<
 *         """ Generate the title for a live video """
 *         now = datetime.datetime.now()
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_151_live_title(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_150_live_title[] = " Generate the title for a live video ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_151_live_title = {"_live_title", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_151_live_title, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_150_live_title};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_151_live_title(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_live_title (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_name_2,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_live_title", 1, 2, 2, 1); __PYX_ERR(0, 1729, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_live_title") < 0)) __PYX_ERR(0, 1729, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_name = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_live_title", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1729, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._live_title", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_150_live_title(__pyx_self, __pyx_v_self, __pyx_v_name);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_150_live_title(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_v_now = NULL;
  PyObject *__pyx_v_now_str = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("_live_title", 0);

  /* "youtube_dl/extractor/common.py":1731
 *     def _live_title(self, name):
 *         """ Generate the title for a live video """
 *         now = datetime.datetime.now()             # <<<<<<<<<<<<<<
 *         now_str = now.strftime('%Y-%m-%d %H:%M')
 *         return name + ' ' + now_str
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_datetime); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1731, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_datetime); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1731, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_now); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1731, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1731, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  } else {
    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1731, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_now = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1732
 *         """ Generate the title for a live video """
 *         now = datetime.datetime.now()
 *         now_str = now.strftime('%Y-%m-%d %H:%M')             # <<<<<<<<<<<<<<
 *         return name + ' ' + now_str
 * 
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_now, __pyx_n_s_strftime); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__226, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_now_str = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1733
 *         now = datetime.datetime.now()
 *         now_str = now.strftime('%Y-%m-%d %H:%M')
 *         return name + ' ' + now_str             # <<<<<<<<<<<<<<
 * 
 *     def _int(self, v, name, fatal=False, **kwargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = PyNumber_Add(__pyx_v_name, __pyx_kp_u__27); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1733, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyNumber_Add(__pyx_t_2, __pyx_v_now_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1733, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1729
 *         return entries
 * 
 *     def _live_title(self, name):             # <<<<<<<<<<<<<<
 *         """ Generate the title for a live video """
 *         now = datetime.datetime.now()
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._live_title", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_now);
  __Pyx_XDECREF(__pyx_v_now_str);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1735
 *         return name + ' ' + now_str
 * 
 *     def _int(self, v, name, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         res = int_or_none(v, **kwargs)
 *         if 'get_attr' in kwargs:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_153_int(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_153_int = {"_int", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_153_int, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_153_int(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_v = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_int (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_v,&__pyx_n_s_name_2,&__pyx_n_s_fatal,0};
    PyObject* values[4] = {0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_False));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_v)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_int", 0, 3, 4, 1); __PYX_ERR(0, 1735, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_int", 0, 3, 4, 2); __PYX_ERR(0, 1735, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "_int") < 0)) __PYX_ERR(0, 1735, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_v = values[1];
    __pyx_v_name = values[2];
    __pyx_v_fatal = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_int", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1735, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._int", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_152_int(__pyx_self, __pyx_v_self, __pyx_v_v, __pyx_v_name, __pyx_v_fatal, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_152_int(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_v, PyObject *__pyx_v_name, PyObject *__pyx_v_fatal, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_res = NULL;
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  int __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  __Pyx_RefNannySetupContext("_int", 0);

  /* "youtube_dl/extractor/common.py":1736
 * 
 *     def _int(self, v, name, fatal=False, **kwargs):
 *         res = int_or_none(v, **kwargs)             # <<<<<<<<<<<<<<
 *         if 'get_attr' in kwargs:
 *             print(getattr(v, kwargs['get_attr']))
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_int_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1736, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1736, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_v);
  __Pyx_GIVEREF(__pyx_v_v);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_v);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1736, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_res = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1737
 *     def _int(self, v, name, fatal=False, **kwargs):
 *         res = int_or_none(v, **kwargs)
 *         if 'get_attr' in kwargs:             # <<<<<<<<<<<<<<
 *             print(getattr(v, kwargs['get_attr']))
 *         if res is None:
 */
  __pyx_t_4 = (__Pyx_PyDict_ContainsTF(__pyx_n_u_get_attr, __pyx_v_kwargs, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1737, __pyx_L1_error)
  __pyx_t_5 = (__pyx_t_4 != 0);
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":1738
 *         res = int_or_none(v, **kwargs)
 *         if 'get_attr' in kwargs:
 *             print(getattr(v, kwargs['get_attr']))             # <<<<<<<<<<<<<<
 *         if res is None:
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 */
    __pyx_t_3 = __Pyx_PyDict_GetItem(__pyx_v_kwargs, __pyx_n_u_get_attr); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1738, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = __Pyx_GetAttr(__pyx_v_v, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1738, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1738, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_2);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_print, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1738, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1737
 *     def _int(self, v, name, fatal=False, **kwargs):
 *         res = int_or_none(v, **kwargs)
 *         if 'get_attr' in kwargs:             # <<<<<<<<<<<<<<
 *             print(getattr(v, kwargs['get_attr']))
 *         if res is None:
 */
  }

  /* "youtube_dl/extractor/common.py":1739
 *         if 'get_attr' in kwargs:
 *             print(getattr(v, kwargs['get_attr']))
 *         if res is None:             # <<<<<<<<<<<<<<
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:
 */
  __pyx_t_5 = (__pyx_v_res == Py_None);
  __pyx_t_4 = (__pyx_t_5 != 0);
  if (__pyx_t_4) {

    /* "youtube_dl/extractor/common.py":1740
 *             print(getattr(v, kwargs['get_attr']))
 *         if res is None:
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)             # <<<<<<<<<<<<<<
 *             if fatal:
 *                 raise ExtractorError(msg)
 */
    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1740, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_name);
    __Pyx_INCREF(__pyx_v_v);
    __Pyx_GIVEREF(__pyx_v_v);
    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_v);
    __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_Failed_to_extract_s_Could_not_pa, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1740, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_msg = ((PyObject*)__pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1741
 *         if res is None:
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError(msg)
 *             else:
 */
    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_fatal); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1741, __pyx_L1_error)
    if (__pyx_t_4) {

      /* "youtube_dl/extractor/common.py":1742
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:
 *                 raise ExtractorError(msg)             # <<<<<<<<<<<<<<
 *             else:
 *                 self._downloader.report_warning(msg)
 */
      __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1742, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_1 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_2);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_2, function);
        }
      }
      if (!__pyx_t_1) {
        __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_msg); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1742, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
      } else {
        __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1742, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_1); __pyx_t_1 = NULL;
        __Pyx_INCREF(__pyx_v_msg);
        __Pyx_GIVEREF(__pyx_v_msg);
        PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_v_msg);
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_6, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1742, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_Raise(__pyx_t_3, 0, 0, 0);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __PYX_ERR(0, 1742, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1741
 *         if res is None:
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError(msg)
 *             else:
 */
    }

    /* "youtube_dl/extractor/common.py":1744
 *                 raise ExtractorError(msg)
 *             else:
 *                 self._downloader.report_warning(msg)             # <<<<<<<<<<<<<<
 *         return res
 * 
 */
    /*else*/ {
      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1744, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1744, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
        if (likely(__pyx_t_2)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
          __Pyx_INCREF(__pyx_t_2);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_6, function);
        }
      }
      if (!__pyx_t_2) {
        __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_msg); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1744, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
      } else {
        __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1744, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2); __pyx_t_2 = NULL;
        __Pyx_INCREF(__pyx_v_msg);
        __Pyx_GIVEREF(__pyx_v_msg);
        PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_v_msg);
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1744, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      }
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    }

    /* "youtube_dl/extractor/common.py":1739
 *         if 'get_attr' in kwargs:
 *             print(getattr(v, kwargs['get_attr']))
 *         if res is None:             # <<<<<<<<<<<<<<
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:
 */
  }

  /* "youtube_dl/extractor/common.py":1745
 *             else:
 *                 self._downloader.report_warning(msg)
 *         return res             # <<<<<<<<<<<<<<
 * 
 *     def _float(self, v, name, fatal=False, **kwargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_res);
  __pyx_r = __pyx_v_res;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1735
 *         return name + ' ' + now_str
 * 
 *     def _int(self, v, name, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         res = int_or_none(v, **kwargs)
 *         if 'get_attr' in kwargs:
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._int", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_res);
  __Pyx_XDECREF(__pyx_v_msg);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1747
 *         return res
 * 
 *     def _float(self, v, name, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         res = float_or_none(v, **kwargs)
 *         if res is None:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_155_float(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_155_float = {"_float", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_155_float, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_155_float(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_v = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_fatal = 0;
  PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_float (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_v,&__pyx_n_s_name_2,&__pyx_n_s_fatal,0};
    PyObject* values[4] = {0,0,0,0};
    values[3] = ((PyObject *)((PyObject *)Py_False));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_v)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_float", 0, 3, 4, 1); __PYX_ERR(0, 1747, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_float", 0, 3, 4, 2); __PYX_ERR(0, 1747, __pyx_L3_error)
        }
        case  3:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_fatal);
          if (value) { values[3] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "_float") < 0)) __PYX_ERR(0, 1747, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_v = values[1];
    __pyx_v_name = values[2];
    __pyx_v_fatal = values[3];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_float", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1747, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._float", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_154_float(__pyx_self, __pyx_v_self, __pyx_v_v, __pyx_v_name, __pyx_v_fatal, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_154_float(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_v, PyObject *__pyx_v_name, PyObject *__pyx_v_fatal, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_res = NULL;
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  int __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  __Pyx_RefNannySetupContext("_float", 0);

  /* "youtube_dl/extractor/common.py":1748
 * 
 *     def _float(self, v, name, fatal=False, **kwargs):
 *         res = float_or_none(v, **kwargs)             # <<<<<<<<<<<<<<
 *         if res is None:
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 */
  __pyx_t_1 = __Pyx_GetModuleGlobalName(__pyx_n_s_float_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1748, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1748, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_v);
  __Pyx_GIVEREF(__pyx_v_v);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_v);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1748, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_res = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1749
 *     def _float(self, v, name, fatal=False, **kwargs):
 *         res = float_or_none(v, **kwargs)
 *         if res is None:             # <<<<<<<<<<<<<<
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:
 */
  __pyx_t_4 = (__pyx_v_res == Py_None);
  __pyx_t_5 = (__pyx_t_4 != 0);
  if (__pyx_t_5) {

    /* "youtube_dl/extractor/common.py":1750
 *         res = float_or_none(v, **kwargs)
 *         if res is None:
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)             # <<<<<<<<<<<<<<
 *             if fatal:
 *                 raise ExtractorError(msg)
 */
    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1750, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
    __Pyx_INCREF(__pyx_v_v);
    __Pyx_GIVEREF(__pyx_v_v);
    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_v);
    __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_Failed_to_extract_s_Could_not_pa, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1750, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_msg = ((PyObject*)__pyx_t_2);
    __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1751
 *         if res is None:
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError(msg)
 *             else:
 */
    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_v_fatal); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1751, __pyx_L1_error)
    if (__pyx_t_5) {

      /* "youtube_dl/extractor/common.py":1752
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:
 *                 raise ExtractorError(msg)             # <<<<<<<<<<<<<<
 *             else:
 *                 self._downloader.report_warning(msg)
 */
      __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1752, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_1 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
        __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
        if (likely(__pyx_t_1)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_1);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_3, function);
        }
      }
      if (!__pyx_t_1) {
        __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_msg); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1752, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
      } else {
        __pyx_t_6 = PyTuple_New(1+1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1752, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_1); __pyx_t_1 = NULL;
        __Pyx_INCREF(__pyx_v_msg);
        __Pyx_GIVEREF(__pyx_v_msg);
        PyTuple_SET_ITEM(__pyx_t_6, 0+1, __pyx_v_msg);
        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1752, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      }
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_Raise(__pyx_t_2, 0, 0, 0);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __PYX_ERR(0, 1752, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1751
 *         if res is None:
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError(msg)
 *             else:
 */
    }

    /* "youtube_dl/extractor/common.py":1754
 *                 raise ExtractorError(msg)
 *             else:
 *                 self._downloader.report_warning(msg)             # <<<<<<<<<<<<<<
 *         return res
 * 
 */
    /*else*/ {
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1754, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1754, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_6))) {
        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_6);
        if (likely(__pyx_t_3)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
          __Pyx_INCREF(__pyx_t_3);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_6, function);
        }
      }
      if (!__pyx_t_3) {
        __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_msg); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1754, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
      } else {
        __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1754, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3); __pyx_t_3 = NULL;
        __Pyx_INCREF(__pyx_v_msg);
        __Pyx_GIVEREF(__pyx_v_msg);
        PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_v_msg);
        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1754, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      }
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    }

    /* "youtube_dl/extractor/common.py":1749
 *     def _float(self, v, name, fatal=False, **kwargs):
 *         res = float_or_none(v, **kwargs)
 *         if res is None:             # <<<<<<<<<<<<<<
 *             msg = 'Failed to extract %s: Could not parse value %r' % (name, v)
 *             if fatal:
 */
  }

  /* "youtube_dl/extractor/common.py":1755
 *             else:
 *                 self._downloader.report_warning(msg)
 *         return res             # <<<<<<<<<<<<<<
 * 
 *     def _set_cookie(self, domain, name, value, expire_time=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_res);
  __pyx_r = __pyx_v_res;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1747
 *         return res
 * 
 *     def _float(self, v, name, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         res = float_or_none(v, **kwargs)
 *         if res is None:
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._float", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_res);
  __Pyx_XDECREF(__pyx_v_msg);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1757
 *         return res
 * 
 *     def _set_cookie(self, domain, name, value, expire_time=None):             # <<<<<<<<<<<<<<
 *         cookie = compat_cookiejar.Cookie(
 *             0, name, value, None, None, domain, None,
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_157_set_cookie(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_157_set_cookie = {"_set_cookie", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_157_set_cookie, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_157_set_cookie(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_domain = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_value = 0;
  PyObject *__pyx_v_expire_time = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_set_cookie (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_domain,&__pyx_n_s_name_2,&__pyx_n_s_value,&__pyx_n_s_expire_time,0};
    PyObject* values[5] = {0,0,0,0,0};
    values[4] = ((PyObject *)((PyObject *)Py_None));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_domain)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_set_cookie", 0, 4, 5, 1); __PYX_ERR(0, 1757, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_name_2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_set_cookie", 0, 4, 5, 2); __PYX_ERR(0, 1757, __pyx_L3_error)
        }
        case  3:
        if (likely((values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_value)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_set_cookie", 0, 4, 5, 3); __PYX_ERR(0, 1757, __pyx_L3_error)
        }
        case  4:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_expire_time);
          if (value) { values[4] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_set_cookie") < 0)) __PYX_ERR(0, 1757, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
        values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_domain = values[1];
    __pyx_v_name = values[2];
    __pyx_v_value = values[3];
    __pyx_v_expire_time = values[4];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_set_cookie", 0, 4, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1757, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._set_cookie", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_156_set_cookie(__pyx_self, __pyx_v_self, __pyx_v_domain, __pyx_v_name, __pyx_v_value, __pyx_v_expire_time);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_156_set_cookie(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_domain, PyObject *__pyx_v_name, PyObject *__pyx_v_value, PyObject *__pyx_v_expire_time) {
  PyObject *__pyx_v_cookie = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("_set_cookie", 0);

  /* "youtube_dl/extractor/common.py":1758
 * 
 *     def _set_cookie(self, domain, name, value, expire_time=None):
 *         cookie = compat_cookiejar.Cookie(             # <<<<<<<<<<<<<<
 *             0, name, value, None, None, domain, None,
 *             None, '/', True, False, expire_time, '', None, None, None)
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_cookiejar); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1758, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Cookie); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1758, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1760
 *         cookie = compat_cookiejar.Cookie(
 *             0, name, value, None, None, domain, None,
 *             None, '/', True, False, expire_time, '', None, None, None)             # <<<<<<<<<<<<<<
 *         self._downloader.cookiejar.set_cookie(cookie)
 * 
 */
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(16+__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1758, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_2) {
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2); __pyx_t_2 = NULL;
  }
  __Pyx_INCREF(__pyx_int_0);
  __Pyx_GIVEREF(__pyx_int_0);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_4, __pyx_int_0);
  __Pyx_INCREF(__pyx_v_name);
  __Pyx_GIVEREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_4, __pyx_v_name);
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  PyTuple_SET_ITEM(__pyx_t_5, 2+__pyx_t_4, __pyx_v_value);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_5, 3+__pyx_t_4, Py_None);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_5, 4+__pyx_t_4, Py_None);
  __Pyx_INCREF(__pyx_v_domain);
  __Pyx_GIVEREF(__pyx_v_domain);
  PyTuple_SET_ITEM(__pyx_t_5, 5+__pyx_t_4, __pyx_v_domain);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_5, 6+__pyx_t_4, Py_None);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_5, 7+__pyx_t_4, Py_None);
  __Pyx_INCREF(__pyx_kp_u__125);
  __Pyx_GIVEREF(__pyx_kp_u__125);
  PyTuple_SET_ITEM(__pyx_t_5, 8+__pyx_t_4, __pyx_kp_u__125);
  __Pyx_INCREF(Py_True);
  __Pyx_GIVEREF(Py_True);
  PyTuple_SET_ITEM(__pyx_t_5, 9+__pyx_t_4, Py_True);
  __Pyx_INCREF(Py_False);
  __Pyx_GIVEREF(Py_False);
  PyTuple_SET_ITEM(__pyx_t_5, 10+__pyx_t_4, Py_False);
  __Pyx_INCREF(__pyx_v_expire_time);
  __Pyx_GIVEREF(__pyx_v_expire_time);
  PyTuple_SET_ITEM(__pyx_t_5, 11+__pyx_t_4, __pyx_v_expire_time);
  __Pyx_INCREF(__pyx_kp_u__14);
  __Pyx_GIVEREF(__pyx_kp_u__14);
  PyTuple_SET_ITEM(__pyx_t_5, 12+__pyx_t_4, __pyx_kp_u__14);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_5, 13+__pyx_t_4, Py_None);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_5, 14+__pyx_t_4, Py_None);
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_5, 15+__pyx_t_4, Py_None);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1758, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_cookie = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1761
 *             0, name, value, None, None, domain, None,
 *             None, '/', True, False, expire_time, '', None, None, None)
 *         self._downloader.cookiejar.set_cookie(cookie)             # <<<<<<<<<<<<<<
 * 
 *     def _get_cookies(self, url):
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1761, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_cookiejar); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1761, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_set_cookie); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1761, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_5) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_cookie); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1761, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_2 = PyTuple_New(1+1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1761, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_5); __pyx_t_5 = NULL;
    __Pyx_INCREF(__pyx_v_cookie);
    __Pyx_GIVEREF(__pyx_v_cookie);
    PyTuple_SET_ITEM(__pyx_t_2, 0+1, __pyx_v_cookie);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1761, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1757
 *         return res
 * 
 *     def _set_cookie(self, domain, name, value, expire_time=None):             # <<<<<<<<<<<<<<
 *         cookie = compat_cookiejar.Cookie(
 *             0, name, value, None, None, domain, None,
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._set_cookie", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_cookie);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1763
 *         self._downloader.cookiejar.set_cookie(cookie)
 * 
 *     def _get_cookies(self, url):             # <<<<<<<<<<<<<<
 *         """ Return a compat_cookies.SimpleCookie with the cookies for the url """
 *         req = sanitized_Request(url)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_159_get_cookies(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_158_get_cookies[] = " Return a compat_cookies.SimpleCookie with the cookies for the url ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_159_get_cookies = {"_get_cookies", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_159_get_cookies, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_158_get_cookies};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_159_get_cookies(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_get_cookies (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_url,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_get_cookies", 1, 2, 2, 1); __PYX_ERR(0, 1763, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_get_cookies") < 0)) __PYX_ERR(0, 1763, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_url = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_get_cookies", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1763, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_cookies", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_158_get_cookies(__pyx_self, __pyx_v_self, __pyx_v_url);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_158_get_cookies(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_url) {
  PyObject *__pyx_v_req = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("_get_cookies", 0);

  /* "youtube_dl/extractor/common.py":1765
 *     def _get_cookies(self, url):
 *         """ Return a compat_cookies.SimpleCookie with the cookies for the url """
 *         req = sanitized_Request(url)             # <<<<<<<<<<<<<<
 *         self._downloader.cookiejar.add_cookie_header(req)
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_sanitized_Request); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1765, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_3);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_3) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_url); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1765, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1765, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3); __pyx_t_3 = NULL;
    __Pyx_INCREF(__pyx_v_url);
    __Pyx_GIVEREF(__pyx_v_url);
    PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_v_url);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1765, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_req = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1766
 *         """ Return a compat_cookies.SimpleCookie with the cookies for the url """
 *         req = sanitized_Request(url)
 *         self._downloader.cookiejar.add_cookie_header(req)             # <<<<<<<<<<<<<<
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))
 * 
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1766, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_cookiejar); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1766, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_add_cookie_header); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1766, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_4) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_req); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1766, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_3 = PyTuple_New(1+1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1766, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4); __pyx_t_4 = NULL;
    __Pyx_INCREF(__pyx_v_req);
    __Pyx_GIVEREF(__pyx_v_req);
    PyTuple_SET_ITEM(__pyx_t_3, 0+1, __pyx_v_req);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1766, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1767
 *         req = sanitized_Request(url)
 *         self._downloader.cookiejar.add_cookie_header(req)
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))             # <<<<<<<<<<<<<<
 * 
 *     def get_testcases(self, include_onlymatching=False):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_compat_cookies); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1767, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_SimpleCookie); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1767, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_req, __pyx_n_s_get_header); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1767, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__227, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1767, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_2);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
    }
  }
  if (!__pyx_t_2) {
    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1767, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_GOTREF(__pyx_t_1);
  } else {
    __pyx_t_5 = PyTuple_New(1+1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1767, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2); __pyx_t_2 = NULL;
    __Pyx_GIVEREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_5, 0+1, __pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1767, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1763
 *         self._downloader.cookiejar.set_cookie(cookie)
 * 
 *     def _get_cookies(self, url):             # <<<<<<<<<<<<<<
 *         """ Return a compat_cookies.SimpleCookie with the cookies for the url """
 *         req = sanitized_Request(url)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_cookies", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_req);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}
static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_162generator(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value); /* proto */

/* "youtube_dl/extractor/common.py":1769
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))
 * 
 *     def get_testcases(self, include_onlymatching=False):             # <<<<<<<<<<<<<<
 *         t = getattr(self, '_TEST', None)
 *         if t:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_161get_testcases(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_161get_testcases = {"get_testcases", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_161get_testcases, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_161get_testcases(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_include_onlymatching = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("get_testcases (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_include_onlymatching,0};
    PyObject* values[2] = {0,0};
    values[1] = ((PyObject *)((PyObject *)Py_False));
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s_include_onlymatching);
          if (value) { values[1] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "get_testcases") < 0)) __PYX_ERR(0, 1769, __pyx_L3_error)
      }
    } else {
      switch (PyTuple_GET_SIZE(__pyx_args)) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_self = values[0];
    __pyx_v_include_onlymatching = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("get_testcases", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1769, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.get_testcases", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_160get_testcases(__pyx_self, __pyx_v_self, __pyx_v_include_onlymatching);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_160get_testcases(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_include_onlymatching) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("get_testcases", 0);
  __pyx_cur_scope = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *)__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases(__pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __Pyx_GOTREF(__pyx_cur_scope);
  __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_self);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_self);
  __pyx_cur_scope->__pyx_v_include_onlymatching = __pyx_v_include_onlymatching;
  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_include_onlymatching);
  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_include_onlymatching);
  {
    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_162generator, (PyObject *) __pyx_cur_scope, __pyx_n_s_get_testcases, __pyx_n_s_InfoExtractor_get_testcases, __pyx_n_s_youtube_dl_extractor_common); if (unlikely(!gen)) __PYX_ERR(0, 1769, __pyx_L1_error)
    __Pyx_DECREF(__pyx_cur_scope);
    __Pyx_RefNannyFinishContext();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.get_testcases", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_gb_10youtube_dl_9extractor_6common_13InfoExtractor_162generator(__pyx_CoroutineObject *__pyx_generator, PyObject *__pyx_sent_value) /* generator body */
{
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *__pyx_cur_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *)__pyx_generator->closure);
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *(*__pyx_t_5)(PyObject *);
  int __pyx_t_6;
  int __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  Py_ssize_t __pyx_t_9;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("None", 0);
  switch (__pyx_generator->resume_label) {
    case 0: goto __pyx_L3_first_run;
    case 1: goto __pyx_L10_resume_from_yield;
    default: /* CPython raises the right error here */
    __Pyx_RefNannyFinishContext();
    return NULL;
  }
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1769, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1770
 * 
 *     def get_testcases(self, include_onlymatching=False):
 *         t = getattr(self, '_TEST', None)             # <<<<<<<<<<<<<<
 *         if t:
 *             assert not hasattr(self, '_TESTS'), \
 */
  __pyx_t_1 = __Pyx_GetAttr3(__pyx_cur_scope->__pyx_v_self, __pyx_n_u_TEST, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1770, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __pyx_cur_scope->__pyx_v_t = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1771
 *     def get_testcases(self, include_onlymatching=False):
 *         t = getattr(self, '_TEST', None)
 *         if t:             # <<<<<<<<<<<<<<
 *             assert not hasattr(self, '_TESTS'), \
 *                 '%s has _TEST and _TESTS' % type(self).__name__
 */
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_cur_scope->__pyx_v_t); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 1771, __pyx_L1_error)
  if (__pyx_t_2) {

    /* "youtube_dl/extractor/common.py":1772
 *         t = getattr(self, '_TEST', None)
 *         if t:
 *             assert not hasattr(self, '_TESTS'), \             # <<<<<<<<<<<<<<
 *                 '%s has _TEST and _TESTS' % type(self).__name__
 *             tests = [t]
 */
    #ifndef CYTHON_WITHOUT_ASSERTIONS
    if (unlikely(!Py_OptimizeFlag)) {
      __pyx_t_2 = PyObject_HasAttr(__pyx_cur_scope->__pyx_v_self, __pyx_n_u_TESTS); if (unlikely(__pyx_t_2 == -1)) __PYX_ERR(0, 1772, __pyx_L1_error)
      if (unlikely(!((!(__pyx_t_2 != 0)) != 0))) {

        /* "youtube_dl/extractor/common.py":1773
 *         if t:
 *             assert not hasattr(self, '_TESTS'), \
 *                 '%s has _TEST and _TESTS' % type(self).__name__             # <<<<<<<<<<<<<<
 *             tests = [t]
 *         else:
 */
        __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)Py_TYPE(__pyx_cur_scope->__pyx_v_self)), __pyx_n_s_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1773, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_3 = PyUnicode_Format(__pyx_kp_u_s_has__TEST_and__TESTS, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1773, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        PyErr_SetObject(PyExc_AssertionError, __pyx_t_3);
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __PYX_ERR(0, 1772, __pyx_L1_error)
      }
    }
    #endif

    /* "youtube_dl/extractor/common.py":1774
 *             assert not hasattr(self, '_TESTS'), \
 *                 '%s has _TEST and _TESTS' % type(self).__name__
 *             tests = [t]             # <<<<<<<<<<<<<<
 *         else:
 *             tests = getattr(self, '_TESTS', [])
 */
    __pyx_t_3 = PyList_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1774, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_cur_scope->__pyx_v_t);
    __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_t);
    PyList_SET_ITEM(__pyx_t_3, 0, __pyx_cur_scope->__pyx_v_t);
    __Pyx_GIVEREF(__pyx_t_3);
    __pyx_cur_scope->__pyx_v_tests = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1771
 *     def get_testcases(self, include_onlymatching=False):
 *         t = getattr(self, '_TEST', None)
 *         if t:             # <<<<<<<<<<<<<<
 *             assert not hasattr(self, '_TESTS'), \
 *                 '%s has _TEST and _TESTS' % type(self).__name__
 */
    goto __pyx_L4;
  }

  /* "youtube_dl/extractor/common.py":1776
 *             tests = [t]
 *         else:
 *             tests = getattr(self, '_TESTS', [])             # <<<<<<<<<<<<<<
 *         for t in tests:
 *             if not include_onlymatching and t.get('only_matching', False):
 */
  /*else*/ {
    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1776, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = __Pyx_GetAttr3(__pyx_cur_scope->__pyx_v_self, __pyx_n_u_TESTS, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1776, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_GIVEREF(__pyx_t_1);
    __pyx_cur_scope->__pyx_v_tests = __pyx_t_1;
    __pyx_t_1 = 0;
  }
  __pyx_L4:;

  /* "youtube_dl/extractor/common.py":1777
 *         else:
 *             tests = getattr(self, '_TESTS', [])
 *         for t in tests:             # <<<<<<<<<<<<<<
 *             if not include_onlymatching and t.get('only_matching', False):
 *                 continue
 */
  if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_tests)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_tests)) {
    __pyx_t_1 = __pyx_cur_scope->__pyx_v_tests; __Pyx_INCREF(__pyx_t_1); __pyx_t_4 = 0;
    __pyx_t_5 = NULL;
  } else {
    __pyx_t_4 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_tests); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1777, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_5 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1777, __pyx_L1_error)
  }
  for (;;) {
    if (likely(!__pyx_t_5)) {
      if (likely(PyList_CheckExact(__pyx_t_1))) {
        if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1777, __pyx_L1_error)
        #else
        __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1777, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        #endif
      } else {
        if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1777, __pyx_L1_error)
        #else
        __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1777, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        #endif
      }
    } else {
      __pyx_t_3 = __pyx_t_5(__pyx_t_1);
      if (unlikely(!__pyx_t_3)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1777, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_3);
    }
    __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_t);
    __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_t, __pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1778
 *             tests = getattr(self, '_TESTS', [])
 *         for t in tests:
 *             if not include_onlymatching and t.get('only_matching', False):             # <<<<<<<<<<<<<<
 *                 continue
 *             t['name'] = type(self).__name__[:-len('IE')]
 */
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_cur_scope->__pyx_v_include_onlymatching); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1778, __pyx_L1_error)
    __pyx_t_7 = ((!__pyx_t_6) != 0);
    if (__pyx_t_7) {
    } else {
      __pyx_t_2 = __pyx_t_7;
      goto __pyx_L8_bool_binop_done;
    }
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_t, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1778, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__228, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1778, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1778, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_2 = __pyx_t_7;
    __pyx_L8_bool_binop_done:;
    if (__pyx_t_2) {

      /* "youtube_dl/extractor/common.py":1779
 *         for t in tests:
 *             if not include_onlymatching and t.get('only_matching', False):
 *                 continue             # <<<<<<<<<<<<<<
 *             t['name'] = type(self).__name__[:-len('IE')]
 *             yield t
 */
      goto __pyx_L5_continue;

      /* "youtube_dl/extractor/common.py":1778
 *             tests = getattr(self, '_TESTS', [])
 *         for t in tests:
 *             if not include_onlymatching and t.get('only_matching', False):             # <<<<<<<<<<<<<<
 *                 continue
 *             t['name'] = type(self).__name__[:-len('IE')]
 */
    }

    /* "youtube_dl/extractor/common.py":1780
 *             if not include_onlymatching and t.get('only_matching', False):
 *                 continue
 *             t['name'] = type(self).__name__[:-len('IE')]             # <<<<<<<<<<<<<<
 *             yield t
 * 
 */
    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(((PyObject *)Py_TYPE(__pyx_cur_scope->__pyx_v_self)), __pyx_n_s_name); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1780, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __pyx_t_9 = __Pyx_PyUnicode_GET_LENGTH(__pyx_n_u_IE); if (unlikely(__pyx_t_9 == -1)) __PYX_ERR(0, 1780, __pyx_L1_error)
    __pyx_t_3 = __Pyx_PyObject_GetSlice(__pyx_t_8, 0, (-__pyx_t_9), NULL, NULL, NULL, 0, 1, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1780, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(PyObject_SetItem(__pyx_cur_scope->__pyx_v_t, __pyx_n_u_name_2, __pyx_t_3) < 0)) __PYX_ERR(0, 1780, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1781
 *                 continue
 *             t['name'] = type(self).__name__[:-len('IE')]
 *             yield t             # <<<<<<<<<<<<<<
 * 
 *     def is_suitable(self, age_limit):
 */
    __Pyx_INCREF(__pyx_cur_scope->__pyx_v_t);
    __pyx_r = __pyx_cur_scope->__pyx_v_t;
    __Pyx_XGIVEREF(__pyx_t_1);
    __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
    __pyx_cur_scope->__pyx_t_1 = __pyx_t_4;
    __pyx_cur_scope->__pyx_t_2 = __pyx_t_5;
    __Pyx_XGIVEREF(__pyx_r);
    __Pyx_RefNannyFinishContext();
    /* return from generator, yielding value */
    __pyx_generator->resume_label = 1;
    return __pyx_r;
    __pyx_L10_resume_from_yield:;
    __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
    __pyx_cur_scope->__pyx_t_0 = 0;
    __Pyx_XGOTREF(__pyx_t_1);
    __pyx_t_4 = __pyx_cur_scope->__pyx_t_1;
    __pyx_t_5 = __pyx_cur_scope->__pyx_t_2;
    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1781, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1777
 *         else:
 *             tests = getattr(self, '_TESTS', [])
 *         for t in tests:             # <<<<<<<<<<<<<<
 *             if not include_onlymatching and t.get('only_matching', False):
 *                 continue
 */
    __pyx_L5_continue:;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1769
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))
 * 
 *     def get_testcases(self, include_onlymatching=False):             # <<<<<<<<<<<<<<
 *         t = getattr(self, '_TEST', None)
 *         if t:
 */

  /* function exit code */
  PyErr_SetNone(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_AddTraceback("get_testcases", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
  __pyx_generator->resume_label = -1;
  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1783
 *             yield t
 * 
 *     def is_suitable(self, age_limit):             # <<<<<<<<<<<<<<
 *         """ Test whether the extractor is generally suitable for the given
 *         age limit (i.e. pornographic sites are not, all others usually are) """
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_164is_suitable(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_163is_suitable[] = " Test whether the extractor is generally suitable for the given\n        age limit (i.e. pornographic sites are not, all others usually are) ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_164is_suitable = {"is_suitable", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_164is_suitable, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_163is_suitable};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_164is_suitable(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_age_limit = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("is_suitable (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_age_limit,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_age_limit)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("is_suitable", 1, 2, 2, 1); __PYX_ERR(0, 1783, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "is_suitable") < 0)) __PYX_ERR(0, 1783, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_age_limit = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("is_suitable", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1783, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.is_suitable", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_163is_suitable(__pyx_self, __pyx_v_self, __pyx_v_age_limit);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_163is_suitable(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_age_limit) {
  PyObject *__pyx_v_any_restricted = NULL;
  PyObject *__pyx_v_tc = NULL;
  PyObject *__pyx_v_is_restricted = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *(*__pyx_t_5)(PyObject *);
  int __pyx_t_6;
  int __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  Py_ssize_t __pyx_t_12;
  PyObject *__pyx_t_13 = NULL;
  __Pyx_RefNannySetupContext("is_suitable", 0);

  /* "youtube_dl/extractor/common.py":1787
 *         age limit (i.e. pornographic sites are not, all others usually are) """
 * 
 *         any_restricted = False             # <<<<<<<<<<<<<<
 *         for tc in self.get_testcases(include_onlymatching=False):
 *             if 'playlist' in tc:
 */
  __Pyx_INCREF(Py_False);
  __pyx_v_any_restricted = Py_False;

  /* "youtube_dl/extractor/common.py":1788
 * 
 *         any_restricted = False
 *         for tc in self.get_testcases(include_onlymatching=False):             # <<<<<<<<<<<<<<
 *             if 'playlist' in tc:
 *                 tc = tc['playlist'][0]
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_get_testcases); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1788, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1788, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_include_onlymatching, Py_False) < 0) __PYX_ERR(0, 1788, __pyx_L1_error)
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1788, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (likely(PyList_CheckExact(__pyx_t_3)) || PyTuple_CheckExact(__pyx_t_3)) {
    __pyx_t_2 = __pyx_t_3; __Pyx_INCREF(__pyx_t_2); __pyx_t_4 = 0;
    __pyx_t_5 = NULL;
  } else {
    __pyx_t_4 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1788, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_5 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1788, __pyx_L1_error)
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  for (;;) {
    if (likely(!__pyx_t_5)) {
      if (likely(PyList_CheckExact(__pyx_t_2))) {
        if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1788, __pyx_L1_error)
        #else
        __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1788, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        #endif
      } else {
        if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1788, __pyx_L1_error)
        #else
        __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1788, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        #endif
      }
    } else {
      __pyx_t_3 = __pyx_t_5(__pyx_t_2);
      if (unlikely(!__pyx_t_3)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1788, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_3);
    }
    __Pyx_XDECREF_SET(__pyx_v_tc, __pyx_t_3);
    __pyx_t_3 = 0;

    /* "youtube_dl/extractor/common.py":1789
 *         any_restricted = False
 *         for tc in self.get_testcases(include_onlymatching=False):
 *             if 'playlist' in tc:             # <<<<<<<<<<<<<<
 *                 tc = tc['playlist'][0]
 *             is_restricted = age_restricted(
 */
    __pyx_t_6 = (__Pyx_PySequence_ContainsTF(__pyx_n_u_playlist, __pyx_v_tc, Py_EQ)); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1789, __pyx_L1_error)
    __pyx_t_7 = (__pyx_t_6 != 0);
    if (__pyx_t_7) {

      /* "youtube_dl/extractor/common.py":1790
 *         for tc in self.get_testcases(include_onlymatching=False):
 *             if 'playlist' in tc:
 *                 tc = tc['playlist'][0]             # <<<<<<<<<<<<<<
 *             is_restricted = age_restricted(
 *                 tc.get('info_dict', {}).get('age_limit'), age_limit)
 */
      __pyx_t_3 = PyObject_GetItem(__pyx_v_tc, __pyx_n_u_playlist); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1790, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_3, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1790, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF_SET(__pyx_v_tc, __pyx_t_1);
      __pyx_t_1 = 0;

      /* "youtube_dl/extractor/common.py":1789
 *         any_restricted = False
 *         for tc in self.get_testcases(include_onlymatching=False):
 *             if 'playlist' in tc:             # <<<<<<<<<<<<<<
 *                 tc = tc['playlist'][0]
 *             is_restricted = age_restricted(
 */
    }

    /* "youtube_dl/extractor/common.py":1791
 *             if 'playlist' in tc:
 *                 tc = tc['playlist'][0]
 *             is_restricted = age_restricted(             # <<<<<<<<<<<<<<
 *                 tc.get('info_dict', {}).get('age_limit'), age_limit)
 *             if not is_restricted:
 */
    __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_age_restricted); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1791, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);

    /* "youtube_dl/extractor/common.py":1792
 *                 tc = tc['playlist'][0]
 *             is_restricted = age_restricted(
 *                 tc.get('info_dict', {}).get('age_limit'), age_limit)             # <<<<<<<<<<<<<<
 *             if not is_restricted:
 *                 return True
 */
    __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_tc, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1792, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_9);
    __pyx_t_10 = PyDict_New(); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1792, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_10);
    __pyx_t_11 = NULL;
    __pyx_t_12 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_9))) {
      __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_9);
      if (likely(__pyx_t_11)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
        __Pyx_INCREF(__pyx_t_11);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_9, function);
        __pyx_t_12 = 1;
      }
    }
    __pyx_t_13 = PyTuple_New(2+__pyx_t_12); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1792, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_13);
    if (__pyx_t_11) {
      __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_t_11); __pyx_t_11 = NULL;
    }
    __Pyx_INCREF(__pyx_n_u_info_dict);
    __Pyx_GIVEREF(__pyx_n_u_info_dict);
    PyTuple_SET_ITEM(__pyx_t_13, 0+__pyx_t_12, __pyx_n_u_info_dict);
    __Pyx_GIVEREF(__pyx_t_10);
    PyTuple_SET_ITEM(__pyx_t_13, 1+__pyx_t_12, __pyx_t_10);
    __pyx_t_10 = 0;
    __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_t_13, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1792, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_get); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1792, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_9);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_tuple__229, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1792, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = NULL;
    __pyx_t_12 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_9)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_9);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
        __pyx_t_12 = 1;
      }
    }
    __pyx_t_13 = PyTuple_New(2+__pyx_t_12); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1791, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_13);
    if (__pyx_t_9) {
      __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_t_9); __pyx_t_9 = NULL;
    }
    __Pyx_GIVEREF(__pyx_t_8);
    PyTuple_SET_ITEM(__pyx_t_13, 0+__pyx_t_12, __pyx_t_8);
    __Pyx_INCREF(__pyx_v_age_limit);
    __Pyx_GIVEREF(__pyx_v_age_limit);
    PyTuple_SET_ITEM(__pyx_t_13, 1+__pyx_t_12, __pyx_v_age_limit);
    __pyx_t_8 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_13, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1791, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_XDECREF_SET(__pyx_v_is_restricted, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1793
 *             is_restricted = age_restricted(
 *                 tc.get('info_dict', {}).get('age_limit'), age_limit)
 *             if not is_restricted:             # <<<<<<<<<<<<<<
 *                 return True
 *             any_restricted = any_restricted or is_restricted
 */
    __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_v_is_restricted); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 1793, __pyx_L1_error)
    __pyx_t_6 = ((!__pyx_t_7) != 0);
    if (__pyx_t_6) {

      /* "youtube_dl/extractor/common.py":1794
 *                 tc.get('info_dict', {}).get('age_limit'), age_limit)
 *             if not is_restricted:
 *                 return True             # <<<<<<<<<<<<<<
 *             any_restricted = any_restricted or is_restricted
 *         return not any_restricted
 */
      __Pyx_XDECREF(__pyx_r);
      __Pyx_INCREF(Py_True);
      __pyx_r = Py_True;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      goto __pyx_L0;

      /* "youtube_dl/extractor/common.py":1793
 *             is_restricted = age_restricted(
 *                 tc.get('info_dict', {}).get('age_limit'), age_limit)
 *             if not is_restricted:             # <<<<<<<<<<<<<<
 *                 return True
 *             any_restricted = any_restricted or is_restricted
 */
    }

    /* "youtube_dl/extractor/common.py":1795
 *             if not is_restricted:
 *                 return True
 *             any_restricted = any_restricted or is_restricted             # <<<<<<<<<<<<<<
 *         return not any_restricted
 * 
 */
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_any_restricted); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1795, __pyx_L1_error)
    if (!__pyx_t_6) {
    } else {
      __Pyx_INCREF(__pyx_v_any_restricted);
      __pyx_t_1 = __pyx_v_any_restricted;
      goto __pyx_L7_bool_binop_done;
    }
    __Pyx_INCREF(__pyx_v_is_restricted);
    __pyx_t_1 = __pyx_v_is_restricted;
    __pyx_L7_bool_binop_done:;
    __Pyx_DECREF_SET(__pyx_v_any_restricted, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1788
 * 
 *         any_restricted = False
 *         for tc in self.get_testcases(include_onlymatching=False):             # <<<<<<<<<<<<<<
 *             if 'playlist' in tc:
 *                 tc = tc['playlist'][0]
 */
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1796
 *                 return True
 *             any_restricted = any_restricted or is_restricted
 *         return not any_restricted             # <<<<<<<<<<<<<<
 * 
 *     def extract_subtitles(self, *args, **kwargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_v_any_restricted); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1796, __pyx_L1_error)
  __pyx_t_2 = __Pyx_PyBool_FromLong((!__pyx_t_6)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1796, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1783
 *             yield t
 * 
 *     def is_suitable(self, age_limit):             # <<<<<<<<<<<<<<
 *         """ Test whether the extractor is generally suitable for the given
 *         age limit (i.e. pornographic sites are not, all others usually are) """
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_13);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.is_suitable", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_any_restricted);
  __Pyx_XDECREF(__pyx_v_tc);
  __Pyx_XDECREF(__pyx_v_is_restricted);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1798
 *         return not any_restricted
 * 
 *     def extract_subtitles(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('writesubtitles', False) or
 *                 self._downloader.params.get('listsubtitles')):
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_166extract_subtitles(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_166extract_subtitles = {"extract_subtitles", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_166extract_subtitles, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_166extract_subtitles(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("extract_subtitles (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args));
    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
      __Pyx_RefNannyFinishContext();
      return NULL;
    }
    __Pyx_GOTREF(__pyx_v_args);
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,0};
    PyObject* values[1] = {0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        default:
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args > 0)) {
        const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "extract_subtitles") < 0)) __PYX_ERR(0, 1798, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
    }
    __pyx_v_self = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("extract_subtitles", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1798, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args); __pyx_v_args = 0;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract_subtitles", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_165extract_subtitles(__pyx_self, __pyx_v_self, __pyx_v_args, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_args);
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_165extract_subtitles(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  __Pyx_RefNannySetupContext("extract_subtitles", 0);

  /* "youtube_dl/extractor/common.py":1799
 * 
 *     def extract_subtitles(self, *args, **kwargs):
 *         if (self._downloader.params.get('writesubtitles', False) or             # <<<<<<<<<<<<<<
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_subtitles(*args, **kwargs)
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1799, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_params); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1799, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1799, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__230, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1799, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1799, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (!__pyx_t_4) {
  } else {
    __pyx_t_1 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }

  /* "youtube_dl/extractor/common.py":1800
 *     def extract_subtitles(self, *args, **kwargs):
 *         if (self._downloader.params.get('writesubtitles', False) or
 *                 self._downloader.params.get('listsubtitles')):             # <<<<<<<<<<<<<<
 *             return self._get_subtitles(*args, **kwargs)
 *         return {}
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1800, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_params); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1800, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1800, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__231, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1800, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1800, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_1 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;

  /* "youtube_dl/extractor/common.py":1799
 * 
 *     def extract_subtitles(self, *args, **kwargs):
 *         if (self._downloader.params.get('writesubtitles', False) or             # <<<<<<<<<<<<<<
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_subtitles(*args, **kwargs)
 */
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":1801
 *         if (self._downloader.params.get('writesubtitles', False) or
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_subtitles(*args, **kwargs)             # <<<<<<<<<<<<<<
 *         return {}
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_get_subtitles); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1801, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_v_args, __pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1801, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1799
 * 
 *     def extract_subtitles(self, *args, **kwargs):
 *         if (self._downloader.params.get('writesubtitles', False) or             # <<<<<<<<<<<<<<
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_subtitles(*args, **kwargs)
 */
  }

  /* "youtube_dl/extractor/common.py":1802
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_subtitles(*args, **kwargs)
 *         return {}             # <<<<<<<<<<<<<<
 * 
 *     def _get_subtitles(self, *args, **kwargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1802, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1798
 *         return not any_restricted
 * 
 *     def extract_subtitles(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('writesubtitles', False) or
 *                 self._downloader.params.get('listsubtitles')):
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract_subtitles", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1804
 *         return {}
 * 
 *     def _get_subtitles(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_168_get_subtitles(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_168_get_subtitles = {"_get_subtitles", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_168_get_subtitles, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_168_get_subtitles(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  CYTHON_UNUSED PyObject *__pyx_v_args = 0;
  CYTHON_UNUSED PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_get_subtitles (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args));
    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
      __Pyx_RefNannyFinishContext();
      return NULL;
    }
    __Pyx_GOTREF(__pyx_v_args);
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,0};
    PyObject* values[1] = {0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        default:
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args > 0)) {
        const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "_get_subtitles") < 0)) __PYX_ERR(0, 1804, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
    }
    __pyx_v_self = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_get_subtitles", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1804, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args); __pyx_v_args = 0;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_subtitles", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_167_get_subtitles(__pyx_self, __pyx_v_self, __pyx_v_args, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_args);
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_167_get_subtitles(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_args, CYTHON_UNUSED PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("_get_subtitles", 0);

  /* "youtube_dl/extractor/common.py":1805
 * 
 *     def _get_subtitles(self, *args, **kwargs):
 *         raise NotImplementedError('This method must be implemented by subclasses')             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__232, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1805, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __PYX_ERR(0, 1805, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1804
 *         return {}
 * 
 *     def _get_subtitles(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_subtitles", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1808
 * 
 *     @staticmethod
 *     def _merge_subtitle_items(subtitle_list1, subtitle_list2):             # <<<<<<<<<<<<<<
 *         """ Merge subtitle items for one language. Items with duplicated URLs
 *         will be dropped. """
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_170_merge_subtitle_items(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_169_merge_subtitle_items[] = " Merge subtitle items for one language. Items with duplicated URLs\n        will be dropped. ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_170_merge_subtitle_items = {"_merge_subtitle_items", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_170_merge_subtitle_items, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_169_merge_subtitle_items};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_170_merge_subtitle_items(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_subtitle_list1 = 0;
  PyObject *__pyx_v_subtitle_list2 = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_merge_subtitle_items (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_subtitle_list1,&__pyx_n_s_subtitle_list2,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_subtitle_list1)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_subtitle_list2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_merge_subtitle_items", 1, 2, 2, 1); __PYX_ERR(0, 1808, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_merge_subtitle_items") < 0)) __PYX_ERR(0, 1808, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_subtitle_list1 = values[0];
    __pyx_v_subtitle_list2 = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_merge_subtitle_items", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1808, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._merge_subtitle_items", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_169_merge_subtitle_items(__pyx_self, __pyx_v_subtitle_list1, __pyx_v_subtitle_list2);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_169_merge_subtitle_items(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_subtitle_list1, PyObject *__pyx_v_subtitle_list2) {
  PyObject *__pyx_v_list1_urls = NULL;
  PyObject *__pyx_v_ret = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  Py_ssize_t __pyx_t_3;
  PyObject *(*__pyx_t_4)(PyObject *);
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  int __pyx_t_7;
  int __pyx_t_8;
  __Pyx_RefNannySetupContext("_merge_subtitle_items", 0);

  /* "youtube_dl/extractor/common.py":1811
 *         """ Merge subtitle items for one language. Items with duplicated URLs
 *         will be dropped. """
 *         list1_urls = set([item['url'] for item in subtitle_list1])             # <<<<<<<<<<<<<<
 *         ret = list(subtitle_list1)
 *         ret.extend([item for item in subtitle_list2 if item['url'] not in list1_urls])
 */
  { /* enter inner scope */
    PyObject *__pyx_8genexpr9__pyx_v_item = NULL;
    __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1811, __pyx_L5_error)
    __Pyx_GOTREF(__pyx_t_1);
    if (likely(PyList_CheckExact(__pyx_v_subtitle_list1)) || PyTuple_CheckExact(__pyx_v_subtitle_list1)) {
      __pyx_t_2 = __pyx_v_subtitle_list1; __Pyx_INCREF(__pyx_t_2); __pyx_t_3 = 0;
      __pyx_t_4 = NULL;
    } else {
      __pyx_t_3 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_subtitle_list1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1811, __pyx_L5_error)
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_4 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1811, __pyx_L5_error)
    }
    for (;;) {
      if (likely(!__pyx_t_4)) {
        if (likely(PyList_CheckExact(__pyx_t_2))) {
          if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_2)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_5 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_5); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 1811, __pyx_L5_error)
          #else
          __pyx_t_5 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1811, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_5);
          #endif
        } else {
          if (__pyx_t_3 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_5); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 1811, __pyx_L5_error)
          #else
          __pyx_t_5 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1811, __pyx_L5_error)
          __Pyx_GOTREF(__pyx_t_5);
          #endif
        }
      } else {
        __pyx_t_5 = __pyx_t_4(__pyx_t_2);
        if (unlikely(!__pyx_t_5)) {
          PyObject* exc_type = PyErr_Occurred();
          if (exc_type) {
            if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
            else __PYX_ERR(0, 1811, __pyx_L5_error)
          }
          break;
        }
        __Pyx_GOTREF(__pyx_t_5);
      }
      __Pyx_XDECREF_SET(__pyx_8genexpr9__pyx_v_item, __pyx_t_5);
      __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_GetItem(__pyx_8genexpr9__pyx_v_item, __pyx_n_u_url); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1811, __pyx_L5_error)
      __Pyx_GOTREF(__pyx_t_5);
      if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_5))) __PYX_ERR(0, 1811, __pyx_L5_error)
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    }
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF(__pyx_8genexpr9__pyx_v_item);
    goto __pyx_L8_exit_scope;
    __pyx_L5_error:;
    __Pyx_XDECREF(__pyx_8genexpr9__pyx_v_item);
    goto __pyx_L1_error;
    __pyx_L8_exit_scope:;
  } /* exit inner scope */
  __pyx_t_2 = PySet_New(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1811, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_list1_urls = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1812
 *         will be dropped. """
 *         list1_urls = set([item['url'] for item in subtitle_list1])
 *         ret = list(subtitle_list1)             # <<<<<<<<<<<<<<
 *         ret.extend([item for item in subtitle_list2 if item['url'] not in list1_urls])
 *         return ret
 */
  __pyx_t_2 = PySequence_List(__pyx_v_subtitle_list1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1812, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_v_ret = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1813
 *         list1_urls = set([item['url'] for item in subtitle_list1])
 *         ret = list(subtitle_list1)
 *         ret.extend([item for item in subtitle_list2 if item['url'] not in list1_urls])             # <<<<<<<<<<<<<<
 *         return ret
 * 
 */
  { /* enter inner scope */
    PyObject *__pyx_9genexpr10__pyx_v_item = NULL;
    __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1813, __pyx_L11_error)
    __Pyx_GOTREF(__pyx_t_2);
    if (likely(PyList_CheckExact(__pyx_v_subtitle_list2)) || PyTuple_CheckExact(__pyx_v_subtitle_list2)) {
      __pyx_t_1 = __pyx_v_subtitle_list2; __Pyx_INCREF(__pyx_t_1); __pyx_t_3 = 0;
      __pyx_t_4 = NULL;
    } else {
      __pyx_t_3 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_subtitle_list2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1813, __pyx_L11_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_4 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1813, __pyx_L11_error)
    }
    for (;;) {
      if (likely(!__pyx_t_4)) {
        if (likely(PyList_CheckExact(__pyx_t_1))) {
          if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_1)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_5 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_3); __Pyx_INCREF(__pyx_t_5); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 1813, __pyx_L11_error)
          #else
          __pyx_t_5 = PySequence_ITEM(__pyx_t_1, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1813, __pyx_L11_error)
          __Pyx_GOTREF(__pyx_t_5);
          #endif
        } else {
          if (__pyx_t_3 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
          #if CYTHON_COMPILING_IN_CPYTHON
          __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_3); __Pyx_INCREF(__pyx_t_5); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 1813, __pyx_L11_error)
          #else
          __pyx_t_5 = PySequence_ITEM(__pyx_t_1, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1813, __pyx_L11_error)
          __Pyx_GOTREF(__pyx_t_5);
          #endif
        }
      } else {
        __pyx_t_5 = __pyx_t_4(__pyx_t_1);
        if (unlikely(!__pyx_t_5)) {
          PyObject* exc_type = PyErr_Occurred();
          if (exc_type) {
            if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
            else __PYX_ERR(0, 1813, __pyx_L11_error)
          }
          break;
        }
        __Pyx_GOTREF(__pyx_t_5);
      }
      __Pyx_XDECREF_SET(__pyx_9genexpr10__pyx_v_item, __pyx_t_5);
      __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_GetItem(__pyx_9genexpr10__pyx_v_item, __pyx_n_u_url); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1813, __pyx_L11_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_6 = (__Pyx_PySequence_ContainsTF(__pyx_t_5, __pyx_v_list1_urls, Py_NE)); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 1813, __pyx_L11_error)
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_7 = (__pyx_t_6 != 0);
      if (__pyx_t_7) {
        if (unlikely(__Pyx_ListComp_Append(__pyx_t_2, (PyObject*)__pyx_9genexpr10__pyx_v_item))) __PYX_ERR(0, 1813, __pyx_L11_error)
      }
    }
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF(__pyx_9genexpr10__pyx_v_item);
    goto __pyx_L15_exit_scope;
    __pyx_L11_error:;
    __Pyx_XDECREF(__pyx_9genexpr10__pyx_v_item);
    goto __pyx_L1_error;
    __pyx_L15_exit_scope:;
  } /* exit inner scope */
  __pyx_t_8 = __Pyx_PyList_Extend(__pyx_v_ret, __pyx_t_2); if (unlikely(__pyx_t_8 == -1)) __PYX_ERR(0, 1813, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1814
 *         ret = list(subtitle_list1)
 *         ret.extend([item for item in subtitle_list2 if item['url'] not in list1_urls])
 *         return ret             # <<<<<<<<<<<<<<
 * 
 *     @classmethod
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1808
 * 
 *     @staticmethod
 *     def _merge_subtitle_items(subtitle_list1, subtitle_list2):             # <<<<<<<<<<<<<<
 *         """ Merge subtitle items for one language. Items with duplicated URLs
 *         will be dropped. """
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._merge_subtitle_items", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_list1_urls);
  __Pyx_XDECREF(__pyx_v_ret);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1817
 * 
 *     @classmethod
 *     def _merge_subtitles(cls, subtitle_dict1, subtitle_dict2):             # <<<<<<<<<<<<<<
 *         """ Merge two subtitle dictionaries, language by language. """
 *         ret = dict(subtitle_dict1)
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_172_merge_subtitles(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_171_merge_subtitles[] = " Merge two subtitle dictionaries, language by language. ";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_172_merge_subtitles = {"_merge_subtitles", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_172_merge_subtitles, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_13InfoExtractor_171_merge_subtitles};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_172_merge_subtitles(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_cls = 0;
  PyObject *__pyx_v_subtitle_dict1 = 0;
  PyObject *__pyx_v_subtitle_dict2 = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_merge_subtitles (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_cls,&__pyx_n_s_subtitle_dict1,&__pyx_n_s_subtitle_dict2,0};
    PyObject* values[3] = {0,0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_cls)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_subtitle_dict1)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_merge_subtitles", 1, 3, 3, 1); __PYX_ERR(0, 1817, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_subtitle_dict2)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_merge_subtitles", 1, 3, 3, 2); __PYX_ERR(0, 1817, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_merge_subtitles") < 0)) __PYX_ERR(0, 1817, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
    }
    __pyx_v_cls = values[0];
    __pyx_v_subtitle_dict1 = values[1];
    __pyx_v_subtitle_dict2 = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_merge_subtitles", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1817, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._merge_subtitles", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_171_merge_subtitles(__pyx_self, __pyx_v_cls, __pyx_v_subtitle_dict1, __pyx_v_subtitle_dict2);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_171_merge_subtitles(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_subtitle_dict1, PyObject *__pyx_v_subtitle_dict2) {
  PyObject *__pyx_v_ret = NULL;
  PyObject *__pyx_v_lang = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  Py_ssize_t __pyx_t_3;
  PyObject *(*__pyx_t_4)(PyObject *);
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  Py_ssize_t __pyx_t_10;
  PyObject *__pyx_t_11 = NULL;
  __Pyx_RefNannySetupContext("_merge_subtitles", 0);

  /* "youtube_dl/extractor/common.py":1819
 *     def _merge_subtitles(cls, subtitle_dict1, subtitle_dict2):
 *         """ Merge two subtitle dictionaries, language by language. """
 *         ret = dict(subtitle_dict1)             # <<<<<<<<<<<<<<
 *         for lang in subtitle_dict2:
 *             ret[lang] = cls._merge_subtitle_items(subtitle_dict1.get(lang, []), subtitle_dict2[lang])
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1819, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_subtitle_dict1);
  __Pyx_GIVEREF(__pyx_v_subtitle_dict1);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_subtitle_dict1);
  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)(&PyDict_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1819, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_ret = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1820
 *         """ Merge two subtitle dictionaries, language by language. """
 *         ret = dict(subtitle_dict1)
 *         for lang in subtitle_dict2:             # <<<<<<<<<<<<<<
 *             ret[lang] = cls._merge_subtitle_items(subtitle_dict1.get(lang, []), subtitle_dict2[lang])
 *         return ret
 */
  if (likely(PyList_CheckExact(__pyx_v_subtitle_dict2)) || PyTuple_CheckExact(__pyx_v_subtitle_dict2)) {
    __pyx_t_2 = __pyx_v_subtitle_dict2; __Pyx_INCREF(__pyx_t_2); __pyx_t_3 = 0;
    __pyx_t_4 = NULL;
  } else {
    __pyx_t_3 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_subtitle_dict2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1820, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1820, __pyx_L1_error)
  }
  for (;;) {
    if (likely(!__pyx_t_4)) {
      if (likely(PyList_CheckExact(__pyx_t_2))) {
        if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_1); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 1820, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1820, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      } else {
        if (__pyx_t_3 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
        #if CYTHON_COMPILING_IN_CPYTHON
        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_1); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 1820, __pyx_L1_error)
        #else
        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1820, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        #endif
      }
    } else {
      __pyx_t_1 = __pyx_t_4(__pyx_t_2);
      if (unlikely(!__pyx_t_1)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(exc_type == PyExc_StopIteration || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 1820, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    __Pyx_XDECREF_SET(__pyx_v_lang, __pyx_t_1);
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1821
 *         ret = dict(subtitle_dict1)
 *         for lang in subtitle_dict2:
 *             ret[lang] = cls._merge_subtitle_items(subtitle_dict1.get(lang, []), subtitle_dict2[lang])             # <<<<<<<<<<<<<<
 *         return ret
 * 
 */
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_merge_subtitle_items); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_subtitle_dict1, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_8 = PyList_New(0); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    __pyx_t_9 = NULL;
    __pyx_t_10 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_7))) {
      __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_7);
      if (likely(__pyx_t_9)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
        __Pyx_INCREF(__pyx_t_9);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_7, function);
        __pyx_t_10 = 1;
      }
    }
    __pyx_t_11 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_11);
    if (__pyx_t_9) {
      __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
    }
    __Pyx_INCREF(__pyx_v_lang);
    __Pyx_GIVEREF(__pyx_v_lang);
    PyTuple_SET_ITEM(__pyx_t_11, 0+__pyx_t_10, __pyx_v_lang);
    __Pyx_GIVEREF(__pyx_t_8);
    PyTuple_SET_ITEM(__pyx_t_11, 1+__pyx_t_10, __pyx_t_8);
    __pyx_t_8 = 0;
    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_11, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = PyObject_GetItem(__pyx_v_subtitle_dict2, __pyx_v_lang); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_7);
    __pyx_t_11 = NULL;
    __pyx_t_10 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_5))) {
      __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_5);
      if (likely(__pyx_t_11)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
        __Pyx_INCREF(__pyx_t_11);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_5, function);
        __pyx_t_10 = 1;
      }
    }
    __pyx_t_8 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_8);
    if (__pyx_t_11) {
      __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_11); __pyx_t_11 = NULL;
    }
    __Pyx_GIVEREF(__pyx_t_6);
    PyTuple_SET_ITEM(__pyx_t_8, 0+__pyx_t_10, __pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_7);
    PyTuple_SET_ITEM(__pyx_t_8, 1+__pyx_t_10, __pyx_t_7);
    __pyx_t_6 = 0;
    __pyx_t_7 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(PyDict_SetItem(__pyx_v_ret, __pyx_v_lang, __pyx_t_1) < 0)) __PYX_ERR(0, 1821, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1820
 *         """ Merge two subtitle dictionaries, language by language. """
 *         ret = dict(subtitle_dict1)
 *         for lang in subtitle_dict2:             # <<<<<<<<<<<<<<
 *             ret[lang] = cls._merge_subtitle_items(subtitle_dict1.get(lang, []), subtitle_dict2[lang])
 *         return ret
 */
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1822
 *         for lang in subtitle_dict2:
 *             ret[lang] = cls._merge_subtitle_items(subtitle_dict1.get(lang, []), subtitle_dict2[lang])
 *         return ret             # <<<<<<<<<<<<<<
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1817
 * 
 *     @classmethod
 *     def _merge_subtitles(cls, subtitle_dict1, subtitle_dict2):             # <<<<<<<<<<<<<<
 *         """ Merge two subtitle dictionaries, language by language. """
 *         ret = dict(subtitle_dict1)
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._merge_subtitles", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_ret);
  __Pyx_XDECREF(__pyx_v_lang);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1824
 *         return ret
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('writeautomaticsub', False) or
 *                 self._downloader.params.get('listsubtitles')):
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_174extract_automatic_captions(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_174extract_automatic_captions = {"extract_automatic_captions", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_174extract_automatic_captions, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_174extract_automatic_captions(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("extract_automatic_captions (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args));
    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
      __Pyx_RefNannyFinishContext();
      return NULL;
    }
    __Pyx_GOTREF(__pyx_v_args);
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,0};
    PyObject* values[1] = {0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        default:
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args > 0)) {
        const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "extract_automatic_captions") < 0)) __PYX_ERR(0, 1824, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
    }
    __pyx_v_self = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("extract_automatic_captions", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1824, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args); __pyx_v_args = 0;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract_automatic_captions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_173extract_automatic_captions(__pyx_self, __pyx_v_self, __pyx_v_args, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_args);
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_173extract_automatic_captions(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  __Pyx_RefNannySetupContext("extract_automatic_captions", 0);

  /* "youtube_dl/extractor/common.py":1825
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):
 *         if (self._downloader.params.get('writeautomaticsub', False) or             # <<<<<<<<<<<<<<
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_automatic_captions(*args, **kwargs)
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1825, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_params); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1825, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1825, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__233, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1825, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1825, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (!__pyx_t_4) {
  } else {
    __pyx_t_1 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }

  /* "youtube_dl/extractor/common.py":1826
 *     def extract_automatic_captions(self, *args, **kwargs):
 *         if (self._downloader.params.get('writeautomaticsub', False) or
 *                 self._downloader.params.get('listsubtitles')):             # <<<<<<<<<<<<<<
 *             return self._get_automatic_captions(*args, **kwargs)
 *         return {}
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1826, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_params); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1826, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1826, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__234, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1826, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1826, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_1 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;

  /* "youtube_dl/extractor/common.py":1825
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):
 *         if (self._downloader.params.get('writeautomaticsub', False) or             # <<<<<<<<<<<<<<
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_automatic_captions(*args, **kwargs)
 */
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":1827
 *         if (self._downloader.params.get('writeautomaticsub', False) or
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_automatic_captions(*args, **kwargs)             # <<<<<<<<<<<<<<
 *         return {}
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_get_automatic_captions); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1827, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_v_args, __pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1827, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1825
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):
 *         if (self._downloader.params.get('writeautomaticsub', False) or             # <<<<<<<<<<<<<<
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_automatic_captions(*args, **kwargs)
 */
  }

  /* "youtube_dl/extractor/common.py":1828
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_automatic_captions(*args, **kwargs)
 *         return {}             # <<<<<<<<<<<<<<
 * 
 *     def _get_automatic_captions(self, *args, **kwargs):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1828, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1824
 *         return ret
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('writeautomaticsub', False) or
 *                 self._downloader.params.get('listsubtitles')):
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.extract_automatic_captions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1830
 *         return {}
 * 
 *     def _get_automatic_captions(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_176_get_automatic_captions(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_176_get_automatic_captions = {"_get_automatic_captions", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_176_get_automatic_captions, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_176_get_automatic_captions(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  CYTHON_UNUSED PyObject *__pyx_v_args = 0;
  CYTHON_UNUSED PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_get_automatic_captions (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args));
    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
      __Pyx_RefNannyFinishContext();
      return NULL;
    }
    __Pyx_GOTREF(__pyx_v_args);
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,0};
    PyObject* values[1] = {0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        default:
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args > 0)) {
        const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "_get_automatic_captions") < 0)) __PYX_ERR(0, 1830, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
    }
    __pyx_v_self = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_get_automatic_captions", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1830, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args); __pyx_v_args = 0;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_automatic_captions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_175_get_automatic_captions(__pyx_self, __pyx_v_self, __pyx_v_args, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_args);
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_175_get_automatic_captions(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_args, CYTHON_UNUSED PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("_get_automatic_captions", 0);

  /* "youtube_dl/extractor/common.py":1831
 * 
 *     def _get_automatic_captions(self, *args, **kwargs):
 *         raise NotImplementedError('This method must be implemented by subclasses')             # <<<<<<<<<<<<<<
 * 
 *     def mark_watched(self, *args, **kwargs):
 */
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__235, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1831, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __PYX_ERR(0, 1831, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1830
 *         return {}
 * 
 *     def _get_automatic_captions(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._get_automatic_captions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1833
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     def mark_watched(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('mark_watched', False) and
 *                 (self._get_login_info()[0] is not None or
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_178mark_watched(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_178mark_watched = {"mark_watched", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_178mark_watched, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_178mark_watched(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("mark_watched (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args));
    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
      __Pyx_RefNannyFinishContext();
      return NULL;
    }
    __Pyx_GOTREF(__pyx_v_args);
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,0};
    PyObject* values[1] = {0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        default:
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args > 0)) {
        const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "mark_watched") < 0)) __PYX_ERR(0, 1833, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
    }
    __pyx_v_self = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("mark_watched", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1833, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args); __pyx_v_args = 0;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.mark_watched", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_177mark_watched(__pyx_self, __pyx_v_self, __pyx_v_args, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_args);
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_177mark_watched(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  __Pyx_RefNannySetupContext("mark_watched", 0);

  /* "youtube_dl/extractor/common.py":1834
 * 
 *     def mark_watched(self, *args, **kwargs):
 *         if (self._downloader.params.get('mark_watched', False) and             # <<<<<<<<<<<<<<
 *                 (self._get_login_info()[0] is not None or
 *                     self._downloader.params.get('cookiefile') is not None)):
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1834, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_params); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1834, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1834, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__236, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1834, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 1834, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_4) {
  } else {
    __pyx_t_1 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }

  /* "youtube_dl/extractor/common.py":1835
 *     def mark_watched(self, *args, **kwargs):
 *         if (self._downloader.params.get('mark_watched', False) and
 *                 (self._get_login_info()[0] is not None or             # <<<<<<<<<<<<<<
 *                     self._downloader.params.get('cookiefile') is not None)):
 *             self._mark_watched(*args, **kwargs)
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_get_login_info); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1835, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_2))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_2, function);
    }
  }
  if (__pyx_t_5) {
    __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1835, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  } else {
    __pyx_t_3 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1835, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_3, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1835, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = (__pyx_t_2 != Py_None);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = (__pyx_t_4 != 0);
  if (!__pyx_t_6) {
  } else {
    __pyx_t_1 = __pyx_t_6;
    goto __pyx_L4_bool_binop_done;
  }

  /* "youtube_dl/extractor/common.py":1836
 *         if (self._downloader.params.get('mark_watched', False) and
 *                 (self._get_login_info()[0] is not None or
 *                     self._downloader.params.get('cookiefile') is not None)):             # <<<<<<<<<<<<<<
 *             self._mark_watched(*args, **kwargs)
 * 
 */
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1836, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_params); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1836, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1836, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__237, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1836, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = (__pyx_t_3 != Py_None);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = (__pyx_t_6 != 0);
  __pyx_t_1 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;

  /* "youtube_dl/extractor/common.py":1834
 * 
 *     def mark_watched(self, *args, **kwargs):
 *         if (self._downloader.params.get('mark_watched', False) and             # <<<<<<<<<<<<<<
 *                 (self._get_login_info()[0] is not None or
 *                     self._downloader.params.get('cookiefile') is not None)):
 */
  if (__pyx_t_1) {

    /* "youtube_dl/extractor/common.py":1837
 *                 (self._get_login_info()[0] is not None or
 *                     self._downloader.params.get('cookiefile') is not None)):
 *             self._mark_watched(*args, **kwargs)             # <<<<<<<<<<<<<<
 * 
 *     def _mark_watched(self, *args, **kwargs):
 */
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_mark_watched_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1837, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_v_args, __pyx_v_kwargs); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1837, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

    /* "youtube_dl/extractor/common.py":1834
 * 
 *     def mark_watched(self, *args, **kwargs):
 *         if (self._downloader.params.get('mark_watched', False) and             # <<<<<<<<<<<<<<
 *                 (self._get_login_info()[0] is not None or
 *                     self._downloader.params.get('cookiefile') is not None)):
 */
  }

  /* "youtube_dl/extractor/common.py":1833
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     def mark_watched(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('mark_watched', False) and
 *                 (self._get_login_info()[0] is not None or
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.mark_watched", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1839
 *             self._mark_watched(*args, **kwargs)
 * 
 *     def _mark_watched(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_180_mark_watched(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_180_mark_watched = {"_mark_watched", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_180_mark_watched, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_180_mark_watched(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  CYTHON_UNUSED PyObject *__pyx_v_args = 0;
  CYTHON_UNUSED PyObject *__pyx_v_kwargs = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_mark_watched (wrapper)", 0);
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args));
    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
      __Pyx_RefNannyFinishContext();
      return NULL;
    }
    __Pyx_GOTREF(__pyx_v_args);
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,0};
    PyObject* values[1] = {0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        default:
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args > 0)) {
        const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "_mark_watched") < 0)) __PYX_ERR(0, 1839, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
    }
    __pyx_v_self = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_mark_watched", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1839, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args); __pyx_v_args = 0;
  __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._mark_watched", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_179_mark_watched(__pyx_self, __pyx_v_self, __pyx_v_args, __pyx_v_kwargs);

  /* function exit code */
  __Pyx_XDECREF(__pyx_v_args);
  __Pyx_XDECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_179_mark_watched(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_args, CYTHON_UNUSED PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("_mark_watched", 0);

  /* "youtube_dl/extractor/common.py":1840
 * 
 *     def _mark_watched(self, *args, **kwargs):
 *         raise NotImplementedError('This method must be implemented by subclasses')             # <<<<<<<<<<<<<<
 * 
 *     def geo_verification_headers(self):
 */
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__238, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1840, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __PYX_ERR(0, 1840, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1839
 *             self._mark_watched(*args, **kwargs)
 * 
 *     def _mark_watched(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor._mark_watched", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1842
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     def geo_verification_headers(self):             # <<<<<<<<<<<<<<
 *         headers = {}
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_182geo_verification_headers(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_182geo_verification_headers = {"geo_verification_headers", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_182geo_verification_headers, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_13InfoExtractor_182geo_verification_headers(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("geo_verification_headers (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_181geo_verification_headers(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_181geo_verification_headers(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_v_headers = NULL;
  PyObject *__pyx_v_geo_verification_proxy = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  __Pyx_RefNannySetupContext("geo_verification_headers", 0);

  /* "youtube_dl/extractor/common.py":1843
 * 
 *     def geo_verification_headers(self):
 *         headers = {}             # <<<<<<<<<<<<<<
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')
 *         if geo_verification_proxy:
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1843, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_v_headers = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1844
 *     def geo_verification_headers(self):
 *         headers = {}
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')             # <<<<<<<<<<<<<<
 *         if geo_verification_proxy:
 *             headers['Ytdl-request-proxy'] = geo_verification_proxy
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1844, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_params); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1844, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1844, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__239, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1844, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_geo_verification_proxy = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1845
 *         headers = {}
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')
 *         if geo_verification_proxy:             # <<<<<<<<<<<<<<
 *             headers['Ytdl-request-proxy'] = geo_verification_proxy
 *         return headers
 */
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_geo_verification_proxy); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 1845, __pyx_L1_error)
  if (__pyx_t_3) {

    /* "youtube_dl/extractor/common.py":1846
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')
 *         if geo_verification_proxy:
 *             headers['Ytdl-request-proxy'] = geo_verification_proxy             # <<<<<<<<<<<<<<
 *         return headers
 * 
 */
    if (unlikely(PyDict_SetItem(__pyx_v_headers, __pyx_kp_u_Ytdl_request_proxy, __pyx_v_geo_verification_proxy) < 0)) __PYX_ERR(0, 1846, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1845
 *         headers = {}
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')
 *         if geo_verification_proxy:             # <<<<<<<<<<<<<<
 *             headers['Ytdl-request-proxy'] = geo_verification_proxy
 *         return headers
 */
  }

  /* "youtube_dl/extractor/common.py":1847
 *         if geo_verification_proxy:
 *             headers['Ytdl-request-proxy'] = geo_verification_proxy
 *         return headers             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_headers);
  __pyx_r = __pyx_v_headers;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1842
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     def geo_verification_headers(self):             # <<<<<<<<<<<<<<
 *         headers = {}
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.InfoExtractor.geo_verification_headers", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_headers);
  __Pyx_XDECREF(__pyx_v_geo_verification_proxy);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1858
 * 
 *     @classmethod
 *     def _make_valid_url(cls):             # <<<<<<<<<<<<<<
 *         return r'%s(?P<prefix>|[1-9][0-9]*|all):(?P<query>[\s\S]+)' % cls._SEARCH_KEY
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_1_make_valid_url(PyObject *__pyx_self, PyObject *__pyx_v_cls); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_1_make_valid_url = {"_make_valid_url", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_1_make_valid_url, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_1_make_valid_url(PyObject *__pyx_self, PyObject *__pyx_v_cls) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_make_valid_url (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor__make_valid_url(__pyx_self, ((PyObject *)__pyx_v_cls));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor__make_valid_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("_make_valid_url", 0);

  /* "youtube_dl/extractor/common.py":1859
 *     @classmethod
 *     def _make_valid_url(cls):
 *         return r'%s(?P<prefix>|[1-9][0-9]*|all):(?P<query>[\s\S]+)' % cls._SEARCH_KEY             # <<<<<<<<<<<<<<
 * 
 *     @classmethod
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_SEARCH_KEY); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1859, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyUnicode_Format(__pyx_kp_u_s_P_prefix_1_9_0_9_all_P_query, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1859, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1858
 * 
 *     @classmethod
 *     def _make_valid_url(cls):             # <<<<<<<<<<<<<<
 *         return r'%s(?P<prefix>|[1-9][0-9]*|all):(?P<query>[\s\S]+)' % cls._SEARCH_KEY
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("youtube_dl.extractor.common.SearchInfoExtractor._make_valid_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1862
 * 
 *     @classmethod
 *     def suitable(cls, url):             # <<<<<<<<<<<<<<
 *         return re.match(cls._make_valid_url(), url) is not None
 * 
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_3suitable(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_3suitable = {"suitable", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_3suitable, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_3suitable(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_cls = 0;
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("suitable (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_cls,&__pyx_n_s_url,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_cls)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_url)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("suitable", 1, 2, 2, 1); __PYX_ERR(0, 1862, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "suitable") < 0)) __PYX_ERR(0, 1862, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_cls = values[0];
    __pyx_v_url = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("suitable", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1862, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.SearchInfoExtractor.suitable", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_2suitable(__pyx_self, __pyx_v_cls, __pyx_v_url);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_2suitable(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_url) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  Py_ssize_t __pyx_t_6;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("suitable", 0);

  /* "youtube_dl/extractor/common.py":1863
 *     @classmethod
 *     def suitable(cls, url):
 *         return re.match(cls._make_valid_url(), url) is not None             # <<<<<<<<<<<<<<
 * 
 *     def _real_extract(self, query):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1863, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_match); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1863, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_make_valid_url); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1863, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
    }
  }
  if (__pyx_t_5) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1863, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  } else {
    __pyx_t_2 = __Pyx_PyObject_CallNoArg(__pyx_t_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1863, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_6 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1863, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_4) {
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
  }
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_6, __pyx_t_2);
  __Pyx_INCREF(__pyx_v_url);
  __Pyx_GIVEREF(__pyx_v_url);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_6, __pyx_v_url);
  __pyx_t_2 = 0;
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1863, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_7 = (__pyx_t_1 != Py_None);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1863, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1862
 * 
 *     @classmethod
 *     def suitable(cls, url):             # <<<<<<<<<<<<<<
 *         return re.match(cls._make_valid_url(), url) is not None
 * 
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.SearchInfoExtractor.suitable", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1865
 *         return re.match(cls._make_valid_url(), url) is not None
 * 
 *     def _real_extract(self, query):             # <<<<<<<<<<<<<<
 *         mobj = re.match(self._make_valid_url(), query)
 *         if mobj is None:
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_5_real_extract(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_5_real_extract = {"_real_extract", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_5_real_extract, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_5_real_extract(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_query = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_real_extract (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_query,0};
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_query)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_real_extract", 1, 2, 2, 1); __PYX_ERR(0, 1865, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_real_extract") < 0)) __PYX_ERR(0, 1865, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
    }
    __pyx_v_self = values[0];
    __pyx_v_query = values[1];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_real_extract", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1865, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.SearchInfoExtractor._real_extract", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_4_real_extract(__pyx_self, __pyx_v_self, __pyx_v_query);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_4_real_extract(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_query) {
  PyObject *__pyx_v_mobj = NULL;
  PyObject *__pyx_v_prefix = NULL;
  PyObject *__pyx_v_n = NULL;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  Py_ssize_t __pyx_t_6;
  int __pyx_t_7;
  int __pyx_t_8;
  __Pyx_RefNannySetupContext("_real_extract", 0);
  __Pyx_INCREF(__pyx_v_query);

  /* "youtube_dl/extractor/common.py":1866
 * 
 *     def _real_extract(self, query):
 *         mobj = re.match(self._make_valid_url(), query)             # <<<<<<<<<<<<<<
 *         if mobj is None:
 *             raise ExtractorError('Invalid search query "%s"' % query)
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_re); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1866, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_match); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1866, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_make_valid_url); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1866, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
      __Pyx_INCREF(__pyx_t_5);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_4, function);
    }
  }
  if (__pyx_t_5) {
    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1866, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  } else {
    __pyx_t_2 = __Pyx_PyObject_CallNoArg(__pyx_t_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1866, __pyx_L1_error)
  }
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_6 = 0;
  if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
      __Pyx_INCREF(__pyx_t_4);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1866, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (__pyx_t_4) {
    __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
  }
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_6, __pyx_t_2);
  __Pyx_INCREF(__pyx_v_query);
  __Pyx_GIVEREF(__pyx_v_query);
  PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_6, __pyx_v_query);
  __pyx_t_2 = 0;
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1866, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_mobj = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1867
 *     def _real_extract(self, query):
 *         mobj = re.match(self._make_valid_url(), query)
 *         if mobj is None:             # <<<<<<<<<<<<<<
 *             raise ExtractorError('Invalid search query "%s"' % query)
 * 
 */
  __pyx_t_7 = (__pyx_v_mobj == Py_None);
  __pyx_t_8 = (__pyx_t_7 != 0);
  if (__pyx_t_8) {

    /* "youtube_dl/extractor/common.py":1868
 *         mobj = re.match(self._make_valid_url(), query)
 *         if mobj is None:
 *             raise ExtractorError('Invalid search query "%s"' % query)             # <<<<<<<<<<<<<<
 * 
 *         prefix = mobj.group('prefix')
 */
    __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1868, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_5 = PyUnicode_Format(__pyx_kp_u_Invalid_search_query_s, __pyx_v_query); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1868, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_2 = NULL;
    if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_2);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
      }
    }
    if (!__pyx_t_2) {
      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1868, __pyx_L1_error)
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_GOTREF(__pyx_t_1);
    } else {
      __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1868, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2); __pyx_t_2 = NULL;
      __Pyx_GIVEREF(__pyx_t_5);
      PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_5);
      __pyx_t_5 = 0;
      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1868, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    }
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_1, 0, 0, 0);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __PYX_ERR(0, 1868, __pyx_L1_error)

    /* "youtube_dl/extractor/common.py":1867
 *     def _real_extract(self, query):
 *         mobj = re.match(self._make_valid_url(), query)
 *         if mobj is None:             # <<<<<<<<<<<<<<
 *             raise ExtractorError('Invalid search query "%s"' % query)
 * 
 */
  }

  /* "youtube_dl/extractor/common.py":1870
 *             raise ExtractorError('Invalid search query "%s"' % query)
 * 
 *         prefix = mobj.group('prefix')             # <<<<<<<<<<<<<<
 *         query = mobj.group('query')
 *         if prefix == '':
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_mobj, __pyx_n_s_group); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1870, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__240, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1870, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_prefix = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "youtube_dl/extractor/common.py":1871
 * 
 *         prefix = mobj.group('prefix')
 *         query = mobj.group('query')             # <<<<<<<<<<<<<<
 *         if prefix == '':
 *             return self._get_n_results(query, 1)
 */
  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_mobj, __pyx_n_s_group); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1871, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__241, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1871, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF_SET(__pyx_v_query, __pyx_t_1);
  __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1872
 *         prefix = mobj.group('prefix')
 *         query = mobj.group('query')
 *         if prefix == '':             # <<<<<<<<<<<<<<
 *             return self._get_n_results(query, 1)
 *         elif prefix == 'all':
 */
  __pyx_t_8 = (__Pyx_PyUnicode_Equals(__pyx_v_prefix, __pyx_kp_u__14, Py_EQ)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 1872, __pyx_L1_error)
  if (__pyx_t_8) {

    /* "youtube_dl/extractor/common.py":1873
 *         query = mobj.group('query')
 *         if prefix == '':
 *             return self._get_n_results(query, 1)             # <<<<<<<<<<<<<<
 *         elif prefix == 'all':
 *             return self._get_n_results(query, self._MAX_RESULTS)
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_get_n_results); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1873, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_4);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
        __pyx_t_6 = 1;
      }
    }
    __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1873, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    if (__pyx_t_4) {
      __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
    }
    __Pyx_INCREF(__pyx_v_query);
    __Pyx_GIVEREF(__pyx_v_query);
    PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_6, __pyx_v_query);
    __Pyx_INCREF(__pyx_int_1);
    __Pyx_GIVEREF(__pyx_int_1);
    PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_6, __pyx_int_1);
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1873, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1872
 *         prefix = mobj.group('prefix')
 *         query = mobj.group('query')
 *         if prefix == '':             # <<<<<<<<<<<<<<
 *             return self._get_n_results(query, 1)
 *         elif prefix == 'all':
 */
  }

  /* "youtube_dl/extractor/common.py":1874
 *         if prefix == '':
 *             return self._get_n_results(query, 1)
 *         elif prefix == 'all':             # <<<<<<<<<<<<<<
 *             return self._get_n_results(query, self._MAX_RESULTS)
 *         else:
 */
  __pyx_t_8 = (__Pyx_PyUnicode_Equals(__pyx_v_prefix, __pyx_n_u_all, Py_EQ)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 1874, __pyx_L1_error)
  if (__pyx_t_8) {

    /* "youtube_dl/extractor/common.py":1875
 *             return self._get_n_results(query, 1)
 *         elif prefix == 'all':
 *             return self._get_n_results(query, self._MAX_RESULTS)             # <<<<<<<<<<<<<<
 *         else:
 *             n = int(prefix)
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_get_n_results); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1875, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_MAX_RESULTS); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1875, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_3))) {
      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
        __Pyx_INCREF(__pyx_t_4);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_3, function);
        __pyx_t_6 = 1;
      }
    }
    __pyx_t_2 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1875, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_2);
    if (__pyx_t_4) {
      __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_4); __pyx_t_4 = NULL;
    }
    __Pyx_INCREF(__pyx_v_query);
    __Pyx_GIVEREF(__pyx_v_query);
    PyTuple_SET_ITEM(__pyx_t_2, 0+__pyx_t_6, __pyx_v_query);
    __Pyx_GIVEREF(__pyx_t_5);
    PyTuple_SET_ITEM(__pyx_t_2, 1+__pyx_t_6, __pyx_t_5);
    __pyx_t_5 = 0;
    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1875, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;

    /* "youtube_dl/extractor/common.py":1874
 *         if prefix == '':
 *             return self._get_n_results(query, 1)
 *         elif prefix == 'all':             # <<<<<<<<<<<<<<
 *             return self._get_n_results(query, self._MAX_RESULTS)
 *         else:
 */
  }

  /* "youtube_dl/extractor/common.py":1877
 *             return self._get_n_results(query, self._MAX_RESULTS)
 *         else:
 *             n = int(prefix)             # <<<<<<<<<<<<<<
 *             if n <= 0:
 *                 raise ExtractorError('invalid download number %s for query "%s"' % (n, query))
 */
  /*else*/ {
    __pyx_t_1 = __Pyx_PyNumber_Int(__pyx_v_prefix); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1877, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_v_n = __pyx_t_1;
    __pyx_t_1 = 0;

    /* "youtube_dl/extractor/common.py":1878
 *         else:
 *             n = int(prefix)
 *             if n <= 0:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError('invalid download number %s for query "%s"' % (n, query))
 *             elif n > self._MAX_RESULTS:
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_n, __pyx_int_0, Py_LE); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1878, __pyx_L1_error)
    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 1878, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_8) {

      /* "youtube_dl/extractor/common.py":1879
 *             n = int(prefix)
 *             if n <= 0:
 *                 raise ExtractorError('invalid download number %s for query "%s"' % (n, query))             # <<<<<<<<<<<<<<
 *             elif n > self._MAX_RESULTS:
 *                 self._downloader.report_warning('%s returns max %i results (you requested %i)' % (self._SEARCH_KEY, self._MAX_RESULTS, n))
 */
      __pyx_t_3 = __Pyx_GetModuleGlobalName(__pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1879, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1879, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_INCREF(__pyx_v_n);
      __Pyx_GIVEREF(__pyx_v_n);
      PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_n);
      __Pyx_INCREF(__pyx_v_query);
      __Pyx_GIVEREF(__pyx_v_query);
      PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_query);
      __pyx_t_5 = PyUnicode_Format(__pyx_kp_u_invalid_download_number_s_for_qu, __pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1879, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && unlikely(PyMethod_Check(__pyx_t_3))) {
        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
        if (likely(__pyx_t_2)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
          __Pyx_INCREF(__pyx_t_2);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_3, function);
        }
      }
      if (!__pyx_t_2) {
        __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1879, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __Pyx_GOTREF(__pyx_t_1);
      } else {
        __pyx_t_4 = PyTuple_New(1+1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1879, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2); __pyx_t_2 = NULL;
        __Pyx_GIVEREF(__pyx_t_5);
        PyTuple_SET_ITEM(__pyx_t_4, 0+1, __pyx_t_5);
        __pyx_t_5 = 0;
        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1879, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      }
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_Raise(__pyx_t_1, 0, 0, 0);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __PYX_ERR(0, 1879, __pyx_L1_error)

      /* "youtube_dl/extractor/common.py":1878
 *         else:
 *             n = int(prefix)
 *             if n <= 0:             # <<<<<<<<<<<<<<
 *                 raise ExtractorError('invalid download number %s for query "%s"' % (n, query))
 *             elif n > self._MAX_RESULTS:
 */
    }

    /* "youtube_dl/extractor/common.py":1880
 *             if n <= 0:
 *                 raise ExtractorError('invalid download number %s for query "%s"' % (n, query))
 *             elif n > self._MAX_RESULTS:             # <<<<<<<<<<<<<<
 *                 self._downloader.report_warning('%s returns max %i results (you requested %i)' % (self._SEARCH_KEY, self._MAX_RESULTS, n))
 *                 n = self._MAX_RESULTS
 */
    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_MAX_RESULTS); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1880, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = PyObject_RichCompare(__pyx_v_n, __pyx_t_1, Py_GT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1880, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 1880, __pyx_L1_error)
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_8) {

      /* "youtube_dl/extractor/common.py":1881
 *                 raise ExtractorError('invalid download number %s for query "%s"' % (n, query))
 *             elif n > self._MAX_RESULTS:
 *                 self._downloader.report_warning('%s returns max %i results (you requested %i)' % (self._SEARCH_KEY, self._MAX_RESULTS, n))             # <<<<<<<<<<<<<<
 *                 n = self._MAX_RESULTS
 *             return self._get_n_results(query, n)
 */
      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_downloader_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1881, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_report_warning); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1881, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_SEARCH_KEY); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1881, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_MAX_RESULTS); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1881, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1881, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_GIVEREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
      __Pyx_GIVEREF(__pyx_t_5);
      PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_5);
      __Pyx_INCREF(__pyx_v_n);
      __Pyx_GIVEREF(__pyx_v_n);
      PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_v_n);
      __pyx_t_1 = 0;
      __pyx_t_5 = 0;
      __pyx_t_5 = PyUnicode_Format(__pyx_kp_u_s_returns_max_i_results_you_req, __pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1881, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_4);
        if (likely(__pyx_t_2)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
          __Pyx_INCREF(__pyx_t_2);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_4, function);
        }
      }
      if (!__pyx_t_2) {
        __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1881, __pyx_L1_error)
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __Pyx_GOTREF(__pyx_t_3);
      } else {
        __pyx_t_1 = PyTuple_New(1+1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1881, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2); __pyx_t_2 = NULL;
        __Pyx_GIVEREF(__pyx_t_5);
        PyTuple_SET_ITEM(__pyx_t_1, 0+1, __pyx_t_5);
        __pyx_t_5 = 0;
        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1881, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      }
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1882
 *             elif n > self._MAX_RESULTS:
 *                 self._downloader.report_warning('%s returns max %i results (you requested %i)' % (self._SEARCH_KEY, self._MAX_RESULTS, n))
 *                 n = self._MAX_RESULTS             # <<<<<<<<<<<<<<
 *             return self._get_n_results(query, n)
 * 
 */
      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_MAX_RESULTS); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1882, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF_SET(__pyx_v_n, __pyx_t_3);
      __pyx_t_3 = 0;

      /* "youtube_dl/extractor/common.py":1880
 *             if n <= 0:
 *                 raise ExtractorError('invalid download number %s for query "%s"' % (n, query))
 *             elif n > self._MAX_RESULTS:             # <<<<<<<<<<<<<<
 *                 self._downloader.report_warning('%s returns max %i results (you requested %i)' % (self._SEARCH_KEY, self._MAX_RESULTS, n))
 *                 n = self._MAX_RESULTS
 */
    }

    /* "youtube_dl/extractor/common.py":1883
 *                 self._downloader.report_warning('%s returns max %i results (you requested %i)' % (self._SEARCH_KEY, self._MAX_RESULTS, n))
 *                 n = self._MAX_RESULTS
 *             return self._get_n_results(query, n)             # <<<<<<<<<<<<<<
 * 
 *     def _get_n_results(self, query, n):
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_get_n_results); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1883, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    if (CYTHON_COMPILING_IN_CPYTHON && likely(PyMethod_Check(__pyx_t_4))) {
      __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_4);
      if (likely(__pyx_t_1)) {
        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
        __Pyx_INCREF(__pyx_t_1);
        __Pyx_INCREF(function);
        __Pyx_DECREF_SET(__pyx_t_4, function);
        __pyx_t_6 = 1;
      }
    }
    __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1883, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_5);
    if (__pyx_t_1) {
      __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_1); __pyx_t_1 = NULL;
    }
    __Pyx_INCREF(__pyx_v_query);
    __Pyx_GIVEREF(__pyx_v_query);
    PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_6, __pyx_v_query);
    __Pyx_INCREF(__pyx_v_n);
    __Pyx_GIVEREF(__pyx_v_n);
    PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_6, __pyx_v_n);
    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_5, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1883, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;
  }

  /* "youtube_dl/extractor/common.py":1865
 *         return re.match(cls._make_valid_url(), url) is not None
 * 
 *     def _real_extract(self, query):             # <<<<<<<<<<<<<<
 *         mobj = re.match(self._make_valid_url(), query)
 *         if mobj is None:
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("youtube_dl.extractor.common.SearchInfoExtractor._real_extract", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_mobj);
  __Pyx_XDECREF(__pyx_v_prefix);
  __Pyx_XDECREF(__pyx_v_n);
  __Pyx_XDECREF(__pyx_v_query);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1885
 *             return self._get_n_results(query, n)
 * 
 *     def _get_n_results(self, query, n):             # <<<<<<<<<<<<<<
 *         """Get a specified number of results for a query"""
 *         raise NotImplementedError('This method must be implemented by subclasses')
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_7_get_n_results(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_10youtube_dl_9extractor_6common_19SearchInfoExtractor_6_get_n_results[] = "Get a specified number of results for a query";
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_7_get_n_results = {"_get_n_results", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_7_get_n_results, METH_VARARGS|METH_KEYWORDS, __pyx_doc_10youtube_dl_9extractor_6common_19SearchInfoExtractor_6_get_n_results};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_7_get_n_results(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
  CYTHON_UNUSED PyObject *__pyx_v_query = 0;
  CYTHON_UNUSED PyObject *__pyx_v_n = 0;
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("_get_n_results (wrapper)", 0);
  {
    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_query,&__pyx_n_s_n,0};
    PyObject* values[3] = {0,0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = PyDict_Size(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (likely((values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_query)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_get_n_results", 1, 3, 3, 1); __PYX_ERR(0, 1885, __pyx_L3_error)
        }
        case  2:
        if (likely((values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s_n)) != 0)) kw_args--;
        else {
          __Pyx_RaiseArgtupleInvalid("_get_n_results", 1, 3, 3, 2); __PYX_ERR(0, 1885, __pyx_L3_error)
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_get_n_results") < 0)) __PYX_ERR(0, 1885, __pyx_L3_error)
      }
    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
    }
    __pyx_v_self = values[0];
    __pyx_v_query = values[1];
    __pyx_v_n = values[2];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_get_n_results", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1885, __pyx_L3_error)
  __pyx_L3_error:;
  __Pyx_AddTraceback("youtube_dl.extractor.common.SearchInfoExtractor._get_n_results", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_6_get_n_results(__pyx_self, __pyx_v_self, __pyx_v_query, __pyx_v_n);

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_6_get_n_results(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_query, CYTHON_UNUSED PyObject *__pyx_v_n) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("_get_n_results", 0);

  /* "youtube_dl/extractor/common.py":1887
 *     def _get_n_results(self, query, n):
 *         """Get a specified number of results for a query"""
 *         raise NotImplementedError('This method must be implemented by subclasses')             # <<<<<<<<<<<<<<
 * 
 *     @property
 */
  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__242, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1887, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __PYX_ERR(0, 1887, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1885
 *             return self._get_n_results(query, n)
 * 
 *     def _get_n_results(self, query, n):             # <<<<<<<<<<<<<<
 *         """Get a specified number of results for a query"""
 *         raise NotImplementedError('This method must be implemented by subclasses')
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("youtube_dl.extractor.common.SearchInfoExtractor._get_n_results", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "youtube_dl/extractor/common.py":1890
 * 
 *     @property
 *     def SEARCH_KEY(self):             # <<<<<<<<<<<<<<
 *         return self._SEARCH_KEY
 */

/* Python wrapper */
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_9SEARCH_KEY(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_9SEARCH_KEY = {"SEARCH_KEY", (PyCFunction)__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_9SEARCH_KEY, METH_O, 0};
static PyObject *__pyx_pw_10youtube_dl_9extractor_6common_19SearchInfoExtractor_9SEARCH_KEY(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = 0;
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("SEARCH_KEY (wrapper)", 0);
  __pyx_r = __pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_8SEARCH_KEY(__pyx_self, ((PyObject *)__pyx_v_self));

  /* function exit code */
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_10youtube_dl_9extractor_6common_19SearchInfoExtractor_8SEARCH_KEY(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("SEARCH_KEY", 0);

  /* "youtube_dl/extractor/common.py":1891
 *     @property
 *     def SEARCH_KEY(self):
 *         return self._SEARCH_KEY             # <<<<<<<<<<<<<<
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_SEARCH_KEY); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1891, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* "youtube_dl/extractor/common.py":1890
 * 
 *     @property
 *     def SEARCH_KEY(self):             # <<<<<<<<<<<<<<
 *         return self._SEARCH_KEY
 */

  /* function exit code */
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("youtube_dl.extractor.common.SearchInfoExtractor.SEARCH_KEY", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_v_mobj);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *)o;
  if (p->__pyx_v_mobj) {
    e = (*v)(p->__pyx_v_mobj, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *)o;
  tmp = ((PyObject*)p->__pyx_v_mobj);
  p->__pyx_v_mobj = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct___search_regex", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_outer_scope);
  Py_CLEAR(p->__pyx_v_g);
  Py_CLEAR(p->__pyx_t_0);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *)o;
  if (p->__pyx_outer_scope) {
    e = (*v)(((PyObject*)p->__pyx_outer_scope), a); if (e) return e;
  }
  if (p->__pyx_v_g) {
    e = (*v)(p->__pyx_v_g, a); if (e) return e;
  }
  if (p->__pyx_t_0) {
    e = (*v)(p->__pyx_t_0, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr *)o;
  tmp = ((PyObject*)p->__pyx_outer_scope);
  p->__pyx_outer_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_g);
  p->__pyx_v_g = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_t_0);
  p->__pyx_t_0 = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_1_genexpr", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_v_info);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *)o;
  if (p->__pyx_v_info) {
    e = (*v)(p->__pyx_v_info, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *)o;
  tmp = ((PyObject*)p->__pyx_v_info);
  p->__pyx_v_info = ((PyObject*)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_2__json_ld", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_outer_scope);
  Py_CLEAR(p->__pyx_v_k);
  Py_CLEAR(p->__pyx_v_v);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *)o;
  if (p->__pyx_outer_scope) {
    e = (*v)(((PyObject*)p->__pyx_outer_scope), a); if (e) return e;
  }
  if (p->__pyx_v_k) {
    e = (*v)(p->__pyx_v_k, a); if (e) return e;
  }
  if (p->__pyx_v_v) {
    e = (*v)(p->__pyx_v_v, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr *)o;
  tmp = ((PyObject*)p->__pyx_outer_scope);
  p->__pyx_outer_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_k);
  p->__pyx_v_k = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_v);
  p->__pyx_v_v = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_3_genexpr", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_v_field_preference);
  Py_CLEAR(p->__pyx_v_self);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *)o;
  if (p->__pyx_v_field_preference) {
    e = (*v)(p->__pyx_v_field_preference, a); if (e) return e;
  }
  if (p->__pyx_v_self) {
    e = (*v)(p->__pyx_v_self, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *)o;
  tmp = ((PyObject*)p->__pyx_v_field_preference);
  p->__pyx_v_field_preference = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_self);
  p->__pyx_v_self = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_4__sort_formats", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_outer_scope);
  Py_CLEAR(p->__pyx_v_f);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *)o;
  if (p->__pyx_outer_scope) {
    e = (*v)(((PyObject*)p->__pyx_outer_scope), a); if (e) return e;
  }
  if (p->__pyx_v_f) {
    e = (*v)(p->__pyx_v_f, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *)o;
  tmp = ((PyObject*)p->__pyx_outer_scope);
  p->__pyx_outer_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_f);
  p->__pyx_v_f = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_5__formats_key", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_outer_scope);
  Py_CLEAR(p->__pyx_v_field);
  Py_CLEAR(p->__pyx_t_0);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *)o;
  if (p->__pyx_outer_scope) {
    e = (*v)(((PyObject*)p->__pyx_outer_scope), a); if (e) return e;
  }
  if (p->__pyx_v_field) {
    e = (*v)(p->__pyx_v_field, a); if (e) return e;
  }
  if (p->__pyx_t_0) {
    e = (*v)(p->__pyx_t_0, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr *)o;
  tmp = ((PyObject*)p->__pyx_outer_scope);
  p->__pyx_outer_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_field);
  p->__pyx_v_field = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_t_0);
  p->__pyx_t_0 = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_6_genexpr", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_v_self);
  Py_CLEAR(p->__pyx_v_video_id);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *)o;
  if (p->__pyx_v_self) {
    e = (*v)(p->__pyx_v_self, a); if (e) return e;
  }
  if (p->__pyx_v_video_id) {
    e = (*v)(p->__pyx_v_video_id, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats *)o;
  tmp = ((PyObject*)p->__pyx_v_self);
  p->__pyx_v_self = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_video_id);
  p->__pyx_v_video_id = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_7__check_formats", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_v_m3u8_url);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *)o;
  if (p->__pyx_v_m3u8_url) {
    e = (*v)(p->__pyx_v_m3u8_url, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats *)o;
  tmp = ((PyObject*)p->__pyx_v_m3u8_url);
  p->__pyx_v_m3u8_url = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_8__extract_m3u8_formats", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_v__add_ns);
  Py_CLEAR(p->__pyx_v_formats);
  Py_CLEAR(p->__pyx_v_media_template);
  Py_CLEAR(p->__pyx_v_namespace);
  Py_CLEAR(p->__pyx_v_representation_attrib);
  Py_CLEAR(p->__pyx_v_representation_id);
  Py_CLEAR(p->__pyx_v_representation_ms_info);
  Py_CLEAR(p->__pyx_v_segment_time);
  Py_CLEAR(p->__pyx_v_self);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *)o;
  if (p->__pyx_v__add_ns) {
    e = (*v)(p->__pyx_v__add_ns, a); if (e) return e;
  }
  if (p->__pyx_v_formats) {
    e = (*v)(p->__pyx_v_formats, a); if (e) return e;
  }
  if (p->__pyx_v_media_template) {
    e = (*v)(p->__pyx_v_media_template, a); if (e) return e;
  }
  if (p->__pyx_v_namespace) {
    e = (*v)(p->__pyx_v_namespace, a); if (e) return e;
  }
  if (p->__pyx_v_representation_attrib) {
    e = (*v)(p->__pyx_v_representation_attrib, a); if (e) return e;
  }
  if (p->__pyx_v_representation_id) {
    e = (*v)(p->__pyx_v_representation_id, a); if (e) return e;
  }
  if (p->__pyx_v_representation_ms_info) {
    e = (*v)(p->__pyx_v_representation_ms_info, a); if (e) return e;
  }
  if (p->__pyx_v_segment_time) {
    e = (*v)(p->__pyx_v_segment_time, a); if (e) return e;
  }
  if (p->__pyx_v_self) {
    e = (*v)(p->__pyx_v_self, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *)o;
  tmp = ((PyObject*)p->__pyx_v__add_ns);
  p->__pyx_v__add_ns = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_formats);
  p->__pyx_v_formats = ((PyObject*)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_media_template);
  p->__pyx_v_media_template = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_namespace);
  p->__pyx_v_namespace = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_representation_attrib);
  p->__pyx_v_representation_attrib = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_representation_id);
  p->__pyx_v_representation_id = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_representation_ms_info);
  p->__pyx_v_representation_ms_info = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_segment_time);
  p->__pyx_v_segment_time = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_self);
  p->__pyx_v_self = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_9__parse_mpd_formats", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_outer_scope);
  Py_CLEAR(p->__pyx_v_fo);
  Py_CLEAR(p->__pyx_t_0);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *)o;
  if (p->__pyx_outer_scope) {
    e = (*v)(((PyObject*)p->__pyx_outer_scope), a); if (e) return e;
  }
  if (p->__pyx_v_fo) {
    e = (*v)(p->__pyx_v_fo, a); if (e) return e;
  }
  if (p->__pyx_t_0) {
    e = (*v)(p->__pyx_t_0, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr *)o;
  tmp = ((PyObject*)p->__pyx_outer_scope);
  p->__pyx_outer_scope = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_fo);
  p->__pyx_v_fo = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_t_0);
  p->__pyx_t_0 = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_10_genexpr", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_v_base_url);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *)o;
  if (p->__pyx_v_base_url) {
    e = (*v)(p->__pyx_v_base_url, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries *)o;
  tmp = ((PyObject*)p->__pyx_v_base_url);
  p->__pyx_v_base_url = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_11__parse_html5_media_entries", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases[8];
static int __pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases = 0;

static PyObject *__pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
  PyObject *o;
  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases)))) {
    o = (PyObject*)__pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases[--__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases];
    memset(o, 0, sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases));
    (void) PyObject_INIT(o, t);
    PyObject_GC_Track(o);
  } else {
    o = (*t->tp_alloc)(t, 0);
    if (unlikely(!o)) return 0;
  }
  return o;
}

static void __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases(PyObject *o) {
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *)o;
  PyObject_GC_UnTrack(o);
  Py_CLEAR(p->__pyx_v_include_onlymatching);
  Py_CLEAR(p->__pyx_v_self);
  Py_CLEAR(p->__pyx_v_t);
  Py_CLEAR(p->__pyx_v_tests);
  Py_CLEAR(p->__pyx_t_0);
  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases)))) {
    __pyx_freelist_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases[__pyx_freecount_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases++] = ((struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *)o);
  } else {
    (*Py_TYPE(o)->tp_free)(o);
  }
}

static int __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *)o;
  if (p->__pyx_v_include_onlymatching) {
    e = (*v)(p->__pyx_v_include_onlymatching, a); if (e) return e;
  }
  if (p->__pyx_v_self) {
    e = (*v)(p->__pyx_v_self, a); if (e) return e;
  }
  if (p->__pyx_v_t) {
    e = (*v)(p->__pyx_v_t, a); if (e) return e;
  }
  if (p->__pyx_v_tests) {
    e = (*v)(p->__pyx_v_tests, a); if (e) return e;
  }
  if (p->__pyx_t_0) {
    e = (*v)(p->__pyx_t_0, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases(PyObject *o) {
  PyObject* tmp;
  struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *p = (struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases *)o;
  tmp = ((PyObject*)p->__pyx_v_include_onlymatching);
  p->__pyx_v_include_onlymatching = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_self);
  p->__pyx_v_self = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_t);
  p->__pyx_v_t = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_v_tests);
  p->__pyx_v_tests = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->__pyx_t_0);
  p->__pyx_t_0 = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyTypeObject __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases = {
  PyVarObject_HEAD_INIT(0, 0)
  "youtube_dl.extractor.common.__pyx_scope_struct_12_get_testcases", /*tp_name*/
  sizeof(struct __pyx_obj_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #endif
  #if PY_MAJOR_VERSION >= 3
  0, /*tp_as_async*/
  #endif
  0, /*tp_repr*/
  0, /*tp_as_number*/
  0, /*tp_as_sequence*/
  0, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  0, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases, /*tp_traverse*/
  __pyx_tp_clear_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  0, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  0, /*tp_version_tag*/
  #if PY_VERSION_HEX >= 0x030400a1
  0, /*tp_finalize*/
  #endif
};

static PyMethodDef __pyx_methods[] = {
  {0, 0, 0, 0}
};

#if PY_MAJOR_VERSION >= 3
static struct PyModuleDef __pyx_moduledef = {
  #if PY_VERSION_HEX < 0x03020000
    { PyObject_HEAD_INIT(NULL) NULL, 0, NULL },
  #else
    PyModuleDef_HEAD_INIT,
  #endif
    "common",
    0, /* m_doc */
    -1, /* m_size */
    __pyx_methods /* m_methods */,
    NULL, /* m_reload */
    NULL, /* m_traverse */
    NULL, /* m_clear */
    NULL /* m_free */
};
#endif

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_kp_u_0, __pyx_k_0, sizeof(__pyx_k_0), 0, 1, 0, 0},
  {&__pyx_kp_u_0_34m_s_0m, __pyx_k_0_34m_s_0m, sizeof(__pyx_k_0_34m_s_0m), 0, 1, 0, 0},
  {&__pyx_kp_u_1, __pyx_k_1, sizeof(__pyx_k_1), 0, 1, 0, 0},
  {&__pyx_kp_u_14_years, __pyx_k_14_years, sizeof(__pyx_k_14_years), 0, 1, 0, 0},
  {&__pyx_kp_u_1_0, __pyx_k_1_0, sizeof(__pyx_k_1_0), 0, 1, 0, 0},
  {&__pyx_kp_u_1_2, __pyx_k_1_2, sizeof(__pyx_k_1_2), 0, 1, 0, 0},
  {&__pyx_kp_u_1_d, __pyx_k_1_d, sizeof(__pyx_k_1_d), 0, 1, 0, 0},
  {&__pyx_kp_u_2_0, __pyx_k_2_0, sizeof(__pyx_k_2_0), 0, 1, 0, 0},
  {&__pyx_kp_u_3_2_0, __pyx_k_3_2_0, sizeof(__pyx_k_3_2_0), 0, 1, 0, 0},
  {&__pyx_kp_u_A_network_error_has_occurred, __pyx_k_A_network_error_has_occurred, sizeof(__pyx_k_A_network_error_has_occurred), 0, 1, 0, 0},
  {&__pyx_kp_u_Access_to_this_webpage_has_been, __pyx_k_Access_to_this_webpage_has_been, sizeof(__pyx_k_Access_to_this_webpage_has_been), 0, 1, 0, 0},
  {&__pyx_kp_u_Access_to_this_webpage_has_been_2, __pyx_k_Access_to_this_webpage_has_been_2, sizeof(__pyx_k_Access_to_this_webpage_has_been_2), 0, 1, 0, 0},
  {&__pyx_n_u_AdaptationSet, __pyx_k_AdaptationSet, sizeof(__pyx_k_AdaptationSet), 0, 1, 0, 1},
  {&__pyx_kp_u_An_extractor_error_has_occurred, __pyx_k_An_extractor_error_has_occurred, sizeof(__pyx_k_An_extractor_error_has_occurred), 0, 1, 0, 0},
  {&__pyx_n_u_Article, __pyx_k_Article, sizeof(__pyx_k_Article), 0, 1, 0, 1},
  {&__pyx_n_s_AttributeError, __pyx_k_AttributeError, sizeof(__pyx_k_AttributeError), 0, 0, 1, 1},
  {&__pyx_n_u_BANDWIDTH, __pyx_k_BANDWIDTH, sizeof(__pyx_k_BANDWIDTH), 0, 1, 0, 1},
  {&__pyx_n_u_Bandwidth, __pyx_k_Bandwidth, sizeof(__pyx_k_Bandwidth), 0, 1, 0, 1},
  {&__pyx_n_u_BaseURL, __pyx_k_BaseURL, sizeof(__pyx_k_BaseURL), 0, 1, 0, 1},
  {&__pyx_kp_s_Base_class_for_paged_search_que, __pyx_k_Base_class_for_paged_search_que, sizeof(__pyx_k_Base_class_for_paged_search_que), 0, 0, 1, 0},
  {&__pyx_kp_u_CLOSED_CAPTIONS, __pyx_k_CLOSED_CAPTIONS, sizeof(__pyx_k_CLOSED_CAPTIONS), 0, 1, 0, 0},
  {&__pyx_n_u_CODECS, __pyx_k_CODECS, sizeof(__pyx_k_CODECS), 0, 1, 0, 1},
  {&__pyx_kp_u_Checking_s_URL, __pyx_k_Checking_s_URL, sizeof(__pyx_k_Checking_s_URL), 0, 1, 0, 0},
  {&__pyx_kp_u_Confirming_age, __pyx_k_Confirming_age, sizeof(__pyx_k_Confirming_age), 0, 1, 0, 0},
  {&__pyx_n_u_ContentProtection, __pyx_k_ContentProtection, sizeof(__pyx_k_ContentProtection), 0, 1, 0, 1},
  {&__pyx_kp_u_Content_Type, __pyx_k_Content_Type, sizeof(__pyx_k_Content_Type), 0, 1, 0, 0},
  {&__pyx_n_s_Cookie, __pyx_k_Cookie, sizeof(__pyx_k_Cookie), 0, 0, 1, 1},
  {&__pyx_n_u_Cookie, __pyx_k_Cookie, sizeof(__pyx_k_Cookie), 0, 1, 0, 1},
  {&__pyx_kp_u_DASH_s, __pyx_k_DASH_s, sizeof(__pyx_k_DASH_s), 0, 1, 0, 0},
  {&__pyx_n_s_DOTALL, __pyx_k_DOTALL, sizeof(__pyx_k_DOTALL), 0, 0, 1, 1},
  {&__pyx_kp_u_Downloading_JSON_metadata, __pyx_k_Downloading_JSON_metadata, sizeof(__pyx_k_Downloading_JSON_metadata), 0, 1, 0, 0},
  {&__pyx_kp_u_Downloading_MPD_manifest, __pyx_k_Downloading_MPD_manifest, sizeof(__pyx_k_Downloading_MPD_manifest), 0, 1, 0, 0},
  {&__pyx_kp_u_Downloading_SMIL_file, __pyx_k_Downloading_SMIL_file, sizeof(__pyx_k_Downloading_SMIL_file), 0, 1, 0, 0},
  {&__pyx_kp_u_Downloading_XML, __pyx_k_Downloading_XML, sizeof(__pyx_k_Downloading_XML), 0, 1, 0, 0},
  {&__pyx_kp_u_Downloading_f4m_manifest, __pyx_k_Downloading_f4m_manifest, sizeof(__pyx_k_Downloading_f4m_manifest), 0, 1, 0, 0},
  {&__pyx_kp_u_Downloading_m3u8_information, __pyx_k_Downloading_m3u8_information, sizeof(__pyx_k_Downloading_m3u8_information), 0, 1, 0, 0},
  {&__pyx_kp_u_Downloading_xpsf_playlist, __pyx_k_Downloading_xpsf_playlist, sizeof(__pyx_k_Downloading_xpsf_playlist), 0, 1, 0, 0},
  {&__pyx_kp_u_Dumping_request_to, __pyx_k_Dumping_request_to, sizeof(__pyx_k_Dumping_request_to), 0, 1, 0, 0},
  {&__pyx_kp_u_EXT_X_MEDIA, __pyx_k_EXT_X_MEDIA, sizeof(__pyx_k_EXT_X_MEDIA), 0, 1, 0, 0},
  {&__pyx_kp_u_EXT_X_STREAM_INF, __pyx_k_EXT_X_STREAM_INF, sizeof(__pyx_k_EXT_X_STREAM_INF), 0, 1, 0, 0},
  {&__pyx_kp_u_EXT_X_TARGETDURATION, __pyx_k_EXT_X_TARGETDURATION, sizeof(__pyx_k_EXT_X_TARGETDURATION), 0, 1, 0, 0},
  {&__pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_k_E_Users_Elsword_Desktop_py_to_c, sizeof(__pyx_k_E_Users_Elsword_Desktop_py_to_c), 0, 0, 1, 0},
  {&__pyx_n_s_ExtractorError, __pyx_k_ExtractorError, sizeof(__pyx_k_ExtractorError), 0, 0, 1, 1},
  {&__pyx_kp_u_FRAME_RATE, __pyx_k_FRAME_RATE, sizeof(__pyx_k_FRAME_RATE), 0, 1, 0, 0},
  {&__pyx_kp_u_Failed_to_download_MPD_manifest, __pyx_k_Failed_to_download_MPD_manifest, sizeof(__pyx_k_Failed_to_download_MPD_manifest), 0, 1, 0, 0},
  {&__pyx_kp_u_Failed_to_download_m3u8_informat, __pyx_k_Failed_to_download_m3u8_informat, sizeof(__pyx_k_Failed_to_download_m3u8_informat), 0, 1, 0, 0},
  {&__pyx_kp_u_Failed_to_extract_s_Could_not_pa, __pyx_k_Failed_to_extract_s_Could_not_pa, sizeof(__pyx_k_Failed_to_extract_s_Could_not_pa), 0, 1, 0, 0},
  {&__pyx_n_s_HTTPException, __pyx_k_HTTPException, sizeof(__pyx_k_HTTPException), 0, 0, 1, 1},
  {&__pyx_n_u_IE, __pyx_k_IE, sizeof(__pyx_k_IE), 0, 1, 0, 1},
  {&__pyx_n_s_IE_NAME, __pyx_k_IE_NAME, sizeof(__pyx_k_IE_NAME), 0, 0, 1, 1},
  {&__pyx_n_s_IOError, __pyx_k_IOError, sizeof(__pyx_k_IOError), 0, 0, 1, 1},
  {&__pyx_n_s_IncompleteRead, __pyx_k_IncompleteRead, sizeof(__pyx_k_IncompleteRead), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor, __pyx_k_InfoExtractor, sizeof(__pyx_k_InfoExtractor), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_IE_NAME, __pyx_k_InfoExtractor_IE_NAME, sizeof(__pyx_k_InfoExtractor_IE_NAME), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor___init, __pyx_k_InfoExtractor___init, sizeof(__pyx_k_InfoExtractor___init), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__check_formats, __pyx_k_InfoExtractor__check_formats, sizeof(__pyx_k_InfoExtractor__check_formats), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__check_formats_loc, __pyx_k_InfoExtractor__check_formats_loc, sizeof(__pyx_k_InfoExtractor__check_formats_loc), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__dc_search_uploade, __pyx_k_InfoExtractor__dc_search_uploade, sizeof(__pyx_k_InfoExtractor__dc_search_uploade), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__download_json, __pyx_k_InfoExtractor__download_json, sizeof(__pyx_k_InfoExtractor__download_json), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__download_smil, __pyx_k_InfoExtractor__download_smil, sizeof(__pyx_k_InfoExtractor__download_smil), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__download_webpage, __pyx_k_InfoExtractor__download_webpage, sizeof(__pyx_k_InfoExtractor__download_webpage), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__download_webpage_2, __pyx_k_InfoExtractor__download_webpage_2, sizeof(__pyx_k_InfoExtractor__download_webpage_2), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__download_xml, __pyx_k_InfoExtractor__download_xml, sizeof(__pyx_k_InfoExtractor__download_xml), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__extract_f4m_forma, __pyx_k_InfoExtractor__extract_f4m_forma, sizeof(__pyx_k_InfoExtractor__extract_f4m_forma), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__extract_f4m_forma_2, __pyx_k_InfoExtractor__extract_f4m_forma_2, sizeof(__pyx_k_InfoExtractor__extract_f4m_forma_2), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__extract_m3u8_form, __pyx_k_InfoExtractor__extract_m3u8_form, sizeof(__pyx_k_InfoExtractor__extract_m3u8_form), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__extract_m3u8_form_2, __pyx_k_InfoExtractor__extract_m3u8_form_2, sizeof(__pyx_k_InfoExtractor__extract_m3u8_form_2), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__extract_mpd_forma, __pyx_k_InfoExtractor__extract_mpd_forma, sizeof(__pyx_k_InfoExtractor__extract_mpd_forma), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__extract_smil_form, __pyx_k_InfoExtractor__extract_smil_form, sizeof(__pyx_k_InfoExtractor__extract_smil_form), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__extract_smil_info, __pyx_k_InfoExtractor__extract_smil_info, sizeof(__pyx_k_InfoExtractor__extract_smil_info), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__extract_xspf_play, __pyx_k_InfoExtractor__extract_xspf_play, sizeof(__pyx_k_InfoExtractor__extract_xspf_play), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__family_friendly_s, __pyx_k_InfoExtractor__family_friendly_s, sizeof(__pyx_k_InfoExtractor__family_friendly_s), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__float, __pyx_k_InfoExtractor__float, sizeof(__pyx_k_InfoExtractor__float), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__form_hidden_input, __pyx_k_InfoExtractor__form_hidden_input, sizeof(__pyx_k_InfoExtractor__form_hidden_input), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__get_automatic_cap, __pyx_k_InfoExtractor__get_automatic_cap, sizeof(__pyx_k_InfoExtractor__get_automatic_cap), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__get_cookies, __pyx_k_InfoExtractor__get_cookies, sizeof(__pyx_k_InfoExtractor__get_cookies), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__get_login_info, __pyx_k_InfoExtractor__get_login_info, sizeof(__pyx_k_InfoExtractor__get_login_info), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__get_subtitles, __pyx_k_InfoExtractor__get_subtitles, sizeof(__pyx_k_InfoExtractor__get_subtitles), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__get_tfa_info, __pyx_k_InfoExtractor__get_tfa_info, sizeof(__pyx_k_InfoExtractor__get_tfa_info), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__guess_encoding_fr, __pyx_k_InfoExtractor__guess_encoding_fr, sizeof(__pyx_k_InfoExtractor__guess_encoding_fr), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__hidden_inputs, __pyx_k_InfoExtractor__hidden_inputs, sizeof(__pyx_k_InfoExtractor__hidden_inputs), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__html_search_meta, __pyx_k_InfoExtractor__html_search_meta, sizeof(__pyx_k_InfoExtractor__html_search_meta), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__html_search_regex, __pyx_k_InfoExtractor__html_search_regex, sizeof(__pyx_k_InfoExtractor__html_search_regex), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__int, __pyx_k_InfoExtractor__int, sizeof(__pyx_k_InfoExtractor__int), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__is_valid_url, __pyx_k_InfoExtractor__is_valid_url, sizeof(__pyx_k_InfoExtractor__is_valid_url), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__json_ld, __pyx_k_InfoExtractor__json_ld, sizeof(__pyx_k_InfoExtractor__json_ld), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__json_ld_locals_ge, __pyx_k_InfoExtractor__json_ld_locals_ge, sizeof(__pyx_k_InfoExtractor__json_ld_locals_ge), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__live_title, __pyx_k_InfoExtractor__live_title, sizeof(__pyx_k_InfoExtractor__live_title), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__m3u8_meta_format, __pyx_k_InfoExtractor__m3u8_meta_format, sizeof(__pyx_k_InfoExtractor__m3u8_meta_format), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__mark_watched, __pyx_k_InfoExtractor__mark_watched, sizeof(__pyx_k_InfoExtractor__mark_watched), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__match_id, __pyx_k_InfoExtractor__match_id, sizeof(__pyx_k_InfoExtractor__match_id), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__media_rating_sear, __pyx_k_InfoExtractor__media_rating_sear, sizeof(__pyx_k_InfoExtractor__media_rating_sear), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__merge_subtitle_it, __pyx_k_InfoExtractor__merge_subtitle_it, sizeof(__pyx_k_InfoExtractor__merge_subtitle_it), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__merge_subtitles, __pyx_k_InfoExtractor__merge_subtitles, sizeof(__pyx_k_InfoExtractor__merge_subtitles), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__meta_regex, __pyx_k_InfoExtractor__meta_regex, sizeof(__pyx_k_InfoExtractor__meta_regex), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__og_regexes, __pyx_k_InfoExtractor__og_regexes, sizeof(__pyx_k_InfoExtractor__og_regexes), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__og_search_descrip, __pyx_k_InfoExtractor__og_search_descrip, sizeof(__pyx_k_InfoExtractor__og_search_descrip), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__og_search_propert, __pyx_k_InfoExtractor__og_search_propert, sizeof(__pyx_k_InfoExtractor__og_search_propert), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__og_search_thumbna, __pyx_k_InfoExtractor__og_search_thumbna, sizeof(__pyx_k_InfoExtractor__og_search_thumbna), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__og_search_title, __pyx_k_InfoExtractor__og_search_title, sizeof(__pyx_k_InfoExtractor__og_search_title), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__og_search_url, __pyx_k_InfoExtractor__og_search_url, sizeof(__pyx_k_InfoExtractor__og_search_url), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__og_search_video_u, __pyx_k_InfoExtractor__og_search_video_u, sizeof(__pyx_k_InfoExtractor__og_search_video_u), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_f4m_formats, __pyx_k_InfoExtractor__parse_f4m_formats, sizeof(__pyx_k_InfoExtractor__parse_f4m_formats), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_f4m_formats_2, __pyx_k_InfoExtractor__parse_f4m_formats_2, sizeof(__pyx_k_InfoExtractor__parse_f4m_formats_2), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_html5_media, __pyx_k_InfoExtractor__parse_html5_media, sizeof(__pyx_k_InfoExtractor__parse_html5_media), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_html5_media_2, __pyx_k_InfoExtractor__parse_html5_media_2, sizeof(__pyx_k_InfoExtractor__parse_html5_media_2), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_html5_media_3, __pyx_k_InfoExtractor__parse_html5_media_3, sizeof(__pyx_k_InfoExtractor__parse_html5_media_3), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_json, __pyx_k_InfoExtractor__parse_json, sizeof(__pyx_k_InfoExtractor__parse_json), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_mpd_formats, __pyx_k_InfoExtractor__parse_mpd_formats, sizeof(__pyx_k_InfoExtractor__parse_mpd_formats), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_mpd_formats_2, __pyx_k_InfoExtractor__parse_mpd_formats_2, sizeof(__pyx_k_InfoExtractor__parse_mpd_formats_2), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_mpd_formats_3, __pyx_k_InfoExtractor__parse_mpd_formats_3, sizeof(__pyx_k_InfoExtractor__parse_mpd_formats_3), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_mpd_formats_4, __pyx_k_InfoExtractor__parse_mpd_formats_4, sizeof(__pyx_k_InfoExtractor__parse_mpd_formats_4), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_mpd_formats_5, __pyx_k_InfoExtractor__parse_mpd_formats_5, sizeof(__pyx_k_InfoExtractor__parse_mpd_formats_5), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_mpd_formats_6, __pyx_k_InfoExtractor__parse_mpd_formats_6, sizeof(__pyx_k_InfoExtractor__parse_mpd_formats_6), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_smil, __pyx_k_InfoExtractor__parse_smil, sizeof(__pyx_k_InfoExtractor__parse_smil), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_smil_format, __pyx_k_InfoExtractor__parse_smil_format, sizeof(__pyx_k_InfoExtractor__parse_smil_format), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_smil_namesp, __pyx_k_InfoExtractor__parse_smil_namesp, sizeof(__pyx_k_InfoExtractor__parse_smil_namesp), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_smil_subtit, __pyx_k_InfoExtractor__parse_smil_subtit, sizeof(__pyx_k_InfoExtractor__parse_smil_subtit), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__parse_xspf, __pyx_k_InfoExtractor__parse_xspf, sizeof(__pyx_k_InfoExtractor__parse_xspf), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__proto_relative_ur, __pyx_k_InfoExtractor__proto_relative_ur, sizeof(__pyx_k_InfoExtractor__proto_relative_ur), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__real_extract, __pyx_k_InfoExtractor__real_extract, sizeof(__pyx_k_InfoExtractor__real_extract), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__real_initialize, __pyx_k_InfoExtractor__real_initialize, sizeof(__pyx_k_InfoExtractor__real_initialize), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__remove_duplicate, __pyx_k_InfoExtractor__remove_duplicate, sizeof(__pyx_k_InfoExtractor__remove_duplicate), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__request_webpage, __pyx_k_InfoExtractor__request_webpage, sizeof(__pyx_k_InfoExtractor__request_webpage), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__rta_search, __pyx_k_InfoExtractor__rta_search, sizeof(__pyx_k_InfoExtractor__rta_search), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__search_json_ld, __pyx_k_InfoExtractor__search_json_ld, sizeof(__pyx_k_InfoExtractor__search_json_ld), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__search_regex, __pyx_k_InfoExtractor__search_regex, sizeof(__pyx_k_InfoExtractor__search_regex), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__search_regex_loca, __pyx_k_InfoExtractor__search_regex_loca, sizeof(__pyx_k_InfoExtractor__search_regex_loca), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__set_cookie, __pyx_k_InfoExtractor__set_cookie, sizeof(__pyx_k_InfoExtractor__set_cookie), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__sleep, __pyx_k_InfoExtractor__sleep, sizeof(__pyx_k_InfoExtractor__sleep), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__sort_formats, __pyx_k_InfoExtractor__sort_formats, sizeof(__pyx_k_InfoExtractor__sort_formats), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__sort_formats_loca, __pyx_k_InfoExtractor__sort_formats_loca, sizeof(__pyx_k_InfoExtractor__sort_formats_loca), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__sort_formats_loca_2, __pyx_k_InfoExtractor__sort_formats_loca_2, sizeof(__pyx_k_InfoExtractor__sort_formats_loca_2), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__twitter_search_pl, __pyx_k_InfoExtractor__twitter_search_pl, sizeof(__pyx_k_InfoExtractor__twitter_search_pl), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__webpage_read_cont, __pyx_k_InfoExtractor__webpage_read_cont, sizeof(__pyx_k_InfoExtractor__webpage_read_cont), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor__xpath_ns, __pyx_k_InfoExtractor__xpath_ns, sizeof(__pyx_k_InfoExtractor__xpath_ns), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_extract, __pyx_k_InfoExtractor_extract, sizeof(__pyx_k_InfoExtractor_extract), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_extract_automatic, __pyx_k_InfoExtractor_extract_automatic, sizeof(__pyx_k_InfoExtractor_extract_automatic), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_extract_subtitles, __pyx_k_InfoExtractor_extract_subtitles, sizeof(__pyx_k_InfoExtractor_extract_subtitles), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_geo_verification_h, __pyx_k_InfoExtractor_geo_verification_h, sizeof(__pyx_k_InfoExtractor_geo_verification_h), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_get_testcases, __pyx_k_InfoExtractor_get_testcases, sizeof(__pyx_k_InfoExtractor_get_testcases), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_http_scheme, __pyx_k_InfoExtractor_http_scheme, sizeof(__pyx_k_InfoExtractor_http_scheme), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_ie_key, __pyx_k_InfoExtractor_ie_key, sizeof(__pyx_k_InfoExtractor_ie_key), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_initialize, __pyx_k_InfoExtractor_initialize, sizeof(__pyx_k_InfoExtractor_initialize), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_is_suitable, __pyx_k_InfoExtractor_is_suitable, sizeof(__pyx_k_InfoExtractor_is_suitable), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_mark_watched, __pyx_k_InfoExtractor_mark_watched, sizeof(__pyx_k_InfoExtractor_mark_watched), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_playlist_result, __pyx_k_InfoExtractor_playlist_result, sizeof(__pyx_k_InfoExtractor_playlist_result), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_raise_geo_restrict, __pyx_k_InfoExtractor_raise_geo_restrict, sizeof(__pyx_k_InfoExtractor_raise_geo_restrict), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_raise_login_requir, __pyx_k_InfoExtractor_raise_login_requir, sizeof(__pyx_k_InfoExtractor_raise_login_requir), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_report_age_confirm, __pyx_k_InfoExtractor_report_age_confirm, sizeof(__pyx_k_InfoExtractor_report_age_confirm), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_report_download_we, __pyx_k_InfoExtractor_report_download_we, sizeof(__pyx_k_InfoExtractor_report_download_we), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_report_extraction, __pyx_k_InfoExtractor_report_extraction, sizeof(__pyx_k_InfoExtractor_report_extraction), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_report_login, __pyx_k_InfoExtractor_report_login, sizeof(__pyx_k_InfoExtractor_report_login), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_report_warning, __pyx_k_InfoExtractor_report_warning, sizeof(__pyx_k_InfoExtractor_report_warning), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_set_downloader, __pyx_k_InfoExtractor_set_downloader, sizeof(__pyx_k_InfoExtractor_set_downloader), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_suitable, __pyx_k_InfoExtractor_suitable, sizeof(__pyx_k_InfoExtractor_suitable), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_to_screen, __pyx_k_InfoExtractor_to_screen, sizeof(__pyx_k_InfoExtractor_to_screen), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_url_result, __pyx_k_InfoExtractor_url_result, sizeof(__pyx_k_InfoExtractor_url_result), 0, 0, 1, 1},
  {&__pyx_n_s_InfoExtractor_working, __pyx_k_InfoExtractor_working, sizeof(__pyx_k_InfoExtractor_working), 0, 0, 1, 1},
  {&__pyx_kp_s_Information_Extractor_class_Info, __pyx_k_Information_Extractor_class_Info, sizeof(__pyx_k_Information_Extractor_class_Info), 0, 0, 1, 0},
  {&__pyx_n_u_Initialization, __pyx_k_Initialization, sizeof(__pyx_k_Initialization), 0, 1, 0, 1},
  {&__pyx_kp_u_Invalid_search_query_s, __pyx_k_Invalid_search_query_s, sizeof(__pyx_k_Invalid_search_query_s), 0, 1, 0, 0},
  {&__pyx_kp_u_JSON_LD, __pyx_k_JSON_LD, sizeof(__pyx_k_JSON_LD), 0, 1, 0, 0},
  {&__pyx_n_s_KeyError, __pyx_k_KeyError, sizeof(__pyx_k_KeyError), 0, 0, 1, 1},
  {&__pyx_kp_u_Logging_in, __pyx_k_Logging_in, sizeof(__pyx_k_Logging_in), 0, 1, 0, 0},
  {&__pyx_n_s_LookupError, __pyx_k_LookupError, sizeof(__pyx_k_LookupError), 0, 0, 1, 1},
  {&__pyx_n_s_MAX_RESULTS, __pyx_k_MAX_RESULTS, sizeof(__pyx_k_MAX_RESULTS), 0, 0, 1, 1},
  {&__pyx_kp_u_Message_s, __pyx_k_Message_s, sizeof(__pyx_k_Message_s), 0, 1, 0, 0},
  {&__pyx_n_u_NAME, __pyx_k_NAME, sizeof(__pyx_k_NAME), 0, 1, 0, 1},
  {&__pyx_n_s_NETRC_MACHINE, __pyx_k_NETRC_MACHINE, sizeof(__pyx_k_NETRC_MACHINE), 0, 0, 1, 1},
  {&__pyx_n_s_NO_DEFAULT, __pyx_k_NO_DEFAULT, sizeof(__pyx_k_NO_DEFAULT), 0, 0, 1, 1},
  {&__pyx_n_s_NS_MAP, __pyx_k_NS_MAP, sizeof(__pyx_k_NS_MAP), 0, 0, 1, 1},
  {&__pyx_n_s_NetrcParseError, __pyx_k_NetrcParseError, sizeof(__pyx_k_NetrcParseError), 0, 0, 1, 1},
  {&__pyx_kp_u_No_authenticators_for_s, __pyx_k_No_authenticators_for_s, sizeof(__pyx_k_No_authenticators_for_s), 0, 1, 0, 0},
  {&__pyx_kp_u_No_video_formats_found, __pyx_k_No_video_formats_found, sizeof(__pyx_k_No_video_formats_found), 0, 1, 0, 0},
  {&__pyx_n_s_NotImplementedError, __pyx_k_NotImplementedError, sizeof(__pyx_k_NotImplementedError), 0, 0, 1, 1},
  {&__pyx_kp_u_Number, __pyx_k_Number, sizeof(__pyx_k_Number), 0, 1, 0, 0},
  {&__pyx_n_u_Number_2, __pyx_k_Number_2, sizeof(__pyx_k_Number_2), 0, 1, 0, 1},
  {&__pyx_kp_u_Number_Bandwidth_Time, __pyx_k_Number_Bandwidth_Time, sizeof(__pyx_k_Number_Bandwidth_Time), 0, 1, 0, 0},
  {&__pyx_kp_u_Number_Bandwidth_Time_2, __pyx_k_Number_Bandwidth_Time_2, sizeof(__pyx_k_Number_Bandwidth_Time_2), 0, 1, 0, 0},
  {&__pyx_n_s_ORDER, __pyx_k_ORDER, sizeof(__pyx_k_ORDER), 0, 0, 1, 1},
  {&__pyx_kp_u_OpenGraph_s, __pyx_k_OpenGraph_s, sizeof(__pyx_k_OpenGraph_s), 0, 1, 0, 0},
  {&__pyx_kp_u_P_mimetype_s_codecs_P_codecs, __pyx_k_P_mimetype_s_codecs_P_codecs, sizeof(__pyx_k_P_mimetype_s_codecs_P_codecs), 0, 1, 0, 0},
  {&__pyx_n_u_Period, __pyx_k_Period, sizeof(__pyx_k_Period), 0, 1, 0, 1},
  {&__pyx_kp_u_Quality_selection_URL, __pyx_k_Quality_selection_URL, sizeof(__pyx_k_Quality_selection_URL), 0, 1, 0, 0},
  {&__pyx_n_s_RATING_TABLE, __pyx_k_RATING_TABLE, sizeof(__pyx_k_RATING_TABLE), 0, 0, 1, 1},
  {&__pyx_n_u_RESOLUTION, __pyx_k_RESOLUTION, sizeof(__pyx_k_RESOLUTION), 0, 1, 0, 1},
  {&__pyx_n_s_RegexNotFoundError, __pyx_k_RegexNotFoundError, sizeof(__pyx_k_RegexNotFoundError), 0, 0, 1, 1},
  {&__pyx_n_u_Representation, __pyx_k_Representation, sizeof(__pyx_k_Representation), 0, 1, 0, 1},
  {&__pyx_kp_u_RepresentationID, __pyx_k_RepresentationID, sizeof(__pyx_k_RepresentationID), 0, 1, 0, 0},
  {&__pyx_n_s_Request, __pyx_k_Request, sizeof(__pyx_k_Request), 0, 0, 1, 1},
  {&__pyx_n_u_S, __pyx_k_S, sizeof(__pyx_k_S), 0, 1, 0, 1},
  {&__pyx_n_s_SEARCH_KEY, __pyx_k_SEARCH_KEY, sizeof(__pyx_k_SEARCH_KEY), 0, 0, 1, 1},
  {&__pyx_n_s_SEARCH_KEY_2, __pyx_k_SEARCH_KEY_2, sizeof(__pyx_k_SEARCH_KEY_2), 0, 0, 1, 1},
  {&__pyx_n_u_SUBTITLES, __pyx_k_SUBTITLES, sizeof(__pyx_k_SUBTITLES), 0, 1, 0, 1},
  {&__pyx_kp_u_Saving_request_to, __pyx_k_Saving_request_to, sizeof(__pyx_k_Saving_request_to), 0, 1, 0, 0},
  {&__pyx_n_s_SearchInfoExtractor, __pyx_k_SearchInfoExtractor, sizeof(__pyx_k_SearchInfoExtractor), 0, 0, 1, 1},
  {&__pyx_n_s_SearchInfoExtractor_SEARCH_KEY, __pyx_k_SearchInfoExtractor_SEARCH_KEY, sizeof(__pyx_k_SearchInfoExtractor_SEARCH_KEY), 0, 0, 1, 1},
  {&__pyx_n_s_SearchInfoExtractor__get_n_resul, __pyx_k_SearchInfoExtractor__get_n_resul, sizeof(__pyx_k_SearchInfoExtractor__get_n_resul), 0, 0, 1, 1},
  {&__pyx_n_s_SearchInfoExtractor__make_valid, __pyx_k_SearchInfoExtractor__make_valid, sizeof(__pyx_k_SearchInfoExtractor__make_valid), 0, 0, 1, 1},
  {&__pyx_n_s_SearchInfoExtractor__real_extrac, __pyx_k_SearchInfoExtractor__real_extrac, sizeof(__pyx_k_SearchInfoExtractor__real_extrac), 0, 0, 1, 1},
  {&__pyx_n_s_SearchInfoExtractor_suitable, __pyx_k_SearchInfoExtractor_suitable, sizeof(__pyx_k_SearchInfoExtractor_suitable), 0, 0, 1, 1},
  {&__pyx_n_u_SegmentList, __pyx_k_SegmentList, sizeof(__pyx_k_SegmentList), 0, 1, 0, 1},
  {&__pyx_n_u_SegmentTemplate, __pyx_k_SegmentTemplate, sizeof(__pyx_k_SegmentTemplate), 0, 1, 0, 1},
  {&__pyx_n_u_SegmentTimeline, __pyx_k_SegmentTimeline, sizeof(__pyx_k_SegmentTimeline), 0, 1, 0, 1},
  {&__pyx_n_u_SegmentURL, __pyx_k_SegmentURL, sizeof(__pyx_k_SegmentURL), 0, 1, 0, 1},
  {&__pyx_n_s_SimpleCookie, __pyx_k_SimpleCookie, sizeof(__pyx_k_SimpleCookie), 0, 0, 1, 1},
  {&__pyx_n_s_StopIteration, __pyx_k_StopIteration, sizeof(__pyx_k_StopIteration), 0, 0, 1, 1},
  {&__pyx_n_u_TEST, __pyx_k_TEST, sizeof(__pyx_k_TEST), 0, 1, 0, 1},
  {&__pyx_n_u_TESTS, __pyx_k_TESTS, sizeof(__pyx_k_TESTS), 0, 1, 0, 1},
  {&__pyx_n_u_TVEpisode, __pyx_k_TVEpisode, sizeof(__pyx_k_TVEpisode), 0, 1, 0, 1},
  {&__pyx_n_u_TVSeason, __pyx_k_TVSeason, sizeof(__pyx_k_TVSeason), 0, 1, 0, 1},
  {&__pyx_n_u_TVSeries, __pyx_k_TVSeries, sizeof(__pyx_k_TVSeries), 0, 1, 0, 1},
  {&__pyx_n_u_TYPE, __pyx_k_TYPE, sizeof(__pyx_k_TYPE), 0, 1, 0, 1},
  {&__pyx_kp_u_This_method_must_be_implemented, __pyx_k_This_method_must_be_implemented, sizeof(__pyx_k_This_method_must_be_implemented), 0, 1, 0, 0},
  {&__pyx_kp_u_This_video_is_not_available_from, __pyx_k_This_video_is_not_available_from, sizeof(__pyx_k_This_video_is_not_available_from), 0, 1, 0, 0},
  {&__pyx_kp_u_This_video_is_only_available_for, __pyx_k_This_video_is_only_available_for, sizeof(__pyx_k_This_video_is_only_available_for), 0, 1, 0, 0},
  {&__pyx_n_u_Time, __pyx_k_Time, sizeof(__pyx_k_Time), 0, 1, 0, 1},
  {&__pyx_kp_u_Type_s_and_press_Return, __pyx_k_Type_s_and_press_Return, sizeof(__pyx_k_Type_s_and_press_Return), 0, 1, 0, 0},
  {&__pyx_n_s_URLError, __pyx_k_URLError, sizeof(__pyx_k_URLError), 0, 0, 1, 1},
  {&__pyx_kp_u_Unable_to_download_JSON_metadata, __pyx_k_Unable_to_download_JSON_metadata, sizeof(__pyx_k_Unable_to_download_JSON_metadata), 0, 1, 0, 0},
  {&__pyx_kp_u_Unable_to_download_SMIL_file, __pyx_k_Unable_to_download_SMIL_file, sizeof(__pyx_k_Unable_to_download_SMIL_file), 0, 1, 0, 0},
  {&__pyx_kp_u_Unable_to_download_XML, __pyx_k_Unable_to_download_XML, sizeof(__pyx_k_Unable_to_download_XML), 0, 1, 0, 0},
  {&__pyx_kp_u_Unable_to_download_f4m_manifest, __pyx_k_Unable_to_download_f4m_manifest, sizeof(__pyx_k_Unable_to_download_f4m_manifest), 0, 1, 0, 0},
  {&__pyx_kp_u_Unable_to_download_webpage, __pyx_k_Unable_to_download_webpage, sizeof(__pyx_k_Unable_to_download_webpage), 0, 1, 0, 0},
  {&__pyx_kp_u_Unable_to_download_xspf_manifest, __pyx_k_Unable_to_download_xspf_manifest, sizeof(__pyx_k_Unable_to_download_xspf_manifest), 0, 1, 0, 0},
  {&__pyx_kp_u_Unable_to_extract_s, __pyx_k_Unable_to_extract_s, sizeof(__pyx_k_Unable_to_extract_s), 0, 1, 0, 0},
  {&__pyx_kp_u_Unknown_MIME_type_s_in_DASH_mani, __pyx_k_Unknown_MIME_type_s_in_DASH_mani, sizeof(__pyx_k_Unknown_MIME_type_s_in_DASH_mani), 0, 1, 0, 0},
  {&__pyx_n_s_VALID_URL, __pyx_k_VALID_URL, sizeof(__pyx_k_VALID_URL), 0, 0, 1, 1},
  {&__pyx_n_s_VALID_URL_RE, __pyx_k_VALID_URL_RE, sizeof(__pyx_k_VALID_URL_RE), 0, 0, 1, 1},
  {&__pyx_n_u_VALID_URL_RE, __pyx_k_VALID_URL_RE, sizeof(__pyx_k_VALID_URL_RE), 0, 1, 0, 1},
  {&__pyx_n_s_ValueError, __pyx_k_ValueError, sizeof(__pyx_k_ValueError), 0, 0, 1, 1},
  {&__pyx_n_u_VideoObject, __pyx_k_VideoObject, sizeof(__pyx_k_VideoObject), 0, 1, 0, 1},
  {&__pyx_kp_u_Visit_s_for_more_details, __pyx_k_Visit_s_for_more_details, sizeof(__pyx_k_Visit_s_for_more_details), 0, 1, 0, 0},
  {&__pyx_n_s_WORKING, __pyx_k_WORKING, sizeof(__pyx_k_WORKING), 0, 0, 1, 1},
  {&__pyx_n_u_Websense, __pyx_k_Websense, sizeof(__pyx_k_Websense), 0, 1, 0, 1},
  {&__pyx_kp_u_Websense_information_URL, __pyx_k_Websense_information_URL, sizeof(__pyx_k_Websense_information_URL), 0, 1, 0, 0},
  {&__pyx_kp_u_Y_m_d_H_M, __pyx_k_Y_m_d_H_M, sizeof(__pyx_k_Y_m_d_H_M), 0, 1, 0, 0},
  {&__pyx_kp_u_Ytdl_request_proxy, __pyx_k_Ytdl_request_proxy, sizeof(__pyx_k_Ytdl_request_proxy), 0, 1, 0, 0},
  {&__pyx_kp_u__110, __pyx_k__110, sizeof(__pyx_k__110), 0, 1, 0, 0},
  {&__pyx_kp_u__113, __pyx_k__113, sizeof(__pyx_k__113), 0, 1, 0, 0},
  {&__pyx_kp_b__12, __pyx_k__12, sizeof(__pyx_k__12), 0, 0, 0, 0},
  {&__pyx_kp_u__120, __pyx_k__120, sizeof(__pyx_k__120), 0, 1, 0, 0},
  {&__pyx_kp_u__125, __pyx_k__125, sizeof(__pyx_k__125), 0, 1, 0, 0},
  {&__pyx_kp_u__14, __pyx_k__14, sizeof(__pyx_k__14), 0, 1, 0, 0},
  {&__pyx_kp_u__144, __pyx_k__144, sizeof(__pyx_k__144), 0, 1, 0, 0},
  {&__pyx_kp_u__166, __pyx_k__166, sizeof(__pyx_k__166), 0, 1, 0, 0},
  {&__pyx_kp_u__167, __pyx_k__167, sizeof(__pyx_k__167), 0, 1, 0, 0},
  {&__pyx_n_u__19, __pyx_k__19, sizeof(__pyx_k__19), 0, 1, 0, 1},
  {&__pyx_kp_u__206, __pyx_k__206, sizeof(__pyx_k__206), 0, 1, 0, 0},
  {&__pyx_kp_u__207, __pyx_k__207, sizeof(__pyx_k__207), 0, 1, 0, 0},
  {&__pyx_kp_u__21, __pyx_k__21, sizeof(__pyx_k__21), 0, 1, 0, 0},
  {&__pyx_kp_u__26, __pyx_k__26, sizeof(__pyx_k__26), 0, 1, 0, 0},
  {&__pyx_kp_u__27, __pyx_k__27, sizeof(__pyx_k__27), 0, 1, 0, 0},
  {&__pyx_n_s__275, __pyx_k__275, sizeof(__pyx_k__275), 0, 0, 1, 1},
  {&__pyx_kp_u__6, __pyx_k__6, sizeof(__pyx_k__6), 0, 1, 0, 0},
  {&__pyx_kp_u__64, __pyx_k__64, sizeof(__pyx_k__64), 0, 1, 0, 0},
  {&__pyx_kp_u_a_zA_Z0_9__a_zA_Z0_9__s_s_chars, __pyx_k_a_zA_Z0_9__a_zA_Z0_9__s_s_chars, sizeof(__pyx_k_a_zA_Z0_9__a_zA_Z0_9__s_s_chars), 0, 1, 0, 0},
  {&__pyx_n_u_aac, __pyx_k_aac, sizeof(__pyx_k_aac), 0, 1, 0, 1},
  {&__pyx_n_s_abr, __pyx_k_abr, sizeof(__pyx_k_abr), 0, 0, 1, 1},
  {&__pyx_n_u_abr, __pyx_k_abr, sizeof(__pyx_k_abr), 0, 1, 0, 1},
  {&__pyx_n_s_absfilepath, __pyx_k_absfilepath, sizeof(__pyx_k_absfilepath), 0, 0, 1, 1},
  {&__pyx_n_s_absolute_url, __pyx_k_absolute_url, sizeof(__pyx_k_absolute_url), 0, 0, 1, 1},
  {&__pyx_n_s_abspath, __pyx_k_abspath, sizeof(__pyx_k_abspath), 0, 0, 1, 1},
  {&__pyx_n_u_abstract, __pyx_k_abstract, sizeof(__pyx_k_abstract), 0, 1, 0, 1},
  {&__pyx_n_u_acodec, __pyx_k_acodec, sizeof(__pyx_k_acodec), 0, 1, 0, 1},
  {&__pyx_n_s_adaptation_set, __pyx_k_adaptation_set, sizeof(__pyx_k_adaptation_set), 0, 0, 1, 1},
  {&__pyx_n_s_adaption_set_ms_info, __pyx_k_adaption_set_ms_info, sizeof(__pyx_k_adaption_set_ms_info), 0, 0, 1, 1},
  {&__pyx_n_s_add_cookie_header, __pyx_k_add_cookie_header, sizeof(__pyx_k_add_cookie_header), 0, 0, 1, 1},
  {&__pyx_n_s_add_ns, __pyx_k_add_ns, sizeof(__pyx_k_add_ns), 0, 0, 1, 1},
  {&__pyx_n_s_add_segment_url, __pyx_k_add_segment_url, sizeof(__pyx_k_add_segment_url), 0, 0, 1, 1},
  {&__pyx_n_s_age_limit, __pyx_k_age_limit, sizeof(__pyx_k_age_limit), 0, 0, 1, 1},
  {&__pyx_n_u_age_limit, __pyx_k_age_limit, sizeof(__pyx_k_age_limit), 0, 1, 0, 1},
  {&__pyx_n_s_age_restricted, __pyx_k_age_restricted, sizeof(__pyx_k_age_restricted), 0, 0, 1, 1},
  {&__pyx_n_s_akamai_pv, __pyx_k_akamai_pv, sizeof(__pyx_k_akamai_pv), 0, 0, 1, 1},
  {&__pyx_n_u_all, __pyx_k_all, sizeof(__pyx_k_all), 0, 1, 0, 1},
  {&__pyx_n_s_any_restricted, __pyx_k_any_restricted, sizeof(__pyx_k_any_restricted), 0, 0, 1, 1},
  {&__pyx_n_s_append, __pyx_k_append, sizeof(__pyx_k_append), 0, 0, 1, 1},
  {&__pyx_n_s_args, __pyx_k_args, sizeof(__pyx_k_args), 0, 0, 1, 1},
  {&__pyx_n_u_articleBody, __pyx_k_articleBody, sizeof(__pyx_k_articleBody), 0, 1, 0, 1},
  {&__pyx_n_u_ascii, __pyx_k_ascii, sizeof(__pyx_k_ascii), 0, 1, 0, 1},
  {&__pyx_n_u_asr, __pyx_k_asr, sizeof(__pyx_k_asr), 0, 1, 0, 1},
  {&__pyx_n_s_attrib, __pyx_k_attrib, sizeof(__pyx_k_attrib), 0, 0, 1, 1},
  {&__pyx_kp_u_audio, __pyx_k_audio, sizeof(__pyx_k_audio), 0, 1, 0, 0},
  {&__pyx_n_u_audioSamplingRate, __pyx_k_audioSamplingRate, sizeof(__pyx_k_audioSamplingRate), 0, 1, 0, 1},
  {&__pyx_n_u_audio_2, __pyx_k_audio_2, sizeof(__pyx_k_audio_2), 0, 1, 0, 1},
  {&__pyx_kp_u_audio_3D_d_video_3D_d, __pyx_k_audio_3D_d_video_3D_d, sizeof(__pyx_k_audio_3D_d_video_3D_d), 0, 1, 0, 0},
  {&__pyx_n_s_audio_ext_preference, __pyx_k_audio_ext_preference, sizeof(__pyx_k_audio_ext_preference), 0, 0, 1, 1},
  {&__pyx_n_s_authenticators, __pyx_k_authenticators, sizeof(__pyx_k_authenticators), 0, 0, 1, 1},
  {&__pyx_n_s_b, __pyx_k_b, sizeof(__pyx_k_b), 0, 0, 1, 1},
  {&__pyx_n_s_b64encode, __pyx_k_b64encode, sizeof(__pyx_k_b64encode), 0, 0, 1, 1},
  {&__pyx_n_u_bandwidth, __pyx_k_bandwidth, sizeof(__pyx_k_bandwidth), 0, 1, 0, 1},
  {&__pyx_n_s_base, __pyx_k_base, sizeof(__pyx_k_base), 0, 0, 1, 1},
  {&__pyx_n_u_base, __pyx_k_base, sizeof(__pyx_k_base), 0, 1, 0, 1},
  {&__pyx_n_s_base64, __pyx_k_base64, sizeof(__pyx_k_base64), 0, 0, 1, 1},
  {&__pyx_kp_u_base_URL, __pyx_k_base_URL, sizeof(__pyx_k_base_URL), 0, 1, 0, 0},
  {&__pyx_n_s_base_url, __pyx_k_base_url, sizeof(__pyx_k_base_url), 0, 0, 1, 1},
  {&__pyx_n_s_base_url_e, __pyx_k_base_url_e, sizeof(__pyx_k_base_url_e), 0, 0, 1, 1},
  {&__pyx_n_s_basen, __pyx_k_basen, sizeof(__pyx_k_basen), 0, 0, 1, 1},
  {&__pyx_n_s_bitrate, __pyx_k_bitrate, sizeof(__pyx_k_bitrate), 0, 0, 1, 1},
  {&__pyx_n_u_bitrate, __pyx_k_bitrate, sizeof(__pyx_k_bitrate), 0, 1, 0, 1},
  {&__pyx_kp_u_block_message, __pyx_k_block_message, sizeof(__pyx_k_block_message), 0, 1, 0, 0},
  {&__pyx_n_s_block_msg, __pyx_k_block_msg, sizeof(__pyx_k_block_msg), 0, 0, 1, 1},
  {&__pyx_n_s_blocked_iframe, __pyx_k_blocked_iframe, sizeof(__pyx_k_blocked_iframe), 0, 0, 1, 1},
  {&__pyx_kp_u_bootstrap_info, __pyx_k_bootstrap_info, sizeof(__pyx_k_bootstrap_info), 0, 1, 0, 0},
  {&__pyx_n_s_bootstrap_info_2, __pyx_k_bootstrap_info_2, sizeof(__pyx_k_bootstrap_info_2), 0, 0, 1, 1},
  {&__pyx_n_s_bug_reports_message, __pyx_k_bug_reports_message, sizeof(__pyx_k_bug_reports_message), 0, 0, 1, 1},
  {&__pyx_n_s_c, __pyx_k_c, sizeof(__pyx_k_c), 0, 0, 1, 1},
  {&__pyx_n_s_cause, __pyx_k_cause, sizeof(__pyx_k_cause), 0, 0, 1, 1},
  {&__pyx_n_s_ceil, __pyx_k_ceil, sizeof(__pyx_k_ceil), 0, 0, 1, 1},
  {&__pyx_n_s_check_formats, __pyx_k_check_formats, sizeof(__pyx_k_check_formats), 0, 0, 1, 1},
  {&__pyx_n_s_clean_html, __pyx_k_clean_html, sizeof(__pyx_k_clean_html), 0, 0, 1, 1},
  {&__pyx_n_s_close, __pyx_k_close, sizeof(__pyx_k_close), 0, 0, 1, 1},
  {&__pyx_n_s_cls, __pyx_k_cls, sizeof(__pyx_k_cls), 0, 0, 1, 1},
  {&__pyx_n_s_codecs, __pyx_k_codecs, sizeof(__pyx_k_codecs), 0, 0, 1, 1},
  {&__pyx_n_u_codecs, __pyx_k_codecs, sizeof(__pyx_k_codecs), 0, 1, 0, 1},
  {&__pyx_n_s_compat, __pyx_k_compat, sizeof(__pyx_k_compat), 0, 0, 1, 1},
  {&__pyx_n_s_compat_cookiejar, __pyx_k_compat_cookiejar, sizeof(__pyx_k_compat_cookiejar), 0, 0, 1, 1},
  {&__pyx_n_s_compat_cookies, __pyx_k_compat_cookies, sizeof(__pyx_k_compat_cookies), 0, 0, 1, 1},
  {&__pyx_n_s_compat_etree_fromstring, __pyx_k_compat_etree_fromstring, sizeof(__pyx_k_compat_etree_fromstring), 0, 0, 1, 1},
  {&__pyx_n_s_compat_getpass, __pyx_k_compat_getpass, sizeof(__pyx_k_compat_getpass), 0, 0, 1, 1},
  {&__pyx_n_s_compat_http_client, __pyx_k_compat_http_client, sizeof(__pyx_k_compat_http_client), 0, 0, 1, 1},
  {&__pyx_n_s_compat_os_name, __pyx_k_compat_os_name, sizeof(__pyx_k_compat_os_name), 0, 0, 1, 1},
  {&__pyx_n_s_compat_str, __pyx_k_compat_str, sizeof(__pyx_k_compat_str), 0, 0, 1, 1},
  {&__pyx_n_s_compat_urllib_error, __pyx_k_compat_urllib_error, sizeof(__pyx_k_compat_urllib_error), 0, 0, 1, 1},
  {&__pyx_n_s_compat_urllib_parse_urlencode, __pyx_k_compat_urllib_parse_urlencode, sizeof(__pyx_k_compat_urllib_parse_urlencode), 0, 0, 1, 1},
  {&__pyx_n_s_compat_urllib_request, __pyx_k_compat_urllib_request, sizeof(__pyx_k_compat_urllib_request), 0, 0, 1, 1},
  {&__pyx_n_s_compat_urlparse, __pyx_k_compat_urlparse, sizeof(__pyx_k_compat_urlparse), 0, 0, 1, 1},
  {&__pyx_n_s_compile, __pyx_k_compile, sizeof(__pyx_k_compile), 0, 0, 1, 1},
  {&__pyx_n_s_compiled_regex_type, __pyx_k_compiled_regex_type, sizeof(__pyx_k_compiled_regex_type), 0, 0, 1, 1},
  {&__pyx_n_s_content, __pyx_k_content, sizeof(__pyx_k_content), 0, 0, 1, 1},
  {&__pyx_n_u_content, __pyx_k_content, sizeof(__pyx_k_content), 0, 1, 0, 1},
  {&__pyx_n_u_contentSize, __pyx_k_contentSize, sizeof(__pyx_k_contentSize), 0, 1, 0, 1},
  {&__pyx_n_u_contentUrl, __pyx_k_contentUrl, sizeof(__pyx_k_contentUrl), 0, 1, 0, 1},
  {&__pyx_n_s_content_re, __pyx_k_content_re, sizeof(__pyx_k_content_re), 0, 0, 1, 1},
  {&__pyx_kp_u_content_s_s, __pyx_k_content_s_s, sizeof(__pyx_k_content_s_s), 0, 1, 0, 0},
  {&__pyx_n_s_content_type, __pyx_k_content_type, sizeof(__pyx_k_content_type), 0, 0, 1, 1},
  {&__pyx_kp_u_context, __pyx_k_context, sizeof(__pyx_k_context), 0, 1, 0, 0},
  {&__pyx_n_s_cookie, __pyx_k_cookie, sizeof(__pyx_k_cookie), 0, 0, 1, 1},
  {&__pyx_n_u_cookiefile, __pyx_k_cookiefile, sizeof(__pyx_k_cookiefile), 0, 1, 0, 1},
  {&__pyx_n_s_cookiejar, __pyx_k_cookiejar, sizeof(__pyx_k_cookiejar), 0, 0, 1, 1},
  {&__pyx_n_s_copy, __pyx_k_copy, sizeof(__pyx_k_copy), 0, 0, 1, 1},
  {&__pyx_n_s_ctr, __pyx_k_ctr, sizeof(__pyx_k_ctr), 0, 0, 1, 1},
  {&__pyx_kp_u_d, __pyx_k_d, sizeof(__pyx_k_d), 0, 1, 0, 0},
  {&__pyx_n_u_d_2, __pyx_k_d_2, sizeof(__pyx_k_d_2), 0, 1, 0, 1},
  {&__pyx_n_s_data, __pyx_k_data, sizeof(__pyx_k_data), 0, 0, 1, 1},
  {&__pyx_n_u_date, __pyx_k_date, sizeof(__pyx_k_date), 0, 1, 0, 1},
  {&__pyx_n_u_datePublished, __pyx_k_datePublished, sizeof(__pyx_k_datePublished), 0, 1, 0, 1},
  {&__pyx_n_s_datetime, __pyx_k_datetime, sizeof(__pyx_k_datetime), 0, 0, 1, 1},
  {&__pyx_kp_u_dc_creator, __pyx_k_dc_creator, sizeof(__pyx_k_dc_creator), 0, 1, 0, 0},
  {&__pyx_n_s_dc_search_uploader, __pyx_k_dc_search_uploader, sizeof(__pyx_k_dc_search_uploader), 0, 0, 1, 1},
  {&__pyx_n_s_decode, __pyx_k_decode, sizeof(__pyx_k_decode), 0, 0, 1, 1},
  {&__pyx_n_s_default, __pyx_k_default, sizeof(__pyx_k_default), 0, 0, 1, 1},
  {&__pyx_n_s_description, __pyx_k_description, sizeof(__pyx_k_description), 0, 0, 1, 1},
  {&__pyx_n_u_description, __pyx_k_description, sizeof(__pyx_k_description), 0, 1, 0, 1},
  {&__pyx_n_s_determine_ext, __pyx_k_determine_ext, sizeof(__pyx_k_determine_ext), 0, 0, 1, 1},
  {&__pyx_n_s_determine_protocol, __pyx_k_determine_protocol, sizeof(__pyx_k_determine_protocol), 0, 0, 1, 1},
  {&__pyx_n_s_dict, __pyx_k_dict, sizeof(__pyx_k_dict), 0, 0, 1, 1},
  {&__pyx_n_s_display_name, __pyx_k_display_name, sizeof(__pyx_k_display_name), 0, 0, 1, 1},
  {&__pyx_n_s_doc, __pyx_k_doc, sizeof(__pyx_k_doc), 0, 0, 1, 1},
  {&__pyx_n_s_domain, __pyx_k_domain, sizeof(__pyx_k_domain), 0, 0, 1, 1},
  {&__pyx_n_s_download_json, __pyx_k_download_json, sizeof(__pyx_k_download_json), 0, 0, 1, 1},
  {&__pyx_n_s_download_smil, __pyx_k_download_smil, sizeof(__pyx_k_download_smil), 0, 0, 1, 1},
  {&__pyx_n_s_download_webpage, __pyx_k_download_webpage, sizeof(__pyx_k_download_webpage), 0, 0, 1, 1},
  {&__pyx_n_s_download_webpage_handle, __pyx_k_download_webpage_handle, sizeof(__pyx_k_download_webpage_handle), 0, 0, 1, 1},
  {&__pyx_n_s_download_xml, __pyx_k_download_xml, sizeof(__pyx_k_download_xml), 0, 0, 1, 1},
  {&__pyx_n_s_downloader, __pyx_k_downloader, sizeof(__pyx_k_downloader), 0, 0, 1, 1},
  {&__pyx_n_s_downloader_2, __pyx_k_downloader_2, sizeof(__pyx_k_downloader_2), 0, 0, 1, 1},
  {&__pyx_n_s_downloader_f4m, __pyx_k_downloader_f4m, sizeof(__pyx_k_downloader_f4m), 0, 0, 1, 1},
  {&__pyx_n_s_downloader_params, __pyx_k_downloader_params, sizeof(__pyx_k_downloader_params), 0, 0, 1, 1},
  {&__pyx_kp_u_dump, __pyx_k_dump, sizeof(__pyx_k_dump), 0, 1, 0, 0},
  {&__pyx_n_s_dump_2, __pyx_k_dump_2, sizeof(__pyx_k_dump_2), 0, 0, 1, 1},
  {&__pyx_n_u_dump_intermediate_pages, __pyx_k_dump_intermediate_pages, sizeof(__pyx_k_dump_intermediate_pages), 0, 1, 0, 1},
  {&__pyx_n_s_duration, __pyx_k_duration, sizeof(__pyx_k_duration), 0, 0, 1, 1},
  {&__pyx_n_u_duration, __pyx_k_duration, sizeof(__pyx_k_duration), 0, 1, 0, 1},
  {&__pyx_n_u_dynamic, __pyx_k_dynamic, sizeof(__pyx_k_dynamic), 0, 1, 0, 1},
  {&__pyx_n_s_e, __pyx_k_e, sizeof(__pyx_k_e), 0, 0, 1, 1},
  {&__pyx_n_s_element, __pyx_k_element, sizeof(__pyx_k_element), 0, 0, 1, 1},
  {&__pyx_n_u_en, __pyx_k_en, sizeof(__pyx_k_en), 0, 1, 0, 1},
  {&__pyx_n_s_encode, __pyx_k_encode, sizeof(__pyx_k_encode), 0, 0, 1, 1},
  {&__pyx_n_s_encoding, __pyx_k_encoding, sizeof(__pyx_k_encoding), 0, 0, 1, 1},
  {&__pyx_n_s_endswith, __pyx_k_endswith, sizeof(__pyx_k_endswith), 0, 0, 1, 1},
  {&__pyx_n_s_enter, __pyx_k_enter, sizeof(__pyx_k_enter), 0, 0, 1, 1},
  {&__pyx_n_s_entries, __pyx_k_entries, sizeof(__pyx_k_entries), 0, 0, 1, 1},
  {&__pyx_n_u_entries, __pyx_k_entries, sizeof(__pyx_k_entries), 0, 1, 0, 1},
  {&__pyx_n_s_entry_protocol, __pyx_k_entry_protocol, sizeof(__pyx_k_entry_protocol), 0, 0, 1, 1},
  {&__pyx_n_s_enumerate, __pyx_k_enumerate, sizeof(__pyx_k_enumerate), 0, 0, 1, 1},
  {&__pyx_n_u_episode, __pyx_k_episode, sizeof(__pyx_k_episode), 0, 1, 0, 1},
  {&__pyx_n_u_episodeNumber, __pyx_k_episodeNumber, sizeof(__pyx_k_episodeNumber), 0, 1, 0, 1},
  {&__pyx_n_u_episode_number, __pyx_k_episode_number, sizeof(__pyx_k_episode_number), 0, 1, 0, 1},
  {&__pyx_n_s_err, __pyx_k_err, sizeof(__pyx_k_err), 0, 0, 1, 1},
  {&__pyx_n_s_errmsg, __pyx_k_errmsg, sizeof(__pyx_k_errmsg), 0, 0, 1, 1},
  {&__pyx_n_s_errnote, __pyx_k_errnote, sizeof(__pyx_k_errnote), 0, 0, 1, 1},
  {&__pyx_n_s_error, __pyx_k_error, sizeof(__pyx_k_error), 0, 0, 1, 1},
  {&__pyx_n_s_error_to_compat_str, __pyx_k_error_to_compat_str, sizeof(__pyx_k_error_to_compat_str), 0, 0, 1, 1},
  {&__pyx_n_s_escape, __pyx_k_escape, sizeof(__pyx_k_escape), 0, 0, 1, 1},
  {&__pyx_n_s_escaped, __pyx_k_escaped, sizeof(__pyx_k_escaped), 0, 0, 1, 1},
  {&__pyx_n_s_exc_info, __pyx_k_exc_info, sizeof(__pyx_k_exc_info), 0, 0, 1, 1},
  {&__pyx_n_s_existing_format, __pyx_k_existing_format, sizeof(__pyx_k_existing_format), 0, 0, 1, 1},
  {&__pyx_n_s_exit, __pyx_k_exit, sizeof(__pyx_k_exit), 0, 0, 1, 1},
  {&__pyx_n_s_expected, __pyx_k_expected, sizeof(__pyx_k_expected), 0, 0, 1, 1},
  {&__pyx_n_s_expected_type, __pyx_k_expected_type, sizeof(__pyx_k_expected_type), 0, 0, 1, 1},
  {&__pyx_n_s_expire_time, __pyx_k_expire_time, sizeof(__pyx_k_expire_time), 0, 0, 1, 1},
  {&__pyx_n_s_ext, __pyx_k_ext, sizeof(__pyx_k_ext), 0, 0, 1, 1},
  {&__pyx_n_u_ext, __pyx_k_ext, sizeof(__pyx_k_ext), 0, 1, 0, 1},
  {&__pyx_n_s_ext_preference, __pyx_k_ext_preference, sizeof(__pyx_k_ext_preference), 0, 0, 1, 1},
  {&__pyx_n_s_extract, __pyx_k_extract, sizeof(__pyx_k_extract), 0, 0, 1, 1},
  {&__pyx_n_s_extract_attributes, __pyx_k_extract_attributes, sizeof(__pyx_k_extract_attributes), 0, 0, 1, 1},
  {&__pyx_n_s_extract_automatic_captions, __pyx_k_extract_automatic_captions, sizeof(__pyx_k_extract_automatic_captions), 0, 0, 1, 1},
  {&__pyx_n_s_extract_f4m_formats, __pyx_k_extract_f4m_formats, sizeof(__pyx_k_extract_f4m_formats), 0, 0, 1, 1},
  {&__pyx_n_s_extract_m3u8_formats, __pyx_k_extract_m3u8_formats, sizeof(__pyx_k_extract_m3u8_formats), 0, 0, 1, 1},
  {&__pyx_n_s_extract_mpd_formats, __pyx_k_extract_mpd_formats, sizeof(__pyx_k_extract_mpd_formats), 0, 0, 1, 1},
  {&__pyx_n_s_extract_multisegment_info, __pyx_k_extract_multisegment_info, sizeof(__pyx_k_extract_multisegment_info), 0, 0, 1, 1},
  {&__pyx_n_s_extract_smil_formats, __pyx_k_extract_smil_formats, sizeof(__pyx_k_extract_smil_formats), 0, 0, 1, 1},
  {&__pyx_n_s_extract_smil_info, __pyx_k_extract_smil_info, sizeof(__pyx_k_extract_smil_info), 0, 0, 1, 1},
  {&__pyx_n_s_extract_subtitles, __pyx_k_extract_subtitles, sizeof(__pyx_k_extract_subtitles), 0, 0, 1, 1},
  {&__pyx_n_s_extract_xspf_playlist, __pyx_k_extract_xspf_playlist, sizeof(__pyx_k_extract_xspf_playlist), 0, 0, 1, 1},
  {&__pyx_n_s_f, __pyx_k_f, sizeof(__pyx_k_f), 0, 0, 1, 1},
  {&__pyx_n_u_f4f, __pyx_k_f4f, sizeof(__pyx_k_f4f), 0, 1, 0, 1},
  {&__pyx_n_u_f4m, __pyx_k_f4m, sizeof(__pyx_k_f4m), 0, 1, 0, 1},
  {&__pyx_n_s_f4m_formats, __pyx_k_f4m_formats, sizeof(__pyx_k_f4m_formats), 0, 0, 1, 1},
  {&__pyx_n_s_f4m_id, __pyx_k_f4m_id, sizeof(__pyx_k_f4m_id), 0, 0, 1, 1},
  {&__pyx_n_s_f4m_params, __pyx_k_f4m_params, sizeof(__pyx_k_f4m_params), 0, 0, 1, 1},
  {&__pyx_n_s_f4m_url, __pyx_k_f4m_url, sizeof(__pyx_k_f4m_url), 0, 0, 1, 1},
  {&__pyx_n_u_false, __pyx_k_false, sizeof(__pyx_k_false), 0, 1, 0, 1},
  {&__pyx_n_s_family_friendly, __pyx_k_family_friendly, sizeof(__pyx_k_family_friendly), 0, 0, 1, 1},
  {&__pyx_n_s_family_friendly_search, __pyx_k_family_friendly_search, sizeof(__pyx_k_family_friendly_search), 0, 0, 1, 1},
  {&__pyx_n_s_fatal, __pyx_k_fatal, sizeof(__pyx_k_fatal), 0, 0, 1, 1},
  {&__pyx_n_u_fatal, __pyx_k_fatal, sizeof(__pyx_k_fatal), 0, 1, 0, 1},
  {&__pyx_n_s_field_preference, __pyx_k_field_preference, sizeof(__pyx_k_field_preference), 0, 0, 1, 1},
  {&__pyx_n_u_fileSize, __pyx_k_fileSize, sizeof(__pyx_k_fileSize), 0, 1, 0, 1},
  {&__pyx_n_s_filename, __pyx_k_filename, sizeof(__pyx_k_filename), 0, 0, 1, 1},
  {&__pyx_n_s_filesize, __pyx_k_filesize, sizeof(__pyx_k_filesize), 0, 0, 1, 1},
  {&__pyx_n_u_filesize, __pyx_k_filesize, sizeof(__pyx_k_filesize), 0, 1, 0, 1},
  {&__pyx_n_u_filesize_approx, __pyx_k_filesize_approx, sizeof(__pyx_k_filesize_approx), 0, 1, 0, 1},
  {&__pyx_n_s_filter, __pyx_k_filter, sizeof(__pyx_k_filter), 0, 0, 1, 1},
  {&__pyx_n_s_find, __pyx_k_find, sizeof(__pyx_k_find), 0, 0, 1, 1},
  {&__pyx_n_s_findall, __pyx_k_findall, sizeof(__pyx_k_findall), 0, 0, 1, 1},
  {&__pyx_n_s_fix_xml_ampersands, __pyx_k_fix_xml_ampersands, sizeof(__pyx_k_fix_xml_ampersands), 0, 0, 1, 1},
  {&__pyx_n_s_flags, __pyx_k_flags, sizeof(__pyx_k_flags), 0, 0, 1, 1},
  {&__pyx_n_s_float, __pyx_k_float, sizeof(__pyx_k_float), 0, 0, 1, 1},
  {&__pyx_n_s_float_or_none, __pyx_k_float_or_none, sizeof(__pyx_k_float_or_none), 0, 0, 1, 1},
  {&__pyx_kp_u_flowplayer_3_2_0_1, __pyx_k_flowplayer_3_2_0_1, sizeof(__pyx_k_flowplayer_3_2_0_1), 0, 1, 0, 0},
  {&__pyx_n_u_flv, __pyx_k_flv, sizeof(__pyx_k_flv), 0, 1, 0, 1},
  {&__pyx_n_s_form, __pyx_k_form, sizeof(__pyx_k_form), 0, 0, 1, 1},
  {&__pyx_n_u_form, __pyx_k_form, sizeof(__pyx_k_form), 0, 1, 0, 1},
  {&__pyx_n_s_form_hidden_inputs, __pyx_k_form_hidden_inputs, sizeof(__pyx_k_form_hidden_inputs), 0, 0, 1, 1},
  {&__pyx_n_s_form_id, __pyx_k_form_id, sizeof(__pyx_k_form_id), 0, 0, 1, 1},
  {&__pyx_n_s_format_id, __pyx_k_format_id, sizeof(__pyx_k_format_id), 0, 0, 1, 1},
  {&__pyx_n_u_format_id, __pyx_k_format_id, sizeof(__pyx_k_format_id), 0, 1, 0, 1},
  {&__pyx_n_u_format_note, __pyx_k_format_note, sizeof(__pyx_k_format_note), 0, 1, 0, 1},
  {&__pyx_n_s_format_url, __pyx_k_format_url, sizeof(__pyx_k_format_url), 0, 0, 1, 1},
  {&__pyx_n_s_format_urls, __pyx_k_format_urls, sizeof(__pyx_k_format_urls), 0, 0, 1, 1},
  {&__pyx_n_s_formats, __pyx_k_formats, sizeof(__pyx_k_formats), 0, 0, 1, 1},
  {&__pyx_n_u_formats, __pyx_k_formats, sizeof(__pyx_k_formats), 0, 1, 0, 1},
  {&__pyx_n_s_formats_dict, __pyx_k_formats_dict, sizeof(__pyx_k_formats_dict), 0, 0, 1, 1},
  {&__pyx_n_s_formats_key, __pyx_k_formats_key, sizeof(__pyx_k_formats_key), 0, 0, 1, 1},
  {&__pyx_n_u_fps, __pyx_k_fps, sizeof(__pyx_k_fps), 0, 1, 0, 1},
  {&__pyx_n_u_frameRate, __pyx_k_frameRate, sizeof(__pyx_k_frameRate), 0, 1, 0, 1},
  {&__pyx_n_s_full_info, __pyx_k_full_info, sizeof(__pyx_k_full_info), 0, 0, 1, 1},
  {&__pyx_n_u_general, __pyx_k_general, sizeof(__pyx_k_general), 0, 1, 0, 1},
  {&__pyx_n_s_genexpr, __pyx_k_genexpr, sizeof(__pyx_k_genexpr), 0, 0, 1, 1},
  {&__pyx_n_s_geo_verification_headers, __pyx_k_geo_verification_headers, sizeof(__pyx_k_geo_verification_headers), 0, 0, 1, 1},
  {&__pyx_n_s_geo_verification_proxy, __pyx_k_geo_verification_proxy, sizeof(__pyx_k_geo_verification_proxy), 0, 0, 1, 1},
  {&__pyx_n_u_geo_verification_proxy, __pyx_k_geo_verification_proxy, sizeof(__pyx_k_geo_verification_proxy), 0, 1, 0, 1},
  {&__pyx_n_s_get, __pyx_k_get, sizeof(__pyx_k_get), 0, 0, 1, 1},
  {&__pyx_n_u_get_attr, __pyx_k_get_attr, sizeof(__pyx_k_get_attr), 0, 1, 0, 1},
  {&__pyx_n_s_get_automatic_captions, __pyx_k_get_automatic_captions, sizeof(__pyx_k_get_automatic_captions), 0, 0, 1, 1},
  {&__pyx_n_s_get_cookies, __pyx_k_get_cookies, sizeof(__pyx_k_get_cookies), 0, 0, 1, 1},
  {&__pyx_n_s_get_full_url, __pyx_k_get_full_url, sizeof(__pyx_k_get_full_url), 0, 0, 1, 1},
  {&__pyx_n_s_get_header, __pyx_k_get_header, sizeof(__pyx_k_get_header), 0, 0, 1, 1},
  {&__pyx_n_s_get_login_info, __pyx_k_get_login_info, sizeof(__pyx_k_get_login_info), 0, 0, 1, 1},
  {&__pyx_n_s_get_n_results, __pyx_k_get_n_results, sizeof(__pyx_k_get_n_results), 0, 0, 1, 1},
  {&__pyx_n_s_get_subtitles, __pyx_k_get_subtitles, sizeof(__pyx_k_get_subtitles), 0, 0, 1, 1},
  {&__pyx_n_s_get_testcases, __pyx_k_get_testcases, sizeof(__pyx_k_get_testcases), 0, 0, 1, 1},
  {&__pyx_n_s_get_tfa_info, __pyx_k_get_tfa_info, sizeof(__pyx_k_get_tfa_info), 0, 0, 1, 1},
  {&__pyx_n_s_geturl, __pyx_k_geturl, sizeof(__pyx_k_geturl), 0, 0, 1, 1},
  {&__pyx_n_s_group, __pyx_k_group, sizeof(__pyx_k_group), 0, 0, 1, 1},
  {&__pyx_n_s_groups, __pyx_k_groups, sizeof(__pyx_k_groups), 0, 0, 1, 1},
  {&__pyx_n_s_guess_encoding_from_content, __pyx_k_guess_encoding_from_content, sizeof(__pyx_k_guess_encoding_from_content), 0, 0, 1, 1},
  {&__pyx_n_s_h, __pyx_k_h, sizeof(__pyx_k_h), 0, 0, 1, 1},
  {&__pyx_kp_u_h1_p_p, __pyx_k_h1_p_p, sizeof(__pyx_k_h1_p_p), 0, 1, 0, 0},
  {&__pyx_n_s_hashlib, __pyx_k_hashlib, sizeof(__pyx_k_hashlib), 0, 0, 1, 1},
  {&__pyx_n_u_hdcore, __pyx_k_hdcore, sizeof(__pyx_k_hdcore), 0, 1, 0, 1},
  {&__pyx_n_u_hds, __pyx_k_hds, sizeof(__pyx_k_hds), 0, 1, 0, 1},
  {&__pyx_kp_u_head_meta, __pyx_k_head_meta, sizeof(__pyx_k_head_meta), 0, 1, 0, 0},
  {&__pyx_n_s_headers, __pyx_k_headers, sizeof(__pyx_k_headers), 0, 0, 1, 1},
  {&__pyx_n_u_headline, __pyx_k_headline, sizeof(__pyx_k_headline), 0, 1, 0, 1},
  {&__pyx_n_s_height, __pyx_k_height, sizeof(__pyx_k_height), 0, 0, 1, 1},
  {&__pyx_n_u_height, __pyx_k_height, sizeof(__pyx_k_height), 0, 1, 0, 1},
  {&__pyx_n_s_height_str, __pyx_k_height_str, sizeof(__pyx_k_height_str), 0, 0, 1, 1},
  {&__pyx_n_s_hexdigest, __pyx_k_hexdigest, sizeof(__pyx_k_hexdigest), 0, 0, 1, 1},
  {&__pyx_n_s_hidden_inputs, __pyx_k_hidden_inputs, sizeof(__pyx_k_hidden_inputs), 0, 0, 1, 1},
  {&__pyx_n_s_hidden_inputs_2, __pyx_k_hidden_inputs_2, sizeof(__pyx_k_hidden_inputs_2), 0, 0, 1, 1},
  {&__pyx_n_u_hls, __pyx_k_hls, sizeof(__pyx_k_hls), 0, 1, 0, 1},
  {&__pyx_kp_u_hls_d, __pyx_k_hls_d, sizeof(__pyx_k_hls_d), 0, 1, 0, 0},
  {&__pyx_n_u_href, __pyx_k_href, sizeof(__pyx_k_href), 0, 1, 0, 1},
  {&__pyx_n_s_html, __pyx_k_html, sizeof(__pyx_k_html), 0, 0, 1, 1},
  {&__pyx_n_s_html_search_meta, __pyx_k_html_search_meta, sizeof(__pyx_k_html_search_meta), 0, 0, 1, 1},
  {&__pyx_n_s_html_search_regex, __pyx_k_html_search_regex, sizeof(__pyx_k_html_search_regex), 0, 0, 1, 1},
  {&__pyx_n_u_http, __pyx_k_http, sizeof(__pyx_k_http), 0, 1, 0, 1},
  {&__pyx_n_u_httpBase, __pyx_k_httpBase, sizeof(__pyx_k_httpBase), 0, 1, 0, 1},
  {&__pyx_kp_u_http_2, __pyx_k_http_2, sizeof(__pyx_k_http_2), 0, 1, 0, 0},
  {&__pyx_kp_u_http_3, __pyx_k_http_3, sizeof(__pyx_k_http_3), 0, 1, 0, 0},
  {&__pyx_n_s_http_count, __pyx_k_http_count, sizeof(__pyx_k_http_count), 0, 0, 1, 1},
  {&__pyx_kp_u_http_d, __pyx_k_http_d, sizeof(__pyx_k_http_d), 0, 1, 0, 0},
  {&__pyx_n_u_http_dash_segments, __pyx_k_http_dash_segments, sizeof(__pyx_k_http_dash_segments), 0, 1, 0, 1},
  {&__pyx_kp_u_http_ns_adobe_com_f4m_1_0_baseU, __pyx_k_http_ns_adobe_com_f4m_1_0_baseU, sizeof(__pyx_k_http_ns_adobe_com_f4m_1_0_baseU), 0, 1, 0, 0},
  {&__pyx_kp_u_http_ns_adobe_com_f4m_1_0_boots, __pyx_k_http_ns_adobe_com_f4m_1_0_boots, sizeof(__pyx_k_http_ns_adobe_com_f4m_1_0_boots), 0, 1, 0, 0},
  {&__pyx_kp_u_http_ns_adobe_com_f4m_1_0_media, __pyx_k_http_ns_adobe_com_f4m_1_0_media, sizeof(__pyx_k_http_ns_adobe_com_f4m_1_0_media), 0, 1, 0, 0},
  {&__pyx_kp_u_http_ns_adobe_com_f4m_1_0_pv_2, __pyx_k_http_ns_adobe_com_f4m_1_0_pv_2, sizeof(__pyx_k_http_ns_adobe_com_f4m_1_0_pv_2), 0, 1, 0, 0},
  {&__pyx_kp_u_http_ns_adobe_com_f4m_2_0_baseU, __pyx_k_http_ns_adobe_com_f4m_2_0_baseU, sizeof(__pyx_k_http_ns_adobe_com_f4m_2_0_baseU), 0, 1, 0, 0},
  {&__pyx_kp_u_http_ns_adobe_com_f4m_2_0_boots, __pyx_k_http_ns_adobe_com_f4m_2_0_boots, sizeof(__pyx_k_http_ns_adobe_com_f4m_2_0_boots), 0, 1, 0, 0},
  {&__pyx_kp_u_http_ns_adobe_com_f4m_2_0_media, __pyx_k_http_ns_adobe_com_f4m_2_0_media, sizeof(__pyx_k_http_ns_adobe_com_f4m_2_0_media), 0, 1, 0, 0},
  {&__pyx_kp_u_http_schema_org, __pyx_k_http_schema_org, sizeof(__pyx_k_http_schema_org), 0, 1, 0, 0},
  {&__pyx_n_s_http_scheme, __pyx_k_http_scheme, sizeof(__pyx_k_http_scheme), 0, 0, 1, 1},
  {&__pyx_kp_u_http_static_streamone_nl_player, __pyx_k_http_static_streamone_nl_player, sizeof(__pyx_k_http_static_streamone_nl_player), 0, 1, 0, 0},
  {&__pyx_kp_u_http_xspf_org_ns_0, __pyx_k_http_xspf_org_ns_0, sizeof(__pyx_k_http_xspf_org_ns_0), 0, 1, 0, 0},
  {&__pyx_kp_u_http_youtube_com_yt_2012_10_10, __pyx_k_http_youtube_com_yt_2012_10_10, sizeof(__pyx_k_http_youtube_com_yt_2012_10_10), 0, 1, 0, 0},
  {&__pyx_n_u_https, __pyx_k_https, sizeof(__pyx_k_https), 0, 1, 0, 1},
  {&__pyx_kp_u_https_2, __pyx_k_https_2, sizeof(__pyx_k_https_2), 0, 1, 0, 0},
  {&__pyx_kp_u_https_3, __pyx_k_https_3, sizeof(__pyx_k_https_3), 0, 1, 0, 0},
  {&__pyx_kp_u_https_4, __pyx_k_https_4, sizeof(__pyx_k_https_4), 0, 1, 0, 0},
  {&__pyx_kp_u_https_5, __pyx_k_https_5, sizeof(__pyx_k_https_5), 0, 1, 0, 0},
  {&__pyx_n_s_i, __pyx_k_i, sizeof(__pyx_k_i), 0, 0, 1, 1},
  {&__pyx_kp_u_i_MPD, __pyx_k_i_MPD, sizeof(__pyx_k_i_MPD), 0, 1, 0, 0},
  {&__pyx_kp_u_i_input, __pyx_k_i_input, sizeof(__pyx_k_i_input), 0, 1, 0, 0},
  {&__pyx_kp_u_i_smil, __pyx_k_i_smil, sizeof(__pyx_k_i_smil), 0, 1, 0, 0},
  {&__pyx_n_u_id, __pyx_k_id, sizeof(__pyx_k_id), 0, 1, 0, 1},
  {&__pyx_n_s_id_or_name, __pyx_k_id_or_name, sizeof(__pyx_k_id_or_name), 0, 0, 1, 1},
  {&__pyx_n_s_idstr, __pyx_k_idstr, sizeof(__pyx_k_idstr), 0, 0, 1, 1},
  {&__pyx_n_s_ie, __pyx_k_ie, sizeof(__pyx_k_ie), 0, 0, 1, 1},
  {&__pyx_n_s_ie_key, __pyx_k_ie_key, sizeof(__pyx_k_ie_key), 0, 0, 1, 1},
  {&__pyx_n_u_ie_key, __pyx_k_ie_key, sizeof(__pyx_k_ie_key), 0, 1, 0, 1},
  {&__pyx_kp_u_iframe_src, __pyx_k_iframe_src, sizeof(__pyx_k_iframe_src), 0, 1, 0, 0},
  {&__pyx_n_u_image, __pyx_k_image, sizeof(__pyx_k_image), 0, 1, 0, 1},
  {&__pyx_kp_u_image_2, __pyx_k_image_2, sizeof(__pyx_k_image_2), 0, 1, 0, 0},
  {&__pyx_n_s_import, __pyx_k_import, sizeof(__pyx_k_import), 0, 0, 1, 1},
  {&__pyx_n_s_include_onlymatching, __pyx_k_include_onlymatching, sizeof(__pyx_k_include_onlymatching), 0, 0, 1, 1},
  {&__pyx_n_s_index, __pyx_k_index, sizeof(__pyx_k_index), 0, 0, 1, 1},
  {&__pyx_n_s_info, __pyx_k_info, sizeof(__pyx_k_info), 0, 0, 1, 1},
  {&__pyx_n_u_info_dict, __pyx_k_info_dict, sizeof(__pyx_k_info_dict), 0, 1, 0, 1},
  {&__pyx_n_s_init, __pyx_k_init, sizeof(__pyx_k_init), 0, 0, 1, 1},
  {&__pyx_n_s_initialization, __pyx_k_initialization, sizeof(__pyx_k_initialization), 0, 0, 1, 1},
  {&__pyx_n_u_initialization, __pyx_k_initialization, sizeof(__pyx_k_initialization), 0, 1, 0, 1},
  {&__pyx_n_s_initialization_url, __pyx_k_initialization_url, sizeof(__pyx_k_initialization_url), 0, 0, 1, 1},
  {&__pyx_n_u_initialization_url, __pyx_k_initialization_url, sizeof(__pyx_k_initialization_url), 0, 1, 0, 1},
  {&__pyx_n_s_initialize, __pyx_k_initialize, sizeof(__pyx_k_initialize), 0, 0, 1, 1},
  {&__pyx_n_s_input, __pyx_k_input, sizeof(__pyx_k_input), 0, 0, 1, 1},
  {&__pyx_n_s_int, __pyx_k_int, sizeof(__pyx_k_int), 0, 0, 1, 1},
  {&__pyx_n_s_int_or_none, __pyx_k_int_or_none, sizeof(__pyx_k_int_or_none), 0, 0, 1, 1},
  {&__pyx_kp_u_invalid_download_number_s_for_qu, __pyx_k_invalid_download_number_s_for_qu, sizeof(__pyx_k_invalid_download_number_s_for_qu), 0, 1, 0, 0},
  {&__pyx_n_u_isFamilyFriendly, __pyx_k_isFamilyFriendly, sizeof(__pyx_k_isFamilyFriendly), 0, 1, 0, 1},
  {&__pyx_n_s_is_drm_protected, __pyx_k_is_drm_protected, sizeof(__pyx_k_is_drm_protected), 0, 0, 1, 1},
  {&__pyx_kp_u_is_form_id_s_1_P_form_form, __pyx_k_is_form_id_s_1_P_form_form, sizeof(__pyx_k_is_form_id_s_1_P_form_form), 0, 1, 0, 0},
  {&__pyx_n_s_is_restricted, __pyx_k_is_restricted, sizeof(__pyx_k_is_restricted), 0, 0, 1, 1},
  {&__pyx_n_s_is_suitable, __pyx_k_is_suitable, sizeof(__pyx_k_is_suitable), 0, 0, 1, 1},
  {&__pyx_n_s_is_valid_url, __pyx_k_is_valid_url, sizeof(__pyx_k_is_valid_url), 0, 0, 1, 1},
  {&__pyx_n_s_isatty, __pyx_k_isatty, sizeof(__pyx_k_isatty), 0, 0, 1, 1},
  {&__pyx_kp_u_isx_meta_itemprop_name_property, __pyx_k_isx_meta_itemprop_name_property, sizeof(__pyx_k_isx_meta_itemprop_name_property), 0, 1, 0, 0},
  {&__pyx_n_s_item, __pyx_k_item, sizeof(__pyx_k_item), 0, 0, 1, 1},
  {&__pyx_n_s_item_type, __pyx_k_item_type, sizeof(__pyx_k_item_type), 0, 0, 1, 1},
  {&__pyx_n_s_items, __pyx_k_items, sizeof(__pyx_k_items), 0, 0, 1, 1},
  {&__pyx_kp_u_ix_meta_s_name_rating_s_content, __pyx_k_ix_meta_s_name_rating_s_content, sizeof(__pyx_k_ix_meta_s_name_rating_s_content), 0, 1, 0, 0},
  {&__pyx_n_s_json, __pyx_k_json, sizeof(__pyx_k_json), 0, 0, 1, 1},
  {&__pyx_n_s_json_ld, __pyx_k_json_ld, sizeof(__pyx_k_json_ld), 0, 0, 1, 1},
  {&__pyx_n_u_json_ld, __pyx_k_json_ld, sizeof(__pyx_k_json_ld), 0, 1, 0, 1},
  {&__pyx_n_s_json_ld_2, __pyx_k_json_ld_2, sizeof(__pyx_k_json_ld_2), 0, 0, 1, 1},
  {&__pyx_n_s_json_string, __pyx_k_json_string, sizeof(__pyx_k_json_string), 0, 0, 1, 1},
  {&__pyx_n_s_kargs, __pyx_k_kargs, sizeof(__pyx_k_kargs), 0, 0, 1, 1},
  {&__pyx_n_s_key, __pyx_k_key, sizeof(__pyx_k_key), 0, 0, 1, 1},
  {&__pyx_n_s_kind, __pyx_k_kind, sizeof(__pyx_k_kind), 0, 0, 1, 1},
  {&__pyx_n_u_kind, __pyx_k_kind, sizeof(__pyx_k_kind), 0, 1, 0, 1},
  {&__pyx_n_s_kwargs, __pyx_k_kwargs, sizeof(__pyx_k_kwargs), 0, 0, 1, 1},
  {&__pyx_n_u_label, __pyx_k_label, sizeof(__pyx_k_label), 0, 1, 0, 1},
  {&__pyx_n_s_lang, __pyx_k_lang, sizeof(__pyx_k_lang), 0, 0, 1, 1},
  {&__pyx_n_u_lang, __pyx_k_lang, sizeof(__pyx_k_lang), 0, 1, 0, 1},
  {&__pyx_n_u_language, __pyx_k_language, sizeof(__pyx_k_language), 0, 1, 0, 1},
  {&__pyx_n_u_language_preference, __pyx_k_language_preference, sizeof(__pyx_k_language_preference), 0, 1, 0, 1},
  {&__pyx_n_s_last_info, __pyx_k_last_info, sizeof(__pyx_k_last_info), 0, 0, 1, 1},
  {&__pyx_n_s_last_media, __pyx_k_last_media, sizeof(__pyx_k_last_media), 0, 0, 1, 1},
  {&__pyx_n_s_last_media_name, __pyx_k_last_media_name, sizeof(__pyx_k_last_media_name), 0, 0, 1, 1},
  {&__pyx_n_s_line, __pyx_k_line, sizeof(__pyx_k_line), 0, 0, 1, 1},
  {&__pyx_n_s_list1_urls, __pyx_k_list1_urls, sizeof(__pyx_k_list1_urls), 0, 0, 1, 1},
  {&__pyx_n_u_listsubtitles, __pyx_k_listsubtitles, sizeof(__pyx_k_listsubtitles), 0, 1, 0, 1},
  {&__pyx_n_s_live, __pyx_k_live, sizeof(__pyx_k_live), 0, 0, 1, 1},
  {&__pyx_n_s_live_title, __pyx_k_live_title, sizeof(__pyx_k_live_title), 0, 0, 1, 1},
  {&__pyx_n_s_loads, __pyx_k_loads, sizeof(__pyx_k_loads), 0, 0, 1, 1},
  {&__pyx_n_s_lower, __pyx_k_lower, sizeof(__pyx_k_lower), 0, 0, 1, 1},
  {&__pyx_n_s_m, __pyx_k_m, sizeof(__pyx_k_m), 0, 0, 1, 1},
  {&__pyx_n_u_m3u8, __pyx_k_m3u8, sizeof(__pyx_k_m3u8), 0, 1, 0, 1},
  {&__pyx_n_s_m3u8_count, __pyx_k_m3u8_count, sizeof(__pyx_k_m3u8_count), 0, 0, 1, 1},
  {&__pyx_n_s_m3u8_doc, __pyx_k_m3u8_doc, sizeof(__pyx_k_m3u8_doc), 0, 0, 1, 1},
  {&__pyx_n_s_m3u8_formats, __pyx_k_m3u8_formats, sizeof(__pyx_k_m3u8_formats), 0, 0, 1, 1},
  {&__pyx_n_s_m3u8_id, __pyx_k_m3u8_id, sizeof(__pyx_k_m3u8_id), 0, 0, 1, 1},
  {&__pyx_n_u_m3u8_media, __pyx_k_m3u8_media, sizeof(__pyx_k_m3u8_media), 0, 1, 0, 1},
  {&__pyx_n_s_m3u8_meta_format, __pyx_k_m3u8_meta_format, sizeof(__pyx_k_m3u8_meta_format), 0, 0, 1, 1},
  {&__pyx_n_s_m3u8_url, __pyx_k_m3u8_url, sizeof(__pyx_k_m3u8_url), 0, 0, 1, 1},
  {&__pyx_n_u_m4a, __pyx_k_m4a, sizeof(__pyx_k_m4a), 0, 1, 0, 1},
  {&__pyx_n_s_main, __pyx_k_main, sizeof(__pyx_k_main), 0, 0, 1, 1},
  {&__pyx_n_s_make_valid_url, __pyx_k_make_valid_url, sizeof(__pyx_k_make_valid_url), 0, 0, 1, 1},
  {&__pyx_n_s_manifest, __pyx_k_manifest, sizeof(__pyx_k_manifest), 0, 0, 1, 1},
  {&__pyx_n_s_manifest_url, __pyx_k_manifest_url, sizeof(__pyx_k_manifest_url), 0, 0, 1, 1},
  {&__pyx_n_s_manifest_version, __pyx_k_manifest_version, sizeof(__pyx_k_manifest_version), 0, 0, 1, 1},
  {&__pyx_n_s_mark_watched, __pyx_k_mark_watched, sizeof(__pyx_k_mark_watched), 0, 0, 1, 1},
  {&__pyx_n_u_mark_watched, __pyx_k_mark_watched, sizeof(__pyx_k_mark_watched), 0, 1, 0, 1},
  {&__pyx_n_s_mark_watched_2, __pyx_k_mark_watched_2, sizeof(__pyx_k_mark_watched_2), 0, 0, 1, 1},
  {&__pyx_n_s_match, __pyx_k_match, sizeof(__pyx_k_match), 0, 0, 1, 1},
  {&__pyx_n_s_match_id, __pyx_k_match_id, sizeof(__pyx_k_match_id), 0, 0, 1, 1},
  {&__pyx_n_s_math, __pyx_k_math, sizeof(__pyx_k_math), 0, 0, 1, 1},
  {&__pyx_n_u_mature, __pyx_k_mature, sizeof(__pyx_k_mature), 0, 1, 0, 1},
  {&__pyx_n_s_md5, __pyx_k_md5, sizeof(__pyx_k_md5), 0, 0, 1, 1},
  {&__pyx_n_s_media, __pyx_k_media, sizeof(__pyx_k_media), 0, 0, 1, 1},
  {&__pyx_n_u_media, __pyx_k_media, sizeof(__pyx_k_media), 0, 1, 0, 1},
  {&__pyx_n_u_mediaPresentationDuration, __pyx_k_mediaPresentationDuration, sizeof(__pyx_k_mediaPresentationDuration), 0, 1, 0, 1},
  {&__pyx_n_s_media_attributes, __pyx_k_media_attributes, sizeof(__pyx_k_media_attributes), 0, 0, 1, 1},
  {&__pyx_n_s_media_content, __pyx_k_media_content, sizeof(__pyx_k_media_content), 0, 0, 1, 1},
  {&__pyx_n_s_media_el, __pyx_k_media_el, sizeof(__pyx_k_media_el), 0, 0, 1, 1},
  {&__pyx_n_s_media_info, __pyx_k_media_info, sizeof(__pyx_k_media_info), 0, 0, 1, 1},
  {&__pyx_n_s_media_nodes, __pyx_k_media_nodes, sizeof(__pyx_k_media_nodes), 0, 0, 1, 1},
  {&__pyx_n_s_media_rating_search, __pyx_k_media_rating_search, sizeof(__pyx_k_media_rating_search), 0, 0, 1, 1},
  {&__pyx_n_s_media_tag, __pyx_k_media_tag, sizeof(__pyx_k_media_tag), 0, 0, 1, 1},
  {&__pyx_n_s_media_template, __pyx_k_media_template, sizeof(__pyx_k_media_template), 0, 0, 1, 1},
  {&__pyx_n_u_media_template, __pyx_k_media_template, sizeof(__pyx_k_media_template), 0, 1, 0, 1},
  {&__pyx_n_s_media_type, __pyx_k_media_type, sizeof(__pyx_k_media_type), 0, 0, 1, 1},
  {&__pyx_n_s_media_url, __pyx_k_media_url, sizeof(__pyx_k_media_url), 0, 0, 1, 1},
  {&__pyx_n_s_medium, __pyx_k_medium, sizeof(__pyx_k_medium), 0, 0, 1, 1},
  {&__pyx_n_s_merge_subtitle_items, __pyx_k_merge_subtitle_items, sizeof(__pyx_k_merge_subtitle_items), 0, 0, 1, 1},
  {&__pyx_n_s_merge_subtitles, __pyx_k_merge_subtitles, sizeof(__pyx_k_merge_subtitles), 0, 0, 1, 1},
  {&__pyx_n_s_meta, __pyx_k_meta, sizeof(__pyx_k_meta), 0, 0, 1, 1},
  {&__pyx_n_u_meta, __pyx_k_meta, sizeof(__pyx_k_meta), 0, 1, 0, 1},
  {&__pyx_kp_b_meta_charset, __pyx_k_meta_charset, sizeof(__pyx_k_meta_charset), 0, 0, 0, 0},
  {&__pyx_n_s_meta_regex, __pyx_k_meta_regex, sizeof(__pyx_k_meta_regex), 0, 0, 1, 1},
  {&__pyx_kp_u_meta_s_s, __pyx_k_meta_s_s, sizeof(__pyx_k_meta_s_s), 0, 1, 0, 0},
  {&__pyx_n_s_metaclass, __pyx_k_metaclass, sizeof(__pyx_k_metaclass), 0, 0, 1, 1},
  {&__pyx_n_u_mimeType, __pyx_k_mimeType, sizeof(__pyx_k_mimeType), 0, 1, 0, 1},
  {&__pyx_n_s_mime_type, __pyx_k_mime_type, sizeof(__pyx_k_mime_type), 0, 0, 1, 1},
  {&__pyx_n_s_mimetype, __pyx_k_mimetype, sizeof(__pyx_k_mimetype), 0, 0, 1, 1},
  {&__pyx_n_s_mimetype2ext, __pyx_k_mimetype2ext, sizeof(__pyx_k_mimetype2ext), 0, 0, 1, 1},
  {&__pyx_n_u_mis, __pyx_k_mis, sizeof(__pyx_k_mis), 0, 1, 0, 1},
  {&__pyx_n_s_mobj, __pyx_k_mobj, sizeof(__pyx_k_mobj), 0, 0, 1, 1},
  {&__pyx_n_s_module, __pyx_k_module, sizeof(__pyx_k_module), 0, 0, 1, 1},
  {&__pyx_n_u_mp3, __pyx_k_mp3, sizeof(__pyx_k_mp3), 0, 1, 0, 1},
  {&__pyx_n_u_mp4, __pyx_k_mp4, sizeof(__pyx_k_mp4), 0, 1, 0, 1},
  {&__pyx_n_s_mpd, __pyx_k_mpd, sizeof(__pyx_k_mpd), 0, 0, 1, 1},
  {&__pyx_n_s_mpd_base_url, __pyx_k_mpd_base_url, sizeof(__pyx_k_mpd_base_url), 0, 0, 1, 1},
  {&__pyx_n_s_mpd_doc, __pyx_k_mpd_doc, sizeof(__pyx_k_mpd_doc), 0, 0, 1, 1},
  {&__pyx_n_s_mpd_duration, __pyx_k_mpd_duration, sizeof(__pyx_k_mpd_duration), 0, 0, 1, 1},
  {&__pyx_n_s_mpd_id, __pyx_k_mpd_id, sizeof(__pyx_k_mpd_id), 0, 0, 1, 1},
  {&__pyx_n_s_mpd_url, __pyx_k_mpd_url, sizeof(__pyx_k_mpd_url), 0, 0, 1, 1},
  {&__pyx_n_s_ms_info, __pyx_k_ms_info, sizeof(__pyx_k_ms_info), 0, 0, 1, 1},
  {&__pyx_n_s_ms_parent_info, __pyx_k_ms_parent_info, sizeof(__pyx_k_ms_parent_info), 0, 0, 1, 1},
  {&__pyx_n_s_msg, __pyx_k_msg, sizeof(__pyx_k_msg), 0, 0, 1, 1},
  {&__pyx_n_s_msg_template, __pyx_k_msg_template, sizeof(__pyx_k_msg_template), 0, 0, 1, 1},
  {&__pyx_n_u_mul, __pyx_k_mul, sizeof(__pyx_k_mul), 0, 1, 0, 1},
  {&__pyx_n_u_multiple, __pyx_k_multiple, sizeof(__pyx_k_multiple), 0, 1, 0, 1},
  {&__pyx_n_s_n, __pyx_k_n, sizeof(__pyx_k_n), 0, 0, 1, 1},
  {&__pyx_n_s_name, __pyx_k_name, sizeof(__pyx_k_name), 0, 0, 1, 1},
  {&__pyx_n_s_name_2, __pyx_k_name_2, sizeof(__pyx_k_name_2), 0, 0, 1, 1},
  {&__pyx_n_u_name_2, __pyx_k_name_2, sizeof(__pyx_k_name_2), 0, 1, 0, 1},
  {&__pyx_n_s_name_3, __pyx_k_name_3, sizeof(__pyx_k_name_3), 0, 0, 1, 1},
  {&__pyx_kp_u_name_id_P_value_1, __pyx_k_name_id_P_value_1, sizeof(__pyx_k_name_id_P_value_1), 0, 1, 0, 0},
  {&__pyx_kp_u_name_property_og_prop_s_og_prop, __pyx_k_name_property_og_prop_s_og_prop, sizeof(__pyx_k_name_property_og_prop_s_og_prop), 0, 1, 0, 0},
  {&__pyx_n_s_namespace, __pyx_k_namespace, sizeof(__pyx_k_namespace), 0, 0, 1, 1},
  {&__pyx_n_u_namespace, __pyx_k_namespace, sizeof(__pyx_k_namespace), 0, 1, 0, 1},
  {&__pyx_n_s_netrc, __pyx_k_netrc, sizeof(__pyx_k_netrc), 0, 0, 1, 1},
  {&__pyx_n_u_no_color, __pyx_k_no_color, sizeof(__pyx_k_no_color), 0, 1, 0, 1},
  {&__pyx_n_u_none, __pyx_k_none, sizeof(__pyx_k_none), 0, 1, 0, 1},
  {&__pyx_n_s_note, __pyx_k_note, sizeof(__pyx_k_note), 0, 0, 1, 1},
  {&__pyx_n_s_now, __pyx_k_now, sizeof(__pyx_k_now), 0, 0, 1, 1},
  {&__pyx_n_s_now_str, __pyx_k_now_str, sizeof(__pyx_k_now_str), 0, 0, 1, 1},
  {&__pyx_n_u_nt, __pyx_k_nt, sizeof(__pyx_k_nt), 0, 1, 0, 1},
  {&__pyx_n_s_num, __pyx_k_num, sizeof(__pyx_k_num), 0, 0, 1, 1},
  {&__pyx_n_s_object, __pyx_k_object, sizeof(__pyx_k_object), 0, 0, 1, 1},
  {&__pyx_n_s_og_regexes, __pyx_k_og_regexes, sizeof(__pyx_k_og_regexes), 0, 0, 1, 1},
  {&__pyx_n_s_og_search_description, __pyx_k_og_search_description, sizeof(__pyx_k_og_search_description), 0, 0, 1, 1},
  {&__pyx_n_s_og_search_property, __pyx_k_og_search_property, sizeof(__pyx_k_og_search_property), 0, 0, 1, 1},
  {&__pyx_n_s_og_search_thumbnail, __pyx_k_og_search_thumbnail, sizeof(__pyx_k_og_search_thumbnail), 0, 0, 1, 1},
  {&__pyx_n_s_og_search_title, __pyx_k_og_search_title, sizeof(__pyx_k_og_search_title), 0, 0, 1, 1},
  {&__pyx_n_s_og_search_url, __pyx_k_og_search_url, sizeof(__pyx_k_og_search_url), 0, 0, 1, 1},
  {&__pyx_n_s_og_search_video_url, __pyx_k_og_search_video_url, sizeof(__pyx_k_og_search_video_url), 0, 0, 1, 1},
  {&__pyx_n_u_ogg, __pyx_k_ogg, sizeof(__pyx_k_ogg), 0, 1, 0, 1},
  {&__pyx_n_u_only_matching, __pyx_k_only_matching, sizeof(__pyx_k_only_matching), 0, 1, 0, 1},
  {&__pyx_n_s_open, __pyx_k_open, sizeof(__pyx_k_open), 0, 0, 1, 1},
  {&__pyx_n_u_opus, __pyx_k_opus, sizeof(__pyx_k_opus), 0, 1, 0, 1},
  {&__pyx_n_s_os, __pyx_k_os, sizeof(__pyx_k_os), 0, 0, 1, 1},
  {&__pyx_n_s_out, __pyx_k_out, sizeof(__pyx_k_out), 0, 0, 1, 1},
  {&__pyx_n_s_outf, __pyx_k_outf, sizeof(__pyx_k_outf), 0, 0, 1, 1},
  {&__pyx_n_s_p, __pyx_k_p, sizeof(__pyx_k_p), 0, 0, 1, 1},
  {&__pyx_n_s_params, __pyx_k_params, sizeof(__pyx_k_params), 0, 0, 1, 1},
  {&__pyx_n_s_parse_codecs, __pyx_k_parse_codecs, sizeof(__pyx_k_parse_codecs), 0, 0, 1, 1},
  {&__pyx_n_s_parse_content_type, __pyx_k_parse_content_type, sizeof(__pyx_k_parse_content_type), 0, 0, 1, 1},
  {&__pyx_n_s_parse_duration, __pyx_k_parse_duration, sizeof(__pyx_k_parse_duration), 0, 0, 1, 1},
  {&__pyx_n_s_parse_f4m_formats, __pyx_k_parse_f4m_formats, sizeof(__pyx_k_parse_f4m_formats), 0, 0, 1, 1},
  {&__pyx_n_s_parse_html5_media_entries, __pyx_k_parse_html5_media_entries, sizeof(__pyx_k_parse_html5_media_entries), 0, 0, 1, 1},
  {&__pyx_n_s_parse_iso8601, __pyx_k_parse_iso8601, sizeof(__pyx_k_parse_iso8601), 0, 0, 1, 1},
  {&__pyx_n_s_parse_json, __pyx_k_parse_json, sizeof(__pyx_k_parse_json), 0, 0, 1, 1},
  {&__pyx_n_s_parse_m3u8_attributes, __pyx_k_parse_m3u8_attributes, sizeof(__pyx_k_parse_m3u8_attributes), 0, 0, 1, 1},
  {&__pyx_n_s_parse_mpd_formats, __pyx_k_parse_mpd_formats, sizeof(__pyx_k_parse_mpd_formats), 0, 0, 1, 1},
  {&__pyx_n_s_parse_smil, __pyx_k_parse_smil, sizeof(__pyx_k_parse_smil), 0, 0, 1, 1},
  {&__pyx_n_s_parse_smil_formats, __pyx_k_parse_smil_formats, sizeof(__pyx_k_parse_smil_formats), 0, 0, 1, 1},
  {&__pyx_n_s_parse_smil_namespace, __pyx_k_parse_smil_namespace, sizeof(__pyx_k_parse_smil_namespace), 0, 0, 1, 1},
  {&__pyx_n_s_parse_smil_subtitles, __pyx_k_parse_smil_subtitles, sizeof(__pyx_k_parse_smil_subtitles), 0, 0, 1, 1},
  {&__pyx_n_s_parse_xspf, __pyx_k_parse_xspf, sizeof(__pyx_k_parse_xspf), 0, 0, 1, 1},
  {&__pyx_kp_u_parsing_netrc_s, __pyx_k_parsing_netrc_s, sizeof(__pyx_k_parsing_netrc_s), 0, 1, 0, 0},
  {&__pyx_n_u_partOfSeason, __pyx_k_partOfSeason, sizeof(__pyx_k_partOfSeason), 0, 1, 0, 1},
  {&__pyx_n_u_partOfSeries, __pyx_k_partOfSeries, sizeof(__pyx_k_partOfSeries), 0, 1, 0, 1},
  {&__pyx_n_s_part_of_season, __pyx_k_part_of_season, sizeof(__pyx_k_part_of_season), 0, 0, 1, 1},
  {&__pyx_n_s_part_of_series, __pyx_k_part_of_series, sizeof(__pyx_k_part_of_series), 0, 0, 1, 1},
  {&__pyx_n_s_partition, __pyx_k_partition, sizeof(__pyx_k_partition), 0, 0, 1, 1},
  {&__pyx_n_s_password, __pyx_k_password, sizeof(__pyx_k_password), 0, 0, 1, 1},
  {&__pyx_n_u_password, __pyx_k_password, sizeof(__pyx_k_password), 0, 1, 0, 1},
  {&__pyx_n_s_path, __pyx_k_path, sizeof(__pyx_k_path), 0, 0, 1, 1},
  {&__pyx_n_s_pattern, __pyx_k_pattern, sizeof(__pyx_k_pattern), 0, 0, 1, 1},
  {&__pyx_n_s_period, __pyx_k_period, sizeof(__pyx_k_period), 0, 0, 1, 1},
  {&__pyx_n_s_period_duration, __pyx_k_period_duration, sizeof(__pyx_k_period_duration), 0, 0, 1, 1},
  {&__pyx_n_s_period_ms_info, __pyx_k_period_ms_info, sizeof(__pyx_k_period_ms_info), 0, 0, 1, 1},
  {&__pyx_n_u_play_path, __pyx_k_play_path, sizeof(__pyx_k_play_path), 0, 1, 0, 1},
  {&__pyx_n_s_playerVerificationChallenge, __pyx_k_playerVerificationChallenge, sizeof(__pyx_k_playerVerificationChallenge), 0, 0, 1, 1},
  {&__pyx_n_s_playlist, __pyx_k_playlist, sizeof(__pyx_k_playlist), 0, 0, 1, 1},
  {&__pyx_n_u_playlist, __pyx_k_playlist, sizeof(__pyx_k_playlist), 0, 1, 0, 1},
  {&__pyx_n_s_playlist_description, __pyx_k_playlist_description, sizeof(__pyx_k_playlist_description), 0, 0, 1, 1},
  {&__pyx_n_s_playlist_id, __pyx_k_playlist_id, sizeof(__pyx_k_playlist_id), 0, 0, 1, 1},
  {&__pyx_n_s_playlist_result, __pyx_k_playlist_result, sizeof(__pyx_k_playlist_result), 0, 0, 1, 1},
  {&__pyx_n_s_playlist_title, __pyx_k_playlist_title, sizeof(__pyx_k_playlist_title), 0, 0, 1, 1},
  {&__pyx_n_s_playlist_url, __pyx_k_playlist_url, sizeof(__pyx_k_playlist_url), 0, 0, 1, 1},
  {&__pyx_n_u_plugin, __pyx_k_plugin, sizeof(__pyx_k_plugin), 0, 1, 0, 1},
  {&__pyx_n_u_poster, __pyx_k_poster, sizeof(__pyx_k_poster), 0, 1, 0, 1},
  {&__pyx_n_u_prefer_free_formats, __pyx_k_prefer_free_formats, sizeof(__pyx_k_prefer_free_formats), 0, 1, 0, 1},
  {&__pyx_n_u_prefer_insecure, __pyx_k_prefer_insecure, sizeof(__pyx_k_prefer_insecure), 0, 1, 0, 1},
  {&__pyx_n_s_preference, __pyx_k_preference, sizeof(__pyx_k_preference), 0, 0, 1, 1},
  {&__pyx_n_u_preference, __pyx_k_preference, sizeof(__pyx_k_preference), 0, 1, 0, 1},
  {&__pyx_n_s_prefix, __pyx_k_prefix, sizeof(__pyx_k_prefix), 0, 0, 1, 1},
  {&__pyx_n_u_prefix, __pyx_k_prefix, sizeof(__pyx_k_prefix), 0, 1, 0, 1},
  {&__pyx_n_s_prepare, __pyx_k_prepare, sizeof(__pyx_k_prepare), 0, 0, 1, 1},
  {&__pyx_n_s_print, __pyx_k_print, sizeof(__pyx_k_print), 0, 0, 1, 1},
  {&__pyx_n_s_prop, __pyx_k_prop, sizeof(__pyx_k_prop), 0, 0, 1, 1},
  {&__pyx_n_u_prop, __pyx_k_prop, sizeof(__pyx_k_prop), 0, 1, 0, 1},
  {&__pyx_n_s_property, __pyx_k_property, sizeof(__pyx_k_property), 0, 0, 1, 1},
  {&__pyx_n_s_property_re, __pyx_k_property_re, sizeof(__pyx_k_property_re), 0, 0, 1, 1},
  {&__pyx_n_s_proto, __pyx_k_proto, sizeof(__pyx_k_proto), 0, 0, 1, 1},
  {&__pyx_n_u_proto, __pyx_k_proto, sizeof(__pyx_k_proto), 0, 1, 0, 1},
  {&__pyx_n_s_proto_preference, __pyx_k_proto_preference, sizeof(__pyx_k_proto_preference), 0, 0, 1, 1},
  {&__pyx_n_s_proto_relative_url, __pyx_k_proto_relative_url, sizeof(__pyx_k_proto_relative_url), 0, 0, 1, 1},
  {&__pyx_n_u_protocol, __pyx_k_protocol, sizeof(__pyx_k_protocol), 0, 1, 0, 1},
  {&__pyx_n_u_quality, __pyx_k_quality, sizeof(__pyx_k_quality), 0, 1, 0, 1},
  {&__pyx_n_s_qualname, __pyx_k_qualname, sizeof(__pyx_k_qualname), 0, 0, 1, 1},
  {&__pyx_n_s_query, __pyx_k_query, sizeof(__pyx_k_query), 0, 0, 1, 1},
  {&__pyx_n_u_query, __pyx_k_query, sizeof(__pyx_k_query), 0, 1, 0, 1},
  {&__pyx_n_s_r, __pyx_k_r, sizeof(__pyx_k_r), 0, 0, 1, 1},
  {&__pyx_n_u_r, __pyx_k_r, sizeof(__pyx_k_r), 0, 1, 0, 1},
  {&__pyx_n_s_raise_geo_restricted, __pyx_k_raise_geo_restricted, sizeof(__pyx_k_raise_geo_restricted), 0, 0, 1, 1},
  {&__pyx_n_s_raise_login_required, __pyx_k_raise_login_required, sizeof(__pyx_k_raise_login_required), 0, 0, 1, 1},
  {&__pyx_n_s_range, __pyx_k_range, sizeof(__pyx_k_range), 0, 0, 1, 1},
  {&__pyx_n_s_rating, __pyx_k_rating, sizeof(__pyx_k_rating), 0, 0, 1, 1},
  {&__pyx_n_u_rating, __pyx_k_rating, sizeof(__pyx_k_rating), 0, 1, 0, 1},
  {&__pyx_n_s_raw_filename, __pyx_k_raw_filename, sizeof(__pyx_k_raw_filename), 0, 0, 1, 1},
  {&__pyx_n_s_re, __pyx_k_re, sizeof(__pyx_k_re), 0, 0, 1, 1},
  {&__pyx_n_s_read, __pyx_k_read, sizeof(__pyx_k_read), 0, 0, 1, 1},
  {&__pyx_n_s_ready, __pyx_k_ready, sizeof(__pyx_k_ready), 0, 0, 1, 1},
  {&__pyx_n_s_real_extract, __pyx_k_real_extract, sizeof(__pyx_k_real_extract), 0, 0, 1, 1},
  {&__pyx_n_s_real_initialize, __pyx_k_real_initialize, sizeof(__pyx_k_real_initialize), 0, 0, 1, 1},
  {&__pyx_n_s_regexes, __pyx_k_regexes, sizeof(__pyx_k_regexes), 0, 0, 1, 1},
  {&__pyx_n_s_remove_duplicate_formats, __pyx_k_remove_duplicate_formats, sizeof(__pyx_k_remove_duplicate_formats), 0, 0, 1, 1},
  {&__pyx_n_s_remove_encrypted_media, __pyx_k_remove_encrypted_media, sizeof(__pyx_k_remove_encrypted_media), 0, 0, 1, 1},
  {&__pyx_n_s_replace, __pyx_k_replace, sizeof(__pyx_k_replace), 0, 0, 1, 1},
  {&__pyx_n_u_replace, __pyx_k_replace, sizeof(__pyx_k_replace), 0, 1, 0, 1},
  {&__pyx_n_s_report_age_confirmation, __pyx_k_report_age_confirmation, sizeof(__pyx_k_report_age_confirmation), 0, 0, 1, 1},
  {&__pyx_n_s_report_download_webpage, __pyx_k_report_download_webpage, sizeof(__pyx_k_report_download_webpage), 0, 0, 1, 1},
  {&__pyx_n_s_report_extraction, __pyx_k_report_extraction, sizeof(__pyx_k_report_extraction), 0, 0, 1, 1},
  {&__pyx_n_s_report_login, __pyx_k_report_login, sizeof(__pyx_k_report_login), 0, 0, 1, 1},
  {&__pyx_n_s_report_warning, __pyx_k_report_warning, sizeof(__pyx_k_report_warning), 0, 0, 1, 1},
  {&__pyx_n_s_representation, __pyx_k_representation, sizeof(__pyx_k_representation), 0, 0, 1, 1},
  {&__pyx_n_s_representation_attrib, __pyx_k_representation_attrib, sizeof(__pyx_k_representation_attrib), 0, 0, 1, 1},
  {&__pyx_n_s_representation_id, __pyx_k_representation_id, sizeof(__pyx_k_representation_id), 0, 0, 1, 1},
  {&__pyx_n_s_representation_ms_info, __pyx_k_representation_ms_info, sizeof(__pyx_k_representation_ms_info), 0, 0, 1, 1},
  {&__pyx_n_s_req, __pyx_k_req, sizeof(__pyx_k_req), 0, 0, 1, 1},
  {&__pyx_n_s_request_webpage, __pyx_k_request_webpage, sizeof(__pyx_k_request_webpage), 0, 0, 1, 1},
  {&__pyx_n_s_res, __pyx_k_res, sizeof(__pyx_k_res), 0, 0, 1, 1},
  {&__pyx_n_s_resolution, __pyx_k_resolution, sizeof(__pyx_k_resolution), 0, 0, 1, 1},
  {&__pyx_n_u_resolution, __pyx_k_resolution, sizeof(__pyx_k_resolution), 0, 1, 0, 1},
  {&__pyx_n_s_restricted, __pyx_k_restricted, sizeof(__pyx_k_restricted), 0, 0, 1, 1},
  {&__pyx_n_u_restricted, __pyx_k_restricted, sizeof(__pyx_k_restricted), 0, 1, 0, 1},
  {&__pyx_n_s_ret, __pyx_k_ret, sizeof(__pyx_k_ret), 0, 0, 1, 1},
  {&__pyx_n_s_rta_search, __pyx_k_rta_search, sizeof(__pyx_k_rta_search), 0, 0, 1, 1},
  {&__pyx_n_u_rtmp, __pyx_k_rtmp, sizeof(__pyx_k_rtmp), 0, 1, 0, 1},
  {&__pyx_n_s_rtmp_count, __pyx_k_rtmp_count, sizeof(__pyx_k_rtmp_count), 0, 0, 1, 1},
  {&__pyx_kp_u_rtmp_d, __pyx_k_rtmp_d, sizeof(__pyx_k_rtmp_d), 0, 1, 0, 0},
  {&__pyx_kp_u_s, __pyx_k_s, sizeof(__pyx_k_s), 0, 1, 0, 0},
  {&__pyx_n_u_s1, __pyx_k_s1, sizeof(__pyx_k_s1), 0, 1, 0, 1},
  {&__pyx_kp_u_s1_height, __pyx_k_s1_height, sizeof(__pyx_k_s1_height), 0, 1, 0, 0},
  {&__pyx_kp_u_s1_label, __pyx_k_s1_label, sizeof(__pyx_k_s1_label), 0, 1, 0, 0},
  {&__pyx_kp_u_s1_width, __pyx_k_s1_width, sizeof(__pyx_k_s1_width), 0, 1, 0, 0},
  {&__pyx_kp_u_s_2, __pyx_k_s_2, sizeof(__pyx_k_s_2), 0, 1, 0, 0},
  {&__pyx_n_s_s_3, __pyx_k_s_3, sizeof(__pyx_k_s_3), 0, 0, 1, 1},
  {&__pyx_n_u_s_3, __pyx_k_s_3, sizeof(__pyx_k_s_3), 0, 1, 0, 1},
  {&__pyx_kp_u_s_Downloading_webpage, __pyx_k_s_Downloading_webpage, sizeof(__pyx_k_s_Downloading_webpage), 0, 1, 0, 0},
  {&__pyx_kp_u_s_Extracting_information, __pyx_k_s_Extracting_information, sizeof(__pyx_k_s_Extracting_information), 0, 1, 0, 0},
  {&__pyx_kp_u_s_Failed_to_parse_JSON, __pyx_k_s_Failed_to_parse_JSON, sizeof(__pyx_k_s_Failed_to_parse_JSON), 0, 1, 0, 0},
  {&__pyx_kp_u_s_P_prefix_1_9_0_9_all_P_query, __pyx_k_s_P_prefix_1_9_0_9_all_P_query, sizeof(__pyx_k_s_P_prefix_1_9_0_9_all_P_query), 0, 1, 0, 0},
  {&__pyx_kp_u_s_P_tag_video_audio_P_tag, __pyx_k_s_P_tag_video_audio_P_tag, sizeof(__pyx_k_s_P_tag_video_audio_P_tag), 0, 1, 0, 0},
  {&__pyx_kp_u_s_Use_username_and_password_or, __pyx_k_s_Use_username_and_password_or, sizeof(__pyx_k_s_Use_username_and_password_or), 0, 1, 0, 0},
  {&__pyx_kp_u_s_You_might_want_to_use_proxy_t, __pyx_k_s_You_might_want_to_use_proxy_t, sizeof(__pyx_k_s_You_might_want_to_use_proxy_t), 0, 1, 0, 0},
  {&__pyx_kp_u_s__s, __pyx_k_s__s, sizeof(__pyx_k_s__s), 0, 1, 0, 0},
  {&__pyx_n_s_s_e, __pyx_k_s_e, sizeof(__pyx_k_s_e), 0, 0, 1, 1},
  {&__pyx_kp_u_s_form, __pyx_k_s_form, sizeof(__pyx_k_s_form), 0, 1, 0, 0},
  {&__pyx_kp_u_s_has__TEST_and__TESTS, __pyx_k_s_has__TEST_and__TESTS, sizeof(__pyx_k_s_has__TEST_and__TESTS), 0, 1, 0, 0},
  {&__pyx_kp_u_s_returns_max_i_results_you_req, __pyx_k_s_returns_max_i_results_you_req, sizeof(__pyx_k_s_returns_max_i_results_you_req), 0, 1, 0, 0},
  {&__pyx_kp_u_s_s, __pyx_k_s_s, sizeof(__pyx_k_s_s), 0, 1, 0, 0},
  {&__pyx_kp_u_s_s_2, __pyx_k_s_s_2, sizeof(__pyx_k_s_s_2), 0, 1, 0, 0},
  {&__pyx_kp_u_s_s_3, __pyx_k_s_s_3, sizeof(__pyx_k_s_s_3), 0, 1, 0, 0},
  {&__pyx_kp_u_s_s_4, __pyx_k_s_s_4, sizeof(__pyx_k_s_s_4), 0, 1, 0, 0},
  {&__pyx_kp_u_s_s_URL_is_invalid_skipping, __pyx_k_s_s_URL_is_invalid_skipping, sizeof(__pyx_k_s_s_URL_is_invalid_skipping), 0, 1, 0, 0},
  {&__pyx_kp_u_s_s_s, __pyx_k_s_s_s, sizeof(__pyx_k_s_s_s), 0, 1, 0, 0},
  {&__pyx_kp_u_s_script_type_application_ld_js, __pyx_k_s_script_type_application_ld_js, sizeof(__pyx_k_s_script_type_application_ld_js), 0, 1, 0, 0},
  {&__pyx_kp_u_s_video_format, __pyx_k_s_video_format, sizeof(__pyx_k_s_video_format), 0, 1, 0, 0},
  {&__pyx_kp_u_safe_for_kids, __pyx_k_safe_for_kids, sizeof(__pyx_k_safe_for_kids), 0, 1, 0, 0},
  {&__pyx_n_s_sanitize_filename, __pyx_k_sanitize_filename, sizeof(__pyx_k_sanitize_filename), 0, 0, 1, 1},
  {&__pyx_n_s_sanitized_Request, __pyx_k_sanitized_Request, sizeof(__pyx_k_sanitized_Request), 0, 0, 1, 1},
  {&__pyx_n_s_scale, __pyx_k_scale, sizeof(__pyx_k_scale), 0, 0, 1, 1},
  {&__pyx_n_s_scheme, __pyx_k_scheme, sizeof(__pyx_k_scheme), 0, 0, 1, 1},
  {&__pyx_n_s_search, __pyx_k_search, sizeof(__pyx_k_search), 0, 0, 1, 1},
  {&__pyx_n_s_search_json_ld, __pyx_k_search_json_ld, sizeof(__pyx_k_search_json_ld), 0, 0, 1, 1},
  {&__pyx_n_s_search_regex, __pyx_k_search_regex, sizeof(__pyx_k_search_regex), 0, 0, 1, 1},
  {&__pyx_n_u_seasonNumber, __pyx_k_seasonNumber, sizeof(__pyx_k_seasonNumber), 0, 1, 0, 1},
  {&__pyx_n_u_season_number, __pyx_k_season_number, sizeof(__pyx_k_season_number), 0, 1, 0, 1},
  {&__pyx_n_s_secure, __pyx_k_secure, sizeof(__pyx_k_secure), 0, 0, 1, 1},
  {&__pyx_n_s_segment_duration, __pyx_k_segment_duration, sizeof(__pyx_k_segment_duration), 0, 0, 1, 1},
  {&__pyx_n_u_segment_duration, __pyx_k_segment_duration, sizeof(__pyx_k_segment_duration), 0, 1, 0, 1},
  {&__pyx_n_s_segment_list, __pyx_k_segment_list, sizeof(__pyx_k_segment_list), 0, 0, 1, 1},
  {&__pyx_n_s_segment_template, __pyx_k_segment_template, sizeof(__pyx_k_segment_template), 0, 0, 1, 1},
  {&__pyx_n_s_segment_time, __pyx_k_segment_time, sizeof(__pyx_k_segment_time), 0, 0, 1, 1},
  {&__pyx_n_s_segment_timeline, __pyx_k_segment_timeline, sizeof(__pyx_k_segment_timeline), 0, 0, 1, 1},
  {&__pyx_n_u_segment_urls, __pyx_k_segment_urls, sizeof(__pyx_k_segment_urls), 0, 1, 0, 1},
  {&__pyx_n_s_segment_urls_e, __pyx_k_segment_urls_e, sizeof(__pyx_k_segment_urls_e), 0, 0, 1, 1},
  {&__pyx_n_s_self, __pyx_k_self, sizeof(__pyx_k_self), 0, 0, 1, 1},
  {&__pyx_n_s_send, __pyx_k_send, sizeof(__pyx_k_send), 0, 0, 1, 1},
  {&__pyx_n_u_series, __pyx_k_series, sizeof(__pyx_k_series), 0, 1, 0, 1},
  {&__pyx_n_s_set_cookie, __pyx_k_set_cookie, sizeof(__pyx_k_set_cookie), 0, 0, 1, 1},
  {&__pyx_n_s_set_cookie_2, __pyx_k_set_cookie_2, sizeof(__pyx_k_set_cookie_2), 0, 0, 1, 1},
  {&__pyx_n_s_set_downloader, __pyx_k_set_downloader, sizeof(__pyx_k_set_downloader), 0, 0, 1, 1},
  {&__pyx_n_s_setdefault, __pyx_k_setdefault, sizeof(__pyx_k_setdefault), 0, 0, 1, 1},
  {&__pyx_n_u_size, __pyx_k_size, sizeof(__pyx_k_size), 0, 1, 0, 1},
  {&__pyx_n_s_sleep, __pyx_k_sleep, sizeof(__pyx_k_sleep), 0, 0, 1, 1},
  {&__pyx_n_s_sleep_2, __pyx_k_sleep_2, sizeof(__pyx_k_sleep_2), 0, 0, 1, 1},
  {&__pyx_n_s_smil, __pyx_k_smil, sizeof(__pyx_k_smil), 0, 0, 1, 1},
  {&__pyx_n_s_smil_url, __pyx_k_smil_url, sizeof(__pyx_k_smil_url), 0, 0, 1, 1},
  {&__pyx_n_s_socket, __pyx_k_socket, sizeof(__pyx_k_socket), 0, 0, 1, 1},
  {&__pyx_n_s_sort, __pyx_k_sort, sizeof(__pyx_k_sort), 0, 0, 1, 1},
  {&__pyx_n_s_sort_formats, __pyx_k_sort_formats, sizeof(__pyx_k_sort_formats), 0, 0, 1, 1},
  {&__pyx_kp_u_source, __pyx_k_source, sizeof(__pyx_k_source), 0, 1, 0, 0},
  {&__pyx_n_u_sourceURL, __pyx_k_sourceURL, sizeof(__pyx_k_sourceURL), 0, 1, 0, 1},
  {&__pyx_n_s_source_attributes, __pyx_k_source_attributes, sizeof(__pyx_k_source_attributes), 0, 0, 1, 1},
  {&__pyx_n_u_source_preference, __pyx_k_source_preference, sizeof(__pyx_k_source_preference), 0, 1, 0, 1},
  {&__pyx_n_s_source_tag, __pyx_k_source_tag, sizeof(__pyx_k_source_tag), 0, 0, 1, 1},
  {&__pyx_n_s_split, __pyx_k_split, sizeof(__pyx_k_split), 0, 0, 1, 1},
  {&__pyx_n_s_splitext, __pyx_k_splitext, sizeof(__pyx_k_splitext), 0, 0, 1, 1},
  {&__pyx_n_s_splitlines, __pyx_k_splitlines, sizeof(__pyx_k_splitlines), 0, 0, 1, 1},
  {&__pyx_n_s_src, __pyx_k_src, sizeof(__pyx_k_src), 0, 0, 1, 1},
  {&__pyx_n_u_src, __pyx_k_src, sizeof(__pyx_k_src), 0, 1, 0, 1},
  {&__pyx_n_s_src_ext, __pyx_k_src_ext, sizeof(__pyx_k_src_ext), 0, 0, 1, 1},
  {&__pyx_n_s_src_url, __pyx_k_src_url, sizeof(__pyx_k_src_url), 0, 0, 1, 1},
  {&__pyx_n_u_srclang, __pyx_k_srclang, sizeof(__pyx_k_srclang), 0, 1, 0, 1},
  {&__pyx_n_s_srcs, __pyx_k_srcs, sizeof(__pyx_k_srcs), 0, 0, 1, 1},
  {&__pyx_n_u_startNumber, __pyx_k_startNumber, sizeof(__pyx_k_startNumber), 0, 1, 0, 1},
  {&__pyx_n_s_start_number, __pyx_k_start_number, sizeof(__pyx_k_start_number), 0, 0, 1, 1},
  {&__pyx_n_u_start_number, __pyx_k_start_number, sizeof(__pyx_k_start_number), 0, 1, 0, 1},
  {&__pyx_n_s_startswith, __pyx_k_startswith, sizeof(__pyx_k_startswith), 0, 0, 1, 1},
  {&__pyx_n_s_staticmethod, __pyx_k_staticmethod, sizeof(__pyx_k_staticmethod), 0, 0, 1, 1},
  {&__pyx_n_s_stderr, __pyx_k_stderr, sizeof(__pyx_k_stderr), 0, 0, 1, 1},
  {&__pyx_n_s_stream_name, __pyx_k_stream_name, sizeof(__pyx_k_stream_name), 0, 0, 1, 1},
  {&__pyx_n_s_streamer, __pyx_k_streamer, sizeof(__pyx_k_streamer), 0, 0, 1, 1},
  {&__pyx_n_u_streamer, __pyx_k_streamer, sizeof(__pyx_k_streamer), 0, 1, 0, 1},
  {&__pyx_n_s_strftime, __pyx_k_strftime, sizeof(__pyx_k_strftime), 0, 0, 1, 1},
  {&__pyx_n_s_string, __pyx_k_string, sizeof(__pyx_k_string), 0, 0, 1, 1},
  {&__pyx_n_s_strip, __pyx_k_strip, sizeof(__pyx_k_strip), 0, 0, 1, 1},
  {&__pyx_n_s_sub, __pyx_k_sub, sizeof(__pyx_k_sub), 0, 0, 1, 1},
  {&__pyx_n_s_subtitle_dict1, __pyx_k_subtitle_dict1, sizeof(__pyx_k_subtitle_dict1), 0, 0, 1, 1},
  {&__pyx_n_s_subtitle_dict2, __pyx_k_subtitle_dict2, sizeof(__pyx_k_subtitle_dict2), 0, 0, 1, 1},
  {&__pyx_n_s_subtitle_list1, __pyx_k_subtitle_list1, sizeof(__pyx_k_subtitle_list1), 0, 0, 1, 1},
  {&__pyx_n_s_subtitle_list2, __pyx_k_subtitle_list2, sizeof(__pyx_k_subtitle_list2), 0, 0, 1, 1},
  {&__pyx_n_s_subtitles, __pyx_k_subtitles, sizeof(__pyx_k_subtitles), 0, 0, 1, 1},
  {&__pyx_n_u_subtitles, __pyx_k_subtitles, sizeof(__pyx_k_subtitles), 0, 1, 0, 1},
  {&__pyx_n_s_subtitles_lang, __pyx_k_subtitles_lang, sizeof(__pyx_k_subtitles_lang), 0, 0, 1, 1},
  {&__pyx_n_s_success, __pyx_k_success, sizeof(__pyx_k_success), 0, 0, 1, 1},
  {&__pyx_n_s_suitable, __pyx_k_suitable, sizeof(__pyx_k_suitable), 0, 0, 1, 1},
  {&__pyx_n_s_sys, __pyx_k_sys, sizeof(__pyx_k_sys), 0, 0, 1, 1},
  {&__pyx_n_u_systemBitrate, __pyx_k_systemBitrate, sizeof(__pyx_k_systemBitrate), 0, 1, 0, 1},
  {&__pyx_n_u_systemLanguage, __pyx_k_systemLanguage, sizeof(__pyx_k_systemLanguage), 0, 1, 0, 1},
  {&__pyx_n_u_systemLanguageName, __pyx_k_systemLanguageName, sizeof(__pyx_k_systemLanguageName), 0, 1, 0, 1},
  {&__pyx_kp_u_system_bitrate, __pyx_k_system_bitrate, sizeof(__pyx_k_system_bitrate), 0, 1, 0, 0},
  {&__pyx_n_s_t, __pyx_k_t, sizeof(__pyx_k_t), 0, 0, 1, 1},
  {&__pyx_n_u_t, __pyx_k_t, sizeof(__pyx_k_t), 0, 1, 0, 1},
  {&__pyx_n_s_tag, __pyx_k_tag, sizeof(__pyx_k_tag), 0, 0, 1, 1},
  {&__pyx_n_s_tbr, __pyx_k_tbr, sizeof(__pyx_k_tbr), 0, 0, 1, 1},
  {&__pyx_n_u_tbr, __pyx_k_tbr, sizeof(__pyx_k_tbr), 0, 1, 0, 1},
  {&__pyx_n_s_tc, __pyx_k_tc, sizeof(__pyx_k_tc), 0, 0, 1, 1},
  {&__pyx_n_s_template, __pyx_k_template, sizeof(__pyx_k_template), 0, 0, 1, 1},
  {&__pyx_n_s_test, __pyx_k_test, sizeof(__pyx_k_test), 0, 0, 1, 1},
  {&__pyx_n_s_tests, __pyx_k_tests, sizeof(__pyx_k_tests), 0, 0, 1, 1},
  {&__pyx_n_s_text, __pyx_k_text, sizeof(__pyx_k_text), 0, 0, 1, 1},
  {&__pyx_n_u_text, __pyx_k_text, sizeof(__pyx_k_text), 0, 1, 0, 1},
  {&__pyx_kp_u_textstream, __pyx_k_textstream, sizeof(__pyx_k_textstream), 0, 1, 0, 0},
  {&__pyx_n_s_textstream_2, __pyx_k_textstream_2, sizeof(__pyx_k_textstream_2), 0, 0, 1, 1},
  {&__pyx_n_s_throw, __pyx_k_throw, sizeof(__pyx_k_throw), 0, 0, 1, 1},
  {&__pyx_n_s_thumbnail, __pyx_k_thumbnail, sizeof(__pyx_k_thumbnail), 0, 0, 1, 1},
  {&__pyx_n_u_thumbnail, __pyx_k_thumbnail, sizeof(__pyx_k_thumbnail), 0, 1, 0, 1},
  {&__pyx_n_u_thumbnailUrl, __pyx_k_thumbnailUrl, sizeof(__pyx_k_thumbnailUrl), 0, 1, 0, 1},
  {&__pyx_kp_u_thumbnail_URL, __pyx_k_thumbnail_URL, sizeof(__pyx_k_thumbnail_URL), 0, 1, 0, 0},
  {&__pyx_n_s_thumbnails, __pyx_k_thumbnails, sizeof(__pyx_k_thumbnails), 0, 0, 1, 1},
  {&__pyx_n_u_thumbnails, __pyx_k_thumbnails, sizeof(__pyx_k_thumbnails), 0, 1, 0, 1},
  {&__pyx_n_s_time, __pyx_k_time, sizeof(__pyx_k_time), 0, 0, 1, 1},
  {&__pyx_n_s_timeout, __pyx_k_timeout, sizeof(__pyx_k_timeout), 0, 0, 1, 1},
  {&__pyx_n_u_timeout, __pyx_k_timeout, sizeof(__pyx_k_timeout), 0, 1, 0, 1},
  {&__pyx_n_s_timescale, __pyx_k_timescale, sizeof(__pyx_k_timescale), 0, 0, 1, 1},
  {&__pyx_n_u_timescale, __pyx_k_timescale, sizeof(__pyx_k_timescale), 0, 1, 0, 1},
  {&__pyx_n_u_timestamp, __pyx_k_timestamp, sizeof(__pyx_k_timestamp), 0, 1, 0, 1},
  {&__pyx_n_s_title, __pyx_k_title, sizeof(__pyx_k_title), 0, 0, 1, 1},
  {&__pyx_n_u_title, __pyx_k_title, sizeof(__pyx_k_title), 0, 1, 0, 1},
  {&__pyx_kp_u_title_Access_to_this_site_is_bl, __pyx_k_title_Access_to_this_site_is_bl, sizeof(__pyx_k_title_Access_to_this_site_is_bl), 0, 1, 0, 0},
  {&__pyx_kp_u_title_The_URL_you_requested_has, __pyx_k_title_The_URL_you_requested_has, sizeof(__pyx_k_title_The_URL_you_requested_has), 0, 1, 0, 0},
  {&__pyx_n_s_to_screen, __pyx_k_to_screen, sizeof(__pyx_k_to_screen), 0, 0, 1, 1},
  {&__pyx_n_u_total_number, __pyx_k_total_number, sizeof(__pyx_k_total_number), 0, 1, 0, 1},
  {&__pyx_kp_u_track, __pyx_k_track, sizeof(__pyx_k_track), 0, 1, 0, 0},
  {&__pyx_n_s_track_2, __pyx_k_track_2, sizeof(__pyx_k_track_2), 0, 0, 1, 1},
  {&__pyx_n_s_track_attributes, __pyx_k_track_attributes, sizeof(__pyx_k_track_attributes), 0, 0, 1, 1},
  {&__pyx_n_s_track_tag, __pyx_k_track_tag, sizeof(__pyx_k_track_tag), 0, 0, 1, 1},
  {&__pyx_n_s_transform_rtmp_url, __pyx_k_transform_rtmp_url, sizeof(__pyx_k_transform_rtmp_url), 0, 0, 1, 1},
  {&__pyx_n_s_transform_source, __pyx_k_transform_source, sizeof(__pyx_k_transform_source), 0, 0, 1, 1},
  {&__pyx_n_s_tries, __pyx_k_tries, sizeof(__pyx_k_tries), 0, 0, 1, 1},
  {&__pyx_n_u_true, __pyx_k_true, sizeof(__pyx_k_true), 0, 1, 0, 1},
  {&__pyx_n_s_try_count, __pyx_k_try_count, sizeof(__pyx_k_try_count), 0, 0, 1, 1},
  {&__pyx_kp_u_twitter_card_player, __pyx_k_twitter_card_player, sizeof(__pyx_k_twitter_card_player), 0, 1, 0, 0},
  {&__pyx_kp_u_twitter_player, __pyx_k_twitter_player, sizeof(__pyx_k_twitter_player), 0, 1, 0, 0},
  {&__pyx_n_s_twitter_search_player, __pyx_k_twitter_search_player, sizeof(__pyx_k_twitter_search_player), 0, 0, 1, 1},
  {&__pyx_kp_u_two_factor_verification_code, __pyx_k_two_factor_verification_code, sizeof(__pyx_k_two_factor_verification_code), 0, 1, 0, 0},
  {&__pyx_n_u_twofactor, __pyx_k_twofactor, sizeof(__pyx_k_twofactor), 0, 1, 0, 1},
  {&__pyx_n_u_type, __pyx_k_type, sizeof(__pyx_k_type), 0, 1, 0, 1},
  {&__pyx_kp_u_type_2, __pyx_k_type_2, sizeof(__pyx_k_type_2), 0, 1, 0, 0},
  {&__pyx_n_u_type_3, __pyx_k_type_3, sizeof(__pyx_k_type_3), 0, 1, 0, 1},
  {&__pyx_kp_u_type_hidden_submit_1, __pyx_k_type_hidden_submit_1, sizeof(__pyx_k_type_hidden_submit_1), 0, 1, 0, 0},
  {&__pyx_kp_u_unable_to_extract_s, __pyx_k_unable_to_extract_s, sizeof(__pyx_k_unable_to_extract_s), 0, 1, 0, 0},
  {&__pyx_n_u_und, __pyx_k_und, sizeof(__pyx_k_und), 0, 1, 0, 1},
  {&__pyx_n_s_unescapeHTML, __pyx_k_unescapeHTML, sizeof(__pyx_k_unescapeHTML), 0, 0, 1, 1},
  {&__pyx_n_s_unified_strdate, __pyx_k_unified_strdate, sizeof(__pyx_k_unified_strdate), 0, 0, 1, 1},
  {&__pyx_n_s_unified_timestamp, __pyx_k_unified_timestamp, sizeof(__pyx_k_unified_timestamp), 0, 0, 1, 1},
  {&__pyx_n_s_unique_formats, __pyx_k_unique_formats, sizeof(__pyx_k_unique_formats), 0, 0, 1, 1},
  {&__pyx_n_s_update, __pyx_k_update, sizeof(__pyx_k_update), 0, 0, 1, 1},
  {&__pyx_n_s_update_Request, __pyx_k_update_Request, sizeof(__pyx_k_update_Request), 0, 0, 1, 1},
  {&__pyx_n_s_update_url_query, __pyx_k_update_url_query, sizeof(__pyx_k_update_url_query), 0, 0, 1, 1},
  {&__pyx_n_u_uploadDate, __pyx_k_uploadDate, sizeof(__pyx_k_uploadDate), 0, 1, 0, 1},
  {&__pyx_n_s_upload_date, __pyx_k_upload_date, sizeof(__pyx_k_upload_date), 0, 0, 1, 1},
  {&__pyx_n_u_upload_date, __pyx_k_upload_date, sizeof(__pyx_k_upload_date), 0, 1, 0, 1},
  {&__pyx_n_u_uploader, __pyx_k_uploader, sizeof(__pyx_k_uploader), 0, 1, 0, 1},
  {&__pyx_n_s_url, __pyx_k_url, sizeof(__pyx_k_url), 0, 0, 1, 1},
  {&__pyx_n_u_url, __pyx_k_url, sizeof(__pyx_k_url), 0, 1, 0, 1},
  {&__pyx_n_s_url_basename, __pyx_k_url_basename, sizeof(__pyx_k_url_basename), 0, 0, 1, 1},
  {&__pyx_n_s_url_el, __pyx_k_url_el, sizeof(__pyx_k_url_el), 0, 0, 1, 1},
  {&__pyx_n_s_url_or_request, __pyx_k_url_or_request, sizeof(__pyx_k_url_or_request), 0, 0, 1, 1},
  {&__pyx_n_s_url_result, __pyx_k_url_result, sizeof(__pyx_k_url_result), 0, 0, 1, 1},
  {&__pyx_n_s_urlh, __pyx_k_urlh, sizeof(__pyx_k_urlh), 0, 0, 1, 1},
  {&__pyx_n_s_urljoin, __pyx_k_urljoin, sizeof(__pyx_k_urljoin), 0, 0, 1, 1},
  {&__pyx_n_s_urlopen, __pyx_k_urlopen, sizeof(__pyx_k_urlopen), 0, 0, 1, 1},
  {&__pyx_n_s_urls, __pyx_k_urls, sizeof(__pyx_k_urls), 0, 0, 1, 1},
  {&__pyx_n_u_usenetrc, __pyx_k_usenetrc, sizeof(__pyx_k_usenetrc), 0, 1, 0, 1},
  {&__pyx_n_s_username, __pyx_k_username, sizeof(__pyx_k_username), 0, 0, 1, 1},
  {&__pyx_n_u_username, __pyx_k_username, sizeof(__pyx_k_username), 0, 1, 0, 1},
  {&__pyx_kp_u_utf_16, __pyx_k_utf_16, sizeof(__pyx_k_utf_16), 0, 1, 0, 0},
  {&__pyx_kp_u_utf_8, __pyx_k_utf_8, sizeof(__pyx_k_utf_8), 0, 1, 0, 0},
  {&__pyx_n_s_utils, __pyx_k_utils, sizeof(__pyx_k_utils), 0, 0, 1, 1},
  {&__pyx_n_s_v, __pyx_k_v, sizeof(__pyx_k_v), 0, 0, 1, 1},
  {&__pyx_n_s_value, __pyx_k_value, sizeof(__pyx_k_value), 0, 0, 1, 1},
  {&__pyx_n_u_value, __pyx_k_value, sizeof(__pyx_k_value), 0, 1, 0, 1},
  {&__pyx_kp_u_value_P_value_1, __pyx_k_value_P_value_1, sizeof(__pyx_k_value_P_value_1), 0, 1, 0, 0},
  {&__pyx_n_s_vbr, __pyx_k_vbr, sizeof(__pyx_k_vbr), 0, 0, 1, 1},
  {&__pyx_n_u_vbr, __pyx_k_vbr, sizeof(__pyx_k_vbr), 0, 1, 0, 1},
  {&__pyx_n_u_vcodec, __pyx_k_vcodec, sizeof(__pyx_k_vcodec), 0, 1, 0, 1},
  {&__pyx_n_s_ve, __pyx_k_ve, sizeof(__pyx_k_ve), 0, 0, 1, 1},
  {&__pyx_n_u_video, __pyx_k_video, sizeof(__pyx_k_video), 0, 1, 0, 1},
  {&__pyx_kp_u_video_2, __pyx_k_video_2, sizeof(__pyx_k_video_2), 0, 1, 0, 0},
  {&__pyx_n_s_video_id, __pyx_k_video_id, sizeof(__pyx_k_video_id), 0, 0, 1, 1},
  {&__pyx_n_u_video_id, __pyx_k_video_id, sizeof(__pyx_k_video_id), 0, 1, 0, 1},
  {&__pyx_kp_u_video_id_s_Waiting_for_timeout, __pyx_k_video_id_s_Waiting_for_timeout, sizeof(__pyx_k_video_id_s_Waiting_for_timeout), 0, 1, 0, 0},
  {&__pyx_n_s_video_info, __pyx_k_video_info, sizeof(__pyx_k_video_info), 0, 0, 1, 1},
  {&__pyx_kp_u_video_secure_url, __pyx_k_video_secure_url, sizeof(__pyx_k_video_secure_url), 0, 1, 0, 0},
  {&__pyx_n_s_video_title, __pyx_k_video_title, sizeof(__pyx_k_video_title), 0, 0, 1, 1},
  {&__pyx_kp_u_video_url, __pyx_k_video_url, sizeof(__pyx_k_video_url), 0, 1, 0, 0},
  {&__pyx_kp_u_video_url_2, __pyx_k_video_url_2, sizeof(__pyx_k_video_url_2), 0, 1, 0, 0},
  {&__pyx_n_s_video_url_3, __pyx_k_video_url_3, sizeof(__pyx_k_video_url_3), 0, 0, 1, 1},
  {&__pyx_n_u_wb, __pyx_k_wb, sizeof(__pyx_k_wb), 0, 1, 0, 1},
  {&__pyx_n_u_webm, __pyx_k_webm, sizeof(__pyx_k_webm), 0, 1, 0, 1},
  {&__pyx_n_s_webpage, __pyx_k_webpage, sizeof(__pyx_k_webpage), 0, 0, 1, 1},
  {&__pyx_n_s_webpage_bytes, __pyx_k_webpage_bytes, sizeof(__pyx_k_webpage_bytes), 0, 0, 1, 1},
  {&__pyx_n_s_webpage_read_content, __pyx_k_webpage_read_content, sizeof(__pyx_k_webpage_read_content), 0, 0, 1, 1},
  {&__pyx_n_s_width, __pyx_k_width, sizeof(__pyx_k_width), 0, 0, 1, 1},
  {&__pyx_n_u_width, __pyx_k_width, sizeof(__pyx_k_width), 0, 1, 0, 1},
  {&__pyx_n_s_width_str, __pyx_k_width_str, sizeof(__pyx_k_width_str), 0, 0, 1, 1},
  {&__pyx_n_s_working, __pyx_k_working, sizeof(__pyx_k_working), 0, 0, 1, 1},
  {&__pyx_n_s_write, __pyx_k_write, sizeof(__pyx_k_write), 0, 0, 1, 1},
  {&__pyx_n_u_write_pages, __pyx_k_write_pages, sizeof(__pyx_k_write_pages), 0, 1, 0, 1},
  {&__pyx_n_u_writeautomaticsub, __pyx_k_writeautomaticsub, sizeof(__pyx_k_writeautomaticsub), 0, 1, 0, 1},
  {&__pyx_n_u_writesubtitles, __pyx_k_writesubtitles, sizeof(__pyx_k_writesubtitles), 0, 1, 0, 1},
  {&__pyx_n_u_x, __pyx_k_x, sizeof(__pyx_k_x), 0, 1, 0, 1},
  {&__pyx_n_s_xml_string, __pyx_k_xml_string, sizeof(__pyx_k_xml_string), 0, 0, 1, 1},
  {&__pyx_n_s_xpath_element, __pyx_k_xpath_element, sizeof(__pyx_k_xpath_element), 0, 0, 1, 1},
  {&__pyx_n_s_xpath_ns, __pyx_k_xpath_ns, sizeof(__pyx_k_xpath_ns), 0, 0, 1, 1},
  {&__pyx_n_s_xpath_text, __pyx_k_xpath_text, sizeof(__pyx_k_xpath_text), 0, 0, 1, 1},
  {&__pyx_n_s_xpath_with_ns, __pyx_k_xpath_with_ns, sizeof(__pyx_k_xpath_with_ns), 0, 0, 1, 1},
  {&__pyx_n_s_xspf, __pyx_k_xspf, sizeof(__pyx_k_xspf), 0, 0, 1, 1},
  {&__pyx_n_u_xspf, __pyx_k_xspf, sizeof(__pyx_k_xspf), 0, 1, 0, 1},
  {&__pyx_kp_u_xspf_annotation, __pyx_k_xspf_annotation, sizeof(__pyx_k_xspf_annotation), 0, 1, 0, 0},
  {&__pyx_kp_u_xspf_duration, __pyx_k_xspf_duration, sizeof(__pyx_k_xspf_duration), 0, 1, 0, 0},
  {&__pyx_kp_u_xspf_image, __pyx_k_xspf_image, sizeof(__pyx_k_xspf_image), 0, 1, 0, 0},
  {&__pyx_kp_u_xspf_location, __pyx_k_xspf_location, sizeof(__pyx_k_xspf_location), 0, 1, 0, 0},
  {&__pyx_kp_u_xspf_title, __pyx_k_xspf_title, sizeof(__pyx_k_xspf_title), 0, 1, 0, 0},
  {&__pyx_kp_u_xspf_trackList_xspf_track, __pyx_k_xspf_trackList_xspf_track, sizeof(__pyx_k_xspf_trackList_xspf_track), 0, 1, 0, 0},
  {&__pyx_n_s_youtube_dl_extractor_common, __pyx_k_youtube_dl_extractor_common, sizeof(__pyx_k_youtube_dl_extractor_common), 0, 0, 1, 1},
  {&__pyx_n_u_zxx, __pyx_k_zxx, sizeof(__pyx_k_zxx), 0, 1, 0, 1},
  {0, 0, 0, 0, 0, 0, 0}
};
static int __Pyx_InitCachedBuiltins(void) {
  __pyx_builtin_object = __Pyx_GetBuiltinName(__pyx_n_s_object); if (!__pyx_builtin_object) __PYX_ERR(0, 63, __pyx_L1_error)
  __pyx_builtin_property = __Pyx_GetBuiltinName(__pyx_n_s_property); if (!__pyx_builtin_property) __PYX_ERR(0, 372, __pyx_L1_error)
  __pyx_builtin_staticmethod = __Pyx_GetBuiltinName(__pyx_n_s_staticmethod); if (!__pyx_builtin_staticmethod) __PYX_ERR(0, 421, __pyx_L1_error)
  __pyx_builtin_KeyError = __Pyx_GetBuiltinName(__pyx_n_s_KeyError); if (!__pyx_builtin_KeyError) __PYX_ERR(0, 352, __pyx_L1_error)
  __pyx_builtin_StopIteration = __Pyx_GetBuiltinName(__pyx_n_s_StopIteration); if (!__pyx_builtin_StopIteration) __PYX_ERR(0, 352, __pyx_L1_error)
  __pyx_builtin_AttributeError = __Pyx_GetBuiltinName(__pyx_n_s_AttributeError); if (!__pyx_builtin_AttributeError) __PYX_ERR(0, 448, __pyx_L1_error)
  __pyx_builtin_open = __Pyx_GetBuiltinName(__pyx_n_s_open); if (!__pyx_builtin_open) __PYX_ERR(0, 471, __pyx_L1_error)
  __pyx_builtin_LookupError = __Pyx_GetBuiltinName(__pyx_n_s_LookupError); if (!__pyx_builtin_LookupError) __PYX_ERR(0, 476, __pyx_L1_error)
  __pyx_builtin_ValueError = __Pyx_GetBuiltinName(__pyx_n_s_ValueError); if (!__pyx_builtin_ValueError) __PYX_ERR(0, 550, __pyx_L1_error)
  __pyx_builtin_IOError = __Pyx_GetBuiltinName(__pyx_n_s_IOError); if (!__pyx_builtin_IOError) __PYX_ERR(0, 690, __pyx_L1_error)
  __pyx_builtin_filter = __Pyx_GetBuiltinName(__pyx_n_s_filter); if (!__pyx_builtin_filter) __PYX_ERR(0, 962, __pyx_L1_error)
  __pyx_builtin_enumerate = __Pyx_GetBuiltinName(__pyx_n_s_enumerate); if (!__pyx_builtin_enumerate) __PYX_ERR(0, 1066, __pyx_L1_error)
  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(0, 1643, __pyx_L1_error)
  __pyx_builtin_print = __Pyx_GetBuiltinName(__pyx_n_s_print); if (!__pyx_builtin_print) __PYX_ERR(0, 1738, __pyx_L1_error)
  __pyx_builtin_NotImplementedError = __Pyx_GetBuiltinName(__pyx_n_s_NotImplementedError); if (!__pyx_builtin_NotImplementedError) __PYX_ERR(0, 1805, __pyx_L1_error)
  return 0;
  __pyx_L1_error:;
  return -1;
}

static int __Pyx_InitCachedConstants(void) {
  __Pyx_RefNannyDeclarations
  __Pyx_RefNannySetupContext("__Pyx_InitCachedConstants", 0);

  /* "youtube_dl/extractor/common.py":330
 *         m = cls._VALID_URL_RE.match(url)
 *         assert m
 *         return m.group('id')             # <<<<<<<<<<<<<<
 * 
 *     @classmethod
 */
  __pyx_tuple_ = PyTuple_Pack(1, __pyx_n_u_id); if (unlikely(!__pyx_tuple_)) __PYX_ERR(0, 330, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple_);
  __Pyx_GIVEREF(__pyx_tuple_);

  /* "youtube_dl/extractor/common.py":351
 *             raise
 *         except compat_http_client.IncompleteRead as e:
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)             # <<<<<<<<<<<<<<
 *         except (KeyError, StopIteration) as e:
 *             raise ExtractorError('An extractor error has occurred.', cause=e)
 */
  __pyx_tuple__2 = PyTuple_Pack(1, __pyx_kp_u_A_network_error_has_occurred); if (unlikely(!__pyx_tuple__2)) __PYX_ERR(0, 351, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__2);
  __Pyx_GIVEREF(__pyx_tuple__2);

  /* "youtube_dl/extractor/common.py":353
 *             raise ExtractorError('A network error has occurred.', cause=e, expected=True)
 *         except (KeyError, StopIteration) as e:
 *             raise ExtractorError('An extractor error has occurred.', cause=e)             # <<<<<<<<<<<<<<
 * 
 *     def set_downloader(self, downloader):
 */
  __pyx_tuple__3 = PyTuple_Pack(1, __pyx_kp_u_An_extractor_error_has_occurred); if (unlikely(!__pyx_tuple__3)) __PYX_ERR(0, 353, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__3);
  __Pyx_GIVEREF(__pyx_tuple__3);

  /* "youtube_dl/extractor/common.py":370
 *     def ie_key(cls):
 *         """A string for getting the InfoExtractor with get_info_extractor"""
 *         return compat_str(cls.__name__[:-2])             # <<<<<<<<<<<<<<
 * 
 *     @property
 */
  __pyx_slice__4 = PySlice_New(Py_None, __pyx_int_neg_2, Py_None); if (unlikely(!__pyx_slice__4)) __PYX_ERR(0, 370, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_slice__4);
  __Pyx_GIVEREF(__pyx_slice__4);

  /* "youtube_dl/extractor/common.py":374
 *     @property
 *     def IE_NAME(self):
 *         return compat_str(type(self).__name__[:-2])             # <<<<<<<<<<<<<<
 * 
 *     def _request_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, data=None, headers={}, query={}):
 */
  __pyx_slice__5 = PySlice_New(Py_None, __pyx_int_neg_2, Py_None); if (unlikely(!__pyx_slice__5)) __PYX_ERR(0, 374, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_slice__5);
  __Pyx_GIVEREF(__pyx_slice__5);

  /* "youtube_dl/extractor/common.py":412
 *         # Strip hashes from the URL (#1038)
 *         if isinstance(url_or_request, (compat_str, str)):
 *             url_or_request = url_or_request.partition('#')[0]             # <<<<<<<<<<<<<<
 * 
 *         urlh = self._request_webpage(url_or_request, video_id, note, errnote, fatal, data=data, headers=headers, query=query)
 */
  __pyx_tuple__7 = PyTuple_Pack(1, __pyx_kp_u__6); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(0, 412, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__7);
  __Pyx_GIVEREF(__pyx_tuple__7);

  /* "youtube_dl/extractor/common.py":425
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 *         if m:
 *             encoding = m.group(1)             # <<<<<<<<<<<<<<
 *         else:
 *             m = re.search(br'<meta[^>]+charset=[\'"]?([^\'")]+)[ /\'">]',
 */
  __pyx_tuple__8 = PyTuple_Pack(1, __pyx_int_1); if (unlikely(!__pyx_tuple__8)) __PYX_ERR(0, 425, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__8);
  __Pyx_GIVEREF(__pyx_tuple__8);

  /* "youtube_dl/extractor/common.py":428
 *         else:
 *             m = re.search(br'<meta[^>]+charset=[\'"]?([^\'")]+)[ /\'">]',
 *                           webpage_bytes[:1024])             # <<<<<<<<<<<<<<
 *             if m:
 *                 encoding = m.group(1).decode('ascii')
 */
  __pyx_slice__9 = PySlice_New(Py_None, __pyx_int_1024, Py_None); if (unlikely(!__pyx_slice__9)) __PYX_ERR(0, 428, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_slice__9);
  __Pyx_GIVEREF(__pyx_slice__9);

  /* "youtube_dl/extractor/common.py":430
 *                           webpage_bytes[:1024])
 *             if m:
 *                 encoding = m.group(1).decode('ascii')             # <<<<<<<<<<<<<<
 *             elif webpage_bytes.startswith(b'\xff\xfe'):
 *                 encoding = 'utf-16'
 */
  __pyx_tuple__10 = PyTuple_Pack(1, __pyx_int_1); if (unlikely(!__pyx_tuple__10)) __PYX_ERR(0, 430, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__10);
  __Pyx_GIVEREF(__pyx_tuple__10);
  __pyx_tuple__11 = PyTuple_Pack(1, __pyx_n_u_ascii); if (unlikely(!__pyx_tuple__11)) __PYX_ERR(0, 430, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__11);
  __Pyx_GIVEREF(__pyx_tuple__11);

  /* "youtube_dl/extractor/common.py":431
 *             if m:
 *                 encoding = m.group(1).decode('ascii')
 *             elif webpage_bytes.startswith(b'\xff\xfe'):             # <<<<<<<<<<<<<<
 *                 encoding = 'utf-16'
 *             else:
 */
  __pyx_tuple__13 = PyTuple_Pack(1, __pyx_kp_b__12); if (unlikely(!__pyx_tuple__13)) __PYX_ERR(0, 431, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__13);
  __Pyx_GIVEREF(__pyx_tuple__13);

  /* "youtube_dl/extractor/common.py":439
 * 
 *     def _webpage_read_content(self, urlh, url_or_request, video_id, note=None, errnote=None, fatal=True, prefix=None, encoding=None):
 *         content_type = urlh.headers.get('Content-Type', '')             # <<<<<<<<<<<<<<
 *         webpage_bytes = urlh.read()
 *         if prefix is not None:
 */
  __pyx_tuple__15 = PyTuple_Pack(2, __pyx_kp_u_Content_Type, __pyx_kp_u__14); if (unlikely(!__pyx_tuple__15)) __PYX_ERR(0, 439, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__15);
  __Pyx_GIVEREF(__pyx_tuple__15);

  /* "youtube_dl/extractor/common.py":445
 *         if not encoding:
 *             encoding = self._guess_encoding_from_content(content_type, webpage_bytes)
 *         if self._downloader.params.get('dump_intermediate_pages', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 url = url_or_request.get_full_url()
 */
  __pyx_tuple__16 = PyTuple_Pack(2, __pyx_n_u_dump_intermediate_pages, Py_False); if (unlikely(!__pyx_tuple__16)) __PYX_ERR(0, 445, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__16);
  __Pyx_GIVEREF(__pyx_tuple__16);

  /* "youtube_dl/extractor/common.py":451
 *                 url = url_or_request
 *             self.to_screen('Dumping request to ' + url)
 *             dump = base64.b64encode(webpage_bytes).decode('ascii')             # <<<<<<<<<<<<<<
 *             self._downloader.to_screen(dump)
 *         if self._downloader.params.get('write_pages', False):
 */
  __pyx_tuple__17 = PyTuple_Pack(1, __pyx_n_u_ascii); if (unlikely(!__pyx_tuple__17)) __PYX_ERR(0, 451, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__17);
  __Pyx_GIVEREF(__pyx_tuple__17);

  /* "youtube_dl/extractor/common.py":453
 *             dump = base64.b64encode(webpage_bytes).decode('ascii')
 *             self._downloader.to_screen(dump)
 *         if self._downloader.params.get('write_pages', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 url = url_or_request.get_full_url()
 */
  __pyx_tuple__18 = PyTuple_Pack(2, __pyx_n_u_write_pages, Py_False); if (unlikely(!__pyx_tuple__18)) __PYX_ERR(0, 453, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__18);
  __Pyx_GIVEREF(__pyx_tuple__18);

  /* "youtube_dl/extractor/common.py":460
 *             basen = '%s_%s' % (video_id, url)
 *             if len(basen) > 240:
 *                 h = '___' + hashlib.md5(basen.encode('utf-8')).hexdigest()             # <<<<<<<<<<<<<<
 *                 basen = basen[:240 - len(h)] + h
 *             raw_filename = basen + '.dump'
 */
  __pyx_tuple__20 = PyTuple_Pack(1, __pyx_kp_u_utf_8); if (unlikely(!__pyx_tuple__20)) __PYX_ERR(0, 460, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__20);
  __Pyx_GIVEREF(__pyx_tuple__20);

  /* "youtube_dl/extractor/common.py":471
 *                 if len(absfilepath) > 259:
 *                     filename = '\\\\?\\' + absfilepath
 *             with open(filename, 'wb') as outf:             # <<<<<<<<<<<<<<
 *                 outf.write(webpage_bytes)
 * 
 */
  __pyx_tuple__22 = PyTuple_Pack(3, Py_None, Py_None, Py_None); if (unlikely(!__pyx_tuple__22)) __PYX_ERR(0, 471, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__22);
  __Pyx_GIVEREF(__pyx_tuple__22);

  /* "youtube_dl/extractor/common.py":477
 *             content = webpage_bytes.decode(encoding, 'replace')
 *         except LookupError:
 *             content = webpage_bytes.decode('utf-8', 'replace')             # <<<<<<<<<<<<<<
 * 
 *         if ('<title>Access to this site is blocked</title>' in content and
 */
  __pyx_tuple__23 = PyTuple_Pack(2, __pyx_kp_u_utf_8, __pyx_n_u_replace); if (unlikely(!__pyx_tuple__23)) __PYX_ERR(0, 477, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__23);
  __Pyx_GIVEREF(__pyx_tuple__23);

  /* "youtube_dl/extractor/common.py":480
 * 
 *         if ('<title>Access to this site is blocked</title>' in content and
 *                 'Websense' in content[:512]):             # <<<<<<<<<<<<<<
 *             msg = 'Access to this webpage has been blocked by Websense filtering software in your network.'
 *             blocked_iframe = self._html_search_regex(
 */
  __pyx_slice__24 = PySlice_New(Py_None, __pyx_int_512, Py_None); if (unlikely(!__pyx_slice__24)) __PYX_ERR(0, 480, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_slice__24);
  __Pyx_GIVEREF(__pyx_slice__24);

  /* "youtube_dl/extractor/common.py":488
 *                 msg += ' Visit %s for more details' % blocked_iframe
 *             raise ExtractorError(msg, expected=True)
 *         if '<title>The URL you requested has been blocked</title>' in content[:512]:             # <<<<<<<<<<<<<<
 *             msg = (
 *                 'Access to this webpage has been blocked by Indian censorship. '
 */
  __pyx_slice__25 = PySlice_New(Py_None, __pyx_int_512, Py_None); if (unlikely(!__pyx_slice__25)) __PYX_ERR(0, 488, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_slice__25);
  __Pyx_GIVEREF(__pyx_slice__25);

  /* "youtube_dl/extractor/common.py":496
 *                 content, 'block message', default=None)
 *             if block_msg:
 *                 msg += ' (Message: "%s")' % block_msg.replace('\n', ' ')             # <<<<<<<<<<<<<<
 *             raise ExtractorError(msg, expected=True)
 * 
 */
  __pyx_tuple__28 = PyTuple_Pack(2, __pyx_kp_u__26, __pyx_kp_u__27); if (unlikely(!__pyx_tuple__28)) __PYX_ERR(0, 496, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__28);
  __Pyx_GIVEREF(__pyx_tuple__28);

  /* "youtube_dl/extractor/common.py":530
 *         if transform_source:
 *             xml_string = transform_source(xml_string)
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))             # <<<<<<<<<<<<<<
 * 
 *     def _download_json(self, url_or_request, video_id,
 */
  __pyx_tuple__29 = PyTuple_Pack(1, __pyx_kp_u_utf_8); if (unlikely(!__pyx_tuple__29)) __PYX_ERR(0, 530, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__29);
  __Pyx_GIVEREF(__pyx_tuple__29);

  /* "youtube_dl/extractor/common.py":576
 *     def report_age_confirmation(self):
 *         """Report attempt to confirm age."""
 *         self.to_screen('Confirming age')             # <<<<<<<<<<<<<<
 * 
 *     def report_login(self):
 */
  __pyx_tuple__30 = PyTuple_Pack(1, __pyx_kp_u_Confirming_age); if (unlikely(!__pyx_tuple__30)) __PYX_ERR(0, 576, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__30);
  __Pyx_GIVEREF(__pyx_tuple__30);

  /* "youtube_dl/extractor/common.py":580
 *     def report_login(self):
 *         """Report attempt to log in."""
 *         self.to_screen('Logging in')             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __pyx_tuple__31 = PyTuple_Pack(1, __pyx_kp_u_Logging_in); if (unlikely(!__pyx_tuple__31)) __PYX_ERR(0, 580, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__31);
  __Pyx_GIVEREF(__pyx_tuple__31);

  /* "youtube_dl/extractor/common.py":636
 *                     break
 * 
 *         if not self._downloader.params.get('no_color') and compat_os_name != 'nt' and sys.stderr.isatty():             # <<<<<<<<<<<<<<
 *             _name = '\033[0;34m%s\033[0m' % name
 *         else:
 */
  __pyx_tuple__32 = PyTuple_Pack(1, __pyx_n_u_no_color); if (unlikely(!__pyx_tuple__32)) __PYX_ERR(0, 636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__32);
  __Pyx_GIVEREF(__pyx_tuple__32);

  /* "youtube_dl/extractor/common.py":672
 *         """
 *         if self._downloader is None:
 *             return (None, None)             # <<<<<<<<<<<<<<
 * 
 *         username = None
 */
  __pyx_tuple__33 = PyTuple_Pack(2, Py_None, Py_None); if (unlikely(!__pyx_tuple__33)) __PYX_ERR(0, 672, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__33);
  __Pyx_GIVEREF(__pyx_tuple__33);

  /* "youtube_dl/extractor/common.py":679
 * 
 *         # Attempt to use provided username and password or .netrc data
 *         if downloader_params.get('username') is not None:             # <<<<<<<<<<<<<<
 *             username = downloader_params['username']
 *             password = downloader_params['password']
 */
  __pyx_tuple__34 = PyTuple_Pack(1, __pyx_n_u_username); if (unlikely(!__pyx_tuple__34)) __PYX_ERR(0, 679, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__34);
  __Pyx_GIVEREF(__pyx_tuple__34);

  /* "youtube_dl/extractor/common.py":682
 *             username = downloader_params['username']
 *             password = downloader_params['password']
 *         elif downloader_params.get('usenetrc', False):             # <<<<<<<<<<<<<<
 *             try:
 *                 info = netrc.netrc().authenticators(self._NETRC_MACHINE)
 */
  __pyx_tuple__35 = PyTuple_Pack(2, __pyx_n_u_usenetrc, Py_False); if (unlikely(!__pyx_tuple__35)) __PYX_ERR(0, 682, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__35);
  __Pyx_GIVEREF(__pyx_tuple__35);

  /* "youtube_dl/extractor/common.py":706
 *         downloader_params = self._downloader.params
 * 
 *         if downloader_params.get('twofactor') is not None:             # <<<<<<<<<<<<<<
 *             return downloader_params['twofactor']
 * 
 */
  __pyx_tuple__36 = PyTuple_Pack(1, __pyx_n_u_twofactor); if (unlikely(!__pyx_tuple__36)) __PYX_ERR(0, 706, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__36);
  __Pyx_GIVEREF(__pyx_tuple__36);

  /* "youtube_dl/extractor/common.py":747
 * 
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')             # <<<<<<<<<<<<<<
 *         if secure:
 *             regexes = self._og_regexes('video:secure_url') + regexes
 */
  __pyx_tuple__37 = PyTuple_Pack(1, __pyx_n_u_video); if (unlikely(!__pyx_tuple__37)) __PYX_ERR(0, 747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__37);
  __Pyx_GIVEREF(__pyx_tuple__37);
  __pyx_tuple__38 = PyTuple_Pack(1, __pyx_kp_u_video_url_2); if (unlikely(!__pyx_tuple__38)) __PYX_ERR(0, 747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__38);
  __Pyx_GIVEREF(__pyx_tuple__38);

  /* "youtube_dl/extractor/common.py":749
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')
 *         if secure:
 *             regexes = self._og_regexes('video:secure_url') + regexes             # <<<<<<<<<<<<<<
 *         return self._html_search_regex(regexes, html, name, **kargs)
 * 
 */
  __pyx_tuple__39 = PyTuple_Pack(1, __pyx_kp_u_video_secure_url); if (unlikely(!__pyx_tuple__39)) __PYX_ERR(0, 749, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__39);
  __Pyx_GIVEREF(__pyx_tuple__39);

  /* "youtube_dl/extractor/common.py":826
 *             return {}
 *         info = {}
 *         if json_ld.get('@context') == 'http://schema.org':             # <<<<<<<<<<<<<<
 *             item_type = json_ld.get('@type')
 *             if expected_type is not None and expected_type != item_type:
 */
  __pyx_tuple__40 = PyTuple_Pack(1, __pyx_kp_u_context); if (unlikely(!__pyx_tuple__40)) __PYX_ERR(0, 826, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__40);
  __Pyx_GIVEREF(__pyx_tuple__40);

  /* "youtube_dl/extractor/common.py":827
 *         info = {}
 *         if json_ld.get('@context') == 'http://schema.org':
 *             item_type = json_ld.get('@type')             # <<<<<<<<<<<<<<
 *             if expected_type is not None and expected_type != item_type:
 *                 return info
 */
  __pyx_tuple__41 = PyTuple_Pack(1, __pyx_kp_u_type_2); if (unlikely(!__pyx_tuple__41)) __PYX_ERR(0, 827, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__41);
  __Pyx_GIVEREF(__pyx_tuple__41);

  /* "youtube_dl/extractor/common.py":832
 *             if item_type == 'TVEpisode':
 *                 info.update({
 *                     'episode': unescapeHTML(json_ld.get('name')),             # <<<<<<<<<<<<<<
 *                     'episode_number': int_or_none(json_ld.get('episodeNumber')),
 *                     'description': unescapeHTML(json_ld.get('description')),
 */
  __pyx_tuple__42 = PyTuple_Pack(1, __pyx_n_u_name_2); if (unlikely(!__pyx_tuple__42)) __PYX_ERR(0, 832, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__42);
  __Pyx_GIVEREF(__pyx_tuple__42);

  /* "youtube_dl/extractor/common.py":833
 *                 info.update({
 *                     'episode': unescapeHTML(json_ld.get('name')),
 *                     'episode_number': int_or_none(json_ld.get('episodeNumber')),             # <<<<<<<<<<<<<<
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                 })
 */
  __pyx_tuple__43 = PyTuple_Pack(1, __pyx_n_u_episodeNumber); if (unlikely(!__pyx_tuple__43)) __PYX_ERR(0, 833, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__43);
  __Pyx_GIVEREF(__pyx_tuple__43);

  /* "youtube_dl/extractor/common.py":834
 *                     'episode': unescapeHTML(json_ld.get('name')),
 *                     'episode_number': int_or_none(json_ld.get('episodeNumber')),
 *                     'description': unescapeHTML(json_ld.get('description')),             # <<<<<<<<<<<<<<
 *                 })
 *                 part_of_season = json_ld.get('partOfSeason')
 */
  __pyx_tuple__44 = PyTuple_Pack(1, __pyx_n_u_description); if (unlikely(!__pyx_tuple__44)) __PYX_ERR(0, 834, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__44);
  __Pyx_GIVEREF(__pyx_tuple__44);

  /* "youtube_dl/extractor/common.py":836
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                 })
 *                 part_of_season = json_ld.get('partOfSeason')             # <<<<<<<<<<<<<<
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 */
  __pyx_tuple__45 = PyTuple_Pack(1, __pyx_n_u_partOfSeason); if (unlikely(!__pyx_tuple__45)) __PYX_ERR(0, 836, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__45);
  __Pyx_GIVEREF(__pyx_tuple__45);

  /* "youtube_dl/extractor/common.py":837
 *                 })
 *                 part_of_season = json_ld.get('partOfSeason')
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':             # <<<<<<<<<<<<<<
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 *                 part_of_series = json_ld.get('partOfSeries')
 */
  __pyx_tuple__46 = PyTuple_Pack(1, __pyx_kp_u_type_2); if (unlikely(!__pyx_tuple__46)) __PYX_ERR(0, 837, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__46);
  __Pyx_GIVEREF(__pyx_tuple__46);

  /* "youtube_dl/extractor/common.py":838
 *                 part_of_season = json_ld.get('partOfSeason')
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))             # <<<<<<<<<<<<<<
 *                 part_of_series = json_ld.get('partOfSeries')
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':
 */
  __pyx_tuple__47 = PyTuple_Pack(1, __pyx_n_u_seasonNumber); if (unlikely(!__pyx_tuple__47)) __PYX_ERR(0, 838, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__47);
  __Pyx_GIVEREF(__pyx_tuple__47);

  /* "youtube_dl/extractor/common.py":839
 *                 if isinstance(part_of_season, dict) and part_of_season.get('@type') == 'TVSeason':
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 *                 part_of_series = json_ld.get('partOfSeries')             # <<<<<<<<<<<<<<
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))
 */
  __pyx_tuple__48 = PyTuple_Pack(1, __pyx_n_u_partOfSeries); if (unlikely(!__pyx_tuple__48)) __PYX_ERR(0, 839, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__48);
  __Pyx_GIVEREF(__pyx_tuple__48);

  /* "youtube_dl/extractor/common.py":840
 *                     info['season_number'] = int_or_none(part_of_season.get('seasonNumber'))
 *                 part_of_series = json_ld.get('partOfSeries')
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':             # <<<<<<<<<<<<<<
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))
 *             elif item_type == 'Article':
 */
  __pyx_tuple__49 = PyTuple_Pack(1, __pyx_kp_u_type_2); if (unlikely(!__pyx_tuple__49)) __PYX_ERR(0, 840, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__49);
  __Pyx_GIVEREF(__pyx_tuple__49);

  /* "youtube_dl/extractor/common.py":841
 *                 part_of_series = json_ld.get('partOfSeries')
 *                 if isinstance(part_of_series, dict) and part_of_series.get('@type') == 'TVSeries':
 *                     info['series'] = unescapeHTML(part_of_series.get('name'))             # <<<<<<<<<<<<<<
 *             elif item_type == 'Article':
 *                 info.update({
 */
  __pyx_tuple__50 = PyTuple_Pack(1, __pyx_n_u_name_2); if (unlikely(!__pyx_tuple__50)) __PYX_ERR(0, 841, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__50);
  __Pyx_GIVEREF(__pyx_tuple__50);

  /* "youtube_dl/extractor/common.py":844
 *             elif item_type == 'Article':
 *                 info.update({
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),             # <<<<<<<<<<<<<<
 *                     'title': unescapeHTML(json_ld.get('headline')),
 *                     'description': unescapeHTML(json_ld.get('articleBody')),
 */
  __pyx_tuple__51 = PyTuple_Pack(1, __pyx_n_u_datePublished); if (unlikely(!__pyx_tuple__51)) __PYX_ERR(0, 844, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__51);
  __Pyx_GIVEREF(__pyx_tuple__51);

  /* "youtube_dl/extractor/common.py":845
 *                 info.update({
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),
 *                     'title': unescapeHTML(json_ld.get('headline')),             # <<<<<<<<<<<<<<
 *                     'description': unescapeHTML(json_ld.get('articleBody')),
 *                 })
 */
  __pyx_tuple__52 = PyTuple_Pack(1, __pyx_n_u_headline); if (unlikely(!__pyx_tuple__52)) __PYX_ERR(0, 845, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__52);
  __Pyx_GIVEREF(__pyx_tuple__52);

  /* "youtube_dl/extractor/common.py":846
 *                     'timestamp': parse_iso8601(json_ld.get('datePublished')),
 *                     'title': unescapeHTML(json_ld.get('headline')),
 *                     'description': unescapeHTML(json_ld.get('articleBody')),             # <<<<<<<<<<<<<<
 *                 })
 *             elif item_type == 'VideoObject':
 */
  __pyx_tuple__53 = PyTuple_Pack(1, __pyx_n_u_articleBody); if (unlikely(!__pyx_tuple__53)) __PYX_ERR(0, 846, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__53);
  __Pyx_GIVEREF(__pyx_tuple__53);

  /* "youtube_dl/extractor/common.py":850
 *             elif item_type == 'VideoObject':
 *                 info.update({
 *                     'url': json_ld.get('contentUrl'),             # <<<<<<<<<<<<<<
 *                     'title': unescapeHTML(json_ld.get('name')),
 *                     'description': unescapeHTML(json_ld.get('description')),
 */
  __pyx_tuple__54 = PyTuple_Pack(1, __pyx_n_u_contentUrl); if (unlikely(!__pyx_tuple__54)) __PYX_ERR(0, 850, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__54);
  __Pyx_GIVEREF(__pyx_tuple__54);

  /* "youtube_dl/extractor/common.py":851
 *                 info.update({
 *                     'url': json_ld.get('contentUrl'),
 *                     'title': unescapeHTML(json_ld.get('name')),             # <<<<<<<<<<<<<<
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                     'thumbnail': json_ld.get('thumbnailUrl'),
 */
  __pyx_tuple__55 = PyTuple_Pack(1, __pyx_n_u_name_2); if (unlikely(!__pyx_tuple__55)) __PYX_ERR(0, 851, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__55);
  __Pyx_GIVEREF(__pyx_tuple__55);

  /* "youtube_dl/extractor/common.py":852
 *                     'url': json_ld.get('contentUrl'),
 *                     'title': unescapeHTML(json_ld.get('name')),
 *                     'description': unescapeHTML(json_ld.get('description')),             # <<<<<<<<<<<<<<
 *                     'thumbnail': json_ld.get('thumbnailUrl'),
 *                     'duration': parse_duration(json_ld.get('duration')),
 */
  __pyx_tuple__56 = PyTuple_Pack(1, __pyx_n_u_description); if (unlikely(!__pyx_tuple__56)) __PYX_ERR(0, 852, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__56);
  __Pyx_GIVEREF(__pyx_tuple__56);

  /* "youtube_dl/extractor/common.py":853
 *                     'title': unescapeHTML(json_ld.get('name')),
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                     'thumbnail': json_ld.get('thumbnailUrl'),             # <<<<<<<<<<<<<<
 *                     'duration': parse_duration(json_ld.get('duration')),
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),
 */
  __pyx_tuple__57 = PyTuple_Pack(1, __pyx_n_u_thumbnailUrl); if (unlikely(!__pyx_tuple__57)) __PYX_ERR(0, 853, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__57);
  __Pyx_GIVEREF(__pyx_tuple__57);

  /* "youtube_dl/extractor/common.py":854
 *                     'description': unescapeHTML(json_ld.get('description')),
 *                     'thumbnail': json_ld.get('thumbnailUrl'),
 *                     'duration': parse_duration(json_ld.get('duration')),             # <<<<<<<<<<<<<<
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),
 *                     'filesize': float_or_none(json_ld.get('contentSize')),
 */
  __pyx_tuple__58 = PyTuple_Pack(1, __pyx_n_u_duration); if (unlikely(!__pyx_tuple__58)) __PYX_ERR(0, 854, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__58);
  __Pyx_GIVEREF(__pyx_tuple__58);

  /* "youtube_dl/extractor/common.py":855
 *                     'thumbnail': json_ld.get('thumbnailUrl'),
 *                     'duration': parse_duration(json_ld.get('duration')),
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),             # <<<<<<<<<<<<<<
 *                     'filesize': float_or_none(json_ld.get('contentSize')),
 *                     'tbr': int_or_none(json_ld.get('bitrate')),
 */
  __pyx_tuple__59 = PyTuple_Pack(1, __pyx_n_u_uploadDate); if (unlikely(!__pyx_tuple__59)) __PYX_ERR(0, 855, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__59);
  __Pyx_GIVEREF(__pyx_tuple__59);

  /* "youtube_dl/extractor/common.py":856
 *                     'duration': parse_duration(json_ld.get('duration')),
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),
 *                     'filesize': float_or_none(json_ld.get('contentSize')),             # <<<<<<<<<<<<<<
 *                     'tbr': int_or_none(json_ld.get('bitrate')),
 *                     'width': int_or_none(json_ld.get('width')),
 */
  __pyx_tuple__60 = PyTuple_Pack(1, __pyx_n_u_contentSize); if (unlikely(!__pyx_tuple__60)) __PYX_ERR(0, 856, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__60);
  __Pyx_GIVEREF(__pyx_tuple__60);

  /* "youtube_dl/extractor/common.py":857
 *                     'timestamp': unified_timestamp(json_ld.get('uploadDate')),
 *                     'filesize': float_or_none(json_ld.get('contentSize')),
 *                     'tbr': int_or_none(json_ld.get('bitrate')),             # <<<<<<<<<<<<<<
 *                     'width': int_or_none(json_ld.get('width')),
 *                     'height': int_or_none(json_ld.get('height')),
 */
  __pyx_tuple__61 = PyTuple_Pack(1, __pyx_n_u_bitrate); if (unlikely(!__pyx_tuple__61)) __PYX_ERR(0, 857, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__61);
  __Pyx_GIVEREF(__pyx_tuple__61);

  /* "youtube_dl/extractor/common.py":858
 *                     'filesize': float_or_none(json_ld.get('contentSize')),
 *                     'tbr': int_or_none(json_ld.get('bitrate')),
 *                     'width': int_or_none(json_ld.get('width')),             # <<<<<<<<<<<<<<
 *                     'height': int_or_none(json_ld.get('height')),
 *                 })
 */
  __pyx_tuple__62 = PyTuple_Pack(1, __pyx_n_u_width); if (unlikely(!__pyx_tuple__62)) __PYX_ERR(0, 858, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__62);
  __Pyx_GIVEREF(__pyx_tuple__62);

  /* "youtube_dl/extractor/common.py":859
 *                     'tbr': int_or_none(json_ld.get('bitrate')),
 *                     'width': int_or_none(json_ld.get('width')),
 *                     'height': int_or_none(json_ld.get('height')),             # <<<<<<<<<<<<<<
 *                 })
 *         return dict((k, v) for k, v in info.items() if v is not None)
 */
  __pyx_tuple__63 = PyTuple_Pack(1, __pyx_n_u_height); if (unlikely(!__pyx_tuple__63)) __PYX_ERR(0, 859, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__63);
  __Pyx_GIVEREF(__pyx_tuple__63);

  /* "youtube_dl/extractor/common.py":876
 *             if not value:
 *                 continue
 *             hidden_inputs[name.group('value')] = value.group('value')             # <<<<<<<<<<<<<<
 *         return hidden_inputs
 * 
 */
  __pyx_tuple__65 = PyTuple_Pack(1, __pyx_n_u_value); if (unlikely(!__pyx_tuple__65)) __PYX_ERR(0, 876, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__65);
  __Pyx_GIVEREF(__pyx_tuple__65);
  __pyx_tuple__66 = PyTuple_Pack(1, __pyx_n_u_value); if (unlikely(!__pyx_tuple__66)) __PYX_ERR(0, 876, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__66);
  __Pyx_GIVEREF(__pyx_tuple__66);

  /* "youtube_dl/extractor/common.py":898
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 *             if not f.get('ext') and 'url' in f:             # <<<<<<<<<<<<<<
 *                 f['ext'] = determine_ext(f['url'])
 * 
 */
  __pyx_tuple__67 = PyTuple_Pack(1, __pyx_n_u_ext); if (unlikely(!__pyx_tuple__67)) __PYX_ERR(0, 898, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__67);
  __Pyx_GIVEREF(__pyx_tuple__67);

  /* "youtube_dl/extractor/common.py":908
 *                     for field in field_preference)
 * 
 *             preference = f.get('preference')             # <<<<<<<<<<<<<<
 *             if preference is None:
 *                 preference = 0
 */
  __pyx_tuple__68 = PyTuple_Pack(1, __pyx_n_u_preference); if (unlikely(!__pyx_tuple__68)) __PYX_ERR(0, 908, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__68);
  __Pyx_GIVEREF(__pyx_tuple__68);

  /* "youtube_dl/extractor/common.py":911
 *             if preference is None:
 *                 preference = 0
 *                 if f.get('ext') in ['f4f', 'f4m']:  # Not yet supported             # <<<<<<<<<<<<<<
 *                     preference -= 0.5
 * 
 */
  __pyx_tuple__69 = PyTuple_Pack(1, __pyx_n_u_ext); if (unlikely(!__pyx_tuple__69)) __PYX_ERR(0, 911, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__69);
  __Pyx_GIVEREF(__pyx_tuple__69);

  /* "youtube_dl/extractor/common.py":916
 *             proto_preference = 0 if determine_protocol(f) in ['http', 'https'] else -0.1
 * 
 *             if f.get('vcodec') == 'none':  # audio only             # <<<<<<<<<<<<<<
 *                 preference -= 50
 *                 if self._downloader.params.get('prefer_free_formats'):
 */
  __pyx_tuple__70 = PyTuple_Pack(1, __pyx_n_u_vcodec); if (unlikely(!__pyx_tuple__70)) __PYX_ERR(0, 916, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__70);
  __Pyx_GIVEREF(__pyx_tuple__70);

  /* "youtube_dl/extractor/common.py":918
 *             if f.get('vcodec') == 'none':  # audio only
 *                 preference -= 50
 *                 if self._downloader.params.get('prefer_free_formats'):             # <<<<<<<<<<<<<<
 *                     ORDER = ['aac', 'mp3', 'm4a', 'webm', 'ogg', 'opus']
 *                 else:
 */
  __pyx_tuple__71 = PyTuple_Pack(1, __pyx_n_u_prefer_free_formats); if (unlikely(!__pyx_tuple__71)) __PYX_ERR(0, 918, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__71);
  __Pyx_GIVEREF(__pyx_tuple__71);

  /* "youtube_dl/extractor/common.py":928
 *                     audio_ext_preference = -1
 *             else:
 *                 if f.get('acodec') == 'none':  # video only             # <<<<<<<<<<<<<<
 *                     preference -= 40
 *                 if self._downloader.params.get('prefer_free_formats'):
 */
  __pyx_tuple__72 = PyTuple_Pack(1, __pyx_n_u_acodec); if (unlikely(!__pyx_tuple__72)) __PYX_ERR(0, 928, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__72);
  __Pyx_GIVEREF(__pyx_tuple__72);

  /* "youtube_dl/extractor/common.py":930
 *                 if f.get('acodec') == 'none':  # video only
 *                     preference -= 40
 *                 if self._downloader.params.get('prefer_free_formats'):             # <<<<<<<<<<<<<<
 *                     ORDER = ['flv', 'mp4', 'webm']
 *                 else:
 */
  __pyx_tuple__73 = PyTuple_Pack(1, __pyx_n_u_prefer_free_formats); if (unlikely(!__pyx_tuple__73)) __PYX_ERR(0, 930, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__73);
  __Pyx_GIVEREF(__pyx_tuple__73);

  /* "youtube_dl/extractor/common.py":942
 *             return (
 *                 preference,
 *                 f.get('language_preference') if f.get('language_preference') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('quality') if f.get('quality') is not None else -1,
 *                 f.get('tbr') if f.get('tbr') is not None else -1,
 */
  __pyx_tuple__74 = PyTuple_Pack(1, __pyx_n_u_language_preference); if (unlikely(!__pyx_tuple__74)) __PYX_ERR(0, 942, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__74);
  __Pyx_GIVEREF(__pyx_tuple__74);
  __pyx_tuple__75 = PyTuple_Pack(1, __pyx_n_u_language_preference); if (unlikely(!__pyx_tuple__75)) __PYX_ERR(0, 942, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__75);
  __Pyx_GIVEREF(__pyx_tuple__75);

  /* "youtube_dl/extractor/common.py":943
 *                 preference,
 *                 f.get('language_preference') if f.get('language_preference') is not None else -1,
 *                 f.get('quality') if f.get('quality') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('tbr') if f.get('tbr') is not None else -1,
 *                 f.get('filesize') if f.get('filesize') is not None else -1,
 */
  __pyx_tuple__76 = PyTuple_Pack(1, __pyx_n_u_quality); if (unlikely(!__pyx_tuple__76)) __PYX_ERR(0, 943, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__76);
  __Pyx_GIVEREF(__pyx_tuple__76);
  __pyx_tuple__77 = PyTuple_Pack(1, __pyx_n_u_quality); if (unlikely(!__pyx_tuple__77)) __PYX_ERR(0, 943, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__77);
  __Pyx_GIVEREF(__pyx_tuple__77);

  /* "youtube_dl/extractor/common.py":944
 *                 f.get('language_preference') if f.get('language_preference') is not None else -1,
 *                 f.get('quality') if f.get('quality') is not None else -1,
 *                 f.get('tbr') if f.get('tbr') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('filesize') if f.get('filesize') is not None else -1,
 *                 f.get('vbr') if f.get('vbr') is not None else -1,
 */
  __pyx_tuple__78 = PyTuple_Pack(1, __pyx_n_u_tbr); if (unlikely(!__pyx_tuple__78)) __PYX_ERR(0, 944, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__78);
  __Pyx_GIVEREF(__pyx_tuple__78);
  __pyx_tuple__79 = PyTuple_Pack(1, __pyx_n_u_tbr); if (unlikely(!__pyx_tuple__79)) __PYX_ERR(0, 944, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__79);
  __Pyx_GIVEREF(__pyx_tuple__79);

  /* "youtube_dl/extractor/common.py":945
 *                 f.get('quality') if f.get('quality') is not None else -1,
 *                 f.get('tbr') if f.get('tbr') is not None else -1,
 *                 f.get('filesize') if f.get('filesize') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('vbr') if f.get('vbr') is not None else -1,
 *                 f.get('height') if f.get('height') is not None else -1,
 */
  __pyx_tuple__80 = PyTuple_Pack(1, __pyx_n_u_filesize); if (unlikely(!__pyx_tuple__80)) __PYX_ERR(0, 945, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__80);
  __Pyx_GIVEREF(__pyx_tuple__80);
  __pyx_tuple__81 = PyTuple_Pack(1, __pyx_n_u_filesize); if (unlikely(!__pyx_tuple__81)) __PYX_ERR(0, 945, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__81);
  __Pyx_GIVEREF(__pyx_tuple__81);

  /* "youtube_dl/extractor/common.py":946
 *                 f.get('tbr') if f.get('tbr') is not None else -1,
 *                 f.get('filesize') if f.get('filesize') is not None else -1,
 *                 f.get('vbr') if f.get('vbr') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('height') if f.get('height') is not None else -1,
 *                 f.get('width') if f.get('width') is not None else -1,
 */
  __pyx_tuple__82 = PyTuple_Pack(1, __pyx_n_u_vbr); if (unlikely(!__pyx_tuple__82)) __PYX_ERR(0, 946, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__82);
  __Pyx_GIVEREF(__pyx_tuple__82);
  __pyx_tuple__83 = PyTuple_Pack(1, __pyx_n_u_vbr); if (unlikely(!__pyx_tuple__83)) __PYX_ERR(0, 946, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__83);
  __Pyx_GIVEREF(__pyx_tuple__83);

  /* "youtube_dl/extractor/common.py":947
 *                 f.get('filesize') if f.get('filesize') is not None else -1,
 *                 f.get('vbr') if f.get('vbr') is not None else -1,
 *                 f.get('height') if f.get('height') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('width') if f.get('width') is not None else -1,
 *                 proto_preference,
 */
  __pyx_tuple__84 = PyTuple_Pack(1, __pyx_n_u_height); if (unlikely(!__pyx_tuple__84)) __PYX_ERR(0, 947, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__84);
  __Pyx_GIVEREF(__pyx_tuple__84);
  __pyx_tuple__85 = PyTuple_Pack(1, __pyx_n_u_height); if (unlikely(!__pyx_tuple__85)) __PYX_ERR(0, 947, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__85);
  __Pyx_GIVEREF(__pyx_tuple__85);

  /* "youtube_dl/extractor/common.py":948
 *                 f.get('vbr') if f.get('vbr') is not None else -1,
 *                 f.get('height') if f.get('height') is not None else -1,
 *                 f.get('width') if f.get('width') is not None else -1,             # <<<<<<<<<<<<<<
 *                 proto_preference,
 *                 ext_preference,
 */
  __pyx_tuple__86 = PyTuple_Pack(1, __pyx_n_u_width); if (unlikely(!__pyx_tuple__86)) __PYX_ERR(0, 948, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__86);
  __Pyx_GIVEREF(__pyx_tuple__86);
  __pyx_tuple__87 = PyTuple_Pack(1, __pyx_n_u_width); if (unlikely(!__pyx_tuple__87)) __PYX_ERR(0, 948, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__87);
  __Pyx_GIVEREF(__pyx_tuple__87);

  /* "youtube_dl/extractor/common.py":951
 *                 proto_preference,
 *                 ext_preference,
 *                 f.get('abr') if f.get('abr') is not None else -1,             # <<<<<<<<<<<<<<
 *                 audio_ext_preference,
 *                 f.get('fps') if f.get('fps') is not None else -1,
 */
  __pyx_tuple__88 = PyTuple_Pack(1, __pyx_n_u_abr); if (unlikely(!__pyx_tuple__88)) __PYX_ERR(0, 951, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__88);
  __Pyx_GIVEREF(__pyx_tuple__88);
  __pyx_tuple__89 = PyTuple_Pack(1, __pyx_n_u_abr); if (unlikely(!__pyx_tuple__89)) __PYX_ERR(0, 951, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__89);
  __Pyx_GIVEREF(__pyx_tuple__89);

  /* "youtube_dl/extractor/common.py":953
 *                 f.get('abr') if f.get('abr') is not None else -1,
 *                 audio_ext_preference,
 *                 f.get('fps') if f.get('fps') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('filesize_approx') if f.get('filesize_approx') is not None else -1,
 *                 f.get('source_preference') if f.get('source_preference') is not None else -1,
 */
  __pyx_tuple__90 = PyTuple_Pack(1, __pyx_n_u_fps); if (unlikely(!__pyx_tuple__90)) __PYX_ERR(0, 953, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__90);
  __Pyx_GIVEREF(__pyx_tuple__90);
  __pyx_tuple__91 = PyTuple_Pack(1, __pyx_n_u_fps); if (unlikely(!__pyx_tuple__91)) __PYX_ERR(0, 953, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__91);
  __Pyx_GIVEREF(__pyx_tuple__91);

  /* "youtube_dl/extractor/common.py":954
 *                 audio_ext_preference,
 *                 f.get('fps') if f.get('fps') is not None else -1,
 *                 f.get('filesize_approx') if f.get('filesize_approx') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('source_preference') if f.get('source_preference') is not None else -1,
 *                 f.get('format_id') if f.get('format_id') is not None else '',
 */
  __pyx_tuple__92 = PyTuple_Pack(1, __pyx_n_u_filesize_approx); if (unlikely(!__pyx_tuple__92)) __PYX_ERR(0, 954, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__92);
  __Pyx_GIVEREF(__pyx_tuple__92);
  __pyx_tuple__93 = PyTuple_Pack(1, __pyx_n_u_filesize_approx); if (unlikely(!__pyx_tuple__93)) __PYX_ERR(0, 954, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__93);
  __Pyx_GIVEREF(__pyx_tuple__93);

  /* "youtube_dl/extractor/common.py":955
 *                 f.get('fps') if f.get('fps') is not None else -1,
 *                 f.get('filesize_approx') if f.get('filesize_approx') is not None else -1,
 *                 f.get('source_preference') if f.get('source_preference') is not None else -1,             # <<<<<<<<<<<<<<
 *                 f.get('format_id') if f.get('format_id') is not None else '',
 *             )
 */
  __pyx_tuple__94 = PyTuple_Pack(1, __pyx_n_u_source_preference); if (unlikely(!__pyx_tuple__94)) __PYX_ERR(0, 955, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__94);
  __Pyx_GIVEREF(__pyx_tuple__94);
  __pyx_tuple__95 = PyTuple_Pack(1, __pyx_n_u_source_preference); if (unlikely(!__pyx_tuple__95)) __PYX_ERR(0, 955, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__95);
  __Pyx_GIVEREF(__pyx_tuple__95);

  /* "youtube_dl/extractor/common.py":956
 *                 f.get('filesize_approx') if f.get('filesize_approx') is not None else -1,
 *                 f.get('source_preference') if f.get('source_preference') is not None else -1,
 *                 f.get('format_id') if f.get('format_id') is not None else '',             # <<<<<<<<<<<<<<
 *             )
 *         formats.sort(key=_formats_key)
 */
  __pyx_tuple__96 = PyTuple_Pack(1, __pyx_n_u_format_id); if (unlikely(!__pyx_tuple__96)) __PYX_ERR(0, 956, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__96);
  __Pyx_GIVEREF(__pyx_tuple__96);
  __pyx_tuple__97 = PyTuple_Pack(1, __pyx_n_u_format_id); if (unlikely(!__pyx_tuple__97)) __PYX_ERR(0, 956, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__97);
  __Pyx_GIVEREF(__pyx_tuple__97);

  /* "youtube_dl/extractor/common.py":887
 *     def _sort_formats(self, formats, field_preference=None):
 *         if not formats:
 *             raise ExtractorError('No video formats found')             # <<<<<<<<<<<<<<
 * 
 *         for f in formats:
 */
  __pyx_tuple__98 = PyTuple_Pack(1, __pyx_kp_u_No_video_formats_found); if (unlikely(!__pyx_tuple__98)) __PYX_ERR(0, 887, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__98);
  __Pyx_GIVEREF(__pyx_tuple__98);

  /* "youtube_dl/extractor/common.py":892
 *             # Automatically determine tbr when missing based on abr and vbr (improves
 *             # formats sorting in some cases)
 *             if 'tbr' not in f and f.get('abr') is not None and f.get('vbr') is not None:             # <<<<<<<<<<<<<<
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 */
  __pyx_tuple__99 = PyTuple_Pack(1, __pyx_n_u_abr); if (unlikely(!__pyx_tuple__99)) __PYX_ERR(0, 892, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__99);
  __Pyx_GIVEREF(__pyx_tuple__99);
  __pyx_tuple__100 = PyTuple_Pack(1, __pyx_n_u_vbr); if (unlikely(!__pyx_tuple__100)) __PYX_ERR(0, 892, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__100);
  __Pyx_GIVEREF(__pyx_tuple__100);

  /* "youtube_dl/extractor/common.py":895
 *                 f['tbr'] = f['abr'] + f['vbr']
 * 
 *         def _formats_key(f):             # <<<<<<<<<<<<<<
 *             # TODO remove the following workaround
 *             from ..utils import determine_ext
 */
  __pyx_tuple__101 = PyTuple_Pack(9, __pyx_n_s_f, __pyx_n_s_determine_ext, __pyx_n_s_preference, __pyx_n_s_proto_preference, __pyx_n_s_ORDER, __pyx_n_s_ext_preference, __pyx_n_s_audio_ext_preference, __pyx_n_s_genexpr, __pyx_n_s_genexpr); if (unlikely(!__pyx_tuple__101)) __PYX_ERR(0, 895, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__101);
  __Pyx_GIVEREF(__pyx_tuple__101);
  __pyx_codeobj__102 = (PyObject*)__Pyx_PyCode_New(1, 0, 9, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__101, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_formats_key, 895, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__102)) __PYX_ERR(0, 895, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":965
 *                 lambda f: self._is_valid_url(
 *                     f['url'], video_id,
 *                     item='%s video format' % f.get('format_id') if f.get('format_id') else 'video'),             # <<<<<<<<<<<<<<
 *                 formats)
 * 
 */
  __pyx_tuple__103 = PyTuple_Pack(1, __pyx_n_u_format_id); if (unlikely(!__pyx_tuple__103)) __PYX_ERR(0, 965, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__103);
  __Pyx_GIVEREF(__pyx_tuple__103);
  __pyx_tuple__104 = PyTuple_Pack(1, __pyx_n_u_format_id); if (unlikely(!__pyx_tuple__104)) __PYX_ERR(0, 965, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__104);
  __Pyx_GIVEREF(__pyx_tuple__104);

  /* "youtube_dl/extractor/common.py":962
 *     def _check_formats(self, formats, video_id):
 *         if formats:
 *             formats[:] = filter(             # <<<<<<<<<<<<<<
 *                 lambda f: self._is_valid_url(
 *                     f['url'], video_id,
 */
  __pyx_slice__105 = PySlice_New(Py_None, Py_None, Py_None); if (unlikely(!__pyx_slice__105)) __PYX_ERR(0, 962, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_slice__105);
  __Pyx_GIVEREF(__pyx_slice__105);

  /* "youtube_dl/extractor/common.py":976
 *                 format_urls.add(f['url'])
 *                 unique_formats.append(f)
 *         formats[:] = unique_formats             # <<<<<<<<<<<<<<
 * 
 *     def _is_valid_url(self, url, video_id, item='video'):
 */
  __pyx_slice__106 = PySlice_New(Py_None, Py_None, Py_None); if (unlikely(!__pyx_slice__106)) __PYX_ERR(0, 976, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_slice__106);
  __Pyx_GIVEREF(__pyx_slice__106);

  /* "youtube_dl/extractor/common.py":981
 *         url = self._proto_relative_url(url, scheme='http:')
 *         # For now assume non HTTP(S) URLs always valid
 *         if not (url.startswith('http://') or url.startswith('https://')):             # <<<<<<<<<<<<<<
 *             return True
 *         try:
 */
  __pyx_tuple__107 = PyTuple_Pack(1, __pyx_kp_u_http_3); if (unlikely(!__pyx_tuple__107)) __PYX_ERR(0, 981, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__107);
  __Pyx_GIVEREF(__pyx_tuple__107);
  __pyx_tuple__108 = PyTuple_Pack(1, __pyx_kp_u_https_2); if (unlikely(!__pyx_tuple__108)) __PYX_ERR(0, 981, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__108);
  __Pyx_GIVEREF(__pyx_tuple__108);

  /* "youtube_dl/extractor/common.py":997
 *         return (
 *             'http:'
 *             if self._downloader.params.get('prefer_insecure', False)             # <<<<<<<<<<<<<<
 *             else 'https:')
 * 
 */
  __pyx_tuple__109 = PyTuple_Pack(2, __pyx_n_u_prefer_insecure, Py_False); if (unlikely(!__pyx_tuple__109)) __PYX_ERR(0, 997, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__109);
  __Pyx_GIVEREF(__pyx_tuple__109);

  /* "youtube_dl/extractor/common.py":1003
 *         if url is None:
 *             return url
 *         if url.startswith('//'):             # <<<<<<<<<<<<<<
 *             if scheme is None:
 *                 scheme = self.http_scheme()
 */
  __pyx_tuple__111 = PyTuple_Pack(1, __pyx_kp_u__110); if (unlikely(!__pyx_tuple__111)) __PYX_ERR(0, 1003, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__111);
  __Pyx_GIVEREF(__pyx_tuple__111);

  /* "youtube_dl/extractor/common.py":1039
 *                            fatal=True, m3u8_id=None):
 *         # currently youtube-dl cannot decode the playerVerificationChallenge as Akamai uses Adobe Alchemy
 *         akamai_pv = manifest.find('{http://ns.adobe.com/f4m/1.0}pv-2.0')             # <<<<<<<<<<<<<<
 *         if akamai_pv is not None and ';' in akamai_pv.text:
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]
 */
  __pyx_tuple__112 = PyTuple_Pack(1, __pyx_kp_u_http_ns_adobe_com_f4m_1_0_pv_2); if (unlikely(!__pyx_tuple__112)) __PYX_ERR(0, 1039, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__112);
  __Pyx_GIVEREF(__pyx_tuple__112);

  /* "youtube_dl/extractor/common.py":1041
 *         akamai_pv = manifest.find('{http://ns.adobe.com/f4m/1.0}pv-2.0')
 *         if akamai_pv is not None and ';' in akamai_pv.text:
 *             playerVerificationChallenge = akamai_pv.text.split(';')[0]             # <<<<<<<<<<<<<<
 *             if playerVerificationChallenge.strip() != '':
 *                 return []
 */
  __pyx_tuple__114 = PyTuple_Pack(1, __pyx_kp_u__113); if (unlikely(!__pyx_tuple__114)) __PYX_ERR(0, 1041, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__114);
  __Pyx_GIVEREF(__pyx_tuple__114);

  /* "youtube_dl/extractor/common.py":1047
 *         formats = []
 *         manifest_version = '1.0'
 *         media_nodes = manifest.findall('{http://ns.adobe.com/f4m/1.0}media')             # <<<<<<<<<<<<<<
 *         if not media_nodes:
 *             manifest_version = '2.0'
 */
  __pyx_tuple__115 = PyTuple_Pack(1, __pyx_kp_u_http_ns_adobe_com_f4m_1_0_media); if (unlikely(!__pyx_tuple__115)) __PYX_ERR(0, 1047, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__115);
  __Pyx_GIVEREF(__pyx_tuple__115);

  /* "youtube_dl/extractor/common.py":1050
 *         if not media_nodes:
 *             manifest_version = '2.0'
 *             media_nodes = manifest.findall('{http://ns.adobe.com/f4m/2.0}media')             # <<<<<<<<<<<<<<
 *         # Remove unsupported DRM protected media from final formats
 *         # rendition (see https://github.com/rg3/youtube-dl/issues/8573).
 */
  __pyx_tuple__116 = PyTuple_Pack(1, __pyx_kp_u_http_ns_adobe_com_f4m_2_0_media); if (unlikely(!__pyx_tuple__116)) __PYX_ERR(0, 1050, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__116);
  __Pyx_GIVEREF(__pyx_tuple__116);

  /* "youtube_dl/extractor/common.py":1067
 * 
 *         for i, media_el in enumerate(media_nodes):
 *             tbr = int_or_none(media_el.attrib.get('bitrate'))             # <<<<<<<<<<<<<<
 *             width = int_or_none(media_el.attrib.get('width'))
 *             height = int_or_none(media_el.attrib.get('height'))
 */
  __pyx_tuple__117 = PyTuple_Pack(1, __pyx_n_u_bitrate); if (unlikely(!__pyx_tuple__117)) __PYX_ERR(0, 1067, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__117);
  __Pyx_GIVEREF(__pyx_tuple__117);

  /* "youtube_dl/extractor/common.py":1068
 *         for i, media_el in enumerate(media_nodes):
 *             tbr = int_or_none(media_el.attrib.get('bitrate'))
 *             width = int_or_none(media_el.attrib.get('width'))             # <<<<<<<<<<<<<<
 *             height = int_or_none(media_el.attrib.get('height'))
 *             format_id = '-'.join(filter(None, [f4m_id, compat_str(i if tbr is None else tbr)]))
 */
  __pyx_tuple__118 = PyTuple_Pack(1, __pyx_n_u_width); if (unlikely(!__pyx_tuple__118)) __PYX_ERR(0, 1068, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__118);
  __Pyx_GIVEREF(__pyx_tuple__118);

  /* "youtube_dl/extractor/common.py":1069
 *             tbr = int_or_none(media_el.attrib.get('bitrate'))
 *             width = int_or_none(media_el.attrib.get('width'))
 *             height = int_or_none(media_el.attrib.get('height'))             # <<<<<<<<<<<<<<
 *             format_id = '-'.join(filter(None, [f4m_id, compat_str(i if tbr is None else tbr)]))
 *             # If <bootstrapInfo> is present, the specified f4m is a
 */
  __pyx_tuple__119 = PyTuple_Pack(1, __pyx_n_u_height); if (unlikely(!__pyx_tuple__119)) __PYX_ERR(0, 1069, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__119);
  __Pyx_GIVEREF(__pyx_tuple__119);

  /* "youtube_dl/extractor/common.py":1078
 *                 # @href is introduced in 2.0, see section 11.6 of F4M spec
 *                 if manifest_version == '2.0':
 *                     media_url = media_el.attrib.get('href')             # <<<<<<<<<<<<<<
 *                 if media_url is None:
 *                     media_url = media_el.attrib.get('url')
 */
  __pyx_tuple__121 = PyTuple_Pack(1, __pyx_n_u_href); if (unlikely(!__pyx_tuple__121)) __PYX_ERR(0, 1078, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__121);
  __Pyx_GIVEREF(__pyx_tuple__121);

  /* "youtube_dl/extractor/common.py":1080
 *                     media_url = media_el.attrib.get('href')
 *                 if media_url is None:
 *                     media_url = media_el.attrib.get('url')             # <<<<<<<<<<<<<<
 *                 if not media_url:
 *                     continue
 */
  __pyx_tuple__122 = PyTuple_Pack(1, __pyx_n_u_url); if (unlikely(!__pyx_tuple__122)) __PYX_ERR(0, 1080, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__122);
  __Pyx_GIVEREF(__pyx_tuple__122);

  /* "youtube_dl/extractor/common.py":1084
 *                     continue
 *                 manifest_url = (
 *                     media_url if media_url.startswith('http://') or media_url.startswith('https://')             # <<<<<<<<<<<<<<
 *                     else ((base_url or '/'.join(manifest_url.split('/')[:-1])) + '/' + media_url))
 *                 # If media_url is itself a f4m manifest do the recursive extraction
 */
  __pyx_tuple__123 = PyTuple_Pack(1, __pyx_kp_u_http_3); if (unlikely(!__pyx_tuple__123)) __PYX_ERR(0, 1084, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__123);
  __Pyx_GIVEREF(__pyx_tuple__123);
  __pyx_tuple__124 = PyTuple_Pack(1, __pyx_kp_u_https_2); if (unlikely(!__pyx_tuple__124)) __PYX_ERR(0, 1084, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__124);
  __Pyx_GIVEREF(__pyx_tuple__124);

  /* "youtube_dl/extractor/common.py":1085
 *                 manifest_url = (
 *                     media_url if media_url.startswith('http://') or media_url.startswith('https://')
 *                     else ((base_url or '/'.join(manifest_url.split('/')[:-1])) + '/' + media_url))             # <<<<<<<<<<<<<<
 *                 # If media_url is itself a f4m manifest do the recursive extraction
 *                 # since bitrates in parent manifest (this one) and media_url manifest
 */
  __pyx_tuple__126 = PyTuple_Pack(1, __pyx_kp_u__125); if (unlikely(!__pyx_tuple__126)) __PYX_ERR(0, 1085, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__126);
  __Pyx_GIVEREF(__pyx_tuple__126);
  __pyx_slice__127 = PySlice_New(Py_None, __pyx_int_neg_1, Py_None); if (unlikely(!__pyx_slice__127)) __PYX_ERR(0, 1085, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_slice__127);
  __Pyx_GIVEREF(__pyx_slice__127);

  /* "youtube_dl/extractor/common.py":1102
 *                         f = f4m_formats[0]
 *                         f.update({
 *                             'tbr': f.get('tbr') or tbr,             # <<<<<<<<<<<<<<
 *                             'width': f.get('width') or width,
 *                             'height': f.get('height') or height,
 */
  __pyx_tuple__128 = PyTuple_Pack(1, __pyx_n_u_tbr); if (unlikely(!__pyx_tuple__128)) __PYX_ERR(0, 1102, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__128);
  __Pyx_GIVEREF(__pyx_tuple__128);

  /* "youtube_dl/extractor/common.py":1103
 *                         f.update({
 *                             'tbr': f.get('tbr') or tbr,
 *                             'width': f.get('width') or width,             # <<<<<<<<<<<<<<
 *                             'height': f.get('height') or height,
 *                             'format_id': f.get('format_id') if not tbr else format_id,
 */
  __pyx_tuple__129 = PyTuple_Pack(1, __pyx_n_u_width); if (unlikely(!__pyx_tuple__129)) __PYX_ERR(0, 1103, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__129);
  __Pyx_GIVEREF(__pyx_tuple__129);

  /* "youtube_dl/extractor/common.py":1104
 *                             'tbr': f.get('tbr') or tbr,
 *                             'width': f.get('width') or width,
 *                             'height': f.get('height') or height,             # <<<<<<<<<<<<<<
 *                             'format_id': f.get('format_id') if not tbr else format_id,
 *                         })
 */
  __pyx_tuple__130 = PyTuple_Pack(1, __pyx_n_u_height); if (unlikely(!__pyx_tuple__130)) __PYX_ERR(0, 1104, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__130);
  __Pyx_GIVEREF(__pyx_tuple__130);

  /* "youtube_dl/extractor/common.py":1105
 *                             'width': f.get('width') or width,
 *                             'height': f.get('height') or height,
 *                             'format_id': f.get('format_id') if not tbr else format_id,             # <<<<<<<<<<<<<<
 *                         })
 *                     formats.extend(f4m_formats)
 */
  __pyx_tuple__131 = PyTuple_Pack(1, __pyx_n_u_format_id); if (unlikely(!__pyx_tuple__131)) __PYX_ERR(0, 1105, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__131);
  __Pyx_GIVEREF(__pyx_tuple__131);

  /* "youtube_dl/extractor/common.py":1182
 *         last_media = None
 *         for line in m3u8_doc.splitlines():
 *             if line.startswith('#EXT-X-STREAM-INF:'):             # <<<<<<<<<<<<<<
 *                 last_info = parse_m3u8_attributes(line)
 *             elif line.startswith('#EXT-X-MEDIA:'):
 */
  __pyx_tuple__132 = PyTuple_Pack(1, __pyx_kp_u_EXT_X_STREAM_INF); if (unlikely(!__pyx_tuple__132)) __PYX_ERR(0, 1182, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__132);
  __Pyx_GIVEREF(__pyx_tuple__132);

  /* "youtube_dl/extractor/common.py":1184
 *             if line.startswith('#EXT-X-STREAM-INF:'):
 *                 last_info = parse_m3u8_attributes(line)
 *             elif line.startswith('#EXT-X-MEDIA:'):             # <<<<<<<<<<<<<<
 *                 last_media = parse_m3u8_attributes(line)
 *             elif line.startswith('#') or not line.strip():
 */
  __pyx_tuple__133 = PyTuple_Pack(1, __pyx_kp_u_EXT_X_MEDIA); if (unlikely(!__pyx_tuple__133)) __PYX_ERR(0, 1184, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__133);
  __Pyx_GIVEREF(__pyx_tuple__133);

  /* "youtube_dl/extractor/common.py":1186
 *             elif line.startswith('#EXT-X-MEDIA:'):
 *                 last_media = parse_m3u8_attributes(line)
 *             elif line.startswith('#') or not line.strip():             # <<<<<<<<<<<<<<
 *                 continue
 *             else:
 */
  __pyx_tuple__134 = PyTuple_Pack(1, __pyx_kp_u__6); if (unlikely(!__pyx_tuple__134)) __PYX_ERR(0, 1186, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__134);
  __Pyx_GIVEREF(__pyx_tuple__134);

  /* "youtube_dl/extractor/common.py":1192
 *                     formats.append({'url': format_url(line)})
 *                     continue
 *                 tbr = int_or_none(last_info.get('BANDWIDTH'), scale=1000)             # <<<<<<<<<<<<<<
 *                 format_id = []
 *                 if m3u8_id:
 */
  __pyx_tuple__135 = PyTuple_Pack(1, __pyx_n_u_BANDWIDTH); if (unlikely(!__pyx_tuple__135)) __PYX_ERR(0, 1192, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__135);
  __Pyx_GIVEREF(__pyx_tuple__135);

  /* "youtube_dl/extractor/common.py":1196
 *                 if m3u8_id:
 *                     format_id.append(m3u8_id)
 *                 last_media_name = last_media.get('NAME') if last_media and last_media.get('TYPE') not in ('SUBTITLES', 'CLOSED-CAPTIONS') else None             # <<<<<<<<<<<<<<
 *                 # Despite specification does not mention NAME attribute for
 *                 # EXT-X-STREAM-INF it still sometimes may be present
 */
  __pyx_tuple__136 = PyTuple_Pack(1, __pyx_n_u_TYPE); if (unlikely(!__pyx_tuple__136)) __PYX_ERR(0, 1196, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__136);
  __Pyx_GIVEREF(__pyx_tuple__136);
  __pyx_tuple__137 = PyTuple_Pack(1, __pyx_n_u_NAME); if (unlikely(!__pyx_tuple__137)) __PYX_ERR(0, 1196, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__137);
  __Pyx_GIVEREF(__pyx_tuple__137);

  /* "youtube_dl/extractor/common.py":1199
 *                 # Despite specification does not mention NAME attribute for
 *                 # EXT-X-STREAM-INF it still sometimes may be present
 *                 stream_name = last_info.get('NAME') or last_media_name             # <<<<<<<<<<<<<<
 *                 # Bandwidth of live streams may differ over time thus making
 *                 # format_id unpredictable. So it's better to keep provided
 */
  __pyx_tuple__138 = PyTuple_Pack(1, __pyx_n_u_NAME); if (unlikely(!__pyx_tuple__138)) __PYX_ERR(0, 1199, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__138);
  __Pyx_GIVEREF(__pyx_tuple__138);

  /* "youtube_dl/extractor/common.py":1210
 *                     'tbr': tbr,
 *                     'ext': ext,
 *                     'fps': float_or_none(last_info.get('FRAME-RATE')),             # <<<<<<<<<<<<<<
 *                     'protocol': entry_protocol,
 *                     'preference': preference,
 */
  __pyx_tuple__139 = PyTuple_Pack(1, __pyx_kp_u_FRAME_RATE); if (unlikely(!__pyx_tuple__139)) __PYX_ERR(0, 1210, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__139);
  __Pyx_GIVEREF(__pyx_tuple__139);

  /* "youtube_dl/extractor/common.py":1214
 *                     'preference': preference,
 *                 }
 *                 resolution = last_info.get('RESOLUTION')             # <<<<<<<<<<<<<<
 *                 if resolution:
 *                     width_str, height_str = resolution.split('x')
 */
  __pyx_tuple__140 = PyTuple_Pack(1, __pyx_n_u_RESOLUTION); if (unlikely(!__pyx_tuple__140)) __PYX_ERR(0, 1214, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__140);
  __Pyx_GIVEREF(__pyx_tuple__140);

  /* "youtube_dl/extractor/common.py":1216
 *                 resolution = last_info.get('RESOLUTION')
 *                 if resolution:
 *                     width_str, height_str = resolution.split('x')             # <<<<<<<<<<<<<<
 *                     f['width'] = int(width_str)
 *                     f['height'] = int(height_str)
 */
  __pyx_tuple__141 = PyTuple_Pack(1, __pyx_n_u_x); if (unlikely(!__pyx_tuple__141)) __PYX_ERR(0, 1216, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__141);
  __Pyx_GIVEREF(__pyx_tuple__141);

  /* "youtube_dl/extractor/common.py":1229
 *                         'abr': abr,
 *                     })
 *                 f.update(parse_codecs(last_info.get('CODECS')))             # <<<<<<<<<<<<<<
 *                 if last_media is not None:
 *                     f['m3u8_media'] = last_media
 */
  __pyx_tuple__142 = PyTuple_Pack(1, __pyx_n_u_CODECS); if (unlikely(!__pyx_tuple__142)) __PYX_ERR(0, 1229, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__142);
  __Pyx_GIVEREF(__pyx_tuple__142);

  /* "youtube_dl/extractor/common.py":1242
 *             return path
 *         out = []
 *         for c in path.split('/'):             # <<<<<<<<<<<<<<
 *             if not c or c == '.':
 *                 out.append(c)
 */
  __pyx_tuple__143 = PyTuple_Pack(1, __pyx_kp_u__125); if (unlikely(!__pyx_tuple__143)) __PYX_ERR(0, 1242, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__143);
  __Pyx_GIVEREF(__pyx_tuple__143);

  /* "youtube_dl/extractor/common.py":1284
 *         upload_date = None
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             name = meta.attrib.get('name')             # <<<<<<<<<<<<<<
 *             content = meta.attrib.get('content')
 *             if not name or not content:
 */
  __pyx_tuple__145 = PyTuple_Pack(1, __pyx_n_u_name_2); if (unlikely(!__pyx_tuple__145)) __PYX_ERR(0, 1284, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__145);
  __Pyx_GIVEREF(__pyx_tuple__145);

  /* "youtube_dl/extractor/common.py":1285
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             name = meta.attrib.get('name')
 *             content = meta.attrib.get('content')             # <<<<<<<<<<<<<<
 *             if not name or not content:
 *                 continue
 */
  __pyx_tuple__146 = PyTuple_Pack(1, __pyx_n_u_content); if (unlikely(!__pyx_tuple__146)) __PYX_ERR(0, 1285, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__146);
  __Pyx_GIVEREF(__pyx_tuple__146);

  /* "youtube_dl/extractor/common.py":1300
 *             'width': int_or_none(image.get('width')),
 *             'height': int_or_none(image.get('height')),
 *         } for image in smil.findall(self._xpath_ns('.//image', namespace)) if image.get('src')]             # <<<<<<<<<<<<<<
 * 
 *         return {
 */
  __pyx_tuple__147 = PyTuple_Pack(1, __pyx_n_u_src); if (unlikely(!__pyx_tuple__147)) __PYX_ERR(0, 1300, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__147);
  __Pyx_GIVEREF(__pyx_tuple__147);

  /* "youtube_dl/extractor/common.py":1296
 * 
 *         thumbnails = [{
 *             'id': image.get('type'),             # <<<<<<<<<<<<<<
 *             'url': image.get('src'),
 *             'width': int_or_none(image.get('width')),
 */
  __pyx_tuple__148 = PyTuple_Pack(1, __pyx_n_u_type_3); if (unlikely(!__pyx_tuple__148)) __PYX_ERR(0, 1296, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__148);
  __Pyx_GIVEREF(__pyx_tuple__148);

  /* "youtube_dl/extractor/common.py":1297
 *         thumbnails = [{
 *             'id': image.get('type'),
 *             'url': image.get('src'),             # <<<<<<<<<<<<<<
 *             'width': int_or_none(image.get('width')),
 *             'height': int_or_none(image.get('height')),
 */
  __pyx_tuple__149 = PyTuple_Pack(1, __pyx_n_u_src); if (unlikely(!__pyx_tuple__149)) __PYX_ERR(0, 1297, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__149);
  __Pyx_GIVEREF(__pyx_tuple__149);

  /* "youtube_dl/extractor/common.py":1298
 *             'id': image.get('type'),
 *             'url': image.get('src'),
 *             'width': int_or_none(image.get('width')),             # <<<<<<<<<<<<<<
 *             'height': int_or_none(image.get('height')),
 *         } for image in smil.findall(self._xpath_ns('.//image', namespace)) if image.get('src')]
 */
  __pyx_tuple__150 = PyTuple_Pack(1, __pyx_n_u_width); if (unlikely(!__pyx_tuple__150)) __PYX_ERR(0, 1298, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__150);
  __Pyx_GIVEREF(__pyx_tuple__150);

  /* "youtube_dl/extractor/common.py":1299
 *             'url': image.get('src'),
 *             'width': int_or_none(image.get('width')),
 *             'height': int_or_none(image.get('height')),             # <<<<<<<<<<<<<<
 *         } for image in smil.findall(self._xpath_ns('.//image', namespace)) if image.get('src')]
 * 
 */
  __pyx_tuple__151 = PyTuple_Pack(1, __pyx_n_u_height); if (unlikely(!__pyx_tuple__151)) __PYX_ERR(0, 1299, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__151);
  __Pyx_GIVEREF(__pyx_tuple__151);

  /* "youtube_dl/extractor/common.py":1319
 *         base = smil_url
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 *             b = meta.get('base') or meta.get('httpBase')             # <<<<<<<<<<<<<<
 *             if b:
 *                 base = b
 */
  __pyx_tuple__152 = PyTuple_Pack(1, __pyx_n_u_base); if (unlikely(!__pyx_tuple__152)) __PYX_ERR(0, 1319, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__152);
  __Pyx_GIVEREF(__pyx_tuple__152);
  __pyx_tuple__153 = PyTuple_Pack(1, __pyx_n_u_httpBase); if (unlikely(!__pyx_tuple__153)) __PYX_ERR(0, 1319, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__153);
  __Pyx_GIVEREF(__pyx_tuple__153);

  /* "youtube_dl/extractor/common.py":1332
 *         media = smil.findall(self._xpath_ns('.//video', namespace)) + smil.findall(self._xpath_ns('.//audio', namespace))
 *         for medium in media:
 *             src = medium.get('src')             # <<<<<<<<<<<<<<
 *             if not src or src in srcs:
 *                 continue
 */
  __pyx_tuple__154 = PyTuple_Pack(1, __pyx_n_u_src); if (unlikely(!__pyx_tuple__154)) __PYX_ERR(0, 1332, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__154);
  __Pyx_GIVEREF(__pyx_tuple__154);

  /* "youtube_dl/extractor/common.py":1337
 *             srcs.append(src)
 * 
 *             bitrate = float_or_none(medium.get('system-bitrate') or medium.get('systemBitrate'), 1000)             # <<<<<<<<<<<<<<
 *             filesize = int_or_none(medium.get('size') or medium.get('fileSize'))
 *             width = int_or_none(medium.get('width'))
 */
  __pyx_tuple__155 = PyTuple_Pack(1, __pyx_kp_u_system_bitrate); if (unlikely(!__pyx_tuple__155)) __PYX_ERR(0, 1337, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__155);
  __Pyx_GIVEREF(__pyx_tuple__155);
  __pyx_tuple__156 = PyTuple_Pack(1, __pyx_n_u_systemBitrate); if (unlikely(!__pyx_tuple__156)) __PYX_ERR(0, 1337, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__156);
  __Pyx_GIVEREF(__pyx_tuple__156);

  /* "youtube_dl/extractor/common.py":1338
 * 
 *             bitrate = float_or_none(medium.get('system-bitrate') or medium.get('systemBitrate'), 1000)
 *             filesize = int_or_none(medium.get('size') or medium.get('fileSize'))             # <<<<<<<<<<<<<<
 *             width = int_or_none(medium.get('width'))
 *             height = int_or_none(medium.get('height'))
 */
  __pyx_tuple__157 = PyTuple_Pack(1, __pyx_n_u_size); if (unlikely(!__pyx_tuple__157)) __PYX_ERR(0, 1338, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__157);
  __Pyx_GIVEREF(__pyx_tuple__157);
  __pyx_tuple__158 = PyTuple_Pack(1, __pyx_n_u_fileSize); if (unlikely(!__pyx_tuple__158)) __PYX_ERR(0, 1338, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__158);
  __Pyx_GIVEREF(__pyx_tuple__158);

  /* "youtube_dl/extractor/common.py":1339
 *             bitrate = float_or_none(medium.get('system-bitrate') or medium.get('systemBitrate'), 1000)
 *             filesize = int_or_none(medium.get('size') or medium.get('fileSize'))
 *             width = int_or_none(medium.get('width'))             # <<<<<<<<<<<<<<
 *             height = int_or_none(medium.get('height'))
 *             proto = medium.get('proto')
 */
  __pyx_tuple__159 = PyTuple_Pack(1, __pyx_n_u_width); if (unlikely(!__pyx_tuple__159)) __PYX_ERR(0, 1339, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__159);
  __Pyx_GIVEREF(__pyx_tuple__159);

  /* "youtube_dl/extractor/common.py":1340
 *             filesize = int_or_none(medium.get('size') or medium.get('fileSize'))
 *             width = int_or_none(medium.get('width'))
 *             height = int_or_none(medium.get('height'))             # <<<<<<<<<<<<<<
 *             proto = medium.get('proto')
 *             ext = medium.get('ext')
 */
  __pyx_tuple__160 = PyTuple_Pack(1, __pyx_n_u_height); if (unlikely(!__pyx_tuple__160)) __PYX_ERR(0, 1340, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__160);
  __Pyx_GIVEREF(__pyx_tuple__160);

  /* "youtube_dl/extractor/common.py":1341
 *             width = int_or_none(medium.get('width'))
 *             height = int_or_none(medium.get('height'))
 *             proto = medium.get('proto')             # <<<<<<<<<<<<<<
 *             ext = medium.get('ext')
 *             src_ext = determine_ext(src)
 */
  __pyx_tuple__161 = PyTuple_Pack(1, __pyx_n_u_proto); if (unlikely(!__pyx_tuple__161)) __PYX_ERR(0, 1341, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__161);
  __Pyx_GIVEREF(__pyx_tuple__161);

  /* "youtube_dl/extractor/common.py":1342
 *             height = int_or_none(medium.get('height'))
 *             proto = medium.get('proto')
 *             ext = medium.get('ext')             # <<<<<<<<<<<<<<
 *             src_ext = determine_ext(src)
 *             streamer = medium.get('streamer') or base
 */
  __pyx_tuple__162 = PyTuple_Pack(1, __pyx_n_u_ext); if (unlikely(!__pyx_tuple__162)) __PYX_ERR(0, 1342, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__162);
  __Pyx_GIVEREF(__pyx_tuple__162);

  /* "youtube_dl/extractor/common.py":1344
 *             ext = medium.get('ext')
 *             src_ext = determine_ext(src)
 *             streamer = medium.get('streamer') or base             # <<<<<<<<<<<<<<
 * 
 *             if proto == 'rtmp' or streamer.startswith('rtmp'):
 */
  __pyx_tuple__163 = PyTuple_Pack(1, __pyx_n_u_streamer); if (unlikely(!__pyx_tuple__163)) __PYX_ERR(0, 1344, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__163);
  __Pyx_GIVEREF(__pyx_tuple__163);

  /* "youtube_dl/extractor/common.py":1346
 *             streamer = medium.get('streamer') or base
 * 
 *             if proto == 'rtmp' or streamer.startswith('rtmp'):             # <<<<<<<<<<<<<<
 *                 rtmp_count += 1
 *                 formats.append({
 */
  __pyx_tuple__164 = PyTuple_Pack(1, __pyx_n_u_rtmp); if (unlikely(!__pyx_tuple__164)) __PYX_ERR(0, 1346, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__164);
  __Pyx_GIVEREF(__pyx_tuple__164);

  /* "youtube_dl/extractor/common.py":1366
 *                 continue
 * 
 *             src_url = src if src.startswith('http') else compat_urlparse.urljoin(base, src)             # <<<<<<<<<<<<<<
 *             src_url = src_url.strip()
 * 
 */
  __pyx_tuple__165 = PyTuple_Pack(1, __pyx_n_u_http); if (unlikely(!__pyx_tuple__165)) __PYX_ERR(0, 1366, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__165);
  __Pyx_GIVEREF(__pyx_tuple__165);

  /* "youtube_dl/extractor/common.py":1395
 *                 continue
 * 
 *             if src_url.startswith('http') and self._is_valid_url(src, video_id):             # <<<<<<<<<<<<<<
 *                 http_count += 1
 *                 formats.append({
 */
  __pyx_tuple__168 = PyTuple_Pack(1, __pyx_n_u_http); if (unlikely(!__pyx_tuple__168)) __PYX_ERR(0, 1395, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__168);
  __Pyx_GIVEREF(__pyx_tuple__168);

  /* "youtube_dl/extractor/common.py":1414
 *         subtitles = {}
 *         for num, textstream in enumerate(smil.findall(self._xpath_ns('.//textstream', namespace))):
 *             src = textstream.get('src')             # <<<<<<<<<<<<<<
 *             if not src or src in urls:
 *                 continue
 */
  __pyx_tuple__169 = PyTuple_Pack(1, __pyx_n_u_src); if (unlikely(!__pyx_tuple__169)) __PYX_ERR(0, 1414, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__169);
  __Pyx_GIVEREF(__pyx_tuple__169);

  /* "youtube_dl/extractor/common.py":1418
 *                 continue
 *             urls.append(src)
 *             ext = textstream.get('ext') or mimetype2ext(textstream.get('type')) or determine_ext(src)             # <<<<<<<<<<<<<<
 *             lang = textstream.get('systemLanguage') or textstream.get('systemLanguageName') or textstream.get('lang') or subtitles_lang
 *             subtitles.setdefault(lang, []).append({
 */
  __pyx_tuple__170 = PyTuple_Pack(1, __pyx_n_u_ext); if (unlikely(!__pyx_tuple__170)) __PYX_ERR(0, 1418, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__170);
  __Pyx_GIVEREF(__pyx_tuple__170);
  __pyx_tuple__171 = PyTuple_Pack(1, __pyx_n_u_type_3); if (unlikely(!__pyx_tuple__171)) __PYX_ERR(0, 1418, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__171);
  __Pyx_GIVEREF(__pyx_tuple__171);

  /* "youtube_dl/extractor/common.py":1419
 *             urls.append(src)
 *             ext = textstream.get('ext') or mimetype2ext(textstream.get('type')) or determine_ext(src)
 *             lang = textstream.get('systemLanguage') or textstream.get('systemLanguageName') or textstream.get('lang') or subtitles_lang             # <<<<<<<<<<<<<<
 *             subtitles.setdefault(lang, []).append({
 *                 'url': src,
 */
  __pyx_tuple__172 = PyTuple_Pack(1, __pyx_n_u_systemLanguage); if (unlikely(!__pyx_tuple__172)) __PYX_ERR(0, 1419, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__172);
  __Pyx_GIVEREF(__pyx_tuple__172);
  __pyx_tuple__173 = PyTuple_Pack(1, __pyx_n_u_systemLanguageName); if (unlikely(!__pyx_tuple__173)) __PYX_ERR(0, 1419, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__173);
  __Pyx_GIVEREF(__pyx_tuple__173);
  __pyx_tuple__174 = PyTuple_Pack(1, __pyx_n_u_lang); if (unlikely(!__pyx_tuple__174)) __PYX_ERR(0, 1419, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__174);
  __Pyx_GIVEREF(__pyx_tuple__174);

  /* "youtube_dl/extractor/common.py":1481
 * 
 *         return self._parse_mpd_formats(
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)             # <<<<<<<<<<<<<<
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):
 */
  __pyx_tuple__175 = PyTuple_Pack(1, __pyx_kp_u_utf_8); if (unlikely(!__pyx_tuple__175)) __PYX_ERR(0, 1481, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__175);
  __Pyx_GIVEREF(__pyx_tuple__175);

  /* "youtube_dl/extractor/common.py":1515
 *                 segment_template = element.find(_add_ns('SegmentTemplate'))
 *                 if segment_template is not None:
 *                     start_number = segment_template.get('startNumber')             # <<<<<<<<<<<<<<
 *                     if start_number:
 *                         ms_info['start_number'] = int(start_number)
 */
  __pyx_tuple__176 = PyTuple_Pack(1, __pyx_n_u_startNumber); if (unlikely(!__pyx_tuple__176)) __PYX_ERR(0, 1515, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__176);
  __Pyx_GIVEREF(__pyx_tuple__176);

  /* "youtube_dl/extractor/common.py":1525
 *                             ms_info['s'] = []
 *                             for s in s_e:
 *                                 r = int(s.get('r', 0))             # <<<<<<<<<<<<<<
 *                                 ms_info['total_number'] += 1 + r
 *                                 ms_info['s'].append({
 */
  __pyx_tuple__177 = PyTuple_Pack(2, __pyx_n_u_r, __pyx_int_0); if (unlikely(!__pyx_tuple__177)) __PYX_ERR(0, 1525, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__177);
  __Pyx_GIVEREF(__pyx_tuple__177);

  /* "youtube_dl/extractor/common.py":1528
 *                                 ms_info['total_number'] += 1 + r
 *                                 ms_info['s'].append({
 *                                     't': int(s.get('t', 0)),             # <<<<<<<<<<<<<<
 *                                     # @d is mandatory (see [1, 5.3.9.6.2, Table 17, page 60])
 *                                     'd': int(s.attrib['d']),
 */
  __pyx_tuple__178 = PyTuple_Pack(2, __pyx_n_u_t, __pyx_int_0); if (unlikely(!__pyx_tuple__178)) __PYX_ERR(0, 1528, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__178);
  __Pyx_GIVEREF(__pyx_tuple__178);

  /* "youtube_dl/extractor/common.py":1534
 *                                 })
 *                     else:
 *                         timescale = segment_template.get('timescale')             # <<<<<<<<<<<<<<
 *                         if timescale:
 *                             ms_info['timescale'] = int(timescale)
 */
  __pyx_tuple__179 = PyTuple_Pack(1, __pyx_n_u_timescale); if (unlikely(!__pyx_tuple__179)) __PYX_ERR(0, 1534, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__179);
  __Pyx_GIVEREF(__pyx_tuple__179);

  /* "youtube_dl/extractor/common.py":1537
 *                         if timescale:
 *                             ms_info['timescale'] = int(timescale)
 *                         segment_duration = segment_template.get('duration')             # <<<<<<<<<<<<<<
 *                         if segment_duration:
 *                             ms_info['segment_duration'] = int(segment_duration)
 */
  __pyx_tuple__180 = PyTuple_Pack(1, __pyx_n_u_duration); if (unlikely(!__pyx_tuple__180)) __PYX_ERR(0, 1537, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__180);
  __Pyx_GIVEREF(__pyx_tuple__180);

  /* "youtube_dl/extractor/common.py":1540
 *                         if segment_duration:
 *                             ms_info['segment_duration'] = int(segment_duration)
 *                     media_template = segment_template.get('media')             # <<<<<<<<<<<<<<
 *                     if media_template:
 *                         ms_info['media_template'] = media_template
 */
  __pyx_tuple__181 = PyTuple_Pack(1, __pyx_n_u_media); if (unlikely(!__pyx_tuple__181)) __PYX_ERR(0, 1540, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__181);
  __Pyx_GIVEREF(__pyx_tuple__181);

  /* "youtube_dl/extractor/common.py":1543
 *                     if media_template:
 *                         ms_info['media_template'] = media_template
 *                     initialization = segment_template.get('initialization')             # <<<<<<<<<<<<<<
 *                     if initialization:
 *                         ms_info['initialization_url'] = initialization
 */
  __pyx_tuple__182 = PyTuple_Pack(1, __pyx_n_u_initialization); if (unlikely(!__pyx_tuple__182)) __PYX_ERR(0, 1543, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__182);
  __Pyx_GIVEREF(__pyx_tuple__182);

  /* "youtube_dl/extractor/common.py":1636
 *                                         media_template % {
 *                                             'Time': segment_time,
 *                                             'Bandwidth': representation_attrib.get('bandwidth'),             # <<<<<<<<<<<<<<
 *                                         }
 *                                     )
 */
  __pyx_tuple__183 = PyTuple_Pack(1, __pyx_n_u_bandwidth); if (unlikely(!__pyx_tuple__183)) __PYX_ERR(0, 1636, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__183);
  __Pyx_GIVEREF(__pyx_tuple__183);

  /* "youtube_dl/extractor/common.py":1491
 *          2. https://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP
 *         """
 *         if mpd_doc.get('type') == 'dynamic':             # <<<<<<<<<<<<<<
 *             return []
 * 
 */
  __pyx_tuple__184 = PyTuple_Pack(1, __pyx_n_u_type_3); if (unlikely(!__pyx_tuple__184)) __PYX_ERR(0, 1491, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__184);
  __Pyx_GIVEREF(__pyx_tuple__184);

  /* "youtube_dl/extractor/common.py":1496
 *         namespace = self._search_regex(r'(?i)^{([^}]+)?}MPD$', mpd_doc.tag, 'namespace', default=None)
 * 
 *         def _add_ns(path):             # <<<<<<<<<<<<<<
 *             return self._xpath_ns(path, namespace)
 * 
 */
  __pyx_tuple__185 = PyTuple_Pack(1, __pyx_n_s_path); if (unlikely(!__pyx_tuple__185)) __PYX_ERR(0, 1496, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__185);
  __Pyx_GIVEREF(__pyx_tuple__185);
  __pyx_codeobj__186 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__185, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_add_ns, 1496, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__186)) __PYX_ERR(0, 1496, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1499
 *             return self._xpath_ns(path, namespace)
 * 
 *         def is_drm_protected(element):             # <<<<<<<<<<<<<<
 *             return element.find(_add_ns('ContentProtection')) is not None
 * 
 */
  __pyx_tuple__187 = PyTuple_Pack(1, __pyx_n_s_element); if (unlikely(!__pyx_tuple__187)) __PYX_ERR(0, 1499, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__187);
  __Pyx_GIVEREF(__pyx_tuple__187);
  __pyx_codeobj__188 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__187, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_is_drm_protected, 1499, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__188)) __PYX_ERR(0, 1499, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1502
 *             return element.find(_add_ns('ContentProtection')) is not None
 * 
 *         def extract_multisegment_info(element, ms_parent_info):             # <<<<<<<<<<<<<<
 *             ms_info = ms_parent_info.copy()
 *             segment_list = element.find(_add_ns('SegmentList'))
 */
  __pyx_tuple__189 = PyTuple_Pack(15, __pyx_n_s_element, __pyx_n_s_ms_parent_info, __pyx_n_s_ms_info, __pyx_n_s_segment_list, __pyx_n_s_segment_urls_e, __pyx_n_s_initialization, __pyx_n_s_segment_template, __pyx_n_s_start_number, __pyx_n_s_segment_timeline, __pyx_n_s_s_e, __pyx_n_s_s_3, __pyx_n_s_r, __pyx_n_s_timescale, __pyx_n_s_segment_duration, __pyx_n_s_media_template); if (unlikely(!__pyx_tuple__189)) __PYX_ERR(0, 1502, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__189);
  __Pyx_GIVEREF(__pyx_tuple__189);
  __pyx_codeobj__190 = (PyObject*)__Pyx_PyCode_New(2, 0, 15, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__189, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_multisegment_info, 1502, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__190)) __PYX_ERR(0, 1502, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1552
 *             return ms_info
 * 
 *         mpd_duration = parse_duration(mpd_doc.get('mediaPresentationDuration'))             # <<<<<<<<<<<<<<
 *         formats = []
 *         for period in mpd_doc.findall(_add_ns('Period')):
 */
  __pyx_tuple__191 = PyTuple_Pack(1, __pyx_n_u_mediaPresentationDuration); if (unlikely(!__pyx_tuple__191)) __PYX_ERR(0, 1552, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__191);
  __Pyx_GIVEREF(__pyx_tuple__191);

  /* "youtube_dl/extractor/common.py":1555
 *         formats = []
 *         for period in mpd_doc.findall(_add_ns('Period')):
 *             period_duration = parse_duration(period.get('duration')) or mpd_duration             # <<<<<<<<<<<<<<
 *             period_ms_info = extract_multisegment_info(period, {
 *                 'start_number': 1,
 */
  __pyx_tuple__192 = PyTuple_Pack(1, __pyx_n_u_duration); if (unlikely(!__pyx_tuple__192)) __PYX_ERR(0, 1555, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__192);
  __Pyx_GIVEREF(__pyx_tuple__192);

  /* "youtube_dl/extractor/common.py":1571
 *                     # According to [1, 5.3.7.2, Table 9, page 41], @mimeType is mandatory
 *                     mime_type = representation_attrib['mimeType']
 *                     content_type = mime_type.split('/')[0]             # <<<<<<<<<<<<<<
 *                     if content_type == 'text':
 *                         # TODO implement WebVTT downloading
 */
  __pyx_tuple__193 = PyTuple_Pack(1, __pyx_kp_u__125); if (unlikely(!__pyx_tuple__193)) __PYX_ERR(0, 1571, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__193);
  __Pyx_GIVEREF(__pyx_tuple__193);

  /* "youtube_dl/extractor/common.py":1584
 *                                     break
 *                         if mpd_base_url and not re.match(r'^https?://', base_url):
 *                             if not mpd_base_url.endswith('/') and not base_url.startswith('/'):             # <<<<<<<<<<<<<<
 *                                 mpd_base_url += '/'
 *                             base_url = mpd_base_url + base_url
 */
  __pyx_tuple__194 = PyTuple_Pack(1, __pyx_kp_u__125); if (unlikely(!__pyx_tuple__194)) __PYX_ERR(0, 1584, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__194);
  __Pyx_GIVEREF(__pyx_tuple__194);
  __pyx_tuple__195 = PyTuple_Pack(1, __pyx_kp_u__125); if (unlikely(!__pyx_tuple__195)) __PYX_ERR(0, 1584, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__195);
  __Pyx_GIVEREF(__pyx_tuple__195);

  /* "youtube_dl/extractor/common.py":1587
 *                                 mpd_base_url += '/'
 *                             base_url = mpd_base_url + base_url
 *                         representation_id = representation_attrib.get('id')             # <<<<<<<<<<<<<<
 *                         lang = representation_attrib.get('lang')
 *                         url_el = representation.find(_add_ns('BaseURL'))
 */
  __pyx_tuple__196 = PyTuple_Pack(1, __pyx_n_u_id); if (unlikely(!__pyx_tuple__196)) __PYX_ERR(0, 1587, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__196);
  __Pyx_GIVEREF(__pyx_tuple__196);

  /* "youtube_dl/extractor/common.py":1588
 *                             base_url = mpd_base_url + base_url
 *                         representation_id = representation_attrib.get('id')
 *                         lang = representation_attrib.get('lang')             # <<<<<<<<<<<<<<
 *                         url_el = representation.find(_add_ns('BaseURL'))
 *                         filesize = int_or_none(url_el.attrib.get('{http://youtube.com/yt/2012/10/10}contentLength') if url_el is not None else None)
 */
  __pyx_tuple__197 = PyTuple_Pack(1, __pyx_n_u_lang); if (unlikely(!__pyx_tuple__197)) __PYX_ERR(0, 1588, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__197);
  __Pyx_GIVEREF(__pyx_tuple__197);

  /* "youtube_dl/extractor/common.py":1590
 *                         lang = representation_attrib.get('lang')
 *                         url_el = representation.find(_add_ns('BaseURL'))
 *                         filesize = int_or_none(url_el.attrib.get('{http://youtube.com/yt/2012/10/10}contentLength') if url_el is not None else None)             # <<<<<<<<<<<<<<
 *                         f = {
 *                             'format_id': '%s-%s' % (mpd_id, representation_id) if mpd_id else representation_id,
 */
  __pyx_tuple__198 = PyTuple_Pack(1, __pyx_kp_u_http_youtube_com_yt_2012_10_10); if (unlikely(!__pyx_tuple__198)) __PYX_ERR(0, 1590, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__198);
  __Pyx_GIVEREF(__pyx_tuple__198);

  /* "youtube_dl/extractor/common.py":1595
 *                             'url': base_url,
 *                             'ext': mimetype2ext(mime_type),
 *                             'width': int_or_none(representation_attrib.get('width')),             # <<<<<<<<<<<<<<
 *                             'height': int_or_none(representation_attrib.get('height')),
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),
 */
  __pyx_tuple__199 = PyTuple_Pack(1, __pyx_n_u_width); if (unlikely(!__pyx_tuple__199)) __PYX_ERR(0, 1595, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__199);
  __Pyx_GIVEREF(__pyx_tuple__199);

  /* "youtube_dl/extractor/common.py":1596
 *                             'ext': mimetype2ext(mime_type),
 *                             'width': int_or_none(representation_attrib.get('width')),
 *                             'height': int_or_none(representation_attrib.get('height')),             # <<<<<<<<<<<<<<
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),
 */
  __pyx_tuple__200 = PyTuple_Pack(1, __pyx_n_u_height); if (unlikely(!__pyx_tuple__200)) __PYX_ERR(0, 1596, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__200);
  __Pyx_GIVEREF(__pyx_tuple__200);

  /* "youtube_dl/extractor/common.py":1597
 *                             'width': int_or_none(representation_attrib.get('width')),
 *                             'height': int_or_none(representation_attrib.get('height')),
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),             # <<<<<<<<<<<<<<
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),
 */
  __pyx_tuple__201 = PyTuple_Pack(1, __pyx_n_u_bandwidth); if (unlikely(!__pyx_tuple__201)) __PYX_ERR(0, 1597, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__201);
  __Pyx_GIVEREF(__pyx_tuple__201);

  /* "youtube_dl/extractor/common.py":1598
 *                             'height': int_or_none(representation_attrib.get('height')),
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),             # <<<<<<<<<<<<<<
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),
 */
  __pyx_tuple__202 = PyTuple_Pack(1, __pyx_n_u_audioSamplingRate); if (unlikely(!__pyx_tuple__202)) __PYX_ERR(0, 1598, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__202);
  __Pyx_GIVEREF(__pyx_tuple__202);

  /* "youtube_dl/extractor/common.py":1599
 *                             'tbr': int_or_none(representation_attrib.get('bandwidth'), 1000),
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),             # <<<<<<<<<<<<<<
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),
 *                             'acodec': 'none' if content_type == 'video' else representation_attrib.get('codecs'),
 */
  __pyx_tuple__203 = PyTuple_Pack(1, __pyx_n_u_frameRate); if (unlikely(!__pyx_tuple__203)) __PYX_ERR(0, 1599, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__203);
  __Pyx_GIVEREF(__pyx_tuple__203);

  /* "youtube_dl/extractor/common.py":1600
 *                             'asr': int_or_none(representation_attrib.get('audioSamplingRate')),
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),             # <<<<<<<<<<<<<<
 *                             'acodec': 'none' if content_type == 'video' else representation_attrib.get('codecs'),
 *                             'language': lang if lang not in ('mul', 'und', 'zxx', 'mis') else None,
 */
  __pyx_tuple__204 = PyTuple_Pack(1, __pyx_n_u_codecs); if (unlikely(!__pyx_tuple__204)) __PYX_ERR(0, 1600, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__204);
  __Pyx_GIVEREF(__pyx_tuple__204);

  /* "youtube_dl/extractor/common.py":1601
 *                             'fps': int_or_none(representation_attrib.get('frameRate')),
 *                             'vcodec': 'none' if content_type == 'audio' else representation_attrib.get('codecs'),
 *                             'acodec': 'none' if content_type == 'video' else representation_attrib.get('codecs'),             # <<<<<<<<<<<<<<
 *                             'language': lang if lang not in ('mul', 'und', 'zxx', 'mis') else None,
 *                             'format_note': 'DASH %s' % content_type,
 */
  __pyx_tuple__205 = PyTuple_Pack(1, __pyx_n_u_codecs); if (unlikely(!__pyx_tuple__205)) __PYX_ERR(0, 1601, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__205);
  __Pyx_GIVEREF(__pyx_tuple__205);

  /* "youtube_dl/extractor/common.py":1615
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)\$', r'%(\1)d', media_template)
 *                             media_template = re.sub(r'\$(Number|Bandwidth|Time)%([^$]+)\$', r'%(\1)\2', media_template)
 *                             media_template.replace('$$', '$')             # <<<<<<<<<<<<<<
 * 
 *                             # As per [1, 5.3.9.4.4, Table 16, page 55] $Number$ and $Time$
 */
  __pyx_tuple__208 = PyTuple_Pack(2, __pyx_kp_u__206, __pyx_kp_u__207); if (unlikely(!__pyx_tuple__208)) __PYX_ERR(0, 1615, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__208);
  __Pyx_GIVEREF(__pyx_tuple__208);

  /* "youtube_dl/extractor/common.py":1623
 *                                     media_template % {
 *                                         'Number': segment_number,
 *                                         'Bandwidth': representation_attrib.get('bandwidth'),             # <<<<<<<<<<<<<<
 *                                     }
 *                                     for segment_number in range(
 */
  __pyx_tuple__209 = PyTuple_Pack(1, __pyx_n_u_bandwidth); if (unlikely(!__pyx_tuple__209)) __PYX_ERR(0, 1623, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__209);
  __Pyx_GIVEREF(__pyx_tuple__209);

  /* "youtube_dl/extractor/common.py":1632
 *                                 segment_time = 0
 * 
 *                                 def add_segment_url():             # <<<<<<<<<<<<<<
 *                                     representation_ms_info['segment_urls'].append(
 *                                         media_template % {
 */
  __pyx_codeobj__210 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_add_segment_url, 1632, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__210)) __PYX_ERR(0, 1632, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1641
 * 
 *                                 for num, s in enumerate(representation_ms_info['s']):
 *                                     segment_time = s.get('t') or segment_time             # <<<<<<<<<<<<<<
 *                                     add_segment_url()
 *                                     for r in range(s.get('r', 0)):
 */
  __pyx_tuple__211 = PyTuple_Pack(1, __pyx_n_u_t); if (unlikely(!__pyx_tuple__211)) __PYX_ERR(0, 1641, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__211);
  __Pyx_GIVEREF(__pyx_tuple__211);

  /* "youtube_dl/extractor/common.py":1643
 *                                     segment_time = s.get('t') or segment_time
 *                                     add_segment_url()
 *                                     for r in range(s.get('r', 0)):             # <<<<<<<<<<<<<<
 *                                         segment_time += s['d']
 *                                         add_segment_url()
 */
  __pyx_tuple__212 = PyTuple_Pack(2, __pyx_n_u_r, __pyx_int_0); if (unlikely(!__pyx_tuple__212)) __PYX_ERR(0, 1643, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__212);
  __Pyx_GIVEREF(__pyx_tuple__212);

  /* "youtube_dl/extractor/common.py":1674
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):
 *         def absolute_url(video_url):             # <<<<<<<<<<<<<<
 *             return compat_urlparse.urljoin(base_url, video_url)
 * 
 */
  __pyx_tuple__213 = PyTuple_Pack(1, __pyx_n_s_video_url_3); if (unlikely(!__pyx_tuple__213)) __PYX_ERR(0, 1674, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__213);
  __Pyx_GIVEREF(__pyx_tuple__213);
  __pyx_codeobj__214 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__213, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_absolute_url, 1674, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__214)) __PYX_ERR(0, 1674, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1677
 *             return compat_urlparse.urljoin(base_url, video_url)
 * 
 *         def parse_content_type(content_type):             # <<<<<<<<<<<<<<
 *             if not content_type:
 *                 return {}
 */
  __pyx_tuple__215 = PyTuple_Pack(5, __pyx_n_s_content_type, __pyx_n_s_ctr, __pyx_n_s_mimetype, __pyx_n_s_codecs, __pyx_n_s_f); if (unlikely(!__pyx_tuple__215)) __PYX_ERR(0, 1677, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__215);
  __Pyx_GIVEREF(__pyx_tuple__215);
  __pyx_codeobj__216 = (PyObject*)__Pyx_PyCode_New(1, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__215, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_content_type, 1677, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__216)) __PYX_ERR(0, 1677, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1695
 *             }
 *             media_attributes = extract_attributes(media_tag)
 *             src = media_attributes.get('src')             # <<<<<<<<<<<<<<
 *             if src:
 *                 media_info['formats'].append({
 */
  __pyx_tuple__217 = PyTuple_Pack(1, __pyx_n_u_src); if (unlikely(!__pyx_tuple__217)) __PYX_ERR(0, 1695, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__217);
  __Pyx_GIVEREF(__pyx_tuple__217);

  /* "youtube_dl/extractor/common.py":1701
 *                     'vcodec': 'none' if media_type == 'audio' else None,
 *                 })
 *             media_info['thumbnail'] = media_attributes.get('poster')             # <<<<<<<<<<<<<<
 *             if media_content:
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):
 */
  __pyx_tuple__218 = PyTuple_Pack(1, __pyx_n_u_poster); if (unlikely(!__pyx_tuple__218)) __PYX_ERR(0, 1701, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__218);
  __Pyx_GIVEREF(__pyx_tuple__218);

  /* "youtube_dl/extractor/common.py":1705
 *                 for source_tag in re.findall(r'<source[^>]+>', media_content):
 *                     source_attributes = extract_attributes(source_tag)
 *                     src = source_attributes.get('src')             # <<<<<<<<<<<<<<
 *                     if not src:
 *                         continue
 */
  __pyx_tuple__219 = PyTuple_Pack(1, __pyx_n_u_src); if (unlikely(!__pyx_tuple__219)) __PYX_ERR(0, 1705, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__219);
  __Pyx_GIVEREF(__pyx_tuple__219);

  /* "youtube_dl/extractor/common.py":1708
 *                     if not src:
 *                         continue
 *                     f = parse_content_type(source_attributes.get('type'))             # <<<<<<<<<<<<<<
 *                     f.update({
 *                         'url': absolute_url(src),
 */
  __pyx_tuple__220 = PyTuple_Pack(1, __pyx_n_u_type_3); if (unlikely(!__pyx_tuple__220)) __PYX_ERR(0, 1708, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__220);
  __Pyx_GIVEREF(__pyx_tuple__220);

  /* "youtube_dl/extractor/common.py":1716
 *                 for track_tag in re.findall(r'<track[^>]+>', media_content):
 *                     track_attributes = extract_attributes(track_tag)
 *                     kind = track_attributes.get('kind')             # <<<<<<<<<<<<<<
 *                     if not kind or kind == 'subtitles':
 *                         src = track_attributes.get('src')
 */
  __pyx_tuple__221 = PyTuple_Pack(1, __pyx_n_u_kind); if (unlikely(!__pyx_tuple__221)) __PYX_ERR(0, 1716, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__221);
  __Pyx_GIVEREF(__pyx_tuple__221);

  /* "youtube_dl/extractor/common.py":1718
 *                     kind = track_attributes.get('kind')
 *                     if not kind or kind == 'subtitles':
 *                         src = track_attributes.get('src')             # <<<<<<<<<<<<<<
 *                         if not src:
 *                             continue
 */
  __pyx_tuple__222 = PyTuple_Pack(1, __pyx_n_u_src); if (unlikely(!__pyx_tuple__222)) __PYX_ERR(0, 1718, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__222);
  __Pyx_GIVEREF(__pyx_tuple__222);

  /* "youtube_dl/extractor/common.py":1721
 *                         if not src:
 *                             continue
 *                         lang = track_attributes.get('srclang') or track_attributes.get('lang') or track_attributes.get('label')             # <<<<<<<<<<<<<<
 *                         media_info['subtitles'].setdefault(lang, []).append({
 *                             'url': absolute_url(src),
 */
  __pyx_tuple__223 = PyTuple_Pack(1, __pyx_n_u_srclang); if (unlikely(!__pyx_tuple__223)) __PYX_ERR(0, 1721, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__223);
  __Pyx_GIVEREF(__pyx_tuple__223);
  __pyx_tuple__224 = PyTuple_Pack(1, __pyx_n_u_lang); if (unlikely(!__pyx_tuple__224)) __PYX_ERR(0, 1721, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__224);
  __Pyx_GIVEREF(__pyx_tuple__224);
  __pyx_tuple__225 = PyTuple_Pack(1, __pyx_n_u_label); if (unlikely(!__pyx_tuple__225)) __PYX_ERR(0, 1721, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__225);
  __Pyx_GIVEREF(__pyx_tuple__225);

  /* "youtube_dl/extractor/common.py":1732
 *         """ Generate the title for a live video """
 *         now = datetime.datetime.now()
 *         now_str = now.strftime('%Y-%m-%d %H:%M')             # <<<<<<<<<<<<<<
 *         return name + ' ' + now_str
 * 
 */
  __pyx_tuple__226 = PyTuple_Pack(1, __pyx_kp_u_Y_m_d_H_M); if (unlikely(!__pyx_tuple__226)) __PYX_ERR(0, 1732, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__226);
  __Pyx_GIVEREF(__pyx_tuple__226);

  /* "youtube_dl/extractor/common.py":1767
 *         req = sanitized_Request(url)
 *         self._downloader.cookiejar.add_cookie_header(req)
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))             # <<<<<<<<<<<<<<
 * 
 *     def get_testcases(self, include_onlymatching=False):
 */
  __pyx_tuple__227 = PyTuple_Pack(1, __pyx_n_u_Cookie); if (unlikely(!__pyx_tuple__227)) __PYX_ERR(0, 1767, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__227);
  __Pyx_GIVEREF(__pyx_tuple__227);

  /* "youtube_dl/extractor/common.py":1778
 *             tests = getattr(self, '_TESTS', [])
 *         for t in tests:
 *             if not include_onlymatching and t.get('only_matching', False):             # <<<<<<<<<<<<<<
 *                 continue
 *             t['name'] = type(self).__name__[:-len('IE')]
 */
  __pyx_tuple__228 = PyTuple_Pack(2, __pyx_n_u_only_matching, Py_False); if (unlikely(!__pyx_tuple__228)) __PYX_ERR(0, 1778, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__228);
  __Pyx_GIVEREF(__pyx_tuple__228);

  /* "youtube_dl/extractor/common.py":1792
 *                 tc = tc['playlist'][0]
 *             is_restricted = age_restricted(
 *                 tc.get('info_dict', {}).get('age_limit'), age_limit)             # <<<<<<<<<<<<<<
 *             if not is_restricted:
 *                 return True
 */
  __pyx_tuple__229 = PyTuple_Pack(1, __pyx_n_u_age_limit); if (unlikely(!__pyx_tuple__229)) __PYX_ERR(0, 1792, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__229);
  __Pyx_GIVEREF(__pyx_tuple__229);

  /* "youtube_dl/extractor/common.py":1799
 * 
 *     def extract_subtitles(self, *args, **kwargs):
 *         if (self._downloader.params.get('writesubtitles', False) or             # <<<<<<<<<<<<<<
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_subtitles(*args, **kwargs)
 */
  __pyx_tuple__230 = PyTuple_Pack(2, __pyx_n_u_writesubtitles, Py_False); if (unlikely(!__pyx_tuple__230)) __PYX_ERR(0, 1799, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__230);
  __Pyx_GIVEREF(__pyx_tuple__230);

  /* "youtube_dl/extractor/common.py":1800
 *     def extract_subtitles(self, *args, **kwargs):
 *         if (self._downloader.params.get('writesubtitles', False) or
 *                 self._downloader.params.get('listsubtitles')):             # <<<<<<<<<<<<<<
 *             return self._get_subtitles(*args, **kwargs)
 *         return {}
 */
  __pyx_tuple__231 = PyTuple_Pack(1, __pyx_n_u_listsubtitles); if (unlikely(!__pyx_tuple__231)) __PYX_ERR(0, 1800, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__231);
  __Pyx_GIVEREF(__pyx_tuple__231);

  /* "youtube_dl/extractor/common.py":1805
 * 
 *     def _get_subtitles(self, *args, **kwargs):
 *         raise NotImplementedError('This method must be implemented by subclasses')             # <<<<<<<<<<<<<<
 * 
 *     @staticmethod
 */
  __pyx_tuple__232 = PyTuple_Pack(1, __pyx_kp_u_This_method_must_be_implemented); if (unlikely(!__pyx_tuple__232)) __PYX_ERR(0, 1805, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__232);
  __Pyx_GIVEREF(__pyx_tuple__232);

  /* "youtube_dl/extractor/common.py":1825
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):
 *         if (self._downloader.params.get('writeautomaticsub', False) or             # <<<<<<<<<<<<<<
 *                 self._downloader.params.get('listsubtitles')):
 *             return self._get_automatic_captions(*args, **kwargs)
 */
  __pyx_tuple__233 = PyTuple_Pack(2, __pyx_n_u_writeautomaticsub, Py_False); if (unlikely(!__pyx_tuple__233)) __PYX_ERR(0, 1825, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__233);
  __Pyx_GIVEREF(__pyx_tuple__233);

  /* "youtube_dl/extractor/common.py":1826
 *     def extract_automatic_captions(self, *args, **kwargs):
 *         if (self._downloader.params.get('writeautomaticsub', False) or
 *                 self._downloader.params.get('listsubtitles')):             # <<<<<<<<<<<<<<
 *             return self._get_automatic_captions(*args, **kwargs)
 *         return {}
 */
  __pyx_tuple__234 = PyTuple_Pack(1, __pyx_n_u_listsubtitles); if (unlikely(!__pyx_tuple__234)) __PYX_ERR(0, 1826, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__234);
  __Pyx_GIVEREF(__pyx_tuple__234);

  /* "youtube_dl/extractor/common.py":1831
 * 
 *     def _get_automatic_captions(self, *args, **kwargs):
 *         raise NotImplementedError('This method must be implemented by subclasses')             # <<<<<<<<<<<<<<
 * 
 *     def mark_watched(self, *args, **kwargs):
 */
  __pyx_tuple__235 = PyTuple_Pack(1, __pyx_kp_u_This_method_must_be_implemented); if (unlikely(!__pyx_tuple__235)) __PYX_ERR(0, 1831, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__235);
  __Pyx_GIVEREF(__pyx_tuple__235);

  /* "youtube_dl/extractor/common.py":1834
 * 
 *     def mark_watched(self, *args, **kwargs):
 *         if (self._downloader.params.get('mark_watched', False) and             # <<<<<<<<<<<<<<
 *                 (self._get_login_info()[0] is not None or
 *                     self._downloader.params.get('cookiefile') is not None)):
 */
  __pyx_tuple__236 = PyTuple_Pack(2, __pyx_n_u_mark_watched, Py_False); if (unlikely(!__pyx_tuple__236)) __PYX_ERR(0, 1834, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__236);
  __Pyx_GIVEREF(__pyx_tuple__236);

  /* "youtube_dl/extractor/common.py":1836
 *         if (self._downloader.params.get('mark_watched', False) and
 *                 (self._get_login_info()[0] is not None or
 *                     self._downloader.params.get('cookiefile') is not None)):             # <<<<<<<<<<<<<<
 *             self._mark_watched(*args, **kwargs)
 * 
 */
  __pyx_tuple__237 = PyTuple_Pack(1, __pyx_n_u_cookiefile); if (unlikely(!__pyx_tuple__237)) __PYX_ERR(0, 1836, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__237);
  __Pyx_GIVEREF(__pyx_tuple__237);

  /* "youtube_dl/extractor/common.py":1840
 * 
 *     def _mark_watched(self, *args, **kwargs):
 *         raise NotImplementedError('This method must be implemented by subclasses')             # <<<<<<<<<<<<<<
 * 
 *     def geo_verification_headers(self):
 */
  __pyx_tuple__238 = PyTuple_Pack(1, __pyx_kp_u_This_method_must_be_implemented); if (unlikely(!__pyx_tuple__238)) __PYX_ERR(0, 1840, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__238);
  __Pyx_GIVEREF(__pyx_tuple__238);

  /* "youtube_dl/extractor/common.py":1844
 *     def geo_verification_headers(self):
 *         headers = {}
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')             # <<<<<<<<<<<<<<
 *         if geo_verification_proxy:
 *             headers['Ytdl-request-proxy'] = geo_verification_proxy
 */
  __pyx_tuple__239 = PyTuple_Pack(1, __pyx_n_u_geo_verification_proxy); if (unlikely(!__pyx_tuple__239)) __PYX_ERR(0, 1844, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__239);
  __Pyx_GIVEREF(__pyx_tuple__239);

  /* "youtube_dl/extractor/common.py":1870
 *             raise ExtractorError('Invalid search query "%s"' % query)
 * 
 *         prefix = mobj.group('prefix')             # <<<<<<<<<<<<<<
 *         query = mobj.group('query')
 *         if prefix == '':
 */
  __pyx_tuple__240 = PyTuple_Pack(1, __pyx_n_u_prefix); if (unlikely(!__pyx_tuple__240)) __PYX_ERR(0, 1870, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__240);
  __Pyx_GIVEREF(__pyx_tuple__240);

  /* "youtube_dl/extractor/common.py":1871
 * 
 *         prefix = mobj.group('prefix')
 *         query = mobj.group('query')             # <<<<<<<<<<<<<<
 *         if prefix == '':
 *             return self._get_n_results(query, 1)
 */
  __pyx_tuple__241 = PyTuple_Pack(1, __pyx_n_u_query); if (unlikely(!__pyx_tuple__241)) __PYX_ERR(0, 1871, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__241);
  __Pyx_GIVEREF(__pyx_tuple__241);

  /* "youtube_dl/extractor/common.py":1887
 *     def _get_n_results(self, query, n):
 *         """Get a specified number of results for a query"""
 *         raise NotImplementedError('This method must be implemented by subclasses')             # <<<<<<<<<<<<<<
 * 
 *     @property
 */
  __pyx_tuple__242 = PyTuple_Pack(1, __pyx_kp_u_This_method_must_be_implemented); if (unlikely(!__pyx_tuple__242)) __PYX_ERR(0, 1887, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__242);
  __Pyx_GIVEREF(__pyx_tuple__242);

  /* "youtube_dl/extractor/common.py":308
 *     _WORKING = True
 * 
 *     def __init__(self, downloader=None):             # <<<<<<<<<<<<<<
 *         """Constructor. Receives an optional downloader."""
 *         self._ready = False
 */
  __pyx_tuple__243 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_downloader); if (unlikely(!__pyx_tuple__243)) __PYX_ERR(0, 308, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__243);
  __Pyx_GIVEREF(__pyx_tuple__243);
  __pyx_codeobj__244 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__243, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_init, 308, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__244)) __PYX_ERR(0, 308, __pyx_L1_error)
  __pyx_tuple__245 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__245)) __PYX_ERR(0, 308, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__245);
  __Pyx_GIVEREF(__pyx_tuple__245);

  /* "youtube_dl/extractor/common.py":314
 * 
 *     @classmethod
 *     def suitable(cls, url):             # <<<<<<<<<<<<<<
 *         """Receives a URL and returns True if suitable for this IE."""
 * 
 */
  __pyx_tuple__246 = PyTuple_Pack(2, __pyx_n_s_cls, __pyx_n_s_url); if (unlikely(!__pyx_tuple__246)) __PYX_ERR(0, 314, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__246);
  __Pyx_GIVEREF(__pyx_tuple__246);
  __pyx_codeobj__247 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__246, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_suitable, 314, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__247)) __PYX_ERR(0, 314, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":325
 * 
 *     @classmethod
 *     def _match_id(cls, url):             # <<<<<<<<<<<<<<
 *         if '_VALID_URL_RE' not in cls.__dict__:
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 */
  __pyx_tuple__248 = PyTuple_Pack(3, __pyx_n_s_cls, __pyx_n_s_url, __pyx_n_s_m); if (unlikely(!__pyx_tuple__248)) __PYX_ERR(0, 325, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__248);
  __Pyx_GIVEREF(__pyx_tuple__248);
  __pyx_codeobj__249 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__248, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_match_id, 325, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__249)) __PYX_ERR(0, 325, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":333
 * 
 *     @classmethod
 *     def working(cls):             # <<<<<<<<<<<<<<
 *         """Getter method for _WORKING."""
 *         return cls._WORKING
 */
  __pyx_tuple__250 = PyTuple_Pack(1, __pyx_n_s_cls); if (unlikely(!__pyx_tuple__250)) __PYX_ERR(0, 333, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__250);
  __Pyx_GIVEREF(__pyx_tuple__250);
  __pyx_codeobj__251 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__250, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_working, 333, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__251)) __PYX_ERR(0, 333, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":337
 *         return cls._WORKING
 * 
 *     def initialize(self):             # <<<<<<<<<<<<<<
 *         """Initializes an instance (authentication, etc)."""
 *         if not self._ready:
 */
  __pyx_tuple__252 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__252)) __PYX_ERR(0, 337, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__252);
  __Pyx_GIVEREF(__pyx_tuple__252);
  __pyx_codeobj__253 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__252, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_initialize, 337, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__253)) __PYX_ERR(0, 337, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":343
 *             self._ready = True
 * 
 *     def extract(self, url):             # <<<<<<<<<<<<<<
 *         """Extracts URL information and returns it in list of dicts."""
 *         try:
 */
  __pyx_tuple__254 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_url, __pyx_n_s_e); if (unlikely(!__pyx_tuple__254)) __PYX_ERR(0, 343, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__254);
  __Pyx_GIVEREF(__pyx_tuple__254);
  __pyx_codeobj__255 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__254, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract, 343, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__255)) __PYX_ERR(0, 343, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":355
 *             raise ExtractorError('An extractor error has occurred.', cause=e)
 * 
 *     def set_downloader(self, downloader):             # <<<<<<<<<<<<<<
 *         """Sets the downloader for this IE."""
 *         self._downloader = downloader
 */
  __pyx_tuple__256 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_downloader); if (unlikely(!__pyx_tuple__256)) __PYX_ERR(0, 355, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__256);
  __Pyx_GIVEREF(__pyx_tuple__256);
  __pyx_codeobj__257 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__256, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_set_downloader, 355, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__257)) __PYX_ERR(0, 355, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":359
 *         self._downloader = downloader
 * 
 *     def _real_initialize(self):             # <<<<<<<<<<<<<<
 *         """Real initialization process. Redefine in subclasses."""
 *         pass
 */
  __pyx_tuple__258 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__258)) __PYX_ERR(0, 359, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__258);
  __Pyx_GIVEREF(__pyx_tuple__258);
  __pyx_codeobj__259 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__258, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_real_initialize, 359, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__259)) __PYX_ERR(0, 359, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":363
 *         pass
 * 
 *     def _real_extract(self, url):             # <<<<<<<<<<<<<<
 *         """Real extraction process. Redefine in subclasses."""
 *         pass
 */
  __pyx_tuple__260 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_url); if (unlikely(!__pyx_tuple__260)) __PYX_ERR(0, 363, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__260);
  __Pyx_GIVEREF(__pyx_tuple__260);
  __pyx_codeobj__261 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__260, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_real_extract, 363, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__261)) __PYX_ERR(0, 363, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":368
 * 
 *     @classmethod
 *     def ie_key(cls):             # <<<<<<<<<<<<<<
 *         """A string for getting the InfoExtractor with get_info_extractor"""
 *         return compat_str(cls.__name__[:-2])
 */
  __pyx_tuple__262 = PyTuple_Pack(1, __pyx_n_s_cls); if (unlikely(!__pyx_tuple__262)) __PYX_ERR(0, 368, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__262);
  __Pyx_GIVEREF(__pyx_tuple__262);
  __pyx_codeobj__263 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__262, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_ie_key, 368, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__263)) __PYX_ERR(0, 368, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":373
 * 
 *     @property
 *     def IE_NAME(self):             # <<<<<<<<<<<<<<
 *         return compat_str(type(self).__name__[:-2])
 * 
 */
  __pyx_tuple__264 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__264)) __PYX_ERR(0, 373, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__264);
  __Pyx_GIVEREF(__pyx_tuple__264);
  __pyx_codeobj__265 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__264, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_IE_NAME, 373, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__265)) __PYX_ERR(0, 373, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":376
 *         return compat_str(type(self).__name__[:-2])
 * 
 *     def _request_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns the response handle """
 *         if note is None:
 */
  __pyx_tuple__266 = PyTuple_Pack(11, __pyx_n_s_self, __pyx_n_s_url_or_request, __pyx_n_s_video_id, __pyx_n_s_note, __pyx_n_s_errnote, __pyx_n_s_fatal, __pyx_n_s_data, __pyx_n_s_headers, __pyx_n_s_query, __pyx_n_s_err, __pyx_n_s_errmsg); if (unlikely(!__pyx_tuple__266)) __PYX_ERR(0, 376, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__266);
  __Pyx_GIVEREF(__pyx_tuple__266);
  __pyx_codeobj__267 = (PyObject*)__Pyx_PyCode_New(9, 0, 11, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__266, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_request_webpage, 376, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__267)) __PYX_ERR(0, 376, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":408
 *                 return False
 * 
 *     def _download_webpage_handle(self, url_or_request, video_id, note=None, errnote=None, fatal=True, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns a tuple (page content as string, URL handle) """
 *         # Strip hashes from the URL (#1038)
 */
  __pyx_tuple__268 = PyTuple_Pack(12, __pyx_n_s_self, __pyx_n_s_url_or_request, __pyx_n_s_video_id, __pyx_n_s_note, __pyx_n_s_errnote, __pyx_n_s_fatal, __pyx_n_s_encoding, __pyx_n_s_data, __pyx_n_s_headers, __pyx_n_s_query, __pyx_n_s_urlh, __pyx_n_s_content); if (unlikely(!__pyx_tuple__268)) __PYX_ERR(0, 408, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__268);
  __Pyx_GIVEREF(__pyx_tuple__268);
  __pyx_codeobj__269 = (PyObject*)__Pyx_PyCode_New(10, 0, 12, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__268, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_download_webpage_handle, 408, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__269)) __PYX_ERR(0, 408, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":422
 * 
 *     @staticmethod
 *     def _guess_encoding_from_content(content_type, webpage_bytes):             # <<<<<<<<<<<<<<
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 *         if m:
 */
  __pyx_tuple__270 = PyTuple_Pack(4, __pyx_n_s_content_type, __pyx_n_s_webpage_bytes, __pyx_n_s_m, __pyx_n_s_encoding); if (unlikely(!__pyx_tuple__270)) __PYX_ERR(0, 422, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__270);
  __Pyx_GIVEREF(__pyx_tuple__270);
  __pyx_codeobj__271 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__270, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_guess_encoding_from_content, 422, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__271)) __PYX_ERR(0, 422, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":438
 *         return encoding
 * 
 *     def _webpage_read_content(self, urlh, url_or_request, video_id, note=None, errnote=None, fatal=True, prefix=None, encoding=None):             # <<<<<<<<<<<<<<
 *         content_type = urlh.headers.get('Content-Type', '')
 *         webpage_bytes = urlh.read()
 */
  __pyx_tuple__272 = PyTuple_Pack(23, __pyx_n_s_self, __pyx_n_s_urlh, __pyx_n_s_url_or_request, __pyx_n_s_video_id, __pyx_n_s_note, __pyx_n_s_errnote, __pyx_n_s_fatal, __pyx_n_s_prefix, __pyx_n_s_encoding, __pyx_n_s_content_type, __pyx_n_s_webpage_bytes, __pyx_n_s_url, __pyx_n_s_dump_2, __pyx_n_s_basen, __pyx_n_s_h, __pyx_n_s_raw_filename, __pyx_n_s_filename, __pyx_n_s_absfilepath, __pyx_n_s_outf, __pyx_n_s_content, __pyx_n_s_msg, __pyx_n_s_blocked_iframe, __pyx_n_s_block_msg); if (unlikely(!__pyx_tuple__272)) __PYX_ERR(0, 438, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__272);
  __Pyx_GIVEREF(__pyx_tuple__272);
  __pyx_codeobj__273 = (PyObject*)__Pyx_PyCode_New(9, 0, 23, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__272, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_webpage_read_content, 438, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__273)) __PYX_ERR(0, 438, __pyx_L1_error)
  __pyx_tuple__274 = PyTuple_Pack(5, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_True), ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__274)) __PYX_ERR(0, 438, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__274);
  __Pyx_GIVEREF(__pyx_tuple__274);

  /* "youtube_dl/extractor/common.py":501
 *         return content
 * 
 *     def _download_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, tries=1, timeout=5, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns the data of the page as a string """
 *         success = False
 */
  __pyx_tuple__276 = PyTuple_Pack(18, __pyx_n_s_self, __pyx_n_s_url_or_request, __pyx_n_s_video_id, __pyx_n_s_note, __pyx_n_s_errnote, __pyx_n_s_fatal, __pyx_n_s_tries, __pyx_n_s_timeout, __pyx_n_s_encoding, __pyx_n_s_data, __pyx_n_s_headers, __pyx_n_s_query, __pyx_n_s_success, __pyx_n_s_try_count, __pyx_n_s_res, __pyx_n_s_e, __pyx_n_s_content, __pyx_n_s__275); if (unlikely(!__pyx_tuple__276)) __PYX_ERR(0, 501, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__276);
  __Pyx_GIVEREF(__pyx_tuple__276);
  __pyx_codeobj__277 = (PyObject*)__Pyx_PyCode_New(12, 0, 18, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__276, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_download_webpage, 501, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__277)) __PYX_ERR(0, 501, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":520
 *             return content
 * 
 *     def _download_xml(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                       note='Downloading XML', errnote='Unable to download XML',
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):
 */
  __pyx_tuple__278 = PyTuple_Pack(12, __pyx_n_s_self, __pyx_n_s_url_or_request, __pyx_n_s_video_id, __pyx_n_s_note, __pyx_n_s_errnote, __pyx_n_s_transform_source, __pyx_n_s_fatal, __pyx_n_s_encoding, __pyx_n_s_data, __pyx_n_s_headers, __pyx_n_s_query, __pyx_n_s_xml_string); if (unlikely(!__pyx_tuple__278)) __PYX_ERR(0, 520, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__278);
  __Pyx_GIVEREF(__pyx_tuple__278);
  __pyx_codeobj__279 = (PyObject*)__Pyx_PyCode_New(11, 0, 12, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__278, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_download_xml, 520, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__279)) __PYX_ERR(0, 520, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":532
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))
 * 
 *     def _download_json(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                        note='Downloading JSON metadata',
 *                        errnote='Unable to download JSON metadata',
 */
  __pyx_tuple__280 = PyTuple_Pack(12, __pyx_n_s_self, __pyx_n_s_url_or_request, __pyx_n_s_video_id, __pyx_n_s_note, __pyx_n_s_errnote, __pyx_n_s_transform_source, __pyx_n_s_fatal, __pyx_n_s_encoding, __pyx_n_s_data, __pyx_n_s_headers, __pyx_n_s_query, __pyx_n_s_json_string); if (unlikely(!__pyx_tuple__280)) __PYX_ERR(0, 532, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__280);
  __Pyx_GIVEREF(__pyx_tuple__280);
  __pyx_codeobj__281 = (PyObject*)__Pyx_PyCode_New(11, 0, 12, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__280, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_download_json, 532, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__281)) __PYX_ERR(0, 532, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":545
 *             json_string, video_id, transform_source=transform_source, fatal=fatal)
 * 
 *     def _parse_json(self, json_string, video_id, transform_source=None, fatal=True):             # <<<<<<<<<<<<<<
 *         if transform_source:
 *             json_string = transform_source(json_string)
 */
  __pyx_tuple__282 = PyTuple_Pack(7, __pyx_n_s_self, __pyx_n_s_json_string, __pyx_n_s_video_id, __pyx_n_s_transform_source, __pyx_n_s_fatal, __pyx_n_s_ve, __pyx_n_s_errmsg); if (unlikely(!__pyx_tuple__282)) __PYX_ERR(0, 545, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__282);
  __Pyx_GIVEREF(__pyx_tuple__282);
  __pyx_codeobj__283 = (PyObject*)__Pyx_PyCode_New(5, 0, 7, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__282, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_json, 545, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__283)) __PYX_ERR(0, 545, __pyx_L1_error)
  __pyx_tuple__284 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_True)); if (unlikely(!__pyx_tuple__284)) __PYX_ERR(0, 545, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__284);
  __Pyx_GIVEREF(__pyx_tuple__284);

  /* "youtube_dl/extractor/common.py":557
 *                 self.report_warning(errmsg + str(ve))
 * 
 *     def report_warning(self, msg, video_id=None):             # <<<<<<<<<<<<<<
 *         idstr = '' if video_id is None else '%s: ' % video_id
 *         self._downloader.report_warning(
 */
  __pyx_tuple__285 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_msg, __pyx_n_s_video_id, __pyx_n_s_idstr); if (unlikely(!__pyx_tuple__285)) __PYX_ERR(0, 557, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__285);
  __Pyx_GIVEREF(__pyx_tuple__285);
  __pyx_codeobj__286 = (PyObject*)__Pyx_PyCode_New(3, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__285, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_report_warning, 557, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__286)) __PYX_ERR(0, 557, __pyx_L1_error)
  __pyx_tuple__287 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__287)) __PYX_ERR(0, 557, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__287);
  __Pyx_GIVEREF(__pyx_tuple__287);

  /* "youtube_dl/extractor/common.py":562
 *             '[%s] %s%s' % (self.IE_NAME, idstr, msg))
 * 
 *     def to_screen(self, msg):             # <<<<<<<<<<<<<<
 *         """Print msg to screen, prefixing it with '[ie_name]'"""
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))
 */
  __pyx_tuple__288 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_msg); if (unlikely(!__pyx_tuple__288)) __PYX_ERR(0, 562, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__288);
  __Pyx_GIVEREF(__pyx_tuple__288);
  __pyx_codeobj__289 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__288, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_to_screen, 562, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__289)) __PYX_ERR(0, 562, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":566
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))
 * 
 *     def report_extraction(self, id_or_name):             # <<<<<<<<<<<<<<
 *         """Report information extraction."""
 *         self.to_screen('%s: Extracting information' % id_or_name)
 */
  __pyx_tuple__290 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_id_or_name); if (unlikely(!__pyx_tuple__290)) __PYX_ERR(0, 566, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__290);
  __Pyx_GIVEREF(__pyx_tuple__290);
  __pyx_codeobj__291 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__290, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_report_extraction, 566, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__291)) __PYX_ERR(0, 566, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":570
 *         self.to_screen('%s: Extracting information' % id_or_name)
 * 
 *     def report_download_webpage(self, video_id):             # <<<<<<<<<<<<<<
 *         """Report webpage download."""
 *         self.to_screen('%s: Downloading webpage' % video_id)
 */
  __pyx_tuple__292 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_video_id); if (unlikely(!__pyx_tuple__292)) __PYX_ERR(0, 570, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__292);
  __Pyx_GIVEREF(__pyx_tuple__292);
  __pyx_codeobj__293 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__292, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_report_download_webpage, 570, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__293)) __PYX_ERR(0, 570, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":574
 *         self.to_screen('%s: Downloading webpage' % video_id)
 * 
 *     def report_age_confirmation(self):             # <<<<<<<<<<<<<<
 *         """Report attempt to confirm age."""
 *         self.to_screen('Confirming age')
 */
  __pyx_tuple__294 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__294)) __PYX_ERR(0, 574, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__294);
  __Pyx_GIVEREF(__pyx_tuple__294);
  __pyx_codeobj__295 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__294, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_report_age_confirmation, 574, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__295)) __PYX_ERR(0, 574, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":578
 *         self.to_screen('Confirming age')
 * 
 *     def report_login(self):             # <<<<<<<<<<<<<<
 *         """Report attempt to log in."""
 *         self.to_screen('Logging in')
 */
  __pyx_tuple__296 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__296)) __PYX_ERR(0, 578, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__296);
  __Pyx_GIVEREF(__pyx_tuple__296);
  __pyx_codeobj__297 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__296, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_report_login, 578, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__297)) __PYX_ERR(0, 578, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":583
 * 
 *     @staticmethod
 *     def raise_login_required(msg='This video is only available for registered users'):             # <<<<<<<<<<<<<<
 *         raise ExtractorError(
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,
 */
  __pyx_tuple__298 = PyTuple_Pack(1, __pyx_n_s_msg); if (unlikely(!__pyx_tuple__298)) __PYX_ERR(0, 583, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__298);
  __Pyx_GIVEREF(__pyx_tuple__298);
  __pyx_codeobj__299 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__298, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_raise_login_required, 583, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__299)) __PYX_ERR(0, 583, __pyx_L1_error)
  __pyx_tuple__300 = PyTuple_Pack(1, ((PyObject*)__pyx_kp_u_This_video_is_only_available_for)); if (unlikely(!__pyx_tuple__300)) __PYX_ERR(0, 583, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__300);
  __Pyx_GIVEREF(__pyx_tuple__300);

  /* "youtube_dl/extractor/common.py":589
 * 
 *     @staticmethod
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):             # <<<<<<<<<<<<<<
 *         raise ExtractorError(
 *             '%s. You might want to use --proxy to workaround.' % msg,
 */
  __pyx_tuple__301 = PyTuple_Pack(1, __pyx_n_s_msg); if (unlikely(!__pyx_tuple__301)) __PYX_ERR(0, 589, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__301);
  __Pyx_GIVEREF(__pyx_tuple__301);
  __pyx_codeobj__302 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__301, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_raise_geo_restricted, 589, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__302)) __PYX_ERR(0, 589, __pyx_L1_error)
  __pyx_tuple__303 = PyTuple_Pack(1, ((PyObject*)__pyx_kp_u_This_video_is_not_available_from)); if (unlikely(!__pyx_tuple__303)) __PYX_ERR(0, 589, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__303);
  __Pyx_GIVEREF(__pyx_tuple__303);

  /* "youtube_dl/extractor/common.py":596
 *     # Methods for following #608
 *     @staticmethod
 *     def url_result(url, ie=None, video_id=None, video_title=None):             # <<<<<<<<<<<<<<
 *         """Returns a URL that points to a page that should be processed"""
 *         # TODO: ie should be the class used for getting the info
 */
  __pyx_tuple__304 = PyTuple_Pack(5, __pyx_n_s_url, __pyx_n_s_ie, __pyx_n_s_video_id, __pyx_n_s_video_title, __pyx_n_s_video_info); if (unlikely(!__pyx_tuple__304)) __PYX_ERR(0, 596, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__304);
  __Pyx_GIVEREF(__pyx_tuple__304);
  __pyx_codeobj__305 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__304, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_url_result, 596, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__305)) __PYX_ERR(0, 596, __pyx_L1_error)
  __pyx_tuple__306 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__306)) __PYX_ERR(0, 596, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__306);
  __Pyx_GIVEREF(__pyx_tuple__306);

  /* "youtube_dl/extractor/common.py":609
 * 
 *     @staticmethod
 *     def playlist_result(entries, playlist_id=None, playlist_title=None, playlist_description=None):             # <<<<<<<<<<<<<<
 *         """Returns a playlist"""
 *         video_info = {'_type': 'playlist',
 */
  __pyx_tuple__307 = PyTuple_Pack(5, __pyx_n_s_entries, __pyx_n_s_playlist_id, __pyx_n_s_playlist_title, __pyx_n_s_playlist_description, __pyx_n_s_video_info); if (unlikely(!__pyx_tuple__307)) __PYX_ERR(0, 609, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__307);
  __Pyx_GIVEREF(__pyx_tuple__307);
  __pyx_codeobj__308 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__307, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_playlist_result, 609, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__308)) __PYX_ERR(0, 609, __pyx_L1_error)
  __pyx_tuple__309 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__309)) __PYX_ERR(0, 609, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__309);
  __Pyx_GIVEREF(__pyx_tuple__309);

  /* "youtube_dl/extractor/common.py":621
 *         return video_info
 * 
 *     def _search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Perform a regex search on the given string, using a single or a list of
 */
  __pyx_tuple__310 = PyTuple_Pack(13, __pyx_n_s_self, __pyx_n_s_pattern, __pyx_n_s_string, __pyx_n_s_name_2, __pyx_n_s_default, __pyx_n_s_fatal, __pyx_n_s_flags, __pyx_n_s_group, __pyx_n_s_mobj, __pyx_n_s_p, __pyx_n_s_name_3, __pyx_n_s_genexpr, __pyx_n_s_genexpr); if (unlikely(!__pyx_tuple__310)) __PYX_ERR(0, 621, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__310);
  __Pyx_GIVEREF(__pyx_tuple__310);
  __pyx_codeobj__311 = (PyObject*)__Pyx_PyCode_New(8, 0, 13, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__310, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_search_regex, 621, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__311)) __PYX_ERR(0, 621, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":655
 *             return None
 * 
 *     def _html_search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Like _search_regex, but strips HTML tags and unescapes entities.
 */
  __pyx_tuple__312 = PyTuple_Pack(9, __pyx_n_s_self, __pyx_n_s_pattern, __pyx_n_s_string, __pyx_n_s_name_2, __pyx_n_s_default, __pyx_n_s_fatal, __pyx_n_s_flags, __pyx_n_s_group, __pyx_n_s_res); if (unlikely(!__pyx_tuple__312)) __PYX_ERR(0, 655, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__312);
  __Pyx_GIVEREF(__pyx_tuple__312);
  __pyx_codeobj__313 = (PyObject*)__Pyx_PyCode_New(8, 0, 9, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__312, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_html_search_regex, 655, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__313)) __PYX_ERR(0, 655, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":665
 *             return res
 * 
 *     def _get_login_info(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get the login info as (username, password)
 */
  __pyx_tuple__314 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_username, __pyx_n_s_password, __pyx_n_s_downloader_params, __pyx_n_s_info, __pyx_n_s_err); if (unlikely(!__pyx_tuple__314)) __PYX_ERR(0, 665, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__314);
  __Pyx_GIVEREF(__pyx_tuple__314);
  __pyx_codeobj__315 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__314, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_get_login_info, 665, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__315)) __PYX_ERR(0, 665, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":695
 *         return (username, password)
 * 
 *     def _get_tfa_info(self, note='two-factor verification code'):             # <<<<<<<<<<<<<<
 *         """
 *         Get the two-factor authentication info
 */
  __pyx_tuple__316 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_note, __pyx_n_s_downloader_params); if (unlikely(!__pyx_tuple__316)) __PYX_ERR(0, 695, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__316);
  __Pyx_GIVEREF(__pyx_tuple__316);
  __pyx_codeobj__317 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__316, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_get_tfa_info, 695, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__317)) __PYX_ERR(0, 695, __pyx_L1_error)
  __pyx_tuple__318 = PyTuple_Pack(1, ((PyObject*)__pyx_kp_u_two_factor_verification_code)); if (unlikely(!__pyx_tuple__318)) __PYX_ERR(0, 695, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__318);
  __Pyx_GIVEREF(__pyx_tuple__318);

  /* "youtube_dl/extractor/common.py":713
 *     # Helper functions for extracting OpenGraph info
 *     @staticmethod
 *     def _og_regexes(prop):             # <<<<<<<<<<<<<<
 *         content_re = r'content=(?:"([^"]+?)"|\'([^\']+?)\'|\s*([^\s"\'=<>`]+?))'
 *         property_re = (r'(?:name|property)=(?:\'og:%(prop)s\'|"og:%(prop)s"|\s*og:%(prop)s\b)'
 */
  __pyx_tuple__319 = PyTuple_Pack(4, __pyx_n_s_prop, __pyx_n_s_content_re, __pyx_n_s_property_re, __pyx_n_s_template); if (unlikely(!__pyx_tuple__319)) __PYX_ERR(0, 713, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__319);
  __Pyx_GIVEREF(__pyx_tuple__319);
  __pyx_codeobj__320 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__319, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_og_regexes, 713, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__320)) __PYX_ERR(0, 713, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":724
 * 
 *     @staticmethod
 *     def _meta_regex(prop):             # <<<<<<<<<<<<<<
 *         return r'''(?isx)<meta
 *                     (?=[^>]+(?:itemprop|name|property|id|http-equiv)=(["\']?)%s\1)
 */
  __pyx_tuple__321 = PyTuple_Pack(1, __pyx_n_s_prop); if (unlikely(!__pyx_tuple__321)) __PYX_ERR(0, 724, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__321);
  __Pyx_GIVEREF(__pyx_tuple__321);
  __pyx_codeobj__322 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__321, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_meta_regex, 724, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__322)) __PYX_ERR(0, 724, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":729
 *                     [^>]+?content=(["\'])(?P<content>.*?)\2''' % re.escape(prop)
 * 
 *     def _og_search_property(self, prop, html, name=None, **kargs):             # <<<<<<<<<<<<<<
 *         if name is None:
 *             name = 'OpenGraph %s' % prop
 */
  __pyx_tuple__323 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_prop, __pyx_n_s_html, __pyx_n_s_name_2, __pyx_n_s_kargs, __pyx_n_s_escaped); if (unlikely(!__pyx_tuple__323)) __PYX_ERR(0, 729, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__323);
  __Pyx_GIVEREF(__pyx_tuple__323);
  __pyx_codeobj__324 = (PyObject*)__Pyx_PyCode_New(4, 0, 6, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__323, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_og_search_property, 729, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__324)) __PYX_ERR(0, 729, __pyx_L1_error)
  __pyx_tuple__325 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__325)) __PYX_ERR(0, 729, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__325);
  __Pyx_GIVEREF(__pyx_tuple__325);

  /* "youtube_dl/extractor/common.py":737
 *         return unescapeHTML(escaped)
 * 
 *     def _og_search_thumbnail(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)
 * 
 */
  __pyx_tuple__326 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_html, __pyx_n_s_kargs); if (unlikely(!__pyx_tuple__326)) __PYX_ERR(0, 737, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__326);
  __Pyx_GIVEREF(__pyx_tuple__326);
  __pyx_codeobj__327 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__326, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_og_search_thumbnail, 737, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__327)) __PYX_ERR(0, 737, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":740
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)
 * 
 *     def _og_search_description(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('description', html, fatal=False, **kargs)
 * 
 */
  __pyx_tuple__328 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_html, __pyx_n_s_kargs); if (unlikely(!__pyx_tuple__328)) __PYX_ERR(0, 740, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__328);
  __Pyx_GIVEREF(__pyx_tuple__328);
  __pyx_codeobj__329 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__328, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_og_search_description, 740, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__329)) __PYX_ERR(0, 740, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":743
 *         return self._og_search_property('description', html, fatal=False, **kargs)
 * 
 *     def _og_search_title(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('title', html, **kargs)
 * 
 */
  __pyx_tuple__330 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_html, __pyx_n_s_kargs); if (unlikely(!__pyx_tuple__330)) __PYX_ERR(0, 743, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__330);
  __Pyx_GIVEREF(__pyx_tuple__330);
  __pyx_codeobj__331 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__330, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_og_search_title, 743, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__331)) __PYX_ERR(0, 743, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":746
 *         return self._og_search_property('title', html, **kargs)
 * 
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):             # <<<<<<<<<<<<<<
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')
 *         if secure:
 */
  __pyx_tuple__332 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_html, __pyx_n_s_name_2, __pyx_n_s_secure, __pyx_n_s_kargs, __pyx_n_s_regexes); if (unlikely(!__pyx_tuple__332)) __PYX_ERR(0, 746, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__332);
  __Pyx_GIVEREF(__pyx_tuple__332);
  __pyx_codeobj__333 = (PyObject*)__Pyx_PyCode_New(4, 0, 6, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__332, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_og_search_video_url, 746, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__333)) __PYX_ERR(0, 746, __pyx_L1_error)
  __pyx_tuple__334 = PyTuple_Pack(2, ((PyObject*)__pyx_kp_u_video_url), ((PyObject *)Py_True)); if (unlikely(!__pyx_tuple__334)) __PYX_ERR(0, 746, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__334);
  __Pyx_GIVEREF(__pyx_tuple__334);

  /* "youtube_dl/extractor/common.py":752
 *         return self._html_search_regex(regexes, html, name, **kargs)
 * 
 *     def _og_search_url(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('url', html, **kargs)
 * 
 */
  __pyx_tuple__335 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_html, __pyx_n_s_kargs); if (unlikely(!__pyx_tuple__335)) __PYX_ERR(0, 752, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__335);
  __Pyx_GIVEREF(__pyx_tuple__335);
  __pyx_codeobj__336 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__335, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_og_search_url, 752, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__336)) __PYX_ERR(0, 752, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":755
 *         return self._og_search_property('url', html, **kargs)
 * 
 *     def _html_search_meta(self, name, html, display_name=None, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         if not isinstance(name, (list, tuple)):
 *             name = [name]
 */
  __pyx_tuple__337 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_name_2, __pyx_n_s_html, __pyx_n_s_display_name, __pyx_n_s_fatal, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__337)) __PYX_ERR(0, 755, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__337);
  __Pyx_GIVEREF(__pyx_tuple__337);
  __pyx_codeobj__338 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__337, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_html_search_meta, 755, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__338)) __PYX_ERR(0, 755, __pyx_L1_error)
  __pyx_tuple__339 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__339)) __PYX_ERR(0, 755, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__339);
  __Pyx_GIVEREF(__pyx_tuple__339);

  /* "youtube_dl/extractor/common.py":764
 *             html, display_name, fatal=fatal, group='content', **kwargs)
 * 
 *     def _dc_search_uploader(self, html):             # <<<<<<<<<<<<<<
 *         return self._html_search_meta('dc.creator', html, 'uploader')
 * 
 */
  __pyx_tuple__340 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_html); if (unlikely(!__pyx_tuple__340)) __PYX_ERR(0, 764, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__340);
  __Pyx_GIVEREF(__pyx_tuple__340);
  __pyx_codeobj__341 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__340, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_dc_search_uploader, 764, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__341)) __PYX_ERR(0, 764, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":767
 *         return self._html_search_meta('dc.creator', html, 'uploader')
 * 
 *     def _rta_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://www.rtalabel.org/index.php?content=howtofaq#single
 *         if re.search(r'(?ix)<meta\s+name="rating"\s+'
 */
  __pyx_tuple__342 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_html); if (unlikely(!__pyx_tuple__342)) __PYX_ERR(0, 767, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__342);
  __Pyx_GIVEREF(__pyx_tuple__342);
  __pyx_codeobj__343 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__342, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_rta_search, 767, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__343)) __PYX_ERR(0, 767, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":775
 *         return 0
 * 
 *     def _media_rating_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://www.tjg-designs.com/WP/metadata-code-examples-adding-metadata-to-your-web-pages/
 *         rating = self._html_search_meta('rating', html)
 */
  __pyx_tuple__344 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_html, __pyx_n_s_rating, __pyx_n_s_RATING_TABLE); if (unlikely(!__pyx_tuple__344)) __PYX_ERR(0, 775, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__344);
  __Pyx_GIVEREF(__pyx_tuple__344);
  __pyx_codeobj__345 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__344, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_media_rating_search, 775, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__345)) __PYX_ERR(0, 775, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":791
 *         return RATING_TABLE.get(rating.lower())
 * 
 *     def _family_friendly_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://schema.org/VideoObject
 *         family_friendly = self._html_search_meta('isFamilyFriendly', html)
 */
  __pyx_tuple__346 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_html, __pyx_n_s_family_friendly, __pyx_n_s_RATING_TABLE); if (unlikely(!__pyx_tuple__346)) __PYX_ERR(0, 791, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__346);
  __Pyx_GIVEREF(__pyx_tuple__346);
  __pyx_codeobj__347 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__346, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_family_friendly_search, 791, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__347)) __PYX_ERR(0, 791, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":806
 *         return RATING_TABLE.get(family_friendly.lower())
 * 
 *     def _twitter_search_player(self, html):             # <<<<<<<<<<<<<<
 *         return self._html_search_meta('twitter:player', html,
 *                                       'twitter card player')
 */
  __pyx_tuple__348 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_html); if (unlikely(!__pyx_tuple__348)) __PYX_ERR(0, 806, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__348);
  __Pyx_GIVEREF(__pyx_tuple__348);
  __pyx_codeobj__349 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__348, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_twitter_search_player, 806, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__349)) __PYX_ERR(0, 806, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":810
 *                                       'twitter card player')
 * 
 *     def _search_json_ld(self, html, video_id, expected_type=None, **kwargs):             # <<<<<<<<<<<<<<
 *         json_ld = self._search_regex(
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 */
  __pyx_tuple__350 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_html, __pyx_n_s_video_id, __pyx_n_s_expected_type, __pyx_n_s_kwargs, __pyx_n_s_json_ld); if (unlikely(!__pyx_tuple__350)) __PYX_ERR(0, 810, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__350);
  __Pyx_GIVEREF(__pyx_tuple__350);
  __pyx_codeobj__351 = (PyObject*)__Pyx_PyCode_New(4, 0, 6, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__350, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_search_json_ld, 810, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__351)) __PYX_ERR(0, 810, __pyx_L1_error)
  __pyx_tuple__352 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__352)) __PYX_ERR(0, 810, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__352);
  __Pyx_GIVEREF(__pyx_tuple__352);

  /* "youtube_dl/extractor/common.py":820
 *             expected_type=expected_type)
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):             # <<<<<<<<<<<<<<
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 */
  __pyx_tuple__353 = PyTuple_Pack(11, __pyx_n_s_self, __pyx_n_s_json_ld, __pyx_n_s_video_id, __pyx_n_s_fatal, __pyx_n_s_expected_type, __pyx_n_s_info, __pyx_n_s_item_type, __pyx_n_s_part_of_season, __pyx_n_s_part_of_series, __pyx_n_s_genexpr, __pyx_n_s_genexpr); if (unlikely(!__pyx_tuple__353)) __PYX_ERR(0, 820, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__353);
  __Pyx_GIVEREF(__pyx_tuple__353);
  __pyx_codeobj__354 = (PyObject*)__Pyx_PyCode_New(5, 0, 11, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__353, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_json_ld_2, 820, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__354)) __PYX_ERR(0, 820, __pyx_L1_error)
  __pyx_tuple__355 = PyTuple_Pack(2, ((PyObject *)Py_True), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__355)) __PYX_ERR(0, 820, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__355);
  __Pyx_GIVEREF(__pyx_tuple__355);

  /* "youtube_dl/extractor/common.py":864
 * 
 *     @staticmethod
 *     def _hidden_inputs(html):             # <<<<<<<<<<<<<<
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)
 *         hidden_inputs = {}
 */
  __pyx_tuple__356 = PyTuple_Pack(5, __pyx_n_s_html, __pyx_n_s_hidden_inputs_2, __pyx_n_s_input, __pyx_n_s_name_2, __pyx_n_s_value); if (unlikely(!__pyx_tuple__356)) __PYX_ERR(0, 864, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__356);
  __Pyx_GIVEREF(__pyx_tuple__356);
  __pyx_codeobj__357 = (PyObject*)__Pyx_PyCode_New(1, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__356, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_hidden_inputs, 864, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__357)) __PYX_ERR(0, 864, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":879
 *         return hidden_inputs
 * 
 *     def _form_hidden_inputs(self, form_id, html):             # <<<<<<<<<<<<<<
 *         form = self._search_regex(
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 */
  __pyx_tuple__358 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_form_id, __pyx_n_s_html, __pyx_n_s_form); if (unlikely(!__pyx_tuple__358)) __PYX_ERR(0, 879, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__358);
  __Pyx_GIVEREF(__pyx_tuple__358);
  __pyx_codeobj__359 = (PyObject*)__Pyx_PyCode_New(3, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__358, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_form_hidden_inputs, 879, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__359)) __PYX_ERR(0, 879, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":885
 *         return self._hidden_inputs(form)
 * 
 *     def _sort_formats(self, formats, field_preference=None):             # <<<<<<<<<<<<<<
 *         if not formats:
 *             raise ExtractorError('No video formats found')
 */
  __pyx_tuple__360 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_formats, __pyx_n_s_field_preference, __pyx_n_s_f, __pyx_n_s_formats_key, __pyx_n_s_formats_key); if (unlikely(!__pyx_tuple__360)) __PYX_ERR(0, 885, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__360);
  __Pyx_GIVEREF(__pyx_tuple__360);
  __pyx_codeobj__361 = (PyObject*)__Pyx_PyCode_New(3, 0, 6, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__360, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_sort_formats, 885, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__361)) __PYX_ERR(0, 885, __pyx_L1_error)
  __pyx_tuple__362 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__362)) __PYX_ERR(0, 885, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__362);
  __Pyx_GIVEREF(__pyx_tuple__362);

  /* "youtube_dl/extractor/common.py":960
 *         formats.sort(key=_formats_key)
 * 
 *     def _check_formats(self, formats, video_id):             # <<<<<<<<<<<<<<
 *         if formats:
 *             formats[:] = filter(
 */
  __pyx_tuple__363 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_formats, __pyx_n_s_video_id); if (unlikely(!__pyx_tuple__363)) __PYX_ERR(0, 960, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__363);
  __Pyx_GIVEREF(__pyx_tuple__363);
  __pyx_codeobj__364 = (PyObject*)__Pyx_PyCode_New(3, 0, 3, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__363, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_check_formats, 960, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__364)) __PYX_ERR(0, 960, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":969
 * 
 *     @staticmethod
 *     def _remove_duplicate_formats(formats):             # <<<<<<<<<<<<<<
 *         format_urls = set()
 *         unique_formats = []
 */
  __pyx_tuple__365 = PyTuple_Pack(4, __pyx_n_s_formats, __pyx_n_s_format_urls, __pyx_n_s_unique_formats, __pyx_n_s_f); if (unlikely(!__pyx_tuple__365)) __PYX_ERR(0, 969, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__365);
  __Pyx_GIVEREF(__pyx_tuple__365);
  __pyx_codeobj__366 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__365, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_remove_duplicate_formats, 969, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__366)) __PYX_ERR(0, 969, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":978
 *         formats[:] = unique_formats
 * 
 *     def _is_valid_url(self, url, video_id, item='video'):             # <<<<<<<<<<<<<<
 *         url = self._proto_relative_url(url, scheme='http:')
 *         # For now assume non HTTP(S) URLs always valid
 */
  __pyx_tuple__367 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_url, __pyx_n_s_video_id, __pyx_n_s_item, __pyx_n_s_e); if (unlikely(!__pyx_tuple__367)) __PYX_ERR(0, 978, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__367);
  __Pyx_GIVEREF(__pyx_tuple__367);
  __pyx_codeobj__368 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__367, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_is_valid_url, 978, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__368)) __PYX_ERR(0, 978, __pyx_L1_error)
  __pyx_tuple__369 = PyTuple_Pack(1, ((PyObject*)__pyx_n_u_video)); if (unlikely(!__pyx_tuple__369)) __PYX_ERR(0, 978, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__369);
  __Pyx_GIVEREF(__pyx_tuple__369);

  /* "youtube_dl/extractor/common.py":993
 *             raise
 * 
 *     def http_scheme(self):             # <<<<<<<<<<<<<<
 *         """ Either "http:" or "https:", depending on the user's preferences """
 *         return (
 */
  __pyx_tuple__370 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__370)) __PYX_ERR(0, 993, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__370);
  __Pyx_GIVEREF(__pyx_tuple__370);
  __pyx_codeobj__371 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__370, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_http_scheme, 993, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__371)) __PYX_ERR(0, 993, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1000
 *             else 'https:')
 * 
 *     def _proto_relative_url(self, url, scheme=None):             # <<<<<<<<<<<<<<
 *         if url is None:
 *             return url
 */
  __pyx_tuple__372 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_url, __pyx_n_s_scheme); if (unlikely(!__pyx_tuple__372)) __PYX_ERR(0, 1000, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__372);
  __Pyx_GIVEREF(__pyx_tuple__372);
  __pyx_codeobj__373 = (PyObject*)__Pyx_PyCode_New(3, 0, 3, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__372, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_proto_relative_url, 1000, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__373)) __PYX_ERR(0, 1000, __pyx_L1_error)
  __pyx_tuple__374 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__374)) __PYX_ERR(0, 1000, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__374);
  __Pyx_GIVEREF(__pyx_tuple__374);

  /* "youtube_dl/extractor/common.py":1010
 *             return url
 * 
 *     def _sleep(self, timeout, video_id, msg_template=None):             # <<<<<<<<<<<<<<
 *         if msg_template is None:
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'
 */
  __pyx_tuple__375 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_timeout, __pyx_n_s_video_id, __pyx_n_s_msg_template, __pyx_n_s_msg); if (unlikely(!__pyx_tuple__375)) __PYX_ERR(0, 1010, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__375);
  __Pyx_GIVEREF(__pyx_tuple__375);
  __pyx_codeobj__376 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__375, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_sleep, 1010, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__376)) __PYX_ERR(0, 1010, __pyx_L1_error)
  __pyx_tuple__377 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__377)) __PYX_ERR(0, 1010, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__377);
  __Pyx_GIVEREF(__pyx_tuple__377);

  /* "youtube_dl/extractor/common.py":1017
 *         time.sleep(timeout)
 * 
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                              fatal=True, m3u8_id=None):
 */
  __pyx_tuple__378 = PyTuple_Pack(9, __pyx_n_s_self, __pyx_n_s_manifest_url, __pyx_n_s_video_id, __pyx_n_s_preference, __pyx_n_s_f4m_id, __pyx_n_s_transform_source, __pyx_n_s_fatal, __pyx_n_s_m3u8_id, __pyx_n_s_manifest); if (unlikely(!__pyx_tuple__378)) __PYX_ERR(0, 1017, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__378);
  __Pyx_GIVEREF(__pyx_tuple__378);
  __pyx_codeobj__379 = (PyObject*)__Pyx_PyCode_New(8, 0, 9, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__378, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_f4m_formats, 1017, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__379)) __PYX_ERR(0, 1017, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1035
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)
 * 
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                            transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                            fatal=True, m3u8_id=None):
 */
  __pyx_tuple__380 = PyTuple_Pack(26, __pyx_n_s_self, __pyx_n_s_manifest, __pyx_n_s_manifest_url, __pyx_n_s_video_id, __pyx_n_s_preference, __pyx_n_s_f4m_id, __pyx_n_s_transform_source, __pyx_n_s_fatal, __pyx_n_s_m3u8_id, __pyx_n_s_akamai_pv, __pyx_n_s_playerVerificationChallenge, __pyx_n_s_formats, __pyx_n_s_manifest_version, __pyx_n_s_media_nodes, __pyx_n_s_base_url, __pyx_n_s_bootstrap_info_2, __pyx_n_s_i, __pyx_n_s_media_el, __pyx_n_s_tbr, __pyx_n_s_width, __pyx_n_s_height, __pyx_n_s_format_id, __pyx_n_s_media_url, __pyx_n_s_ext, __pyx_n_s_f4m_formats, __pyx_n_s_f); if (unlikely(!__pyx_tuple__380)) __PYX_ERR(0, 1035, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__380);
  __Pyx_GIVEREF(__pyx_tuple__380);
  __pyx_codeobj__381 = (PyObject*)__Pyx_PyCode_New(9, 0, 26, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__380, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_f4m_formats, 1035, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__381)) __PYX_ERR(0, 1035, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1125
 *         return formats
 * 
 *     def _m3u8_meta_format(self, m3u8_url, ext=None, preference=None, m3u8_id=None):             # <<<<<<<<<<<<<<
 *         return {
 *             'format_id': '-'.join(filter(None, [m3u8_id, 'meta'])),
 */
  __pyx_tuple__382 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_m3u8_url, __pyx_n_s_ext, __pyx_n_s_preference, __pyx_n_s_m3u8_id); if (unlikely(!__pyx_tuple__382)) __PYX_ERR(0, 1125, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__382);
  __Pyx_GIVEREF(__pyx_tuple__382);
  __pyx_codeobj__383 = (PyObject*)__Pyx_PyCode_New(5, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__382, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_m3u8_meta_format, 1125, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__383)) __PYX_ERR(0, 1125, __pyx_L1_error)
  __pyx_tuple__384 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__384)) __PYX_ERR(0, 1125, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__384);
  __Pyx_GIVEREF(__pyx_tuple__384);

  /* "youtube_dl/extractor/common.py":1136
 *         }
 * 
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,             # <<<<<<<<<<<<<<
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,
 */
  __pyx_tuple__385 = PyTuple_Pack(30, __pyx_n_s_self, __pyx_n_s_m3u8_url, __pyx_n_s_video_id, __pyx_n_s_ext, __pyx_n_s_entry_protocol, __pyx_n_s_preference, __pyx_n_s_m3u8_id, __pyx_n_s_note, __pyx_n_s_errnote, __pyx_n_s_fatal, __pyx_n_s_live, __pyx_n_s_formats, __pyx_n_s_format_url, __pyx_n_s_res, __pyx_n_s_m3u8_doc, __pyx_n_s_urlh, __pyx_n_s_last_info, __pyx_n_s_last_media, __pyx_n_s_line, __pyx_n_s_tbr, __pyx_n_s_format_id, __pyx_n_s_last_media_name, __pyx_n_s_stream_name, __pyx_n_s_f, __pyx_n_s_resolution, __pyx_n_s_width_str, __pyx_n_s_height_str, __pyx_n_s_mobj, __pyx_n_s_abr, __pyx_n_s_vbr); if (unlikely(!__pyx_tuple__385)) __PYX_ERR(0, 1136, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__385);
  __Pyx_GIVEREF(__pyx_tuple__385);
  __pyx_codeobj__386 = (PyObject*)__Pyx_PyCode_New(11, 0, 30, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__385, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_m3u8_formats, 1136, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__386)) __PYX_ERR(0, 1136, __pyx_L1_error)
  __pyx_tuple__387 = PyTuple_Pack(8, ((PyObject *)Py_None), ((PyObject*)__pyx_n_u_m3u8), ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_True), ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__387)) __PYX_ERR(0, 1136, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__387);
  __Pyx_GIVEREF(__pyx_tuple__387);

  /* "youtube_dl/extractor/common.py":1238
 * 
 *     @staticmethod
 *     def _xpath_ns(path, namespace=None):             # <<<<<<<<<<<<<<
 *         if not namespace:
 *             return path
 */
  __pyx_tuple__388 = PyTuple_Pack(4, __pyx_n_s_path, __pyx_n_s_namespace, __pyx_n_s_out, __pyx_n_s_c); if (unlikely(!__pyx_tuple__388)) __PYX_ERR(0, 1238, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__388);
  __Pyx_GIVEREF(__pyx_tuple__388);
  __pyx_codeobj__389 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__388, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_xpath_ns, 1238, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__389)) __PYX_ERR(0, 1238, __pyx_L1_error)
  __pyx_tuple__390 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__390)) __PYX_ERR(0, 1238, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__390);
  __Pyx_GIVEREF(__pyx_tuple__390);

  /* "youtube_dl/extractor/common.py":1249
 *         return '/'.join(out)
 * 
 *     def _extract_smil_formats(self, smil_url, video_id, fatal=True, f4m_params=None, transform_source=None):             # <<<<<<<<<<<<<<
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal, transform_source=transform_source)
 * 
 */
  __pyx_tuple__391 = PyTuple_Pack(8, __pyx_n_s_self, __pyx_n_s_smil_url, __pyx_n_s_video_id, __pyx_n_s_fatal, __pyx_n_s_f4m_params, __pyx_n_s_transform_source, __pyx_n_s_smil, __pyx_n_s_namespace); if (unlikely(!__pyx_tuple__391)) __PYX_ERR(0, 1249, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__391);
  __Pyx_GIVEREF(__pyx_tuple__391);
  __pyx_codeobj__392 = (PyObject*)__Pyx_PyCode_New(6, 0, 8, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__391, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_smil_formats, 1249, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__392)) __PYX_ERR(0, 1249, __pyx_L1_error)
  __pyx_tuple__393 = PyTuple_Pack(3, ((PyObject *)Py_True), ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__393)) __PYX_ERR(0, 1249, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__393);
  __Pyx_GIVEREF(__pyx_tuple__393);

  /* "youtube_dl/extractor/common.py":1261
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 * 
 *     def _extract_smil_info(self, smil_url, video_id, fatal=True, f4m_params=None):             # <<<<<<<<<<<<<<
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal)
 *         if smil is False:
 */
  __pyx_tuple__394 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_smil_url, __pyx_n_s_video_id, __pyx_n_s_fatal, __pyx_n_s_f4m_params, __pyx_n_s_smil); if (unlikely(!__pyx_tuple__394)) __PYX_ERR(0, 1261, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__394);
  __Pyx_GIVEREF(__pyx_tuple__394);
  __pyx_codeobj__395 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__394, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_smil_info, 1261, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__395)) __PYX_ERR(0, 1261, __pyx_L1_error)
  __pyx_tuple__396 = PyTuple_Pack(2, ((PyObject *)Py_True), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__396)) __PYX_ERR(0, 1261, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__396);
  __Pyx_GIVEREF(__pyx_tuple__396);

  /* "youtube_dl/extractor/common.py":1267
 *         return self._parse_smil(smil, smil_url, video_id, f4m_params=f4m_params)
 * 
 *     def _download_smil(self, smil_url, video_id, fatal=True, transform_source=None):             # <<<<<<<<<<<<<<
 *         return self._download_xml(
 *             smil_url, video_id, 'Downloading SMIL file',
 */
  __pyx_tuple__397 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_smil_url, __pyx_n_s_video_id, __pyx_n_s_fatal, __pyx_n_s_transform_source); if (unlikely(!__pyx_tuple__397)) __PYX_ERR(0, 1267, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__397);
  __Pyx_GIVEREF(__pyx_tuple__397);
  __pyx_codeobj__398 = (PyObject*)__Pyx_PyCode_New(5, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__397, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_download_smil, 1267, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__398)) __PYX_ERR(0, 1267, __pyx_L1_error)
  __pyx_tuple__399 = PyTuple_Pack(2, ((PyObject *)Py_True), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__399)) __PYX_ERR(0, 1267, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__399);
  __Pyx_GIVEREF(__pyx_tuple__399);

  /* "youtube_dl/extractor/common.py":1272
 *             'Unable to download SMIL file', fatal=fatal, transform_source=transform_source)
 * 
 *     def _parse_smil(self, smil, smil_url, video_id, f4m_params=None):             # <<<<<<<<<<<<<<
 *         namespace = self._parse_smil_namespace(smil)
 * 
 */
  __pyx_tuple__400 = PyTuple_Pack(15, __pyx_n_s_self, __pyx_n_s_smil, __pyx_n_s_smil_url, __pyx_n_s_video_id, __pyx_n_s_f4m_params, __pyx_n_s_namespace, __pyx_n_s_formats, __pyx_n_s_subtitles, __pyx_n_s_title, __pyx_n_s_description, __pyx_n_s_upload_date, __pyx_n_s_meta, __pyx_n_s_name_2, __pyx_n_s_content, __pyx_n_s_thumbnails); if (unlikely(!__pyx_tuple__400)) __PYX_ERR(0, 1272, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__400);
  __Pyx_GIVEREF(__pyx_tuple__400);
  __pyx_codeobj__401 = (PyObject*)__Pyx_PyCode_New(5, 0, 15, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__400, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_smil, 1272, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__401)) __PYX_ERR(0, 1272, __pyx_L1_error)
  __pyx_tuple__402 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__402)) __PYX_ERR(0, 1272, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__402);
  __Pyx_GIVEREF(__pyx_tuple__402);

  /* "youtube_dl/extractor/common.py":1312
 *         }
 * 
 *     def _parse_smil_namespace(self, smil):             # <<<<<<<<<<<<<<
 *         return self._search_regex(
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 */
  __pyx_tuple__403 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_smil); if (unlikely(!__pyx_tuple__403)) __PYX_ERR(0, 1312, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__403);
  __Pyx_GIVEREF(__pyx_tuple__403);
  __pyx_codeobj__404 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__403, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_smil_namespace, 1312, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__404)) __PYX_ERR(0, 1312, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1316
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 * 
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):             # <<<<<<<<<<<<<<
 *         base = smil_url
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 */
  __pyx_tuple__405 = PyTuple_Pack(29, __pyx_n_s_self, __pyx_n_s_smil, __pyx_n_s_smil_url, __pyx_n_s_video_id, __pyx_n_s_namespace, __pyx_n_s_f4m_params, __pyx_n_s_transform_rtmp_url, __pyx_n_s_base, __pyx_n_s_meta, __pyx_n_s_b, __pyx_n_s_formats, __pyx_n_s_rtmp_count, __pyx_n_s_http_count, __pyx_n_s_m3u8_count, __pyx_n_s_srcs, __pyx_n_s_media, __pyx_n_s_medium, __pyx_n_s_src, __pyx_n_s_bitrate, __pyx_n_s_filesize, __pyx_n_s_width, __pyx_n_s_height, __pyx_n_s_proto, __pyx_n_s_ext, __pyx_n_s_src_ext, __pyx_n_s_streamer, __pyx_n_s_src_url, __pyx_n_s_m3u8_formats, __pyx_n_s_f4m_url); if (unlikely(!__pyx_tuple__405)) __PYX_ERR(0, 1316, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__405);
  __Pyx_GIVEREF(__pyx_tuple__405);
  __pyx_codeobj__406 = (PyObject*)__Pyx_PyCode_New(7, 0, 29, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__405, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_smil_formats, 1316, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__406)) __PYX_ERR(0, 1316, __pyx_L1_error)
  __pyx_tuple__407 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__407)) __PYX_ERR(0, 1316, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__407);
  __Pyx_GIVEREF(__pyx_tuple__407);

  /* "youtube_dl/extractor/common.py":1410
 *         return formats
 * 
 *     def _parse_smil_subtitles(self, smil, namespace=None, subtitles_lang='en'):             # <<<<<<<<<<<<<<
 *         urls = []
 *         subtitles = {}
 */
  __pyx_tuple__408 = PyTuple_Pack(11, __pyx_n_s_self, __pyx_n_s_smil, __pyx_n_s_namespace, __pyx_n_s_subtitles_lang, __pyx_n_s_urls, __pyx_n_s_subtitles, __pyx_n_s_num, __pyx_n_s_textstream_2, __pyx_n_s_src, __pyx_n_s_ext, __pyx_n_s_lang); if (unlikely(!__pyx_tuple__408)) __PYX_ERR(0, 1410, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__408);
  __Pyx_GIVEREF(__pyx_tuple__408);
  __pyx_codeobj__409 = (PyObject*)__Pyx_PyCode_New(4, 0, 11, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__408, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_smil_subtitles, 1410, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__409)) __PYX_ERR(0, 1410, __pyx_L1_error)
  __pyx_tuple__410 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject*)__pyx_n_u_en)); if (unlikely(!__pyx_tuple__410)) __PYX_ERR(0, 1410, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__410);
  __Pyx_GIVEREF(__pyx_tuple__410);

  /* "youtube_dl/extractor/common.py":1426
 *         return subtitles
 * 
 *     def _extract_xspf_playlist(self, playlist_url, playlist_id, fatal=True):             # <<<<<<<<<<<<<<
 *         xspf = self._download_xml(
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 */
  __pyx_tuple__411 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_playlist_url, __pyx_n_s_playlist_id, __pyx_n_s_fatal, __pyx_n_s_xspf); if (unlikely(!__pyx_tuple__411)) __PYX_ERR(0, 1426, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__411);
  __Pyx_GIVEREF(__pyx_tuple__411);
  __pyx_codeobj__412 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__411, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_xspf_playlist, 1426, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__412)) __PYX_ERR(0, 1426, __pyx_L1_error)
  __pyx_tuple__413 = PyTuple_Pack(1, ((PyObject *)Py_True)); if (unlikely(!__pyx_tuple__413)) __PYX_ERR(0, 1426, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__413);
  __Pyx_GIVEREF(__pyx_tuple__413);

  /* "youtube_dl/extractor/common.py":1434
 *         return self._parse_xspf(xspf, playlist_id)
 * 
 *     def _parse_xspf(self, playlist, playlist_id):             # <<<<<<<<<<<<<<
 *         NS_MAP = {
 *             'xspf': 'http://xspf.org/ns/0/',
 */
  __pyx_tuple__414 = PyTuple_Pack(11, __pyx_n_s_self, __pyx_n_s_playlist, __pyx_n_s_playlist_id, __pyx_n_s_NS_MAP, __pyx_n_s_entries, __pyx_n_s_track_2, __pyx_n_s_title, __pyx_n_s_description, __pyx_n_s_thumbnail, __pyx_n_s_duration, __pyx_n_s_formats); if (unlikely(!__pyx_tuple__414)) __PYX_ERR(0, 1434, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__414);
  __Pyx_GIVEREF(__pyx_tuple__414);
  __pyx_codeobj__415 = (PyObject*)__Pyx_PyCode_New(3, 0, 11, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__414, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_xspf, 1434, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__415)) __PYX_ERR(0, 1434, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1469
 *         return entries
 * 
 *     def _extract_mpd_formats(self, mpd_url, video_id, mpd_id=None, note=None, errnote=None, fatal=True, formats_dict={}):             # <<<<<<<<<<<<<<
 *         res = self._download_webpage_handle(
 *             mpd_url, video_id,
 */
  __pyx_tuple__416 = PyTuple_Pack(12, __pyx_n_s_self, __pyx_n_s_mpd_url, __pyx_n_s_video_id, __pyx_n_s_mpd_id, __pyx_n_s_note, __pyx_n_s_errnote, __pyx_n_s_fatal, __pyx_n_s_formats_dict, __pyx_n_s_res, __pyx_n_s_mpd, __pyx_n_s_urlh, __pyx_n_s_mpd_base_url); if (unlikely(!__pyx_tuple__416)) __PYX_ERR(0, 1469, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__416);
  __Pyx_GIVEREF(__pyx_tuple__416);
  __pyx_codeobj__417 = (PyObject*)__Pyx_PyCode_New(8, 0, 12, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__416, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_mpd_formats, 1469, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__417)) __PYX_ERR(0, 1469, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1483
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):             # <<<<<<<<<<<<<<
 *         """
 *         Parse formats from MPD manifest.
 */
  __pyx_tuple__418 = PyTuple_Pack(45, __pyx_n_s_self, __pyx_n_s_mpd_doc, __pyx_n_s_mpd_id, __pyx_n_s_mpd_base_url, __pyx_n_s_formats_dict, __pyx_n_s_namespace, __pyx_n_s_add_ns, __pyx_n_s_add_ns, __pyx_n_s_is_drm_protected, __pyx_n_s_is_drm_protected, __pyx_n_s_extract_multisegment_info, __pyx_n_s_extract_multisegment_info, __pyx_n_s_mpd_duration, __pyx_n_s_formats, __pyx_n_s_period, __pyx_n_s_period_duration, __pyx_n_s_period_ms_info, __pyx_n_s_adaptation_set, __pyx_n_s_adaption_set_ms_info, __pyx_n_s_representation, __pyx_n_s_representation_attrib, __pyx_n_s_mime_type, __pyx_n_s_content_type, __pyx_n_s_base_url, __pyx_n_s_element, __pyx_n_s_base_url_e, __pyx_n_s_representation_id, __pyx_n_s_lang, __pyx_n_s_url_el, __pyx_n_s_filesize, __pyx_n_s_f, __pyx_n_s_representation_ms_info, __pyx_n_s_segment_duration, __pyx_n_s_media_template, __pyx_n_s_segment_time, __pyx_n_s_add_segment_url, __pyx_n_s_add_segment_url, __pyx_n_s_num, __pyx_n_s_s_3, __pyx_n_s_r, __pyx_n_s_initialization_url, __pyx_n_s_existing_format, __pyx_n_s_full_info, __pyx_n_s_genexpr, __pyx_n_s_genexpr); if (unlikely(!__pyx_tuple__418)) __PYX_ERR(0, 1483, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__418);
  __Pyx_GIVEREF(__pyx_tuple__418);
  __pyx_codeobj__419 = (PyObject*)__Pyx_PyCode_New(5, 0, 45, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__418, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_mpd_formats, 1483, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__419)) __PYX_ERR(0, 1483, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1673
 *         return formats
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):             # <<<<<<<<<<<<<<
 *         def absolute_url(video_url):
 *             return compat_urlparse.urljoin(base_url, video_url)
 */
  __pyx_tuple__420 = PyTuple_Pack(21, __pyx_n_s_self, __pyx_n_s_base_url, __pyx_n_s_webpage, __pyx_n_s_absolute_url, __pyx_n_s_absolute_url, __pyx_n_s_parse_content_type, __pyx_n_s_parse_content_type, __pyx_n_s_entries, __pyx_n_s_media_tag, __pyx_n_s_media_type, __pyx_n_s_media_content, __pyx_n_s_media_info, __pyx_n_s_media_attributes, __pyx_n_s_src, __pyx_n_s_source_tag, __pyx_n_s_source_attributes, __pyx_n_s_f, __pyx_n_s_track_tag, __pyx_n_s_track_attributes, __pyx_n_s_kind, __pyx_n_s_lang); if (unlikely(!__pyx_tuple__420)) __PYX_ERR(0, 1673, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__420);
  __Pyx_GIVEREF(__pyx_tuple__420);
  __pyx_codeobj__421 = (PyObject*)__Pyx_PyCode_New(3, 0, 21, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__420, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_parse_html5_media_entries, 1673, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__421)) __PYX_ERR(0, 1673, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1729
 *         return entries
 * 
 *     def _live_title(self, name):             # <<<<<<<<<<<<<<
 *         """ Generate the title for a live video """
 *         now = datetime.datetime.now()
 */
  __pyx_tuple__422 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_name_2, __pyx_n_s_now, __pyx_n_s_now_str); if (unlikely(!__pyx_tuple__422)) __PYX_ERR(0, 1729, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__422);
  __Pyx_GIVEREF(__pyx_tuple__422);
  __pyx_codeobj__423 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__422, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_live_title, 1729, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__423)) __PYX_ERR(0, 1729, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1735
 *         return name + ' ' + now_str
 * 
 *     def _int(self, v, name, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         res = int_or_none(v, **kwargs)
 *         if 'get_attr' in kwargs:
 */
  __pyx_tuple__424 = PyTuple_Pack(7, __pyx_n_s_self, __pyx_n_s_v, __pyx_n_s_name_2, __pyx_n_s_fatal, __pyx_n_s_kwargs, __pyx_n_s_res, __pyx_n_s_msg); if (unlikely(!__pyx_tuple__424)) __PYX_ERR(0, 1735, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__424);
  __Pyx_GIVEREF(__pyx_tuple__424);
  __pyx_codeobj__425 = (PyObject*)__Pyx_PyCode_New(4, 0, 7, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__424, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_int, 1735, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__425)) __PYX_ERR(0, 1735, __pyx_L1_error)
  __pyx_tuple__426 = PyTuple_Pack(1, ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__426)) __PYX_ERR(0, 1735, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__426);
  __Pyx_GIVEREF(__pyx_tuple__426);

  /* "youtube_dl/extractor/common.py":1747
 *         return res
 * 
 *     def _float(self, v, name, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         res = float_or_none(v, **kwargs)
 *         if res is None:
 */
  __pyx_tuple__427 = PyTuple_Pack(7, __pyx_n_s_self, __pyx_n_s_v, __pyx_n_s_name_2, __pyx_n_s_fatal, __pyx_n_s_kwargs, __pyx_n_s_res, __pyx_n_s_msg); if (unlikely(!__pyx_tuple__427)) __PYX_ERR(0, 1747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__427);
  __Pyx_GIVEREF(__pyx_tuple__427);
  __pyx_codeobj__428 = (PyObject*)__Pyx_PyCode_New(4, 0, 7, 0, CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__427, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_float, 1747, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__428)) __PYX_ERR(0, 1747, __pyx_L1_error)
  __pyx_tuple__429 = PyTuple_Pack(1, ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__429)) __PYX_ERR(0, 1747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__429);
  __Pyx_GIVEREF(__pyx_tuple__429);

  /* "youtube_dl/extractor/common.py":1757
 *         return res
 * 
 *     def _set_cookie(self, domain, name, value, expire_time=None):             # <<<<<<<<<<<<<<
 *         cookie = compat_cookiejar.Cookie(
 *             0, name, value, None, None, domain, None,
 */
  __pyx_tuple__430 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_domain, __pyx_n_s_name_2, __pyx_n_s_value, __pyx_n_s_expire_time, __pyx_n_s_cookie); if (unlikely(!__pyx_tuple__430)) __PYX_ERR(0, 1757, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__430);
  __Pyx_GIVEREF(__pyx_tuple__430);
  __pyx_codeobj__431 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__430, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_set_cookie_2, 1757, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__431)) __PYX_ERR(0, 1757, __pyx_L1_error)
  __pyx_tuple__432 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__432)) __PYX_ERR(0, 1757, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__432);
  __Pyx_GIVEREF(__pyx_tuple__432);

  /* "youtube_dl/extractor/common.py":1763
 *         self._downloader.cookiejar.set_cookie(cookie)
 * 
 *     def _get_cookies(self, url):             # <<<<<<<<<<<<<<
 *         """ Return a compat_cookies.SimpleCookie with the cookies for the url """
 *         req = sanitized_Request(url)
 */
  __pyx_tuple__433 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_url, __pyx_n_s_req); if (unlikely(!__pyx_tuple__433)) __PYX_ERR(0, 1763, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__433);
  __Pyx_GIVEREF(__pyx_tuple__433);
  __pyx_codeobj__434 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__433, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_get_cookies, 1763, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__434)) __PYX_ERR(0, 1763, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1769
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))
 * 
 *     def get_testcases(self, include_onlymatching=False):             # <<<<<<<<<<<<<<
 *         t = getattr(self, '_TEST', None)
 *         if t:
 */
  __pyx_tuple__435 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_include_onlymatching, __pyx_n_s_t, __pyx_n_s_tests); if (unlikely(!__pyx_tuple__435)) __PYX_ERR(0, 1769, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__435);
  __Pyx_GIVEREF(__pyx_tuple__435);
  __pyx_codeobj__436 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__435, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_get_testcases, 1769, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__436)) __PYX_ERR(0, 1769, __pyx_L1_error)
  __pyx_tuple__437 = PyTuple_Pack(1, ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__437)) __PYX_ERR(0, 1769, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__437);
  __Pyx_GIVEREF(__pyx_tuple__437);

  /* "youtube_dl/extractor/common.py":1783
 *             yield t
 * 
 *     def is_suitable(self, age_limit):             # <<<<<<<<<<<<<<
 *         """ Test whether the extractor is generally suitable for the given
 *         age limit (i.e. pornographic sites are not, all others usually are) """
 */
  __pyx_tuple__438 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_age_limit, __pyx_n_s_any_restricted, __pyx_n_s_tc, __pyx_n_s_is_restricted); if (unlikely(!__pyx_tuple__438)) __PYX_ERR(0, 1783, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__438);
  __Pyx_GIVEREF(__pyx_tuple__438);
  __pyx_codeobj__439 = (PyObject*)__Pyx_PyCode_New(2, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__438, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_is_suitable, 1783, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__439)) __PYX_ERR(0, 1783, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1798
 *         return not any_restricted
 * 
 *     def extract_subtitles(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('writesubtitles', False) or
 *                 self._downloader.params.get('listsubtitles')):
 */
  __pyx_tuple__440 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_args, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__440)) __PYX_ERR(0, 1798, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__440);
  __Pyx_GIVEREF(__pyx_tuple__440);
  __pyx_codeobj__441 = (PyObject*)__Pyx_PyCode_New(1, 0, 3, 0, CO_VARARGS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__440, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_subtitles, 1798, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__441)) __PYX_ERR(0, 1798, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1804
 *         return {}
 * 
 *     def _get_subtitles(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */
  __pyx_tuple__442 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_args, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__442)) __PYX_ERR(0, 1804, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__442);
  __Pyx_GIVEREF(__pyx_tuple__442);
  __pyx_codeobj__443 = (PyObject*)__Pyx_PyCode_New(1, 0, 3, 0, CO_VARARGS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__442, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_get_subtitles, 1804, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__443)) __PYX_ERR(0, 1804, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1808
 * 
 *     @staticmethod
 *     def _merge_subtitle_items(subtitle_list1, subtitle_list2):             # <<<<<<<<<<<<<<
 *         """ Merge subtitle items for one language. Items with duplicated URLs
 *         will be dropped. """
 */
  __pyx_tuple__444 = PyTuple_Pack(4, __pyx_n_s_subtitle_list1, __pyx_n_s_subtitle_list2, __pyx_n_s_list1_urls, __pyx_n_s_ret); if (unlikely(!__pyx_tuple__444)) __PYX_ERR(0, 1808, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__444);
  __Pyx_GIVEREF(__pyx_tuple__444);
  __pyx_codeobj__445 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__444, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_merge_subtitle_items, 1808, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__445)) __PYX_ERR(0, 1808, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1817
 * 
 *     @classmethod
 *     def _merge_subtitles(cls, subtitle_dict1, subtitle_dict2):             # <<<<<<<<<<<<<<
 *         """ Merge two subtitle dictionaries, language by language. """
 *         ret = dict(subtitle_dict1)
 */
  __pyx_tuple__446 = PyTuple_Pack(5, __pyx_n_s_cls, __pyx_n_s_subtitle_dict1, __pyx_n_s_subtitle_dict2, __pyx_n_s_ret, __pyx_n_s_lang); if (unlikely(!__pyx_tuple__446)) __PYX_ERR(0, 1817, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__446);
  __Pyx_GIVEREF(__pyx_tuple__446);
  __pyx_codeobj__447 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__446, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_merge_subtitles, 1817, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__447)) __PYX_ERR(0, 1817, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1824
 *         return ret
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('writeautomaticsub', False) or
 *                 self._downloader.params.get('listsubtitles')):
 */
  __pyx_tuple__448 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_args, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__448)) __PYX_ERR(0, 1824, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__448);
  __Pyx_GIVEREF(__pyx_tuple__448);
  __pyx_codeobj__449 = (PyObject*)__Pyx_PyCode_New(1, 0, 3, 0, CO_VARARGS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__448, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_extract_automatic_captions, 1824, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__449)) __PYX_ERR(0, 1824, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1830
 *         return {}
 * 
 *     def _get_automatic_captions(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */
  __pyx_tuple__450 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_args, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__450)) __PYX_ERR(0, 1830, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__450);
  __Pyx_GIVEREF(__pyx_tuple__450);
  __pyx_codeobj__451 = (PyObject*)__Pyx_PyCode_New(1, 0, 3, 0, CO_VARARGS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__450, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_get_automatic_captions, 1830, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__451)) __PYX_ERR(0, 1830, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1833
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     def mark_watched(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('mark_watched', False) and
 *                 (self._get_login_info()[0] is not None or
 */
  __pyx_tuple__452 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_args, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__452)) __PYX_ERR(0, 1833, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__452);
  __Pyx_GIVEREF(__pyx_tuple__452);
  __pyx_codeobj__453 = (PyObject*)__Pyx_PyCode_New(1, 0, 3, 0, CO_VARARGS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__452, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_mark_watched, 1833, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__453)) __PYX_ERR(0, 1833, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1839
 *             self._mark_watched(*args, **kwargs)
 * 
 *     def _mark_watched(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */
  __pyx_tuple__454 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_args, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__454)) __PYX_ERR(0, 1839, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__454);
  __Pyx_GIVEREF(__pyx_tuple__454);
  __pyx_codeobj__455 = (PyObject*)__Pyx_PyCode_New(1, 0, 3, 0, CO_VARARGS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__454, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_mark_watched_2, 1839, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__455)) __PYX_ERR(0, 1839, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1842
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     def geo_verification_headers(self):             # <<<<<<<<<<<<<<
 *         headers = {}
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')
 */
  __pyx_tuple__456 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_headers, __pyx_n_s_geo_verification_proxy); if (unlikely(!__pyx_tuple__456)) __PYX_ERR(0, 1842, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__456);
  __Pyx_GIVEREF(__pyx_tuple__456);
  __pyx_codeobj__457 = (PyObject*)__Pyx_PyCode_New(1, 0, 3, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__456, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_geo_verification_headers, 1842, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__457)) __PYX_ERR(0, 1842, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1858
 * 
 *     @classmethod
 *     def _make_valid_url(cls):             # <<<<<<<<<<<<<<
 *         return r'%s(?P<prefix>|[1-9][0-9]*|all):(?P<query>[\s\S]+)' % cls._SEARCH_KEY
 * 
 */
  __pyx_tuple__458 = PyTuple_Pack(1, __pyx_n_s_cls); if (unlikely(!__pyx_tuple__458)) __PYX_ERR(0, 1858, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__458);
  __Pyx_GIVEREF(__pyx_tuple__458);
  __pyx_codeobj__459 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__458, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_make_valid_url, 1858, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__459)) __PYX_ERR(0, 1858, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1862
 * 
 *     @classmethod
 *     def suitable(cls, url):             # <<<<<<<<<<<<<<
 *         return re.match(cls._make_valid_url(), url) is not None
 * 
 */
  __pyx_tuple__460 = PyTuple_Pack(2, __pyx_n_s_cls, __pyx_n_s_url); if (unlikely(!__pyx_tuple__460)) __PYX_ERR(0, 1862, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__460);
  __Pyx_GIVEREF(__pyx_tuple__460);
  __pyx_codeobj__461 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__460, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_suitable, 1862, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__461)) __PYX_ERR(0, 1862, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1865
 *         return re.match(cls._make_valid_url(), url) is not None
 * 
 *     def _real_extract(self, query):             # <<<<<<<<<<<<<<
 *         mobj = re.match(self._make_valid_url(), query)
 *         if mobj is None:
 */
  __pyx_tuple__462 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_query, __pyx_n_s_mobj, __pyx_n_s_prefix, __pyx_n_s_n); if (unlikely(!__pyx_tuple__462)) __PYX_ERR(0, 1865, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__462);
  __Pyx_GIVEREF(__pyx_tuple__462);
  __pyx_codeobj__463 = (PyObject*)__Pyx_PyCode_New(2, 0, 5, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__462, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_real_extract, 1865, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__463)) __PYX_ERR(0, 1865, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1885
 *             return self._get_n_results(query, n)
 * 
 *     def _get_n_results(self, query, n):             # <<<<<<<<<<<<<<
 *         """Get a specified number of results for a query"""
 *         raise NotImplementedError('This method must be implemented by subclasses')
 */
  __pyx_tuple__464 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_query, __pyx_n_s_n); if (unlikely(!__pyx_tuple__464)) __PYX_ERR(0, 1885, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__464);
  __Pyx_GIVEREF(__pyx_tuple__464);
  __pyx_codeobj__465 = (PyObject*)__Pyx_PyCode_New(3, 0, 3, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__464, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_get_n_results, 1885, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__465)) __PYX_ERR(0, 1885, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1890
 * 
 *     @property
 *     def SEARCH_KEY(self):             # <<<<<<<<<<<<<<
 *         return self._SEARCH_KEY
 */
  __pyx_tuple__466 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__466)) __PYX_ERR(0, 1890, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_tuple__466);
  __Pyx_GIVEREF(__pyx_tuple__466);
  __pyx_codeobj__467 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, 0, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__466, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_E_Users_Elsword_Desktop_py_to_c, __pyx_n_s_SEARCH_KEY_2, 1890, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__467)) __PYX_ERR(0, 1890, __pyx_L1_error)
  __Pyx_RefNannyFinishContext();
  return 0;
  __pyx_L1_error:;
  __Pyx_RefNannyFinishContext();
  return -1;
}

static int __Pyx_InitGlobals(void) {
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) __PYX_ERR(0, 1, __pyx_L1_error);
  __pyx_float_0_5 = PyFloat_FromDouble(0.5); if (unlikely(!__pyx_float_0_5)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_0 = PyInt_FromLong(0); if (unlikely(!__pyx_int_0)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_1 = PyInt_FromLong(1); if (unlikely(!__pyx_int_1)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_5 = PyInt_FromLong(5); if (unlikely(!__pyx_int_5)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_8 = PyInt_FromLong(8); if (unlikely(!__pyx_int_8)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_14 = PyInt_FromLong(14); if (unlikely(!__pyx_int_14)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_17 = PyInt_FromLong(17); if (unlikely(!__pyx_int_17)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_18 = PyInt_FromLong(18); if (unlikely(!__pyx_int_18)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_19 = PyInt_FromLong(19); if (unlikely(!__pyx_int_19)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_40 = PyInt_FromLong(40); if (unlikely(!__pyx_int_40)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_50 = PyInt_FromLong(50); if (unlikely(!__pyx_int_50)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_512 = PyInt_FromLong(512); if (unlikely(!__pyx_int_512)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_1000 = PyInt_FromLong(1000); if (unlikely(!__pyx_int_1000)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_1024 = PyInt_FromLong(1024); if (unlikely(!__pyx_int_1024)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_neg_1 = PyInt_FromLong(-1); if (unlikely(!__pyx_int_neg_1)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_int_neg_2 = PyInt_FromLong(-2); if (unlikely(!__pyx_int_neg_2)) __PYX_ERR(0, 1, __pyx_L1_error)
  return 0;
  __pyx_L1_error:;
  return -1;
}

#if PY_MAJOR_VERSION < 3
PyMODINIT_FUNC initcommon(void); /*proto*/
PyMODINIT_FUNC initcommon(void)
#else
PyMODINIT_FUNC PyInit_common(void); /*proto*/
PyMODINIT_FUNC PyInit_common(void)
#endif
{
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannyDeclarations
  #if CYTHON_REFNANNY
  __Pyx_RefNanny = __Pyx_RefNannyImportAPI("refnanny");
  if (!__Pyx_RefNanny) {
      PyErr_Clear();
      __Pyx_RefNanny = __Pyx_RefNannyImportAPI("Cython.Runtime.refnanny");
      if (!__Pyx_RefNanny)
          Py_FatalError("failed to import 'refnanny' module");
  }
  #endif
  __Pyx_RefNannySetupContext("PyMODINIT_FUNC PyInit_common(void)", 0);
  if (__Pyx_check_binary_version() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_empty_tuple = PyTuple_New(0); if (unlikely(!__pyx_empty_tuple)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_empty_bytes = PyBytes_FromStringAndSize("", 0); if (unlikely(!__pyx_empty_bytes)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_empty_unicode = PyUnicode_FromStringAndSize("", 0); if (unlikely(!__pyx_empty_unicode)) __PYX_ERR(0, 1, __pyx_L1_error)
  #ifdef __Pyx_CyFunction_USED
  if (__pyx_CyFunction_init() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  #endif
  #ifdef __Pyx_FusedFunction_USED
  if (__pyx_FusedFunction_init() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  #endif
  #ifdef __Pyx_Coroutine_USED
  if (__pyx_Coroutine_init() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  #endif
  #ifdef __Pyx_Generator_USED
  if (__pyx_Generator_init() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  #endif
  #ifdef __Pyx_StopAsyncIteration_USED
  if (__pyx_StopAsyncIteration_init() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  #endif
  /*--- Library function declarations ---*/
  /*--- Threads initialization code ---*/
  #if defined(__PYX_FORCE_INIT_THREADS) && __PYX_FORCE_INIT_THREADS
  #ifdef WITH_THREAD /* Python build with threading support? */
  PyEval_InitThreads();
  #endif
  #endif
  /*--- Module creation code ---*/
  #if PY_MAJOR_VERSION < 3
  __pyx_m = Py_InitModule4("common", __pyx_methods, 0, 0, PYTHON_API_VERSION); Py_XINCREF(__pyx_m);
  #else
  __pyx_m = PyModule_Create(&__pyx_moduledef);
  #endif
  if (unlikely(!__pyx_m)) __PYX_ERR(0, 1, __pyx_L1_error)
  __pyx_d = PyModule_GetDict(__pyx_m); if (unlikely(!__pyx_d)) __PYX_ERR(0, 1, __pyx_L1_error)
  Py_INCREF(__pyx_d);
  __pyx_b = PyImport_AddModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_b)) __PYX_ERR(0, 1, __pyx_L1_error)
  #if CYTHON_COMPILING_IN_PYPY
  Py_INCREF(__pyx_b);
  #endif
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) __PYX_ERR(0, 1, __pyx_L1_error);
  /*--- Initialize various global constants etc. ---*/
  if (__Pyx_InitGlobals() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  #if PY_MAJOR_VERSION < 3 && (__PYX_DEFAULT_STRING_ENCODING_IS_ASCII || __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT)
  if (__Pyx_init_sys_getdefaultencoding_params() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  #endif
  if (__pyx_module_is_main_youtube_dl__extractor__common) {
    if (PyObject_SetAttrString(__pyx_m, "__name__", __pyx_n_s_main) < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  }
  #if PY_MAJOR_VERSION >= 3
  {
    PyObject *modules = PyImport_GetModuleDict(); if (unlikely(!modules)) __PYX_ERR(0, 1, __pyx_L1_error)
    if (!PyDict_GetItemString(modules, "youtube_dl.extractor.common")) {
      if (unlikely(PyDict_SetItemString(modules, "youtube_dl.extractor.common", __pyx_m) < 0)) __PYX_ERR(0, 1, __pyx_L1_error)
    }
  }
  #endif
  /*--- Builtin init code ---*/
  if (__Pyx_InitCachedBuiltins() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  /*--- Constants init code ---*/
  if (__Pyx_InitCachedConstants() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  /*--- Global init code ---*/
  /*--- Variable export code ---*/
  /*--- Function export code ---*/
  /*--- Type init code ---*/
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex) < 0) __PYX_ERR(0, 621, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct___search_regex;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr) < 0) __PYX_ERR(0, 644, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_1_genexpr;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld) < 0) __PYX_ERR(0, 820, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_2__json_ld;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr) < 0) __PYX_ERR(0, 861, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_3_genexpr;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats) < 0) __PYX_ERR(0, 885, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_4__sort_formats;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key) < 0) __PYX_ERR(0, 895, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_5__formats_key;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr) < 0) __PYX_ERR(0, 903, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_6_genexpr;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats) < 0) __PYX_ERR(0, 960, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_7__check_formats;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats) < 0) __PYX_ERR(0, 1136, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_8__extract_m3u8_formats;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats) < 0) __PYX_ERR(0, 1483, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_9__parse_mpd_formats;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr) < 0) __PYX_ERR(0, 1661, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_10_genexpr;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries) < 0) __PYX_ERR(0, 1673, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_11__parse_html5_media_entries;
  if (PyType_Ready(&__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases) < 0) __PYX_ERR(0, 1769, __pyx_L1_error)
  __pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases.tp_print = 0;
  __pyx_ptype_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases = &__pyx_type_10youtube_dl_9extractor_6common___pyx_scope_struct_12_get_testcases;
  /*--- Type import code ---*/
  /*--- Variable import code ---*/
  /*--- Function import code ---*/
  /*--- Execution code ---*/
  #if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
  if (__Pyx_patch_abc() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  #endif

  /* "youtube_dl/extractor/common.py":3
 * from __future__ import unicode_literals
 * 
 * import base64             # <<<<<<<<<<<<<<
 * import datetime
 * import hashlib
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_base64, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_base64, __pyx_t_1) < 0) __PYX_ERR(0, 3, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":4
 * 
 * import base64
 * import datetime             # <<<<<<<<<<<<<<
 * import hashlib
 * import json
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_datetime, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_datetime, __pyx_t_1) < 0) __PYX_ERR(0, 4, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":5
 * import base64
 * import datetime
 * import hashlib             # <<<<<<<<<<<<<<
 * import json
 * import netrc
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_hashlib, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 5, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_hashlib, __pyx_t_1) < 0) __PYX_ERR(0, 5, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":6
 * import datetime
 * import hashlib
 * import json             # <<<<<<<<<<<<<<
 * import netrc
 * import os
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_json, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 6, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_json, __pyx_t_1) < 0) __PYX_ERR(0, 6, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":7
 * import hashlib
 * import json
 * import netrc             # <<<<<<<<<<<<<<
 * import os
 * import re
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_netrc, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 7, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_netrc, __pyx_t_1) < 0) __PYX_ERR(0, 7, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":8
 * import json
 * import netrc
 * import os             # <<<<<<<<<<<<<<
 * import re
 * import socket
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_os, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 8, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_os, __pyx_t_1) < 0) __PYX_ERR(0, 8, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":9
 * import netrc
 * import os
 * import re             # <<<<<<<<<<<<<<
 * import socket
 * import sys
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_re, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 9, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_re, __pyx_t_1) < 0) __PYX_ERR(0, 9, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":10
 * import os
 * import re
 * import socket             # <<<<<<<<<<<<<<
 * import sys
 * import time
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_socket, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 10, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_socket, __pyx_t_1) < 0) __PYX_ERR(0, 10, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":11
 * import re
 * import socket
 * import sys             # <<<<<<<<<<<<<<
 * import time
 * import math
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_sys, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 11, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_sys, __pyx_t_1) < 0) __PYX_ERR(0, 11, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":12
 * import socket
 * import sys
 * import time             # <<<<<<<<<<<<<<
 * import math
 * 
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_time, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 12, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_time, __pyx_t_1) < 0) __PYX_ERR(0, 12, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":13
 * import sys
 * import time
 * import math             # <<<<<<<<<<<<<<
 * 
 * from ..compat import (
 */
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_math, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 13, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_math, __pyx_t_1) < 0) __PYX_ERR(0, 13, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":16
 * 
 * from ..compat import (
 *     compat_cookiejar,             # <<<<<<<<<<<<<<
 *     compat_cookies,
 *     compat_etree_fromstring,
 */
  __pyx_t_1 = PyList_New(11); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 16, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_n_s_compat_cookiejar);
  __Pyx_GIVEREF(__pyx_n_s_compat_cookiejar);
  PyList_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_compat_cookiejar);
  __Pyx_INCREF(__pyx_n_s_compat_cookies);
  __Pyx_GIVEREF(__pyx_n_s_compat_cookies);
  PyList_SET_ITEM(__pyx_t_1, 1, __pyx_n_s_compat_cookies);
  __Pyx_INCREF(__pyx_n_s_compat_etree_fromstring);
  __Pyx_GIVEREF(__pyx_n_s_compat_etree_fromstring);
  PyList_SET_ITEM(__pyx_t_1, 2, __pyx_n_s_compat_etree_fromstring);
  __Pyx_INCREF(__pyx_n_s_compat_getpass);
  __Pyx_GIVEREF(__pyx_n_s_compat_getpass);
  PyList_SET_ITEM(__pyx_t_1, 3, __pyx_n_s_compat_getpass);
  __Pyx_INCREF(__pyx_n_s_compat_http_client);
  __Pyx_GIVEREF(__pyx_n_s_compat_http_client);
  PyList_SET_ITEM(__pyx_t_1, 4, __pyx_n_s_compat_http_client);
  __Pyx_INCREF(__pyx_n_s_compat_os_name);
  __Pyx_GIVEREF(__pyx_n_s_compat_os_name);
  PyList_SET_ITEM(__pyx_t_1, 5, __pyx_n_s_compat_os_name);
  __Pyx_INCREF(__pyx_n_s_compat_str);
  __Pyx_GIVEREF(__pyx_n_s_compat_str);
  PyList_SET_ITEM(__pyx_t_1, 6, __pyx_n_s_compat_str);
  __Pyx_INCREF(__pyx_n_s_compat_urllib_error);
  __Pyx_GIVEREF(__pyx_n_s_compat_urllib_error);
  PyList_SET_ITEM(__pyx_t_1, 7, __pyx_n_s_compat_urllib_error);
  __Pyx_INCREF(__pyx_n_s_compat_urllib_parse_urlencode);
  __Pyx_GIVEREF(__pyx_n_s_compat_urllib_parse_urlencode);
  PyList_SET_ITEM(__pyx_t_1, 8, __pyx_n_s_compat_urllib_parse_urlencode);
  __Pyx_INCREF(__pyx_n_s_compat_urllib_request);
  __Pyx_GIVEREF(__pyx_n_s_compat_urllib_request);
  PyList_SET_ITEM(__pyx_t_1, 9, __pyx_n_s_compat_urllib_request);
  __Pyx_INCREF(__pyx_n_s_compat_urlparse);
  __Pyx_GIVEREF(__pyx_n_s_compat_urlparse);
  PyList_SET_ITEM(__pyx_t_1, 10, __pyx_n_s_compat_urlparse);

  /* "youtube_dl/extractor/common.py":15
 * import math
 * 
 * from ..compat import (             # <<<<<<<<<<<<<<
 *     compat_cookiejar,
 *     compat_cookies,
 */
  __pyx_t_2 = __Pyx_Import(__pyx_n_s_compat, __pyx_t_1, 2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_cookiejar); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_cookiejar, __pyx_t_1) < 0) __PYX_ERR(0, 16, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_cookies); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_cookies, __pyx_t_1) < 0) __PYX_ERR(0, 17, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_etree_fromstring); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_etree_fromstring, __pyx_t_1) < 0) __PYX_ERR(0, 18, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_getpass); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_getpass, __pyx_t_1) < 0) __PYX_ERR(0, 19, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_http_client); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_http_client, __pyx_t_1) < 0) __PYX_ERR(0, 20, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_os_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_os_name, __pyx_t_1) < 0) __PYX_ERR(0, 21, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_str, __pyx_t_1) < 0) __PYX_ERR(0, 22, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_urllib_error); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_urllib_error, __pyx_t_1) < 0) __PYX_ERR(0, 23, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_urllib_parse_urlencode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_urllib_parse_urlencode, __pyx_t_1) < 0) __PYX_ERR(0, 24, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_urllib_request); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_urllib_request, __pyx_t_1) < 0) __PYX_ERR(0, 25, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compat_urlparse); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compat_urlparse, __pyx_t_1) < 0) __PYX_ERR(0, 26, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":28
 *     compat_urlparse,
 * )
 * from ..downloader.f4m import remove_encrypted_media             # <<<<<<<<<<<<<<
 * from ..utils import (
 *     NO_DEFAULT,
 */
  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_n_s_remove_encrypted_media);
  __Pyx_GIVEREF(__pyx_n_s_remove_encrypted_media);
  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_remove_encrypted_media);
  __pyx_t_1 = __Pyx_Import(__pyx_n_s_downloader_f4m, __pyx_t_2, 2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 28, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_1, __pyx_n_s_remove_encrypted_media); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_remove_encrypted_media, __pyx_t_2) < 0) __PYX_ERR(0, 28, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":30
 * from ..downloader.f4m import remove_encrypted_media
 * from ..utils import (
 *     NO_DEFAULT,             # <<<<<<<<<<<<<<
 *     age_restricted,
 *     bug_reports_message,
 */
  __pyx_t_1 = PyList_New(30); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 30, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_n_s_NO_DEFAULT);
  __Pyx_GIVEREF(__pyx_n_s_NO_DEFAULT);
  PyList_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_NO_DEFAULT);
  __Pyx_INCREF(__pyx_n_s_age_restricted);
  __Pyx_GIVEREF(__pyx_n_s_age_restricted);
  PyList_SET_ITEM(__pyx_t_1, 1, __pyx_n_s_age_restricted);
  __Pyx_INCREF(__pyx_n_s_bug_reports_message);
  __Pyx_GIVEREF(__pyx_n_s_bug_reports_message);
  PyList_SET_ITEM(__pyx_t_1, 2, __pyx_n_s_bug_reports_message);
  __Pyx_INCREF(__pyx_n_s_clean_html);
  __Pyx_GIVEREF(__pyx_n_s_clean_html);
  PyList_SET_ITEM(__pyx_t_1, 3, __pyx_n_s_clean_html);
  __Pyx_INCREF(__pyx_n_s_compiled_regex_type);
  __Pyx_GIVEREF(__pyx_n_s_compiled_regex_type);
  PyList_SET_ITEM(__pyx_t_1, 4, __pyx_n_s_compiled_regex_type);
  __Pyx_INCREF(__pyx_n_s_determine_ext);
  __Pyx_GIVEREF(__pyx_n_s_determine_ext);
  PyList_SET_ITEM(__pyx_t_1, 5, __pyx_n_s_determine_ext);
  __Pyx_INCREF(__pyx_n_s_error_to_compat_str);
  __Pyx_GIVEREF(__pyx_n_s_error_to_compat_str);
  PyList_SET_ITEM(__pyx_t_1, 6, __pyx_n_s_error_to_compat_str);
  __Pyx_INCREF(__pyx_n_s_ExtractorError);
  __Pyx_GIVEREF(__pyx_n_s_ExtractorError);
  PyList_SET_ITEM(__pyx_t_1, 7, __pyx_n_s_ExtractorError);
  __Pyx_INCREF(__pyx_n_s_fix_xml_ampersands);
  __Pyx_GIVEREF(__pyx_n_s_fix_xml_ampersands);
  PyList_SET_ITEM(__pyx_t_1, 8, __pyx_n_s_fix_xml_ampersands);
  __Pyx_INCREF(__pyx_n_s_float_or_none);
  __Pyx_GIVEREF(__pyx_n_s_float_or_none);
  PyList_SET_ITEM(__pyx_t_1, 9, __pyx_n_s_float_or_none);
  __Pyx_INCREF(__pyx_n_s_int_or_none);
  __Pyx_GIVEREF(__pyx_n_s_int_or_none);
  PyList_SET_ITEM(__pyx_t_1, 10, __pyx_n_s_int_or_none);
  __Pyx_INCREF(__pyx_n_s_parse_iso8601);
  __Pyx_GIVEREF(__pyx_n_s_parse_iso8601);
  PyList_SET_ITEM(__pyx_t_1, 11, __pyx_n_s_parse_iso8601);
  __Pyx_INCREF(__pyx_n_s_RegexNotFoundError);
  __Pyx_GIVEREF(__pyx_n_s_RegexNotFoundError);
  PyList_SET_ITEM(__pyx_t_1, 12, __pyx_n_s_RegexNotFoundError);
  __Pyx_INCREF(__pyx_n_s_sanitize_filename);
  __Pyx_GIVEREF(__pyx_n_s_sanitize_filename);
  PyList_SET_ITEM(__pyx_t_1, 13, __pyx_n_s_sanitize_filename);
  __Pyx_INCREF(__pyx_n_s_sanitized_Request);
  __Pyx_GIVEREF(__pyx_n_s_sanitized_Request);
  PyList_SET_ITEM(__pyx_t_1, 14, __pyx_n_s_sanitized_Request);
  __Pyx_INCREF(__pyx_n_s_unescapeHTML);
  __Pyx_GIVEREF(__pyx_n_s_unescapeHTML);
  PyList_SET_ITEM(__pyx_t_1, 15, __pyx_n_s_unescapeHTML);
  __Pyx_INCREF(__pyx_n_s_unified_strdate);
  __Pyx_GIVEREF(__pyx_n_s_unified_strdate);
  PyList_SET_ITEM(__pyx_t_1, 16, __pyx_n_s_unified_strdate);
  __Pyx_INCREF(__pyx_n_s_unified_timestamp);
  __Pyx_GIVEREF(__pyx_n_s_unified_timestamp);
  PyList_SET_ITEM(__pyx_t_1, 17, __pyx_n_s_unified_timestamp);
  __Pyx_INCREF(__pyx_n_s_url_basename);
  __Pyx_GIVEREF(__pyx_n_s_url_basename);
  PyList_SET_ITEM(__pyx_t_1, 18, __pyx_n_s_url_basename);
  __Pyx_INCREF(__pyx_n_s_xpath_element);
  __Pyx_GIVEREF(__pyx_n_s_xpath_element);
  PyList_SET_ITEM(__pyx_t_1, 19, __pyx_n_s_xpath_element);
  __Pyx_INCREF(__pyx_n_s_xpath_text);
  __Pyx_GIVEREF(__pyx_n_s_xpath_text);
  PyList_SET_ITEM(__pyx_t_1, 20, __pyx_n_s_xpath_text);
  __Pyx_INCREF(__pyx_n_s_xpath_with_ns);
  __Pyx_GIVEREF(__pyx_n_s_xpath_with_ns);
  PyList_SET_ITEM(__pyx_t_1, 21, __pyx_n_s_xpath_with_ns);
  __Pyx_INCREF(__pyx_n_s_determine_protocol);
  __Pyx_GIVEREF(__pyx_n_s_determine_protocol);
  PyList_SET_ITEM(__pyx_t_1, 22, __pyx_n_s_determine_protocol);
  __Pyx_INCREF(__pyx_n_s_parse_duration);
  __Pyx_GIVEREF(__pyx_n_s_parse_duration);
  PyList_SET_ITEM(__pyx_t_1, 23, __pyx_n_s_parse_duration);
  __Pyx_INCREF(__pyx_n_s_mimetype2ext);
  __Pyx_GIVEREF(__pyx_n_s_mimetype2ext);
  PyList_SET_ITEM(__pyx_t_1, 24, __pyx_n_s_mimetype2ext);
  __Pyx_INCREF(__pyx_n_s_update_Request);
  __Pyx_GIVEREF(__pyx_n_s_update_Request);
  PyList_SET_ITEM(__pyx_t_1, 25, __pyx_n_s_update_Request);
  __Pyx_INCREF(__pyx_n_s_update_url_query);
  __Pyx_GIVEREF(__pyx_n_s_update_url_query);
  PyList_SET_ITEM(__pyx_t_1, 26, __pyx_n_s_update_url_query);
  __Pyx_INCREF(__pyx_n_s_parse_m3u8_attributes);
  __Pyx_GIVEREF(__pyx_n_s_parse_m3u8_attributes);
  PyList_SET_ITEM(__pyx_t_1, 27, __pyx_n_s_parse_m3u8_attributes);
  __Pyx_INCREF(__pyx_n_s_extract_attributes);
  __Pyx_GIVEREF(__pyx_n_s_extract_attributes);
  PyList_SET_ITEM(__pyx_t_1, 28, __pyx_n_s_extract_attributes);
  __Pyx_INCREF(__pyx_n_s_parse_codecs);
  __Pyx_GIVEREF(__pyx_n_s_parse_codecs);
  PyList_SET_ITEM(__pyx_t_1, 29, __pyx_n_s_parse_codecs);

  /* "youtube_dl/extractor/common.py":29
 * )
 * from ..downloader.f4m import remove_encrypted_media
 * from ..utils import (             # <<<<<<<<<<<<<<
 *     NO_DEFAULT,
 *     age_restricted,
 */
  __pyx_t_2 = __Pyx_Import(__pyx_n_s_utils, __pyx_t_1, 2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_NO_DEFAULT); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_NO_DEFAULT, __pyx_t_1) < 0) __PYX_ERR(0, 30, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_age_restricted); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_age_restricted, __pyx_t_1) < 0) __PYX_ERR(0, 31, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_bug_reports_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_bug_reports_message, __pyx_t_1) < 0) __PYX_ERR(0, 32, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_clean_html); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_clean_html, __pyx_t_1) < 0) __PYX_ERR(0, 33, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_compiled_regex_type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_compiled_regex_type, __pyx_t_1) < 0) __PYX_ERR(0, 34, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_determine_ext); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_determine_ext, __pyx_t_1) < 0) __PYX_ERR(0, 35, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_error_to_compat_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_error_to_compat_str, __pyx_t_1) < 0) __PYX_ERR(0, 36, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_ExtractorError); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_ExtractorError, __pyx_t_1) < 0) __PYX_ERR(0, 37, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_fix_xml_ampersands); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_fix_xml_ampersands, __pyx_t_1) < 0) __PYX_ERR(0, 38, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_float_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_float_or_none, __pyx_t_1) < 0) __PYX_ERR(0, 39, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_int_or_none); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_int_or_none, __pyx_t_1) < 0) __PYX_ERR(0, 40, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_parse_iso8601); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_parse_iso8601, __pyx_t_1) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_RegexNotFoundError); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_RegexNotFoundError, __pyx_t_1) < 0) __PYX_ERR(0, 42, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_sanitize_filename); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_sanitize_filename, __pyx_t_1) < 0) __PYX_ERR(0, 43, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_sanitized_Request); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_sanitized_Request, __pyx_t_1) < 0) __PYX_ERR(0, 44, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_unescapeHTML); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_unescapeHTML, __pyx_t_1) < 0) __PYX_ERR(0, 45, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_unified_strdate); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_unified_strdate, __pyx_t_1) < 0) __PYX_ERR(0, 46, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_unified_timestamp); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_unified_timestamp, __pyx_t_1) < 0) __PYX_ERR(0, 47, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_url_basename); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_url_basename, __pyx_t_1) < 0) __PYX_ERR(0, 48, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_xpath_element); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_xpath_element, __pyx_t_1) < 0) __PYX_ERR(0, 49, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_xpath_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_xpath_text, __pyx_t_1) < 0) __PYX_ERR(0, 50, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_xpath_with_ns); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_xpath_with_ns, __pyx_t_1) < 0) __PYX_ERR(0, 51, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_determine_protocol); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_determine_protocol, __pyx_t_1) < 0) __PYX_ERR(0, 52, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_parse_duration); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_parse_duration, __pyx_t_1) < 0) __PYX_ERR(0, 53, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_mimetype2ext); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_mimetype2ext, __pyx_t_1) < 0) __PYX_ERR(0, 54, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_update_Request); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_update_Request, __pyx_t_1) < 0) __PYX_ERR(0, 55, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_update_url_query); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_update_url_query, __pyx_t_1) < 0) __PYX_ERR(0, 56, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_parse_m3u8_attributes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_parse_m3u8_attributes, __pyx_t_1) < 0) __PYX_ERR(0, 57, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_extract_attributes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_extract_attributes, __pyx_t_1) < 0) __PYX_ERR(0, 58, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_parse_codecs); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 29, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_parse_codecs, __pyx_t_1) < 0) __PYX_ERR(0, 59, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":63
 * 
 * 
 * class InfoExtractor(object):             # <<<<<<<<<<<<<<
 *     """Information Extractor class.
 * 
 */
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 63, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_builtin_object);
  __Pyx_GIVEREF(__pyx_builtin_object);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_builtin_object);
  __pyx_t_1 = __Pyx_CalculateMetaclass(NULL, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 63, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_Py3MetaclassPrepare(__pyx_t_1, __pyx_t_2, __pyx_n_s_InfoExtractor, __pyx_n_s_InfoExtractor, (PyObject *) NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_kp_s_Information_Extractor_class_Info); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 63, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);

  /* "youtube_dl/extractor/common.py":304
 *     """
 * 
 *     _ready = False             # <<<<<<<<<<<<<<
 *     _downloader = None
 *     _WORKING = True
 */
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_ready, Py_False) < 0) __PYX_ERR(0, 304, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":305
 * 
 *     _ready = False
 *     _downloader = None             # <<<<<<<<<<<<<<
 *     _WORKING = True
 * 
 */
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_downloader_2, Py_None) < 0) __PYX_ERR(0, 305, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":306
 *     _ready = False
 *     _downloader = None
 *     _WORKING = True             # <<<<<<<<<<<<<<
 * 
 *     def __init__(self, downloader=None):
 */
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_WORKING, Py_True) < 0) __PYX_ERR(0, 306, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":308
 *     _WORKING = True
 * 
 *     def __init__(self, downloader=None):             # <<<<<<<<<<<<<<
 *         """Constructor. Receives an optional downloader."""
 *         self._ready = False
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_1__init__, 0, __pyx_n_s_InfoExtractor___init, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__244)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 308, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__245);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_init, __pyx_t_4) < 0) __PYX_ERR(0, 308, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":314
 * 
 *     @classmethod
 *     def suitable(cls, url):             # <<<<<<<<<<<<<<
 *         """Receives a URL and returns True if suitable for this IE."""
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_3suitable, __Pyx_CYFUNCTION_CLASSMETHOD, __pyx_n_s_InfoExtractor_suitable, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__247)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 314, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":313
 *         self.set_downloader(downloader)
 * 
 *     @classmethod             # <<<<<<<<<<<<<<
 *     def suitable(cls, url):
 *         """Receives a URL and returns True if suitable for this IE."""
 */
  __pyx_t_5 = __Pyx_Method_ClassMethod(__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 313, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_suitable, __pyx_t_5) < 0) __PYX_ERR(0, 314, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":325
 * 
 *     @classmethod
 *     def _match_id(cls, url):             # <<<<<<<<<<<<<<
 *         if '_VALID_URL_RE' not in cls.__dict__:
 *             cls._VALID_URL_RE = re.compile(cls._VALID_URL)
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_5_match_id, __Pyx_CYFUNCTION_CLASSMETHOD, __pyx_n_s_InfoExtractor__match_id, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__249)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 325, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);

  /* "youtube_dl/extractor/common.py":324
 *         return cls._VALID_URL_RE.match(url) is not None
 * 
 *     @classmethod             # <<<<<<<<<<<<<<
 *     def _match_id(cls, url):
 *         if '_VALID_URL_RE' not in cls.__dict__:
 */
  __pyx_t_4 = __Pyx_Method_ClassMethod(__pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 324, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_match_id, __pyx_t_4) < 0) __PYX_ERR(0, 325, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":333
 * 
 *     @classmethod
 *     def working(cls):             # <<<<<<<<<<<<<<
 *         """Getter method for _WORKING."""
 *         return cls._WORKING
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_7working, __Pyx_CYFUNCTION_CLASSMETHOD, __pyx_n_s_InfoExtractor_working, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__251)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 333, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":332
 *         return m.group('id')
 * 
 *     @classmethod             # <<<<<<<<<<<<<<
 *     def working(cls):
 *         """Getter method for _WORKING."""
 */
  __pyx_t_5 = __Pyx_Method_ClassMethod(__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 332, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_working, __pyx_t_5) < 0) __PYX_ERR(0, 333, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":337
 *         return cls._WORKING
 * 
 *     def initialize(self):             # <<<<<<<<<<<<<<
 *         """Initializes an instance (authentication, etc)."""
 *         if not self._ready:
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_9initialize, 0, __pyx_n_s_InfoExtractor_initialize, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__253)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 337, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_initialize, __pyx_t_5) < 0) __PYX_ERR(0, 337, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":343
 *             self._ready = True
 * 
 *     def extract(self, url):             # <<<<<<<<<<<<<<
 *         """Extracts URL information and returns it in list of dicts."""
 *         try:
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_11extract, 0, __pyx_n_s_InfoExtractor_extract, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__255)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 343, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract, __pyx_t_5) < 0) __PYX_ERR(0, 343, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":355
 *             raise ExtractorError('An extractor error has occurred.', cause=e)
 * 
 *     def set_downloader(self, downloader):             # <<<<<<<<<<<<<<
 *         """Sets the downloader for this IE."""
 *         self._downloader = downloader
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_13set_downloader, 0, __pyx_n_s_InfoExtractor_set_downloader, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__257)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 355, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_set_downloader, __pyx_t_5) < 0) __PYX_ERR(0, 355, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":359
 *         self._downloader = downloader
 * 
 *     def _real_initialize(self):             # <<<<<<<<<<<<<<
 *         """Real initialization process. Redefine in subclasses."""
 *         pass
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_15_real_initialize, 0, __pyx_n_s_InfoExtractor__real_initialize, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__259)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 359, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_real_initialize, __pyx_t_5) < 0) __PYX_ERR(0, 359, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":363
 *         pass
 * 
 *     def _real_extract(self, url):             # <<<<<<<<<<<<<<
 *         """Real extraction process. Redefine in subclasses."""
 *         pass
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_17_real_extract, 0, __pyx_n_s_InfoExtractor__real_extract, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__261)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 363, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_real_extract, __pyx_t_5) < 0) __PYX_ERR(0, 363, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":368
 * 
 *     @classmethod
 *     def ie_key(cls):             # <<<<<<<<<<<<<<
 *         """A string for getting the InfoExtractor with get_info_extractor"""
 *         return compat_str(cls.__name__[:-2])
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_19ie_key, __Pyx_CYFUNCTION_CLASSMETHOD, __pyx_n_s_InfoExtractor_ie_key, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__263)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 368, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);

  /* "youtube_dl/extractor/common.py":367
 *         pass
 * 
 *     @classmethod             # <<<<<<<<<<<<<<
 *     def ie_key(cls):
 *         """A string for getting the InfoExtractor with get_info_extractor"""
 */
  __pyx_t_4 = __Pyx_Method_ClassMethod(__pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 367, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_ie_key, __pyx_t_4) < 0) __PYX_ERR(0, 368, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":373
 * 
 *     @property
 *     def IE_NAME(self):             # <<<<<<<<<<<<<<
 *         return compat_str(type(self).__name__[:-2])
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_21IE_NAME, 0, __pyx_n_s_InfoExtractor_IE_NAME, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__265)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 373, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":372
 *         return compat_str(cls.__name__[:-2])
 * 
 *     @property             # <<<<<<<<<<<<<<
 *     def IE_NAME(self):
 *         return compat_str(type(self).__name__[:-2])
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 372, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_property, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 372, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_IE_NAME, __pyx_t_4) < 0) __PYX_ERR(0, 373, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":376
 *         return compat_str(type(self).__name__[:-2])
 * 
 *     def _request_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns the response handle """
 *         if note is None:
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_23_request_webpage, 0, __pyx_n_s_InfoExtractor__request_webpage, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__267)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 376, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults), 2)) __PYX_ERR(0, 376, __pyx_L1_error)
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 376, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_t_4)->__pyx_arg_headers = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 376, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults, __pyx_t_4)->__pyx_arg_query = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_183__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_request_webpage, __pyx_t_4) < 0) __PYX_ERR(0, 376, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":408
 *                 return False
 * 
 *     def _download_webpage_handle(self, url_or_request, video_id, note=None, errnote=None, fatal=True, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns a tuple (page content as string, URL handle) """
 *         # Strip hashes from the URL (#1038)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_25_download_webpage_handle, 0, __pyx_n_s_InfoExtractor__download_webpage, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__269)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 408, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults1), 2)) __PYX_ERR(0, 408, __pyx_L1_error)
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 408, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_t_4)->__pyx_arg_headers = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 408, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults1, __pyx_t_4)->__pyx_arg_query = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_185__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_download_webpage_handle, __pyx_t_4) < 0) __PYX_ERR(0, 408, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":422
 * 
 *     @staticmethod
 *     def _guess_encoding_from_content(content_type, webpage_bytes):             # <<<<<<<<<<<<<<
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 *         if m:
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_27_guess_encoding_from_content, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor__guess_encoding_fr, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__271)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 422, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":421
 *         return (content, urlh)
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def _guess_encoding_from_content(content_type, webpage_bytes):
 *         m = re.match(r'[a-zA-Z0-9_.-]+/[a-zA-Z0-9_.-]+\s*;\s*charset=(.+)', content_type)
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 421, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 421, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_guess_encoding_from_content, __pyx_t_4) < 0) __PYX_ERR(0, 422, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":438
 *         return encoding
 * 
 *     def _webpage_read_content(self, urlh, url_or_request, video_id, note=None, errnote=None, fatal=True, prefix=None, encoding=None):             # <<<<<<<<<<<<<<
 *         content_type = urlh.headers.get('Content-Type', '')
 *         webpage_bytes = urlh.read()
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_29_webpage_read_content, 0, __pyx_n_s_InfoExtractor__webpage_read_cont, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__273)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 438, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__274);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_webpage_read_content, __pyx_t_4) < 0) __PYX_ERR(0, 438, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":501
 *         return content
 * 
 *     def _download_webpage(self, url_or_request, video_id, note=None, errnote=None, fatal=True, tries=1, timeout=5, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """ Returns the data of the page as a string """
 *         success = False
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_31_download_webpage, 0, __pyx_n_s_InfoExtractor__download_webpage_2, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__277)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 501, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults2), 2)) __PYX_ERR(0, 501, __pyx_L1_error)
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 501, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_t_4)->__pyx_arg_headers = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 501, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults2, __pyx_t_4)->__pyx_arg_query = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_187__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_download_webpage, __pyx_t_4) < 0) __PYX_ERR(0, 501, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":520
 *             return content
 * 
 *     def _download_xml(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                       note='Downloading XML', errnote='Unable to download XML',
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_33_download_xml, 0, __pyx_n_s_InfoExtractor__download_xml, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__279)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 520, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults3), 2)) __PYX_ERR(0, 520, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":522
 *     def _download_xml(self, url_or_request, video_id,
 *                       note='Downloading XML', errnote='Unable to download XML',
 *                       transform_source=None, fatal=True, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         """Return the xml as an xml.etree.ElementTree.Element"""
 *         xml_string = self._download_webpage(
 */
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 522, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_t_4)->__pyx_arg_headers = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 522, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults3, __pyx_t_4)->__pyx_arg_query = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_189__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_download_xml, __pyx_t_4) < 0) __PYX_ERR(0, 520, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":532
 *         return compat_etree_fromstring(xml_string.encode('utf-8'))
 * 
 *     def _download_json(self, url_or_request, video_id,             # <<<<<<<<<<<<<<
 *                        note='Downloading JSON metadata',
 *                        errnote='Unable to download JSON metadata',
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_35_download_json, 0, __pyx_n_s_InfoExtractor__download_json, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__281)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 532, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults4), 2)) __PYX_ERR(0, 532, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":536
 *                        errnote='Unable to download JSON metadata',
 *                        transform_source=None,
 *                        fatal=True, encoding=None, data=None, headers={}, query={}):             # <<<<<<<<<<<<<<
 *         json_string = self._download_webpage(
 *             url_or_request, video_id, note, errnote, fatal=fatal,
 */
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 536, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_t_4)->__pyx_arg_headers = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 536, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults4, __pyx_t_4)->__pyx_arg_query = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_191__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_download_json, __pyx_t_4) < 0) __PYX_ERR(0, 532, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":545
 *             json_string, video_id, transform_source=transform_source, fatal=fatal)
 * 
 *     def _parse_json(self, json_string, video_id, transform_source=None, fatal=True):             # <<<<<<<<<<<<<<
 *         if transform_source:
 *             json_string = transform_source(json_string)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_37_parse_json, 0, __pyx_n_s_InfoExtractor__parse_json, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__283)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 545, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__284);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_json, __pyx_t_4) < 0) __PYX_ERR(0, 545, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":557
 *                 self.report_warning(errmsg + str(ve))
 * 
 *     def report_warning(self, msg, video_id=None):             # <<<<<<<<<<<<<<
 *         idstr = '' if video_id is None else '%s: ' % video_id
 *         self._downloader.report_warning(
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_39report_warning, 0, __pyx_n_s_InfoExtractor_report_warning, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__286)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 557, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__287);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_report_warning, __pyx_t_4) < 0) __PYX_ERR(0, 557, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":562
 *             '[%s] %s%s' % (self.IE_NAME, idstr, msg))
 * 
 *     def to_screen(self, msg):             # <<<<<<<<<<<<<<
 *         """Print msg to screen, prefixing it with '[ie_name]'"""
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_41to_screen, 0, __pyx_n_s_InfoExtractor_to_screen, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__289)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 562, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_to_screen, __pyx_t_4) < 0) __PYX_ERR(0, 562, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":566
 *         self._downloader.to_screen('[%s] %s' % (self.IE_NAME, msg))
 * 
 *     def report_extraction(self, id_or_name):             # <<<<<<<<<<<<<<
 *         """Report information extraction."""
 *         self.to_screen('%s: Extracting information' % id_or_name)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_43report_extraction, 0, __pyx_n_s_InfoExtractor_report_extraction, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__291)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 566, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_report_extraction, __pyx_t_4) < 0) __PYX_ERR(0, 566, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":570
 *         self.to_screen('%s: Extracting information' % id_or_name)
 * 
 *     def report_download_webpage(self, video_id):             # <<<<<<<<<<<<<<
 *         """Report webpage download."""
 *         self.to_screen('%s: Downloading webpage' % video_id)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_45report_download_webpage, 0, __pyx_n_s_InfoExtractor_report_download_we, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__293)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 570, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_report_download_webpage, __pyx_t_4) < 0) __PYX_ERR(0, 570, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":574
 *         self.to_screen('%s: Downloading webpage' % video_id)
 * 
 *     def report_age_confirmation(self):             # <<<<<<<<<<<<<<
 *         """Report attempt to confirm age."""
 *         self.to_screen('Confirming age')
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_47report_age_confirmation, 0, __pyx_n_s_InfoExtractor_report_age_confirm, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__295)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 574, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_report_age_confirmation, __pyx_t_4) < 0) __PYX_ERR(0, 574, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":578
 *         self.to_screen('Confirming age')
 * 
 *     def report_login(self):             # <<<<<<<<<<<<<<
 *         """Report attempt to log in."""
 *         self.to_screen('Logging in')
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_49report_login, 0, __pyx_n_s_InfoExtractor_report_login, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__297)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 578, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_report_login, __pyx_t_4) < 0) __PYX_ERR(0, 578, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":583
 * 
 *     @staticmethod
 *     def raise_login_required(msg='This video is only available for registered users'):             # <<<<<<<<<<<<<<
 *         raise ExtractorError(
 *             '%s. Use --username and --password or --netrc to provide account credentials.' % msg,
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_51raise_login_required, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor_raise_login_requir, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__299)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 583, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__300);

  /* "youtube_dl/extractor/common.py":582
 *         self.to_screen('Logging in')
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def raise_login_required(msg='This video is only available for registered users'):
 *         raise ExtractorError(
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 582, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 582, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_raise_login_required, __pyx_t_4) < 0) __PYX_ERR(0, 583, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":589
 * 
 *     @staticmethod
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):             # <<<<<<<<<<<<<<
 *         raise ExtractorError(
 *             '%s. You might want to use --proxy to workaround.' % msg,
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_53raise_geo_restricted, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor_raise_geo_restrict, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__302)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 589, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__303);

  /* "youtube_dl/extractor/common.py":588
 *             expected=True)
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def raise_geo_restricted(msg='This video is not available from your location due to geo restriction'):
 *         raise ExtractorError(
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 588, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 588, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_raise_geo_restricted, __pyx_t_4) < 0) __PYX_ERR(0, 589, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":596
 *     # Methods for following #608
 *     @staticmethod
 *     def url_result(url, ie=None, video_id=None, video_title=None):             # <<<<<<<<<<<<<<
 *         """Returns a URL that points to a page that should be processed"""
 *         # TODO: ie should be the class used for getting the info
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_55url_result, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor_url_result, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__305)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 596, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__306);

  /* "youtube_dl/extractor/common.py":595
 * 
 *     # Methods for following #608
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def url_result(url, ie=None, video_id=None, video_title=None):
 *         """Returns a URL that points to a page that should be processed"""
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 595, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 595, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_url_result, __pyx_t_4) < 0) __PYX_ERR(0, 596, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":609
 * 
 *     @staticmethod
 *     def playlist_result(entries, playlist_id=None, playlist_title=None, playlist_description=None):             # <<<<<<<<<<<<<<
 *         """Returns a playlist"""
 *         video_info = {'_type': 'playlist',
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_57playlist_result, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor_playlist_result, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__308)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 609, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__309);

  /* "youtube_dl/extractor/common.py":608
 *         return video_info
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def playlist_result(entries, playlist_id=None, playlist_title=None, playlist_description=None):
 *         """Returns a playlist"""
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 608, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 608, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_playlist_result, __pyx_t_4) < 0) __PYX_ERR(0, 609, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":621
 *         return video_info
 * 
 *     def _search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Perform a regex search on the given string, using a single or a list of
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_59_search_regex, 0, __pyx_n_s_InfoExtractor__search_regex, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__311)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 621, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults5), 1)) __PYX_ERR(0, 621, __pyx_L1_error)
  __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_NO_DEFAULT); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 621, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults5, __pyx_t_4)->__pyx_arg_default = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_193__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_search_regex, __pyx_t_4) < 0) __PYX_ERR(0, 621, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":655
 *             return None
 * 
 *     def _html_search_regex(self, pattern, string, name, default=NO_DEFAULT, fatal=True, flags=0, group=None):             # <<<<<<<<<<<<<<
 *         """
 *         Like _search_regex, but strips HTML tags and unescapes entities.
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_61_html_search_regex, 0, __pyx_n_s_InfoExtractor__html_search_regex, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__313)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 655, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults6), 1)) __PYX_ERR(0, 655, __pyx_L1_error)
  __pyx_t_5 = __Pyx_GetModuleGlobalName(__pyx_n_s_NO_DEFAULT); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 655, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults6, __pyx_t_4)->__pyx_arg_default = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_195__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_html_search_regex, __pyx_t_4) < 0) __PYX_ERR(0, 655, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":665
 *             return res
 * 
 *     def _get_login_info(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get the login info as (username, password)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_63_get_login_info, 0, __pyx_n_s_InfoExtractor__get_login_info, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__315)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 665, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_get_login_info, __pyx_t_4) < 0) __PYX_ERR(0, 665, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":695
 *         return (username, password)
 * 
 *     def _get_tfa_info(self, note='two-factor verification code'):             # <<<<<<<<<<<<<<
 *         """
 *         Get the two-factor authentication info
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_65_get_tfa_info, 0, __pyx_n_s_InfoExtractor__get_tfa_info, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__317)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 695, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__318);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_get_tfa_info, __pyx_t_4) < 0) __PYX_ERR(0, 695, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":713
 *     # Helper functions for extracting OpenGraph info
 *     @staticmethod
 *     def _og_regexes(prop):             # <<<<<<<<<<<<<<
 *         content_re = r'content=(?:"([^"]+?)"|\'([^\']+?)\'|\s*([^\s"\'=<>`]+?))'
 *         property_re = (r'(?:name|property)=(?:\'og:%(prop)s\'|"og:%(prop)s"|\s*og:%(prop)s\b)'
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_67_og_regexes, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor__og_regexes, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__320)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 713, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":712
 * 
 *     # Helper functions for extracting OpenGraph info
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def _og_regexes(prop):
 *         content_re = r'content=(?:"([^"]+?)"|\'([^\']+?)\'|\s*([^\s"\'=<>`]+?))'
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 712, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 712, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_og_regexes, __pyx_t_4) < 0) __PYX_ERR(0, 713, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":724
 * 
 *     @staticmethod
 *     def _meta_regex(prop):             # <<<<<<<<<<<<<<
 *         return r'''(?isx)<meta
 *                     (?=[^>]+(?:itemprop|name|property|id|http-equiv)=(["\']?)%s\1)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_69_meta_regex, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor__meta_regex, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__322)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 724, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":723
 *         ]
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def _meta_regex(prop):
 *         return r'''(?isx)<meta
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 723, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 723, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_meta_regex, __pyx_t_4) < 0) __PYX_ERR(0, 724, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":729
 *                     [^>]+?content=(["\'])(?P<content>.*?)\2''' % re.escape(prop)
 * 
 *     def _og_search_property(self, prop, html, name=None, **kargs):             # <<<<<<<<<<<<<<
 *         if name is None:
 *             name = 'OpenGraph %s' % prop
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_71_og_search_property, 0, __pyx_n_s_InfoExtractor__og_search_propert, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__324)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 729, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__325);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_og_search_property, __pyx_t_4) < 0) __PYX_ERR(0, 729, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":737
 *         return unescapeHTML(escaped)
 * 
 *     def _og_search_thumbnail(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_73_og_search_thumbnail, 0, __pyx_n_s_InfoExtractor__og_search_thumbna, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__327)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 737, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_og_search_thumbnail, __pyx_t_4) < 0) __PYX_ERR(0, 737, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":740
 *         return self._og_search_property('image', html, 'thumbnail URL', fatal=False, **kargs)
 * 
 *     def _og_search_description(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('description', html, fatal=False, **kargs)
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_75_og_search_description, 0, __pyx_n_s_InfoExtractor__og_search_descrip, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__329)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 740, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_og_search_description, __pyx_t_4) < 0) __PYX_ERR(0, 740, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":743
 *         return self._og_search_property('description', html, fatal=False, **kargs)
 * 
 *     def _og_search_title(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('title', html, **kargs)
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_77_og_search_title, 0, __pyx_n_s_InfoExtractor__og_search_title, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__331)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 743, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_og_search_title, __pyx_t_4) < 0) __PYX_ERR(0, 743, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":746
 *         return self._og_search_property('title', html, **kargs)
 * 
 *     def _og_search_video_url(self, html, name='video url', secure=True, **kargs):             # <<<<<<<<<<<<<<
 *         regexes = self._og_regexes('video') + self._og_regexes('video:url')
 *         if secure:
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_79_og_search_video_url, 0, __pyx_n_s_InfoExtractor__og_search_video_u, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__333)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 746, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__334);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_og_search_video_url, __pyx_t_4) < 0) __PYX_ERR(0, 746, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":752
 *         return self._html_search_regex(regexes, html, name, **kargs)
 * 
 *     def _og_search_url(self, html, **kargs):             # <<<<<<<<<<<<<<
 *         return self._og_search_property('url', html, **kargs)
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_81_og_search_url, 0, __pyx_n_s_InfoExtractor__og_search_url, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__336)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 752, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_og_search_url, __pyx_t_4) < 0) __PYX_ERR(0, 752, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":755
 *         return self._og_search_property('url', html, **kargs)
 * 
 *     def _html_search_meta(self, name, html, display_name=None, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         if not isinstance(name, (list, tuple)):
 *             name = [name]
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_83_html_search_meta, 0, __pyx_n_s_InfoExtractor__html_search_meta, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__338)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 755, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__339);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_html_search_meta, __pyx_t_4) < 0) __PYX_ERR(0, 755, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":764
 *             html, display_name, fatal=fatal, group='content', **kwargs)
 * 
 *     def _dc_search_uploader(self, html):             # <<<<<<<<<<<<<<
 *         return self._html_search_meta('dc.creator', html, 'uploader')
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_85_dc_search_uploader, 0, __pyx_n_s_InfoExtractor__dc_search_uploade, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__341)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 764, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_dc_search_uploader, __pyx_t_4) < 0) __PYX_ERR(0, 764, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":767
 *         return self._html_search_meta('dc.creator', html, 'uploader')
 * 
 *     def _rta_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://www.rtalabel.org/index.php?content=howtofaq#single
 *         if re.search(r'(?ix)<meta\s+name="rating"\s+'
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_87_rta_search, 0, __pyx_n_s_InfoExtractor__rta_search, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__343)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 767, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_rta_search, __pyx_t_4) < 0) __PYX_ERR(0, 767, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":775
 *         return 0
 * 
 *     def _media_rating_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://www.tjg-designs.com/WP/metadata-code-examples-adding-metadata-to-your-web-pages/
 *         rating = self._html_search_meta('rating', html)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_89_media_rating_search, 0, __pyx_n_s_InfoExtractor__media_rating_sear, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__345)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 775, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_media_rating_search, __pyx_t_4) < 0) __PYX_ERR(0, 775, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":791
 *         return RATING_TABLE.get(rating.lower())
 * 
 *     def _family_friendly_search(self, html):             # <<<<<<<<<<<<<<
 *         # See http://schema.org/VideoObject
 *         family_friendly = self._html_search_meta('isFamilyFriendly', html)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_91_family_friendly_search, 0, __pyx_n_s_InfoExtractor__family_friendly_s, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__347)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 791, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_family_friendly_search, __pyx_t_4) < 0) __PYX_ERR(0, 791, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":806
 *         return RATING_TABLE.get(family_friendly.lower())
 * 
 *     def _twitter_search_player(self, html):             # <<<<<<<<<<<<<<
 *         return self._html_search_meta('twitter:player', html,
 *                                       'twitter card player')
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_93_twitter_search_player, 0, __pyx_n_s_InfoExtractor__twitter_search_pl, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__349)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 806, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_twitter_search_player, __pyx_t_4) < 0) __PYX_ERR(0, 806, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":810
 *                                       'twitter card player')
 * 
 *     def _search_json_ld(self, html, video_id, expected_type=None, **kwargs):             # <<<<<<<<<<<<<<
 *         json_ld = self._search_regex(
 *             r'(?s)<script[^>]+type=(["\'])application/ld\+json\1[^>]*>(?P<json_ld>.+?)</script>',
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_95_search_json_ld, 0, __pyx_n_s_InfoExtractor__search_json_ld, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__351)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 810, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__352);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_search_json_ld, __pyx_t_4) < 0) __PYX_ERR(0, 810, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":820
 *             expected_type=expected_type)
 * 
 *     def _json_ld(self, json_ld, video_id, fatal=True, expected_type=None):             # <<<<<<<<<<<<<<
 *         if isinstance(json_ld, compat_str):
 *             json_ld = self._parse_json(json_ld, video_id, fatal=fatal)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_97_json_ld, 0, __pyx_n_s_InfoExtractor__json_ld, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__354)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 820, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__355);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_json_ld_2, __pyx_t_4) < 0) __PYX_ERR(0, 820, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":864
 * 
 *     @staticmethod
 *     def _hidden_inputs(html):             # <<<<<<<<<<<<<<
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)
 *         hidden_inputs = {}
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_99_hidden_inputs, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor__hidden_inputs, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__357)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 864, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":863
 *         return dict((k, v) for k, v in info.items() if v is not None)
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def _hidden_inputs(html):
 *         html = re.sub(r'<!--(?:(?!<!--).)*-->', '', html)
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 863, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 863, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_hidden_inputs, __pyx_t_4) < 0) __PYX_ERR(0, 864, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":879
 *         return hidden_inputs
 * 
 *     def _form_hidden_inputs(self, form_id, html):             # <<<<<<<<<<<<<<
 *         form = self._search_regex(
 *             r'(?is)<form[^>]+?id=(["\'])%s\1[^>]*>(?P<form>.+?)</form>' % form_id,
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_101_form_hidden_inputs, 0, __pyx_n_s_InfoExtractor__form_hidden_input, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__359)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 879, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_form_hidden_inputs, __pyx_t_4) < 0) __PYX_ERR(0, 879, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":885
 *         return self._hidden_inputs(form)
 * 
 *     def _sort_formats(self, formats, field_preference=None):             # <<<<<<<<<<<<<<
 *         if not formats:
 *             raise ExtractorError('No video formats found')
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_103_sort_formats, 0, __pyx_n_s_InfoExtractor__sort_formats, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__361)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 885, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__362);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_sort_formats, __pyx_t_4) < 0) __PYX_ERR(0, 885, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":960
 *         formats.sort(key=_formats_key)
 * 
 *     def _check_formats(self, formats, video_id):             # <<<<<<<<<<<<<<
 *         if formats:
 *             formats[:] = filter(
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_105_check_formats, 0, __pyx_n_s_InfoExtractor__check_formats, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__364)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 960, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_check_formats, __pyx_t_4) < 0) __PYX_ERR(0, 960, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":969
 * 
 *     @staticmethod
 *     def _remove_duplicate_formats(formats):             # <<<<<<<<<<<<<<
 *         format_urls = set()
 *         unique_formats = []
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_107_remove_duplicate_formats, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor__remove_duplicate, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__366)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 969, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":968
 *                 formats)
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def _remove_duplicate_formats(formats):
 *         format_urls = set()
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 968, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 968, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_remove_duplicate_formats, __pyx_t_4) < 0) __PYX_ERR(0, 969, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":978
 *         formats[:] = unique_formats
 * 
 *     def _is_valid_url(self, url, video_id, item='video'):             # <<<<<<<<<<<<<<
 *         url = self._proto_relative_url(url, scheme='http:')
 *         # For now assume non HTTP(S) URLs always valid
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_109_is_valid_url, 0, __pyx_n_s_InfoExtractor__is_valid_url, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__368)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 978, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__369);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_is_valid_url, __pyx_t_4) < 0) __PYX_ERR(0, 978, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":993
 *             raise
 * 
 *     def http_scheme(self):             # <<<<<<<<<<<<<<
 *         """ Either "http:" or "https:", depending on the user's preferences """
 *         return (
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_111http_scheme, 0, __pyx_n_s_InfoExtractor_http_scheme, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__371)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 993, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_http_scheme, __pyx_t_4) < 0) __PYX_ERR(0, 993, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1000
 *             else 'https:')
 * 
 *     def _proto_relative_url(self, url, scheme=None):             # <<<<<<<<<<<<<<
 *         if url is None:
 *             return url
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_113_proto_relative_url, 0, __pyx_n_s_InfoExtractor__proto_relative_ur, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__373)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1000, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__374);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_proto_relative_url, __pyx_t_4) < 0) __PYX_ERR(0, 1000, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1010
 *             return url
 * 
 *     def _sleep(self, timeout, video_id, msg_template=None):             # <<<<<<<<<<<<<<
 *         if msg_template is None:
 *             msg_template = '%(video_id)s: Waiting for %(timeout)s seconds'
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_115_sleep, 0, __pyx_n_s_InfoExtractor__sleep, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__376)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1010, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__377);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_sleep, __pyx_t_4) < 0) __PYX_ERR(0, 1010, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1017
 *         time.sleep(timeout)
 * 
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                              fatal=True, m3u8_id=None):
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_117_extract_f4m_formats, 0, __pyx_n_s_InfoExtractor__extract_f4m_forma, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__379)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1017, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults7), 1)) __PYX_ERR(0, 1017, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1018
 * 
 *     def _extract_f4m_formats(self, manifest_url, video_id, preference=None, f4m_id=None,
 *                              transform_source=lambda s: fix_xml_ampersands(s).strip(),             # <<<<<<<<<<<<<<
 *                              fatal=True, m3u8_id=None):
 *         manifest = self._download_xml(
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_lambda4, 0, __pyx_n_s_InfoExtractor__extract_f4m_forma_2, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1018, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults7, __pyx_t_4)->__pyx_arg_transform_source = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_197__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract_f4m_formats, __pyx_t_4) < 0) __PYX_ERR(0, 1017, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1035
 *             transform_source=transform_source, fatal=fatal, m3u8_id=m3u8_id)
 * 
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,             # <<<<<<<<<<<<<<
 *                            transform_source=lambda s: fix_xml_ampersands(s).strip(),
 *                            fatal=True, m3u8_id=None):
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_119_parse_f4m_formats, 0, __pyx_n_s_InfoExtractor__parse_f4m_formats, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__381)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1035, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults8), 1)) __PYX_ERR(0, 1035, __pyx_L1_error)

  /* "youtube_dl/extractor/common.py":1036
 * 
 *     def _parse_f4m_formats(self, manifest, manifest_url, video_id, preference=None, f4m_id=None,
 *                            transform_source=lambda s: fix_xml_ampersands(s).strip(),             # <<<<<<<<<<<<<<
 *                            fatal=True, m3u8_id=None):
 *         # currently youtube-dl cannot decode the playerVerificationChallenge as Akamai uses Adobe Alchemy
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_1lambda5, 0, __pyx_n_s_InfoExtractor__parse_f4m_formats_2, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1036, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults8, __pyx_t_4)->__pyx_arg_transform_source = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_199__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_f4m_formats, __pyx_t_4) < 0) __PYX_ERR(0, 1035, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1125
 *         return formats
 * 
 *     def _m3u8_meta_format(self, m3u8_url, ext=None, preference=None, m3u8_id=None):             # <<<<<<<<<<<<<<
 *         return {
 *             'format_id': '-'.join(filter(None, [m3u8_id, 'meta'])),
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_121_m3u8_meta_format, 0, __pyx_n_s_InfoExtractor__m3u8_meta_format, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__383)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1125, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__384);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_m3u8_meta_format, __pyx_t_4) < 0) __PYX_ERR(0, 1125, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1136
 *         }
 * 
 *     def _extract_m3u8_formats(self, m3u8_url, video_id, ext=None,             # <<<<<<<<<<<<<<
 *                               entry_protocol='m3u8', preference=None,
 *                               m3u8_id=None, note=None, errnote=None,
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_123_extract_m3u8_formats, 0, __pyx_n_s_InfoExtractor__extract_m3u8_form_2, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__386)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1136, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__387);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract_m3u8_formats, __pyx_t_4) < 0) __PYX_ERR(0, 1136, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1238
 * 
 *     @staticmethod
 *     def _xpath_ns(path, namespace=None):             # <<<<<<<<<<<<<<
 *         if not namespace:
 *             return path
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_125_xpath_ns, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor__xpath_ns, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__389)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1238, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__390);

  /* "youtube_dl/extractor/common.py":1237
 *         return formats
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def _xpath_ns(path, namespace=None):
 *         if not namespace:
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1237, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1237, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_xpath_ns, __pyx_t_4) < 0) __PYX_ERR(0, 1238, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1249
 *         return '/'.join(out)
 * 
 *     def _extract_smil_formats(self, smil_url, video_id, fatal=True, f4m_params=None, transform_source=None):             # <<<<<<<<<<<<<<
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal, transform_source=transform_source)
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_127_extract_smil_formats, 0, __pyx_n_s_InfoExtractor__extract_smil_form, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__392)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1249, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__393);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract_smil_formats, __pyx_t_4) < 0) __PYX_ERR(0, 1249, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1261
 *             smil, smil_url, video_id, namespace=namespace, f4m_params=f4m_params)
 * 
 *     def _extract_smil_info(self, smil_url, video_id, fatal=True, f4m_params=None):             # <<<<<<<<<<<<<<
 *         smil = self._download_smil(smil_url, video_id, fatal=fatal)
 *         if smil is False:
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_129_extract_smil_info, 0, __pyx_n_s_InfoExtractor__extract_smil_info, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__395)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1261, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__396);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract_smil_info, __pyx_t_4) < 0) __PYX_ERR(0, 1261, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1267
 *         return self._parse_smil(smil, smil_url, video_id, f4m_params=f4m_params)
 * 
 *     def _download_smil(self, smil_url, video_id, fatal=True, transform_source=None):             # <<<<<<<<<<<<<<
 *         return self._download_xml(
 *             smil_url, video_id, 'Downloading SMIL file',
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_131_download_smil, 0, __pyx_n_s_InfoExtractor__download_smil, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__398)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1267, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__399);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_download_smil, __pyx_t_4) < 0) __PYX_ERR(0, 1267, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1272
 *             'Unable to download SMIL file', fatal=fatal, transform_source=transform_source)
 * 
 *     def _parse_smil(self, smil, smil_url, video_id, f4m_params=None):             # <<<<<<<<<<<<<<
 *         namespace = self._parse_smil_namespace(smil)
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_133_parse_smil, 0, __pyx_n_s_InfoExtractor__parse_smil, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__401)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1272, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__402);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_smil, __pyx_t_4) < 0) __PYX_ERR(0, 1272, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1312
 *         }
 * 
 *     def _parse_smil_namespace(self, smil):             # <<<<<<<<<<<<<<
 *         return self._search_regex(
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_135_parse_smil_namespace, 0, __pyx_n_s_InfoExtractor__parse_smil_namesp, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__404)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1312, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_smil_namespace, __pyx_t_4) < 0) __PYX_ERR(0, 1312, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1316
 *             r'(?i)^{([^}]+)?}smil$', smil.tag, 'namespace', default=None)
 * 
 *     def _parse_smil_formats(self, smil, smil_url, video_id, namespace=None, f4m_params=None, transform_rtmp_url=None):             # <<<<<<<<<<<<<<
 *         base = smil_url
 *         for meta in smil.findall(self._xpath_ns('./head/meta', namespace)):
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_137_parse_smil_formats, 0, __pyx_n_s_InfoExtractor__parse_smil_format, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__406)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1316, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__407);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_smil_formats, __pyx_t_4) < 0) __PYX_ERR(0, 1316, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1410
 *         return formats
 * 
 *     def _parse_smil_subtitles(self, smil, namespace=None, subtitles_lang='en'):             # <<<<<<<<<<<<<<
 *         urls = []
 *         subtitles = {}
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_139_parse_smil_subtitles, 0, __pyx_n_s_InfoExtractor__parse_smil_subtit, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__409)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1410, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__410);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_smil_subtitles, __pyx_t_4) < 0) __PYX_ERR(0, 1410, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1426
 *         return subtitles
 * 
 *     def _extract_xspf_playlist(self, playlist_url, playlist_id, fatal=True):             # <<<<<<<<<<<<<<
 *         xspf = self._download_xml(
 *             playlist_url, playlist_id, 'Downloading xpsf playlist',
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_141_extract_xspf_playlist, 0, __pyx_n_s_InfoExtractor__extract_xspf_play, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__412)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1426, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__413);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract_xspf_playlist, __pyx_t_4) < 0) __PYX_ERR(0, 1426, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1434
 *         return self._parse_xspf(xspf, playlist_id)
 * 
 *     def _parse_xspf(self, playlist, playlist_id):             # <<<<<<<<<<<<<<
 *         NS_MAP = {
 *             'xspf': 'http://xspf.org/ns/0/',
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_143_parse_xspf, 0, __pyx_n_s_InfoExtractor__parse_xspf, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__415)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1434, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_xspf, __pyx_t_4) < 0) __PYX_ERR(0, 1434, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1469
 *         return entries
 * 
 *     def _extract_mpd_formats(self, mpd_url, video_id, mpd_id=None, note=None, errnote=None, fatal=True, formats_dict={}):             # <<<<<<<<<<<<<<
 *         res = self._download_webpage_handle(
 *             mpd_url, video_id,
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_145_extract_mpd_formats, 0, __pyx_n_s_InfoExtractor__extract_mpd_forma, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__417)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1469, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults9), 1)) __PYX_ERR(0, 1469, __pyx_L1_error)
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1469, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults9, __pyx_t_4)->__pyx_arg_formats_dict = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_201__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract_mpd_formats, __pyx_t_4) < 0) __PYX_ERR(0, 1469, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1483
 *             compat_etree_fromstring(mpd.encode('utf-8')), mpd_id, mpd_base_url, formats_dict=formats_dict)
 * 
 *     def _parse_mpd_formats(self, mpd_doc, mpd_id=None, mpd_base_url='', formats_dict={}):             # <<<<<<<<<<<<<<
 *         """
 *         Parse formats from MPD manifest.
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_147_parse_mpd_formats, 0, __pyx_n_s_InfoExtractor__parse_mpd_formats_6, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__419)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1483, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (!__Pyx_CyFunction_InitDefaults(__pyx_t_4, sizeof(__pyx_defaults10), 1)) __PYX_ERR(0, 1483, __pyx_L1_error)
  __pyx_t_5 = PyDict_New(); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1483, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_CyFunction_Defaults(__pyx_defaults10, __pyx_t_4)->__pyx_arg_formats_dict = __pyx_t_5;
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __Pyx_CyFunction_SetDefaultsGetter(__pyx_t_4, __pyx_pf_10youtube_dl_9extractor_6common_13InfoExtractor_203__defaults__);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_mpd_formats, __pyx_t_4) < 0) __PYX_ERR(0, 1483, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1673
 *         return formats
 * 
 *     def _parse_html5_media_entries(self, base_url, webpage):             # <<<<<<<<<<<<<<
 *         def absolute_url(video_url):
 *             return compat_urlparse.urljoin(base_url, video_url)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_149_parse_html5_media_entries, 0, __pyx_n_s_InfoExtractor__parse_html5_media_3, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__421)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1673, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_parse_html5_media_entries, __pyx_t_4) < 0) __PYX_ERR(0, 1673, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1729
 *         return entries
 * 
 *     def _live_title(self, name):             # <<<<<<<<<<<<<<
 *         """ Generate the title for a live video """
 *         now = datetime.datetime.now()
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_151_live_title, 0, __pyx_n_s_InfoExtractor__live_title, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__423)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1729, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_live_title, __pyx_t_4) < 0) __PYX_ERR(0, 1729, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1735
 *         return name + ' ' + now_str
 * 
 *     def _int(self, v, name, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         res = int_or_none(v, **kwargs)
 *         if 'get_attr' in kwargs:
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_153_int, 0, __pyx_n_s_InfoExtractor__int, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__425)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1735, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__426);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_int, __pyx_t_4) < 0) __PYX_ERR(0, 1735, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1747
 *         return res
 * 
 *     def _float(self, v, name, fatal=False, **kwargs):             # <<<<<<<<<<<<<<
 *         res = float_or_none(v, **kwargs)
 *         if res is None:
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_155_float, 0, __pyx_n_s_InfoExtractor__float, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__428)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1747, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__429);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_float, __pyx_t_4) < 0) __PYX_ERR(0, 1747, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1757
 *         return res
 * 
 *     def _set_cookie(self, domain, name, value, expire_time=None):             # <<<<<<<<<<<<<<
 *         cookie = compat_cookiejar.Cookie(
 *             0, name, value, None, None, domain, None,
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_157_set_cookie, 0, __pyx_n_s_InfoExtractor__set_cookie, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__431)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1757, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__432);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_set_cookie_2, __pyx_t_4) < 0) __PYX_ERR(0, 1757, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1763
 *         self._downloader.cookiejar.set_cookie(cookie)
 * 
 *     def _get_cookies(self, url):             # <<<<<<<<<<<<<<
 *         """ Return a compat_cookies.SimpleCookie with the cookies for the url """
 *         req = sanitized_Request(url)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_159_get_cookies, 0, __pyx_n_s_InfoExtractor__get_cookies, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__434)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1763, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_get_cookies, __pyx_t_4) < 0) __PYX_ERR(0, 1763, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1769
 *         return compat_cookies.SimpleCookie(req.get_header('Cookie'))
 * 
 *     def get_testcases(self, include_onlymatching=False):             # <<<<<<<<<<<<<<
 *         t = getattr(self, '_TEST', None)
 *         if t:
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_161get_testcases, 0, __pyx_n_s_InfoExtractor_get_testcases, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__436)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1769, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__437);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_get_testcases, __pyx_t_4) < 0) __PYX_ERR(0, 1769, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1783
 *             yield t
 * 
 *     def is_suitable(self, age_limit):             # <<<<<<<<<<<<<<
 *         """ Test whether the extractor is generally suitable for the given
 *         age limit (i.e. pornographic sites are not, all others usually are) """
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_164is_suitable, 0, __pyx_n_s_InfoExtractor_is_suitable, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__439)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1783, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_is_suitable, __pyx_t_4) < 0) __PYX_ERR(0, 1783, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1798
 *         return not any_restricted
 * 
 *     def extract_subtitles(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('writesubtitles', False) or
 *                 self._downloader.params.get('listsubtitles')):
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_166extract_subtitles, 0, __pyx_n_s_InfoExtractor_extract_subtitles, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__441)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1798, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract_subtitles, __pyx_t_4) < 0) __PYX_ERR(0, 1798, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1804
 *         return {}
 * 
 *     def _get_subtitles(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_168_get_subtitles, 0, __pyx_n_s_InfoExtractor__get_subtitles, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__443)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1804, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_get_subtitles, __pyx_t_4) < 0) __PYX_ERR(0, 1804, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1808
 * 
 *     @staticmethod
 *     def _merge_subtitle_items(subtitle_list1, subtitle_list2):             # <<<<<<<<<<<<<<
 *         """ Merge subtitle items for one language. Items with duplicated URLs
 *         will be dropped. """
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_170_merge_subtitle_items, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_InfoExtractor__merge_subtitle_it, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__445)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1808, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":1807
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     @staticmethod             # <<<<<<<<<<<<<<
 *     def _merge_subtitle_items(subtitle_list1, subtitle_list2):
 *         """ Merge subtitle items for one language. Items with duplicated URLs
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1807, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_staticmethod, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1807, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_merge_subtitle_items, __pyx_t_4) < 0) __PYX_ERR(0, 1808, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1817
 * 
 *     @classmethod
 *     def _merge_subtitles(cls, subtitle_dict1, subtitle_dict2):             # <<<<<<<<<<<<<<
 *         """ Merge two subtitle dictionaries, language by language. """
 *         ret = dict(subtitle_dict1)
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_172_merge_subtitles, __Pyx_CYFUNCTION_CLASSMETHOD, __pyx_n_s_InfoExtractor__merge_subtitles, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__447)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1817, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":1816
 *         return ret
 * 
 *     @classmethod             # <<<<<<<<<<<<<<
 *     def _merge_subtitles(cls, subtitle_dict1, subtitle_dict2):
 *         """ Merge two subtitle dictionaries, language by language. """
 */
  __pyx_t_5 = __Pyx_Method_ClassMethod(__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1816, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_merge_subtitles, __pyx_t_5) < 0) __PYX_ERR(0, 1817, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1824
 *         return ret
 * 
 *     def extract_automatic_captions(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('writeautomaticsub', False) or
 *                 self._downloader.params.get('listsubtitles')):
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_174extract_automatic_captions, 0, __pyx_n_s_InfoExtractor_extract_automatic, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__449)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1824, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_extract_automatic_captions, __pyx_t_5) < 0) __PYX_ERR(0, 1824, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1830
 *         return {}
 * 
 *     def _get_automatic_captions(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_176_get_automatic_captions, 0, __pyx_n_s_InfoExtractor__get_automatic_cap, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__451)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1830, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_get_automatic_captions, __pyx_t_5) < 0) __PYX_ERR(0, 1830, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1833
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     def mark_watched(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         if (self._downloader.params.get('mark_watched', False) and
 *                 (self._get_login_info()[0] is not None or
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_178mark_watched, 0, __pyx_n_s_InfoExtractor_mark_watched, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__453)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1833, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_mark_watched, __pyx_t_5) < 0) __PYX_ERR(0, 1833, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1839
 *             self._mark_watched(*args, **kwargs)
 * 
 *     def _mark_watched(self, *args, **kwargs):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_180_mark_watched, 0, __pyx_n_s_InfoExtractor__mark_watched, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__455)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1839, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_mark_watched_2, __pyx_t_5) < 0) __PYX_ERR(0, 1839, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1842
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     def geo_verification_headers(self):             # <<<<<<<<<<<<<<
 *         headers = {}
 *         geo_verification_proxy = self._downloader.params.get('geo_verification_proxy')
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_13InfoExtractor_182geo_verification_headers, 0, __pyx_n_s_InfoExtractor_geo_verification_h, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__457)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1842, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_geo_verification_headers, __pyx_t_5) < 0) __PYX_ERR(0, 1842, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":63
 * 
 * 
 * class InfoExtractor(object):             # <<<<<<<<<<<<<<
 *     """Information Extractor class.
 * 
 */
  __pyx_t_5 = __Pyx_Py3ClassCreate(__pyx_t_1, __pyx_n_s_InfoExtractor, __pyx_t_2, __pyx_t_3, NULL, 0, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 63, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_InfoExtractor, __pyx_t_5) < 0) __PYX_ERR(0, 63, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "youtube_dl/extractor/common.py":1850
 * 
 * 
 * class SearchInfoExtractor(InfoExtractor):             # <<<<<<<<<<<<<<
 *     """
 *     Base class for paged search queries extractors.
 */
  __pyx_t_2 = __Pyx_GetModuleGlobalName(__pyx_n_s_InfoExtractor); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1850, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1850, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_CalculateMetaclass(NULL, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1850, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_Py3MetaclassPrepare(__pyx_t_2, __pyx_t_1, __pyx_n_s_SearchInfoExtractor, __pyx_n_s_SearchInfoExtractor, (PyObject *) NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_kp_s_Base_class_for_paged_search_que); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1850, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_3);

  /* "youtube_dl/extractor/common.py":1858
 * 
 *     @classmethod
 *     def _make_valid_url(cls):             # <<<<<<<<<<<<<<
 *         return r'%s(?P<prefix>|[1-9][0-9]*|all):(?P<query>[\s\S]+)' % cls._SEARCH_KEY
 * 
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_1_make_valid_url, __Pyx_CYFUNCTION_CLASSMETHOD, __pyx_n_s_SearchInfoExtractor__make_valid, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__459)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1858, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);

  /* "youtube_dl/extractor/common.py":1857
 *     """
 * 
 *     @classmethod             # <<<<<<<<<<<<<<
 *     def _make_valid_url(cls):
 *         return r'%s(?P<prefix>|[1-9][0-9]*|all):(?P<query>[\s\S]+)' % cls._SEARCH_KEY
 */
  __pyx_t_4 = __Pyx_Method_ClassMethod(__pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1857, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_make_valid_url, __pyx_t_4) < 0) __PYX_ERR(0, 1858, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "youtube_dl/extractor/common.py":1862
 * 
 *     @classmethod
 *     def suitable(cls, url):             # <<<<<<<<<<<<<<
 *         return re.match(cls._make_valid_url(), url) is not None
 * 
 */
  __pyx_t_4 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_3suitable, __Pyx_CYFUNCTION_CLASSMETHOD, __pyx_n_s_SearchInfoExtractor_suitable, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__461)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1862, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);

  /* "youtube_dl/extractor/common.py":1861
 *         return r'%s(?P<prefix>|[1-9][0-9]*|all):(?P<query>[\s\S]+)' % cls._SEARCH_KEY
 * 
 *     @classmethod             # <<<<<<<<<<<<<<
 *     def suitable(cls, url):
 *         return re.match(cls._make_valid_url(), url) is not None
 */
  __pyx_t_5 = __Pyx_Method_ClassMethod(__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1861, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_suitable, __pyx_t_5) < 0) __PYX_ERR(0, 1862, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1865
 *         return re.match(cls._make_valid_url(), url) is not None
 * 
 *     def _real_extract(self, query):             # <<<<<<<<<<<<<<
 *         mobj = re.match(self._make_valid_url(), query)
 *         if mobj is None:
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_5_real_extract, 0, __pyx_n_s_SearchInfoExtractor__real_extrac, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__463)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1865, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_real_extract, __pyx_t_5) < 0) __PYX_ERR(0, 1865, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1885
 *             return self._get_n_results(query, n)
 * 
 *     def _get_n_results(self, query, n):             # <<<<<<<<<<<<<<
 *         """Get a specified number of results for a query"""
 *         raise NotImplementedError('This method must be implemented by subclasses')
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_7_get_n_results, 0, __pyx_n_s_SearchInfoExtractor__get_n_resul, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__465)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1885, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_get_n_results, __pyx_t_5) < 0) __PYX_ERR(0, 1885, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1890
 * 
 *     @property
 *     def SEARCH_KEY(self):             # <<<<<<<<<<<<<<
 *         return self._SEARCH_KEY
 */
  __pyx_t_5 = __Pyx_CyFunction_NewEx(&__pyx_mdef_10youtube_dl_9extractor_6common_19SearchInfoExtractor_9SEARCH_KEY, 0, __pyx_n_s_SearchInfoExtractor_SEARCH_KEY, NULL, __pyx_n_s_youtube_dl_extractor_common, __pyx_d, ((PyObject *)__pyx_codeobj__467)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1890, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);

  /* "youtube_dl/extractor/common.py":1889
 *         raise NotImplementedError('This method must be implemented by subclasses')
 * 
 *     @property             # <<<<<<<<<<<<<<
 *     def SEARCH_KEY(self):
 *         return self._SEARCH_KEY
 */
  __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1889, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_5);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = __Pyx_PyObject_Call(__pyx_builtin_property, __pyx_t_4, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1889, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (PyObject_SetItem(__pyx_t_3, __pyx_n_s_SEARCH_KEY_2, __pyx_t_5) < 0) __PYX_ERR(0, 1890, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "youtube_dl/extractor/common.py":1850
 * 
 * 
 * class SearchInfoExtractor(InfoExtractor):             # <<<<<<<<<<<<<<
 *     """
 *     Base class for paged search queries extractors.
 */
  __pyx_t_5 = __Pyx_Py3ClassCreate(__pyx_t_2, __pyx_n_s_SearchInfoExtractor, __pyx_t_1, __pyx_t_3, NULL, 0, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1850, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_SearchInfoExtractor, __pyx_t_5) < 0) __PYX_ERR(0, 1850, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "youtube_dl/extractor/common.py":1
 * from __future__ import unicode_literals             # <<<<<<<<<<<<<<
 * 
 * import base64
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_1) < 0) __PYX_ERR(0, 1, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /*--- Wrapped vars code ---*/

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  if (__pyx_m) {
    if (__pyx_d) {
      __Pyx_AddTraceback("init youtube_dl.extractor.common", __pyx_clineno, __pyx_lineno, __pyx_filename);
    }
    Py_DECREF(__pyx_m); __pyx_m = 0;
  } else if (!PyErr_Occurred()) {
    PyErr_SetString(PyExc_ImportError, "init youtube_dl.extractor.common");
  }
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  #if PY_MAJOR_VERSION < 3
  return;
  #else
  return __pyx_m;
  #endif
}

/* --- Runtime support code --- */
/* Refnanny */
#if CYTHON_REFNANNY
static __Pyx_RefNannyAPIStruct *__Pyx_RefNannyImportAPI(const char *modname) {
    PyObject *m = NULL, *p = NULL;
    void *r = NULL;
    m = PyImport_ImportModule((char *)modname);
    if (!m) goto end;
    p = PyObject_GetAttrString(m, (char *)"RefNannyAPI");
    if (!p) goto end;
    r = PyLong_AsVoidPtr(p);
end:
    Py_XDECREF(p);
    Py_XDECREF(m);
    return (__Pyx_RefNannyAPIStruct *)r;
}
#endif

/* GetBuiltinName */
static PyObject *__Pyx_GetBuiltinName(PyObject *name) {
    PyObject* result = __Pyx_PyObject_GetAttrStr(__pyx_b, name);
    if (unlikely(!result)) {
        PyErr_Format(PyExc_NameError,
#if PY_MAJOR_VERSION >= 3
            "name '%U' is not defined", name);
#else
            "name '%.200s' is not defined", PyString_AS_STRING(name));
#endif
    }
    return result;
}

/* GetModuleGlobalName */
static CYTHON_INLINE PyObject *__Pyx_GetModuleGlobalName(PyObject *name) {
    PyObject *result;
#if CYTHON_COMPILING_IN_CPYTHON
    result = PyDict_GetItem(__pyx_d, name);
    if (likely(result)) {
        Py_INCREF(result);
    } else {
#else
    result = PyObject_GetItem(__pyx_d, name);
    if (!result) {
        PyErr_Clear();
#endif
        result = __Pyx_GetBuiltinName(name);
    }
    return result;
}

/* PyObjectCall */
  #if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_Call(PyObject *func, PyObject *arg, PyObject *kw) {
    PyObject *result;
    ternaryfunc call = func->ob_type->tp_call;
    if (unlikely(!call))
        return PyObject_Call(func, arg, kw);
    if (unlikely(Py_EnterRecursiveCall((char*)" while calling a Python object")))
        return NULL;
    result = (*call)(func, arg, kw);
    Py_LeaveRecursiveCall();
    if (unlikely(!result) && unlikely(!PyErr_Occurred())) {
        PyErr_SetString(
            PyExc_SystemError,
            "NULL result without error in PyObject_Call");
    }
    return result;
}
#endif

/* PyObjectCallMethO */
  #if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallMethO(PyObject *func, PyObject *arg) {
    PyObject *self, *result;
    PyCFunction cfunc;
    cfunc = PyCFunction_GET_FUNCTION(func);
    self = PyCFunction_GET_SELF(func);
    if (unlikely(Py_EnterRecursiveCall((char*)" while calling a Python object")))
        return NULL;
    result = cfunc(self, arg);
    Py_LeaveRecursiveCall();
    if (unlikely(!result) && unlikely(!PyErr_Occurred())) {
        PyErr_SetString(
            PyExc_SystemError,
            "NULL result without error in PyObject_Call");
    }
    return result;
}
#endif

/* PyObjectCallOneArg */
  #if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx__PyObject_CallOneArg(PyObject *func, PyObject *arg) {
    PyObject *result;
    PyObject *args = PyTuple_New(1);
    if (unlikely(!args)) return NULL;
    Py_INCREF(arg);
    PyTuple_SET_ITEM(args, 0, arg);
    result = __Pyx_PyObject_Call(func, args, NULL);
    Py_DECREF(args);
    return result;
}
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallOneArg(PyObject *func, PyObject *arg) {
#ifdef __Pyx_CyFunction_USED
    if (likely(PyCFunction_Check(func) || PyObject_TypeCheck(func, __pyx_CyFunctionType))) {
#else
    if (likely(PyCFunction_Check(func))) {
#endif
        if (likely(PyCFunction_GET_FLAGS(func) & METH_O)) {
            return __Pyx_PyObject_CallMethO(func, arg);
        }
    }
    return __Pyx__PyObject_CallOneArg(func, arg);
}
#else
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallOneArg(PyObject *func, PyObject *arg) {
    PyObject *result;
    PyObject *args = PyTuple_Pack(1, arg);
    if (unlikely(!args)) return NULL;
    result = __Pyx_PyObject_Call(func, args, NULL);
    Py_DECREF(args);
    return result;
}
#endif

/* PyObjectCallNoArg */
    #if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallNoArg(PyObject *func) {
#ifdef __Pyx_CyFunction_USED
    if (likely(PyCFunction_Check(func) || PyObject_TypeCheck(func, __pyx_CyFunctionType))) {
#else
    if (likely(PyCFunction_Check(func))) {
#endif
        if (likely(PyCFunction_GET_FLAGS(func) & METH_NOARGS)) {
            return __Pyx_PyObject_CallMethO(func, NULL);
        }
    }
    return __Pyx_PyObject_Call(func, __pyx_empty_tuple, NULL);
}
#endif

/* RaiseDoubleKeywords */
      static void __Pyx_RaiseDoubleKeywordsError(
    const char* func_name,
    PyObject* kw_name)
{
    PyErr_Format(PyExc_TypeError,
        #if PY_MAJOR_VERSION >= 3
        "%s() got multiple values for keyword argument '%U'", func_name, kw_name);
        #else
        "%s() got multiple values for keyword argument '%s'", func_name,
        PyString_AsString(kw_name));
        #endif
}

/* ParseKeywords */
      static int __Pyx_ParseOptionalKeywords(
    PyObject *kwds,
    PyObject **argnames[],
    PyObject *kwds2,
    PyObject *values[],
    Py_ssize_t num_pos_args,
    const char* function_name)
{
    PyObject *key = 0, *value = 0;
    Py_ssize_t pos = 0;
    PyObject*** name;
    PyObject*** first_kw_arg = argnames + num_pos_args;
    while (PyDict_Next(kwds, &pos, &key, &value)) {
        name = first_kw_arg;
        while (*name && (**name != key)) name++;
        if (*name) {
            values[name-argnames] = value;
            continue;
        }
        name = first_kw_arg;
        #if PY_MAJOR_VERSION < 3
        if (likely(PyString_CheckExact(key)) || likely(PyString_Check(key))) {
            while (*name) {
                if ((CYTHON_COMPILING_IN_PYPY || PyString_GET_SIZE(**name) == PyString_GET_SIZE(key))
                        && _PyString_Eq(**name, key)) {
                    values[name-argnames] = value;
                    break;
                }
                name++;
            }
            if (*name) continue;
            else {
                PyObject*** argname = argnames;
                while (argname != first_kw_arg) {
                    if ((**argname == key) || (
                            (CYTHON_COMPILING_IN_PYPY || PyString_GET_SIZE(**argname) == PyString_GET_SIZE(key))
                             && _PyString_Eq(**argname, key))) {
                        goto arg_passed_twice;
                    }
                    argname++;
                }
            }
        } else
        #endif
        if (likely(PyUnicode_Check(key))) {
            while (*name) {
                int cmp = (**name == key) ? 0 :
                #if !CYTHON_COMPILING_IN_PYPY && PY_MAJOR_VERSION >= 3
                    (PyUnicode_GET_SIZE(**name) != PyUnicode_GET_SIZE(key)) ? 1 :
                #endif
                    PyUnicode_Compare(**name, key);
                if (cmp < 0 && unlikely(PyErr_Occurred())) goto bad;
                if (cmp == 0) {
                    values[name-argnames] = value;
                    break;
                }
                name++;
            }
            if (*name) continue;
            else {
                PyObject*** argname = argnames;
                while (argname != first_kw_arg) {
                    int cmp = (**argname == key) ? 0 :
                    #if !CYTHON_COMPILING_IN_PYPY && PY_MAJOR_VERSION >= 3
                        (PyUnicode_GET_SIZE(**argname) != PyUnicode_GET_SIZE(key)) ? 1 :
                    #endif
                        PyUnicode_Compare(**argname, key);
                    if (cmp < 0 && unlikely(PyErr_Occurred())) goto bad;
                    if (cmp == 0) goto arg_passed_twice;
                    argname++;
                }
            }
        } else
            goto invalid_keyword_type;
        if (kwds2) {
            if (unlikely(PyDict_SetItem(kwds2, key, value))) goto bad;
        } else {
            goto invalid_keyword;
        }
    }
    return 0;
arg_passed_twice:
    __Pyx_RaiseDoubleKeywordsError(function_name, key);
    goto bad;
invalid_keyword_type:
    PyErr_Format(PyExc_TypeError,
        "%.200s() keywords must be strings", function_name);
    goto bad;
invalid_keyword:
    PyErr_Format(PyExc_TypeError,
    #if PY_MAJOR_VERSION < 3
        "%.200s() got an unexpected keyword argument '%.200s'",
        function_name, PyString_AsString(key));
    #else
        "%s() got an unexpected keyword argument '%U'",
        function_name, key);
    #endif
bad:
    return -1;
}

/* RaiseArgTupleInvalid */
      static void __Pyx_RaiseArgtupleInvalid(
    const char* func_name,
    int exact,
    Py_ssize_t num_min,
    Py_ssize_t num_max,
    Py_ssize_t num_found)
{
    Py_ssize_t num_expected;
    const char *more_or_less;
    if (num_found < num_min) {
        num_expected = num_min;
        more_or_less = "at least";
    } else {
        num_expected = num_max;
        more_or_less = "at most";
    }
    if (exact) {
        more_or_less = "exactly";
    }
    PyErr_Format(PyExc_TypeError,
                 "%.200s() takes %.8s %" CYTHON_FORMAT_SSIZE_T "d positional argument%.1s (%" CYTHON_FORMAT_SSIZE_T "d given)",
                 func_name, more_or_less, num_expected,
                 (num_expected == 1) ? "" : "s", num_found);
}

/* SaveResetException */
      #if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE void __Pyx__ExceptionSave(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb) {
    *type = tstate->exc_type;
    *value = tstate->exc_value;
    *tb = tstate->exc_traceback;
    Py_XINCREF(*type);
    Py_XINCREF(*value);
    Py_XINCREF(*tb);
}
static CYTHON_INLINE void __Pyx__ExceptionReset(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = type;
    tstate->exc_value = value;
    tstate->exc_traceback = tb;
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
}
#endif

/* PyErrExceptionMatches */
      #if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err) {
    PyObject *exc_type = tstate->curexc_type;
    if (exc_type == err) return 1;
    if (unlikely(!exc_type)) return 0;
    return PyErr_GivenExceptionMatches(exc_type, err);
}
#endif

/* GetException */
      #if CYTHON_COMPILING_IN_CPYTHON
static int __Pyx__GetException(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb) {
#else
static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb) {
#endif
    PyObject *local_type, *local_value, *local_tb;
#if CYTHON_COMPILING_IN_CPYTHON
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    local_type = tstate->curexc_type;
    local_value = tstate->curexc_value;
    local_tb = tstate->curexc_traceback;
    tstate->curexc_type = 0;
    tstate->curexc_value = 0;
    tstate->curexc_traceback = 0;
#else
    PyErr_Fetch(&local_type, &local_value, &local_tb);
#endif
    PyErr_NormalizeException(&local_type, &local_value, &local_tb);
#if CYTHON_COMPILING_IN_CPYTHON
    if (unlikely(tstate->curexc_type))
#else
    if (unlikely(PyErr_Occurred()))
#endif
        goto bad;
    #if PY_MAJOR_VERSION >= 3
    if (local_tb) {
        if (unlikely(PyException_SetTraceback(local_value, local_tb) < 0))
            goto bad;
    }
    #endif
    Py_XINCREF(local_tb);
    Py_XINCREF(local_type);
    Py_XINCREF(local_value);
    *type = local_type;
    *value = local_value;
    *tb = local_tb;
#if CYTHON_COMPILING_IN_CPYTHON
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = local_type;
    tstate->exc_value = local_value;
    tstate->exc_traceback = local_tb;
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
#else
    PyErr_SetExcInfo(local_type, local_value, local_tb);
#endif
    return 0;
bad:
    *type = 0;
    *value = 0;
    *tb = 0;
    Py_XDECREF(local_type);
    Py_XDECREF(local_value);
    Py_XDECREF(local_tb);
    return -1;
}

/* PyErrFetchRestore */
        #if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE void __Pyx_ErrRestoreInState(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    tmp_type = tstate->curexc_type;
    tmp_value = tstate->curexc_value;
    tmp_tb = tstate->curexc_traceback;
    tstate->curexc_type = type;
    tstate->curexc_value = value;
    tstate->curexc_traceback = tb;
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
}
static CYTHON_INLINE void __Pyx_ErrFetchInState(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb) {
    *type = tstate->curexc_type;
    *value = tstate->curexc_value;
    *tb = tstate->curexc_traceback;
    tstate->curexc_type = 0;
    tstate->curexc_value = 0;
    tstate->curexc_traceback = 0;
}
#endif

/* RaiseException */
        #if PY_MAJOR_VERSION < 3
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb,
                        CYTHON_UNUSED PyObject *cause) {
    __Pyx_PyThreadState_declare
    Py_XINCREF(type);
    if (!value || value == Py_None)
        value = NULL;
    else
        Py_INCREF(value);
    if (!tb || tb == Py_None)
        tb = NULL;
    else {
        Py_INCREF(tb);
        if (!PyTraceBack_Check(tb)) {
            PyErr_SetString(PyExc_TypeError,
                "raise: arg 3 must be a traceback or None");
            goto raise_error;
        }
    }
    if (PyType_Check(type)) {
#if CYTHON_COMPILING_IN_PYPY
        if (!value) {
            Py_INCREF(Py_None);
            value = Py_None;
        }
#endif
        PyErr_NormalizeException(&type, &value, &tb);
    } else {
        if (value) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto raise_error;
        }
        value = type;
        type = (PyObject*) Py_TYPE(type);
        Py_INCREF(type);
        if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
            PyErr_SetString(PyExc_TypeError,
                "raise: exception class must be a subclass of BaseException");
            goto raise_error;
        }
    }
    __Pyx_PyThreadState_assign
    __Pyx_ErrRestore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}
#else
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
    PyObject* owned_instance = NULL;
    if (tb == Py_None) {
        tb = 0;
    } else if (tb && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto bad;
    }
    if (value == Py_None)
        value = 0;
    if (PyExceptionInstance_Check(type)) {
        if (value) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto bad;
        }
        value = type;
        type = (PyObject*) Py_TYPE(value);
    } else if (PyExceptionClass_Check(type)) {
        PyObject *instance_class = NULL;
        if (value && PyExceptionInstance_Check(value)) {
            instance_class = (PyObject*) Py_TYPE(value);
            if (instance_class != type) {
                int is_subclass = PyObject_IsSubclass(instance_class, type);
                if (!is_subclass) {
                    instance_class = NULL;
                } else if (unlikely(is_subclass == -1)) {
                    goto bad;
                } else {
                    type = instance_class;
                }
            }
        }
        if (!instance_class) {
            PyObject *args;
            if (!value)
                args = PyTuple_New(0);
            else if (PyTuple_Check(value)) {
                Py_INCREF(value);
                args = value;
            } else
                args = PyTuple_Pack(1, value);
            if (!args)
                goto bad;
            owned_instance = PyObject_Call(type, args, NULL);
            Py_DECREF(args);
            if (!owned_instance)
                goto bad;
            value = owned_instance;
            if (!PyExceptionInstance_Check(value)) {
                PyErr_Format(PyExc_TypeError,
                             "calling %R should have returned an instance of "
                             "BaseException, not %R",
                             type, Py_TYPE(value));
                goto bad;
            }
        }
    } else {
        PyErr_SetString(PyExc_TypeError,
            "raise: exception class must be a subclass of BaseException");
        goto bad;
    }
#if PY_VERSION_HEX >= 0x03030000
    if (cause) {
#else
    if (cause && cause != Py_None) {
#endif
        PyObject *fixed_cause;
        if (cause == Py_None) {
            fixed_cause = NULL;
        } else if (PyExceptionClass_Check(cause)) {
            fixed_cause = PyObject_CallObject(cause, NULL);
            if (fixed_cause == NULL)
                goto bad;
        } else if (PyExceptionInstance_Check(cause)) {
            fixed_cause = cause;
            Py_INCREF(fixed_cause);
        } else {
            PyErr_SetString(PyExc_TypeError,
                            "exception causes must derive from "
                            "BaseException");
            goto bad;
        }
        PyException_SetCause(value, fixed_cause);
    }
    PyErr_SetObject(type, value);
    if (tb) {
#if CYTHON_COMPILING_IN_PYPY
        PyObject *tmp_type, *tmp_value, *tmp_tb;
        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
        Py_INCREF(tb);
        PyErr_Restore(tmp_type, tmp_value, tb);
        Py_XDECREF(tmp_tb);
#else
        PyThreadState *tstate = PyThreadState_GET();
        PyObject* tmp_tb = tstate->curexc_traceback;
        if (tb != tmp_tb) {
            Py_INCREF(tb);
            tstate->curexc_traceback = tb;
            Py_XDECREF(tmp_tb);
        }
#endif
    }
bad:
    Py_XDECREF(owned_instance);
    return;
}
#endif

/* SwapException */
          #if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE void __Pyx__ExceptionSwap(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = *type;
    tstate->exc_value = *value;
    tstate->exc_traceback = *tb;
    *type = tmp_type;
    *value = tmp_value;
    *tb = tmp_tb;
}
#else
static CYTHON_INLINE void __Pyx_ExceptionSwap(PyObject **type, PyObject **value, PyObject **tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyErr_GetExcInfo(&tmp_type, &tmp_value, &tmp_tb);
    PyErr_SetExcInfo(*type, *value, *tb);
    *type = tmp_type;
    *value = tmp_value;
    *tb = tmp_tb;
}
#endif

/* SliceObject */
          static CYTHON_INLINE PyObject* __Pyx_PyObject_GetSlice(PyObject* obj,
        Py_ssize_t cstart, Py_ssize_t cstop,
        PyObject** _py_start, PyObject** _py_stop, PyObject** _py_slice,
        int has_cstart, int has_cstop, CYTHON_UNUSED int wraparound) {
#if CYTHON_COMPILING_IN_CPYTHON
    PyMappingMethods* mp;
#if PY_MAJOR_VERSION < 3
    PySequenceMethods* ms = Py_TYPE(obj)->tp_as_sequence;
    if (likely(ms && ms->sq_slice)) {
        if (!has_cstart) {
            if (_py_start && (*_py_start != Py_None)) {
                cstart = __Pyx_PyIndex_AsSsize_t(*_py_start);
                if ((cstart == (Py_ssize_t)-1) && PyErr_Occurred()) goto bad;
            } else
                cstart = 0;
        }
        if (!has_cstop) {
            if (_py_stop && (*_py_stop != Py_None)) {
                cstop = __Pyx_PyIndex_AsSsize_t(*_py_stop);
                if ((cstop == (Py_ssize_t)-1) && PyErr_Occurred()) goto bad;
            } else
                cstop = PY_SSIZE_T_MAX;
        }
        if (wraparound && unlikely((cstart < 0) | (cstop < 0)) && likely(ms->sq_length)) {
            Py_ssize_t l = ms->sq_length(obj);
            if (likely(l >= 0)) {
                if (cstop < 0) {
                    cstop += l;
                    if (cstop < 0) cstop = 0;
                }
                if (cstart < 0) {
                    cstart += l;
                    if (cstart < 0) cstart = 0;
                }
            } else {
                if (!PyErr_ExceptionMatches(PyExc_OverflowError))
                    goto bad;
                PyErr_Clear();
            }
        }
        return ms->sq_slice(obj, cstart, cstop);
    }
#endif
    mp = Py_TYPE(obj)->tp_as_mapping;
    if (likely(mp && mp->mp_subscript))
#endif
    {
        PyObject* result;
        PyObject *py_slice, *py_start, *py_stop;
        if (_py_slice) {
            py_slice = *_py_slice;
        } else {
            PyObject* owned_start = NULL;
            PyObject* owned_stop = NULL;
            if (_py_start) {
                py_start = *_py_start;
            } else {
                if (has_cstart) {
                    owned_start = py_start = PyInt_FromSsize_t(cstart);
                    if (unlikely(!py_start)) goto bad;
                } else
                    py_start = Py_None;
            }
            if (_py_stop) {
                py_stop = *_py_stop;
            } else {
                if (has_cstop) {
                    owned_stop = py_stop = PyInt_FromSsize_t(cstop);
                    if (unlikely(!py_stop)) {
                        Py_XDECREF(owned_start);
                        goto bad;
                    }
                } else
                    py_stop = Py_None;
            }
            py_slice = PySlice_New(py_start, py_stop, Py_None);
            Py_XDECREF(owned_start);
            Py_XDECREF(owned_stop);
            if (unlikely(!py_slice)) goto bad;
        }
#if CYTHON_COMPILING_IN_CPYTHON
        result = mp->mp_subscript(obj, py_slice);
#else
        result = PyObject_GetItem(obj, py_slice);
#endif
        if (!_py_slice) {
            Py_DECREF(py_slice);
        }
        return result;
    }
    PyErr_Format(PyExc_TypeError,
        "'%.200s' object is unsliceable", Py_TYPE(obj)->tp_name);
bad:
    return NULL;
}

/* GetItemInt */
          static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j) {
    PyObject *r;
    if (!j) return NULL;
    r = PyObject_GetItem(o, j);
    Py_DECREF(j);
    return r;
}
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_List_Fast(PyObject *o, Py_ssize_t i,
                                                              CYTHON_NCP_UNUSED int wraparound,
                                                              CYTHON_NCP_UNUSED int boundscheck) {
#if CYTHON_COMPILING_IN_CPYTHON
    if (wraparound & unlikely(i < 0)) i += PyList_GET_SIZE(o);
    if ((!boundscheck) || likely((0 <= i) & (i < PyList_GET_SIZE(o)))) {
        PyObject *r = PyList_GET_ITEM(o, i);
        Py_INCREF(r);
        return r;
    }
    return __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
#else
    return PySequence_GetItem(o, i);
#endif
}
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Tuple_Fast(PyObject *o, Py_ssize_t i,
                                                              CYTHON_NCP_UNUSED int wraparound,
                                                              CYTHON_NCP_UNUSED int boundscheck) {
#if CYTHON_COMPILING_IN_CPYTHON
    if (wraparound & unlikely(i < 0)) i += PyTuple_GET_SIZE(o);
    if ((!boundscheck) || likely((0 <= i) & (i < PyTuple_GET_SIZE(o)))) {
        PyObject *r = PyTuple_GET_ITEM(o, i);
        Py_INCREF(r);
        return r;
    }
    return __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
#else
    return PySequence_GetItem(o, i);
#endif
}
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Fast(PyObject *o, Py_ssize_t i, int is_list,
                                                     CYTHON_NCP_UNUSED int wraparound,
                                                     CYTHON_NCP_UNUSED int boundscheck) {
#if CYTHON_COMPILING_IN_CPYTHON
    if (is_list || PyList_CheckExact(o)) {
        Py_ssize_t n = ((!wraparound) | likely(i >= 0)) ? i : i + PyList_GET_SIZE(o);
        if ((!boundscheck) || (likely((n >= 0) & (n < PyList_GET_SIZE(o))))) {
            PyObject *r = PyList_GET_ITEM(o, n);
            Py_INCREF(r);
            return r;
        }
    }
    else if (PyTuple_CheckExact(o)) {
        Py_ssize_t n = ((!wraparound) | likely(i >= 0)) ? i : i + PyTuple_GET_SIZE(o);
        if ((!boundscheck) || likely((n >= 0) & (n < PyTuple_GET_SIZE(o)))) {
            PyObject *r = PyTuple_GET_ITEM(o, n);
            Py_INCREF(r);
            return r;
        }
    } else {
        PySequenceMethods *m = Py_TYPE(o)->tp_as_sequence;
        if (likely(m && m->sq_item)) {
            if (wraparound && unlikely(i < 0) && likely(m->sq_length)) {
                Py_ssize_t l = m->sq_length(o);
                if (likely(l >= 0)) {
                    i += l;
                } else {
                    if (!PyErr_ExceptionMatches(PyExc_OverflowError))
                        return NULL;
                    PyErr_Clear();
                }
            }
            return m->sq_item(o, i);
        }
    }
#else
    if (is_list || PySequence_Check(o)) {
        return PySequence_GetItem(o, i);
    }
#endif
    return __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
}

/* PyUnicode_Substring */
          static CYTHON_INLINE PyObject* __Pyx_PyUnicode_Substring(
            PyObject* text, Py_ssize_t start, Py_ssize_t stop) {
    Py_ssize_t length;
    if (unlikely(__Pyx_PyUnicode_READY(text) == -1)) return NULL;
    length = __Pyx_PyUnicode_GET_LENGTH(text);
    if (start < 0) {
        start += length;
        if (start < 0)
            start = 0;
    }
    if (stop < 0)
        stop += length;
    else if (stop > length)
        stop = length;
    length = stop - start;
    if (length <= 0)
        return PyUnicode_FromUnicode(NULL, 0);
#if CYTHON_PEP393_ENABLED
    return PyUnicode_FromKindAndData(PyUnicode_KIND(text),
        PyUnicode_1BYTE_DATA(text) + start*PyUnicode_KIND(text), stop-start);
#else
    return PyUnicode_FromUnicode(PyUnicode_AS_UNICODE(text)+start, stop-start);
#endif
}

/* BytesEquals */
          static CYTHON_INLINE int __Pyx_PyBytes_Equals(PyObject* s1, PyObject* s2, int equals) {
#if CYTHON_COMPILING_IN_PYPY
    return PyObject_RichCompareBool(s1, s2, equals);
#else
    if (s1 == s2) {
        return (equals == Py_EQ);
    } else if (PyBytes_CheckExact(s1) & PyBytes_CheckExact(s2)) {
        const char *ps1, *ps2;
        Py_ssize_t length = PyBytes_GET_SIZE(s1);
        if (length != PyBytes_GET_SIZE(s2))
            return (equals == Py_NE);
        ps1 = PyBytes_AS_STRING(s1);
        ps2 = PyBytes_AS_STRING(s2);
        if (ps1[0] != ps2[0]) {
            return (equals == Py_NE);
        } else if (length == 1) {
            return (equals == Py_EQ);
        } else {
            int result = memcmp(ps1, ps2, (size_t)length);
            return (equals == Py_EQ) ? (result == 0) : (result != 0);
        }
    } else if ((s1 == Py_None) & PyBytes_CheckExact(s2)) {
        return (equals == Py_NE);
    } else if ((s2 == Py_None) & PyBytes_CheckExact(s1)) {
        return (equals == Py_NE);
    } else {
        int result;
        PyObject* py_result = PyObject_RichCompare(s1, s2, equals);
        if (!py_result)
            return -1;
        result = __Pyx_PyObject_IsTrue(py_result);
        Py_DECREF(py_result);
        return result;
    }
#endif
}

/* UnicodeEquals */
          static CYTHON_INLINE int __Pyx_PyUnicode_Equals(PyObject* s1, PyObject* s2, int equals) {
#if CYTHON_COMPILING_IN_PYPY
    return PyObject_RichCompareBool(s1, s2, equals);
#else
#if PY_MAJOR_VERSION < 3
    PyObject* owned_ref = NULL;
#endif
    int s1_is_unicode, s2_is_unicode;
    if (s1 == s2) {
        goto return_eq;
    }
    s1_is_unicode = PyUnicode_CheckExact(s1);
    s2_is_unicode = PyUnicode_CheckExact(s2);
#if PY_MAJOR_VERSION < 3
    if ((s1_is_unicode & (!s2_is_unicode)) && PyString_CheckExact(s2)) {
        owned_ref = PyUnicode_FromObject(s2);
        if (unlikely(!owned_ref))
            return -1;
        s2 = owned_ref;
        s2_is_unicode = 1;
    } else if ((s2_is_unicode & (!s1_is_unicode)) && PyString_CheckExact(s1)) {
        owned_ref = PyUnicode_FromObject(s1);
        if (unlikely(!owned_ref))
            return -1;
        s1 = owned_ref;
        s1_is_unicode = 1;
    } else if (((!s2_is_unicode) & (!s1_is_unicode))) {
        return __Pyx_PyBytes_Equals(s1, s2, equals);
    }
#endif
    if (s1_is_unicode & s2_is_unicode) {
        Py_ssize_t length;
        int kind;
        void *data1, *data2;
        if (unlikely(__Pyx_PyUnicode_READY(s1) < 0) || unlikely(__Pyx_PyUnicode_READY(s2) < 0))
            return -1;
        length = __Pyx_PyUnicode_GET_LENGTH(s1);
        if (length != __Pyx_PyUnicode_GET_LENGTH(s2)) {
            goto return_ne;
        }
        kind = __Pyx_PyUnicode_KIND(s1);
        if (kind != __Pyx_PyUnicode_KIND(s2)) {
            goto return_ne;
        }
        data1 = __Pyx_PyUnicode_DATA(s1);
        data2 = __Pyx_PyUnicode_DATA(s2);
        if (__Pyx_PyUnicode_READ(kind, data1, 0) != __Pyx_PyUnicode_READ(kind, data2, 0)) {
            goto return_ne;
        } else if (length == 1) {
            goto return_eq;
        } else {
            int result = memcmp(data1, data2, (size_t)(length * kind));
            #if PY_MAJOR_VERSION < 3
            Py_XDECREF(owned_ref);
            #endif
            return (equals == Py_EQ) ? (result == 0) : (result != 0);
        }
    } else if ((s1 == Py_None) & s2_is_unicode) {
        goto return_ne;
    } else if ((s2 == Py_None) & s1_is_unicode) {
        goto return_ne;
    } else {
        int result;
        PyObject* py_result = PyObject_RichCompare(s1, s2, equals);
        if (!py_result)
            return -1;
        result = __Pyx_PyObject_IsTrue(py_result);
        Py_DECREF(py_result);
        return result;
    }
return_eq:
    #if PY_MAJOR_VERSION < 3
    Py_XDECREF(owned_ref);
    #endif
    return (equals == Py_EQ);
return_ne:
    #if PY_MAJOR_VERSION < 3
    Py_XDECREF(owned_ref);
    #endif
    return (equals == Py_NE);
#endif
}

/* PyIntBinop */
          #if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyInt_AddObjC(PyObject *op1, PyObject *op2, CYTHON_UNUSED long intval, CYTHON_UNUSED int inplace) {
    #if PY_MAJOR_VERSION < 3
    if (likely(PyInt_CheckExact(op1))) {
        const long b = intval;
        long x;
        long a = PyInt_AS_LONG(op1);
            x = (long)((unsigned long)a + b);
            if (likely((x^a) >= 0 || (x^b) >= 0))
                return PyInt_FromLong(x);
            return PyLong_Type.tp_as_number->nb_add(op1, op2);
    }
    #endif
    #if CYTHON_USE_PYLONG_INTERNALS && PY_MAJOR_VERSION >= 3
    if (likely(PyLong_CheckExact(op1))) {
        const long b = intval;
        long a, x;
        const PY_LONG_LONG llb = intval;
        PY_LONG_LONG lla, llx;
        const digit* digits = ((PyLongObject*)op1)->ob_digit;
        const Py_ssize_t size = Py_SIZE(op1);
        if (likely(__Pyx_sst_abs(size) <= 1)) {
            a = likely(size) ? digits[0] : 0;
            if (size == -1) a = -a;
        } else {
            switch (size) {
                case -2:
                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                        a = -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
                        lla = -(PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 2:
                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                        a = (long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
                        lla = (PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case -3:
                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                        a = -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
                        lla = -(PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 3:
                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                        a = (long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
                        lla = (PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case -4:
                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
                        a = -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
                        lla = -(PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 4:
                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
                        a = (long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
                        lla = (PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                default: return PyLong_Type.tp_as_number->nb_add(op1, op2);
            }
        }
                x = a + b;
            return PyLong_FromLong(x);
        long_long:
                llx = lla + llb;
            return PyLong_FromLongLong(llx);
    }
    #endif
    if (PyFloat_CheckExact(op1)) {
        const long b = intval;
        double a = PyFloat_AS_DOUBLE(op1);
            double result;
            PyFPE_START_PROTECT("add", return NULL)
            result = ((double)a) + (double)b;
            PyFPE_END_PROTECT(result)
            return PyFloat_FromDouble(result);
    }
    return (inplace ? PyNumber_InPlaceAdd : PyNumber_Add)(op1, op2);
}
#endif

/* None */
          static CYTHON_INLINE void __Pyx_RaiseUnboundLocalError(const char *varname) {
    PyErr_Format(PyExc_UnboundLocalError, "local variable '%s' referenced before assignment", varname);
}

/* RaiseTooManyValuesToUnpack */
          static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected) {
    PyErr_Format(PyExc_ValueError,
                 "too many values to unpack (expected %" CYTHON_FORMAT_SSIZE_T "d)", expected);
}

/* RaiseNeedMoreValuesToUnpack */
          static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index) {
    PyErr_Format(PyExc_ValueError,
                 "need more than %" CYTHON_FORMAT_SSIZE_T "d value%.1s to unpack",
                 index, (index == 1) ? "" : "s");
}

/* IterFinish */
          static CYTHON_INLINE int __Pyx_IterFinish(void) {
#if CYTHON_COMPILING_IN_CPYTHON
    PyThreadState *tstate = PyThreadState_GET();
    PyObject* exc_type = tstate->curexc_type;
    if (unlikely(exc_type)) {
        if (likely(exc_type == PyExc_StopIteration) || PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration)) {
            PyObject *exc_value, *exc_tb;
            exc_value = tstate->curexc_value;
            exc_tb = tstate->curexc_traceback;
            tstate->curexc_type = 0;
            tstate->curexc_value = 0;
            tstate->curexc_traceback = 0;
            Py_DECREF(exc_type);
            Py_XDECREF(exc_value);
            Py_XDECREF(exc_tb);
            return 0;
        } else {
            return -1;
        }
    }
    return 0;
#else
    if (unlikely(PyErr_Occurred())) {
        if (likely(PyErr_ExceptionMatches(PyExc_StopIteration))) {
            PyErr_Clear();
            return 0;
        } else {
            return -1;
        }
    }
    return 0;
#endif
}

/* UnpackItemEndCheck */
          static int __Pyx_IternextUnpackEndCheck(PyObject *retval, Py_ssize_t expected) {
    if (unlikely(retval)) {
        Py_DECREF(retval);
        __Pyx_RaiseTooManyValuesError(expected);
        return -1;
    } else {
        return __Pyx_IterFinish();
    }
    return 0;
}

/* None */
          static CYTHON_INLINE void __Pyx_RaiseClosureNameError(const char *varname) {
    PyErr_Format(PyExc_NameError, "free variable '%s' referenced before assignment in enclosing scope", varname);
}

/* IterNext */
          static CYTHON_INLINE PyObject *__Pyx_PyIter_Next2(PyObject* iterator, PyObject* defval) {
    PyObject* next;
    iternextfunc iternext = Py_TYPE(iterator)->tp_iternext;
#if CYTHON_COMPILING_IN_CPYTHON
    if (unlikely(!iternext)) {
#else
    if (unlikely(!iternext) || unlikely(!PyIter_Check(iterator))) {
#endif
        PyErr_Format(PyExc_TypeError,
            "%.200s object is not an iterator", Py_TYPE(iterator)->tp_name);
        return NULL;
    }
    next = iternext(iterator);
    if (likely(next))
        return next;
#if CYTHON_COMPILING_IN_CPYTHON
#if PY_VERSION_HEX >= 0x02070000
    if (unlikely(iternext == &_PyObject_NextNotImplemented))
        return NULL;
#endif
#endif
    if (defval) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
            if (unlikely(exc_type != PyExc_StopIteration) &&
                    !PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))
                return NULL;
            PyErr_Clear();
        }
        Py_INCREF(defval);
        return defval;
    }
    if (!PyErr_Occurred())
        PyErr_SetNone(PyExc_StopIteration);
    return NULL;
}

/* PyObjectCallMethod0 */
            static PyObject* __Pyx_PyObject_CallMethod0(PyObject* obj, PyObject* method_name) {
    PyObject *method, *result = NULL;
    method = __Pyx_PyObject_GetAttrStr(obj, method_name);
    if (unlikely(!method)) goto bad;
#if CYTHON_COMPILING_IN_CPYTHON
    if (likely(PyMethod_Check(method))) {
        PyObject *self = PyMethod_GET_SELF(method);
        if (likely(self)) {
            PyObject *function = PyMethod_GET_FUNCTION(method);
            result = __Pyx_PyObject_CallOneArg(function, self);
            Py_DECREF(method);
            return result;
        }
    }
#endif
    result = __Pyx_PyObject_CallNoArg(method);
    Py_DECREF(method);
bad:
    return result;
}

/* RaiseNoneIterError */
            static CYTHON_INLINE void __Pyx_RaiseNoneNotIterableError(void) {
    PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable");
}

/* UnpackTupleError */
            static void __Pyx_UnpackTupleError(PyObject *t, Py_ssize_t index) {
    if (t == Py_None) {
      __Pyx_RaiseNoneNotIterableError();
    } else if (PyTuple_GET_SIZE(t) < index) {
      __Pyx_RaiseNeedMoreValuesError(PyTuple_GET_SIZE(t));
    } else {
      __Pyx_RaiseTooManyValuesError(index);
    }
}

/* UnpackTuple2 */
            static CYTHON_INLINE int __Pyx_unpack_tuple2(PyObject* tuple, PyObject** pvalue1, PyObject** pvalue2,
                                             int is_tuple, int has_known_size, int decref_tuple) {
    Py_ssize_t index;
    PyObject *value1 = NULL, *value2 = NULL, *iter = NULL;
    if (!is_tuple && unlikely(!PyTuple_Check(tuple))) {
        iternextfunc iternext;
        iter = PyObject_GetIter(tuple);
        if (unlikely(!iter)) goto bad;
        if (decref_tuple) { Py_DECREF(tuple); tuple = NULL; }
        iternext = Py_TYPE(iter)->tp_iternext;
        value1 = iternext(iter); if (unlikely(!value1)) { index = 0; goto unpacking_failed; }
        value2 = iternext(iter); if (unlikely(!value2)) { index = 1; goto unpacking_failed; }
        if (!has_known_size && unlikely(__Pyx_IternextUnpackEndCheck(iternext(iter), 2))) goto bad;
        Py_DECREF(iter);
    } else {
        if (!has_known_size && unlikely(PyTuple_GET_SIZE(tuple) != 2)) {
            __Pyx_UnpackTupleError(tuple, 2);
            goto bad;
        }
#if CYTHON_COMPILING_IN_PYPY
        value1 = PySequence_ITEM(tuple, 0);
        if (unlikely(!value1)) goto bad;
        value2 = PySequence_ITEM(tuple, 1);
        if (unlikely(!value2)) goto bad;
#else
        value1 = PyTuple_GET_ITEM(tuple, 0);
        value2 = PyTuple_GET_ITEM(tuple, 1);
        Py_INCREF(value1);
        Py_INCREF(value2);
#endif
        if (decref_tuple) { Py_DECREF(tuple); }
    }
    *pvalue1 = value1;
    *pvalue2 = value2;
    return 0;
unpacking_failed:
    if (!has_known_size && __Pyx_IterFinish() == 0)
        __Pyx_RaiseNeedMoreValuesError(index);
bad:
    Py_XDECREF(iter);
    Py_XDECREF(value1);
    Py_XDECREF(value2);
    if (decref_tuple) { Py_XDECREF(tuple); }
    return -1;
}

/* dict_iter */
            static CYTHON_INLINE PyObject* __Pyx_dict_iterator(PyObject* iterable, int is_dict, PyObject* method_name,
                                                   Py_ssize_t* p_orig_length, int* p_source_is_dict) {
    is_dict = is_dict || likely(PyDict_CheckExact(iterable));
    *p_source_is_dict = is_dict;
#if !CYTHON_COMPILING_IN_PYPY
    if (is_dict) {
        *p_orig_length = PyDict_Size(iterable);
        Py_INCREF(iterable);
        return iterable;
    }
#endif
    *p_orig_length = 0;
    if (method_name) {
        PyObject* iter;
        iterable = __Pyx_PyObject_CallMethod0(iterable, method_name);
        if (!iterable)
            return NULL;
#if !CYTHON_COMPILING_IN_PYPY
        if (PyTuple_CheckExact(iterable) || PyList_CheckExact(iterable))
            return iterable;
#endif
        iter = PyObject_GetIter(iterable);
        Py_DECREF(iterable);
        return iter;
    }
    return PyObject_GetIter(iterable);
}
static CYTHON_INLINE int __Pyx_dict_iter_next(
        PyObject* iter_obj, CYTHON_NCP_UNUSED Py_ssize_t orig_length, CYTHON_NCP_UNUSED Py_ssize_t* ppos,
        PyObject** pkey, PyObject** pvalue, PyObject** pitem, int source_is_dict) {
    PyObject* next_item;
#if !CYTHON_COMPILING_IN_PYPY
    if (source_is_dict) {
        PyObject *key, *value;
        if (unlikely(orig_length != PyDict_Size(iter_obj))) {
            PyErr_SetString(PyExc_RuntimeError, "dictionary changed size during iteration");
            return -1;
        }
        if (unlikely(!PyDict_Next(iter_obj, ppos, &key, &value))) {
            return 0;
        }
        if (pitem) {
            PyObject* tuple = PyTuple_New(2);
            if (unlikely(!tuple)) {
                return -1;
            }
            Py_INCREF(key);
            Py_INCREF(value);
            PyTuple_SET_ITEM(tuple, 0, key);
            PyTuple_SET_ITEM(tuple, 1, value);
            *pitem = tuple;
        } else {
            if (pkey) {
                Py_INCREF(key);
                *pkey = key;
            }
            if (pvalue) {
                Py_INCREF(value);
                *pvalue = value;
            }
        }
        return 1;
    } else if (PyTuple_CheckExact(iter_obj)) {
        Py_ssize_t pos = *ppos;
        if (unlikely(pos >= PyTuple_GET_SIZE(iter_obj))) return 0;
        *ppos = pos + 1;
        next_item = PyTuple_GET_ITEM(iter_obj, pos);
        Py_INCREF(next_item);
    } else if (PyList_CheckExact(iter_obj)) {
        Py_ssize_t pos = *ppos;
        if (unlikely(pos >= PyList_GET_SIZE(iter_obj))) return 0;
        *ppos = pos + 1;
        next_item = PyList_GET_ITEM(iter_obj, pos);
        Py_INCREF(next_item);
    } else
#endif
    {
        next_item = PyIter_Next(iter_obj);
        if (unlikely(!next_item)) {
            return __Pyx_IterFinish();
        }
    }
    if (pitem) {
        *pitem = next_item;
    } else if (pkey && pvalue) {
        if (__Pyx_unpack_tuple2(next_item, pkey, pvalue, source_is_dict, source_is_dict, 1))
            return -1;
    } else if (pkey) {
        *pkey = next_item;
    } else {
        *pvalue = next_item;
    }
    return 1;
}

/* MergeKeywords */
            static int __Pyx_MergeKeywords(PyObject *kwdict, PyObject *source_mapping) {
    PyObject *iter, *key = NULL, *value = NULL;
    int source_is_dict, result;
    Py_ssize_t orig_length, ppos = 0;
    iter = __Pyx_dict_iterator(source_mapping, 0, __pyx_n_s_items, &orig_length, &source_is_dict);
    if (unlikely(!iter)) {
        PyObject *args;
        if (!PyErr_ExceptionMatches(PyExc_AttributeError)) goto bad;
        PyErr_Clear();
        args = PyTuple_Pack(1, source_mapping);
        if (likely(args)) {
            PyObject *fallback = PyObject_Call((PyObject*)&PyDict_Type, args, NULL);
            Py_DECREF(args);
            if (likely(fallback)) {
                iter = __Pyx_dict_iterator(fallback, 1, __pyx_n_s_items, &orig_length, &source_is_dict);
                Py_DECREF(fallback);
            }
        }
        if (unlikely(!iter)) goto bad;
    }
    while (1) {
        result = __Pyx_dict_iter_next(iter, orig_length, &ppos, &key, &value, NULL, source_is_dict);
        if (unlikely(result < 0)) goto bad;
        if (!result) break;
        if (unlikely(PyDict_Contains(kwdict, key))) {
            __Pyx_RaiseDoubleKeywordsError("function", key);
            result = -1;
        } else {
            result = PyDict_SetItem(kwdict, key, value);
        }
        Py_DECREF(key);
        Py_DECREF(value);
        if (unlikely(result < 0)) goto bad;
    }
    Py_XDECREF(iter);
    return 0;
bad:
    Py_XDECREF(iter);
    return -1;
}

/* dict_getitem_default */
            static PyObject* __Pyx_PyDict_GetItemDefault(PyObject* d, PyObject* key, PyObject* default_value) {
    PyObject* value;
#if PY_MAJOR_VERSION >= 3 && !CYTHON_COMPILING_IN_PYPY
    value = PyDict_GetItemWithError(d, key);
    if (unlikely(!value)) {
        if (unlikely(PyErr_Occurred()))
            return NULL;
        value = default_value;
    }
    Py_INCREF(value);
#else
    if (PyString_CheckExact(key) || PyUnicode_CheckExact(key) || PyInt_CheckExact(key)) {
        value = PyDict_GetItem(d, key);
        if (unlikely(!value)) {
            value = default_value;
        }
        Py_INCREF(value);
    } else {
        if (default_value == Py_None)
            default_value = NULL;
        value = PyObject_CallMethodObjArgs(
            d, __pyx_n_s_get, key, default_value, NULL);
    }
#endif
    return value;
}

/* Import */
            static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    #if PY_VERSION_HEX < 0x03030000
    PyObject *py_import;
    py_import = __Pyx_PyObject_GetAttrStr(__pyx_b, __pyx_n_s_import);
    if (!py_import)
        goto bad;
    #endif
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    {
        #if PY_MAJOR_VERSION >= 3
        if (level == -1) {
            if (strchr(__Pyx_MODULE_NAME, '.')) {
                #if PY_VERSION_HEX < 0x03030000
                PyObject *py_level = PyInt_FromLong(1);
                if (!py_level)
                    goto bad;
                module = PyObject_CallFunctionObjArgs(py_import,
                    name, global_dict, empty_dict, list, py_level, NULL);
                Py_DECREF(py_level);
                #else
                module = PyImport_ImportModuleLevelObject(
                    name, global_dict, empty_dict, list, 1);
                #endif
                if (!module) {
                    if (!PyErr_ExceptionMatches(PyExc_ImportError))
                        goto bad;
                    PyErr_Clear();
                }
            }
            level = 0;
        }
        #endif
        if (!module) {
            #if PY_VERSION_HEX < 0x03030000
            PyObject *py_level = PyInt_FromLong(level);
            if (!py_level)
                goto bad;
            module = PyObject_CallFunctionObjArgs(py_import,
                name, global_dict, empty_dict, list, py_level, NULL);
            Py_DECREF(py_level);
            #else
            module = PyImport_ImportModuleLevelObject(
                name, global_dict, empty_dict, list, level);
            #endif
        }
    }
bad:
    #if PY_VERSION_HEX < 0x03030000
    Py_XDECREF(py_import);
    #endif
    Py_XDECREF(empty_list);
    Py_XDECREF(empty_dict);
    return module;
}

/* ImportFrom */
            static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name) {
    PyObject* value = __Pyx_PyObject_GetAttrStr(module, name);
    if (unlikely(!value) && PyErr_ExceptionMatches(PyExc_AttributeError)) {
        PyErr_Format(PyExc_ImportError,
        #if PY_MAJOR_VERSION < 3
            "cannot import name %.230s", PyString_AS_STRING(name));
        #else
            "cannot import name %S", name);
        #endif
    }
    return value;
}

/* PyFloatBinop */
            #if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyFloat_SubtractObjC(PyObject *op1, PyObject *op2, double floatval, CYTHON_UNUSED int inplace) {
    const double b = floatval;
    double a, result;
    if (likely(PyFloat_CheckExact(op1))) {
        a = PyFloat_AS_DOUBLE(op1);
    } else
    #if PY_MAJOR_VERSION < 3
    if (likely(PyInt_CheckExact(op1))) {
        a = (double) PyInt_AS_LONG(op1);
    } else
    #endif
    if (likely(PyLong_CheckExact(op1))) {
        #if CYTHON_USE_PYLONG_INTERNALS && PY_MAJOR_VERSION >= 3
        const digit* digits = ((PyLongObject*)op1)->ob_digit;
        const Py_ssize_t size = Py_SIZE(op1);
        switch (size) {
            case  0: a = 0.0; break;
            case -1: a = -(double) digits[0]; break;
            case  1: a = (double) digits[0]; break;
            case -2:
            case 2:
                if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT && ((8 * sizeof(unsigned long) < 53) || (1 * PyLong_SHIFT < 53))) {
                    a = (double) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                    if ((8 * sizeof(unsigned long) < 53) || (2 * PyLong_SHIFT < 53) || (a < (double) (1L<<53))) {
                        if (size == -2)
                            a = -a;
                        break;
                    }
                }
            case -3:
            case 3:
                if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT && ((8 * sizeof(unsigned long) < 53) || (2 * PyLong_SHIFT < 53))) {
                    a = (double) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                    if ((8 * sizeof(unsigned long) < 53) || (3 * PyLong_SHIFT < 53) || (a < (double) (1L<<53))) {
                        if (size == -3)
                            a = -a;
                        break;
                    }
                }
            case -4:
            case 4:
                if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT && ((8 * sizeof(unsigned long) < 53) || (3 * PyLong_SHIFT < 53))) {
                    a = (double) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                    if ((8 * sizeof(unsigned long) < 53) || (4 * PyLong_SHIFT < 53) || (a < (double) (1L<<53))) {
                        if (size == -4)
                            a = -a;
                        break;
                    }
                }
            default:
        #else
        {
        #endif
            a = PyLong_AsDouble(op1);
            if (unlikely(a == -1.0 && PyErr_Occurred())) return NULL;
        }
    } else {
        return (inplace ? PyNumber_InPlaceSubtract : PyNumber_Subtract)(op1, op2);
    }
        PyFPE_START_PROTECT("subtract", return NULL)
        result = a - b;
        PyFPE_END_PROTECT(result)
        return PyFloat_FromDouble(result);
}
#endif

/* PyIntBinop */
              #if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyInt_SubtractObjC(PyObject *op1, PyObject *op2, CYTHON_UNUSED long intval, CYTHON_UNUSED int inplace) {
    #if PY_MAJOR_VERSION < 3
    if (likely(PyInt_CheckExact(op1))) {
        const long b = intval;
        long x;
        long a = PyInt_AS_LONG(op1);
            x = (long)((unsigned long)a - b);
            if (likely((x^a) >= 0 || (x^~b) >= 0))
                return PyInt_FromLong(x);
            return PyLong_Type.tp_as_number->nb_subtract(op1, op2);
    }
    #endif
    #if CYTHON_USE_PYLONG_INTERNALS && PY_MAJOR_VERSION >= 3
    if (likely(PyLong_CheckExact(op1))) {
        const long b = intval;
        long a, x;
        const PY_LONG_LONG llb = intval;
        PY_LONG_LONG lla, llx;
        const digit* digits = ((PyLongObject*)op1)->ob_digit;
        const Py_ssize_t size = Py_SIZE(op1);
        if (likely(__Pyx_sst_abs(size) <= 1)) {
            a = likely(size) ? digits[0] : 0;
            if (size == -1) a = -a;
        } else {
            switch (size) {
                case -2:
                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                        a = -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
                        lla = -(PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 2:
                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                        a = (long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
                        lla = (PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case -3:
                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                        a = -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
                        lla = -(PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 3:
                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                        a = (long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
                        lla = (PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case -4:
                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
                        a = -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
                        lla = -(PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 4:
                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
                        a = (long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
                        lla = (PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                default: return PyLong_Type.tp_as_number->nb_subtract(op1, op2);
            }
        }
                x = a - b;
            return PyLong_FromLong(x);
        long_long:
                llx = lla - llb;
            return PyLong_FromLongLong(llx);
    }
    #endif
    if (PyFloat_CheckExact(op1)) {
        const long b = intval;
        double a = PyFloat_AS_DOUBLE(op1);
            double result;
            PyFPE_START_PROTECT("subtract", return NULL)
            result = ((double)a) - (double)b;
            PyFPE_END_PROTECT(result)
            return PyFloat_FromDouble(result);
    }
    return (inplace ? PyNumber_InPlaceSubtract : PyNumber_Subtract)(op1, op2);
}
#endif

/* FetchCommonType */
              static PyTypeObject* __Pyx_FetchCommonType(PyTypeObject* type) {
    PyObject* fake_module;
    PyTypeObject* cached_type = NULL;
    fake_module = PyImport_AddModule((char*) "_cython_" CYTHON_ABI);
    if (!fake_module) return NULL;
    Py_INCREF(fake_module);
    cached_type = (PyTypeObject*) PyObject_GetAttrString(fake_module, type->tp_name);
    if (cached_type) {
        if (!PyType_Check((PyObject*)cached_type)) {
            PyErr_Format(PyExc_TypeError,
                "Shared Cython type %.200s is not a type object",
                type->tp_name);
            goto bad;
        }
        if (cached_type->tp_basicsize != type->tp_basicsize) {
            PyErr_Format(PyExc_TypeError,
                "Shared Cython type %.200s has the wrong size, try recompiling",
                type->tp_name);
            goto bad;
        }
    } else {
        if (!PyErr_ExceptionMatches(PyExc_AttributeError)) goto bad;
        PyErr_Clear();
        if (PyType_Ready(type) < 0) goto bad;
        if (PyObject_SetAttrString(fake_module, type->tp_name, (PyObject*) type) < 0)
            goto bad;
        Py_INCREF(type);
        cached_type = type;
    }
done:
    Py_DECREF(fake_module);
    return cached_type;
bad:
    Py_XDECREF(cached_type);
    cached_type = NULL;
    goto done;
}

/* CythonFunction */
              static PyObject *
__Pyx_CyFunction_get_doc(__pyx_CyFunctionObject *op, CYTHON_UNUSED void *closure)
{
    if (unlikely(op->func_doc == NULL)) {
        if (op->func.m_ml->ml_doc) {
#if PY_MAJOR_VERSION >= 3
            op->func_doc = PyUnicode_FromString(op->func.m_ml->ml_doc);
#else
            op->func_doc = PyString_FromString(op->func.m_ml->ml_doc);
#endif
            if (unlikely(op->func_doc == NULL))
                return NULL;
        } else {
            Py_INCREF(Py_None);
            return Py_None;
        }
    }
    Py_INCREF(op->func_doc);
    return op->func_doc;
}
static int
__Pyx_CyFunction_set_doc(__pyx_CyFunctionObject *op, PyObject *value)
{
    PyObject *tmp = op->func_doc;
    if (value == NULL) {
        value = Py_None;
    }
    Py_INCREF(value);
    op->func_doc = value;
    Py_XDECREF(tmp);
    return 0;
}
static PyObject *
__Pyx_CyFunction_get_name(__pyx_CyFunctionObject *op)
{
    if (unlikely(op->func_name == NULL)) {
#if PY_MAJOR_VERSION >= 3
        op->func_name = PyUnicode_InternFromString(op->func.m_ml->ml_name);
#else
        op->func_name = PyString_InternFromString(op->func.m_ml->ml_name);
#endif
        if (unlikely(op->func_name == NULL))
            return NULL;
    }
    Py_INCREF(op->func_name);
    return op->func_name;
}
static int
__Pyx_CyFunction_set_name(__pyx_CyFunctionObject *op, PyObject *value)
{
    PyObject *tmp;
#if PY_MAJOR_VERSION >= 3
    if (unlikely(value == NULL || !PyUnicode_Check(value))) {
#else
    if (unlikely(value == NULL || !PyString_Check(value))) {
#endif
        PyErr_SetString(PyExc_TypeError,
                        "__name__ must be set to a string object");
        return -1;
    }
    tmp = op->func_name;
    Py_INCREF(value);
    op->func_name = value;
    Py_XDECREF(tmp);
    return 0;
}
static PyObject *
__Pyx_CyFunction_get_qualname(__pyx_CyFunctionObject *op)
{
    Py_INCREF(op->func_qualname);
    return op->func_qualname;
}
static int
__Pyx_CyFunction_set_qualname(__pyx_CyFunctionObject *op, PyObject *value)
{
    PyObject *tmp;
#if PY_MAJOR_VERSION >= 3
    if (unlikely(value == NULL || !PyUnicode_Check(value))) {
#else
    if (unlikely(value == NULL || !PyString_Check(value))) {
#endif
        PyErr_SetString(PyExc_TypeError,
                        "__qualname__ must be set to a string object");
        return -1;
    }
    tmp = op->func_qualname;
    Py_INCREF(value);
    op->func_qualname = value;
    Py_XDECREF(tmp);
    return 0;
}
static PyObject *
__Pyx_CyFunction_get_self(__pyx_CyFunctionObject *m, CYTHON_UNUSED void *closure)
{
    PyObject *self;
    self = m->func_closure;
    if (self == NULL)
        self = Py_None;
    Py_INCREF(self);
    return self;
}
static PyObject *
__Pyx_CyFunction_get_dict(__pyx_CyFunctionObject *op)
{
    if (unlikely(op->func_dict == NULL)) {
        op->func_dict = PyDict_New();
        if (unlikely(op->func_dict == NULL))
            return NULL;
    }
    Py_INCREF(op->func_dict);
    return op->func_dict;
}
static int
__Pyx_CyFunction_set_dict(__pyx_CyFunctionObject *op, PyObject *value)
{
    PyObject *tmp;
    if (unlikely(value == NULL)) {
        PyErr_SetString(PyExc_TypeError,
               "function's dictionary may not be deleted");
        return -1;
    }
    if (unlikely(!PyDict_Check(value))) {
        PyErr_SetString(PyExc_TypeError,
               "setting function's dictionary to a non-dict");
        return -1;
    }
    tmp = op->func_dict;
    Py_INCREF(value);
    op->func_dict = value;
    Py_XDECREF(tmp);
    return 0;
}
static PyObject *
__Pyx_CyFunction_get_globals(__pyx_CyFunctionObject *op)
{
    Py_INCREF(op->func_globals);
    return op->func_globals;
}
static PyObject *
__Pyx_CyFunction_get_closure(CYTHON_UNUSED __pyx_CyFunctionObject *op)
{
    Py_INCREF(Py_None);
    return Py_None;
}
static PyObject *
__Pyx_CyFunction_get_code(__pyx_CyFunctionObject *op)
{
    PyObject* result = (op->func_code) ? op->func_code : Py_None;
    Py_INCREF(result);
    return result;
}
static int
__Pyx_CyFunction_init_defaults(__pyx_CyFunctionObject *op) {
    int result = 0;
    PyObject *res = op->defaults_getter((PyObject *) op);
    if (unlikely(!res))
        return -1;
    #if CYTHON_COMPILING_IN_CPYTHON
    op->defaults_tuple = PyTuple_GET_ITEM(res, 0);
    Py_INCREF(op->defaults_tuple);
    op->defaults_kwdict = PyTuple_GET_ITEM(res, 1);
    Py_INCREF(op->defaults_kwdict);
    #else
    op->defaults_tuple = PySequence_ITEM(res, 0);
    if (unlikely(!op->defaults_tuple)) result = -1;
    else {
        op->defaults_kwdict = PySequence_ITEM(res, 1);
        if (unlikely(!op->defaults_kwdict)) result = -1;
    }
    #endif
    Py_DECREF(res);
    return result;
}
static int
__Pyx_CyFunction_set_defaults(__pyx_CyFunctionObject *op, PyObject* value) {
    PyObject* tmp;
    if (!value) {
        value = Py_None;
    } else if (value != Py_None && !PyTuple_Check(value)) {
        PyErr_SetString(PyExc_TypeError,
                        "__defaults__ must be set to a tuple object");
        return -1;
    }
    Py_INCREF(value);
    tmp = op->defaults_tuple;
    op->defaults_tuple = value;
    Py_XDECREF(tmp);
    return 0;
}
static PyObject *
__Pyx_CyFunction_get_defaults(__pyx_CyFunctionObject *op) {
    PyObject* result = op->defaults_tuple;
    if (unlikely(!result)) {
        if (op->defaults_getter) {
            if (__Pyx_CyFunction_init_defaults(op) < 0) return NULL;
            result = op->defaults_tuple;
        } else {
            result = Py_None;
        }
    }
    Py_INCREF(result);
    return result;
}
static int
__Pyx_CyFunction_set_kwdefaults(__pyx_CyFunctionObject *op, PyObject* value) {
    PyObject* tmp;
    if (!value) {
        value = Py_None;
    } else if (value != Py_None && !PyDict_Check(value)) {
        PyErr_SetString(PyExc_TypeError,
                        "__kwdefaults__ must be set to a dict object");
        return -1;
    }
    Py_INCREF(value);
    tmp = op->defaults_kwdict;
    op->defaults_kwdict = value;
    Py_XDECREF(tmp);
    return 0;
}
static PyObject *
__Pyx_CyFunction_get_kwdefaults(__pyx_CyFunctionObject *op) {
    PyObject* result = op->defaults_kwdict;
    if (unlikely(!result)) {
        if (op->defaults_getter) {
            if (__Pyx_CyFunction_init_defaults(op) < 0) return NULL;
            result = op->defaults_kwdict;
        } else {
            result = Py_None;
        }
    }
    Py_INCREF(result);
    return result;
}
static int
__Pyx_CyFunction_set_annotations(__pyx_CyFunctionObject *op, PyObject* value) {
    PyObject* tmp;
    if (!value || value == Py_None) {
        value = NULL;
    } else if (!PyDict_Check(value)) {
        PyErr_SetString(PyExc_TypeError,
                        "__annotations__ must be set to a dict object");
        return -1;
    }
    Py_XINCREF(value);
    tmp = op->func_annotations;
    op->func_annotations = value;
    Py_XDECREF(tmp);
    return 0;
}
static PyObject *
__Pyx_CyFunction_get_annotations(__pyx_CyFunctionObject *op) {
    PyObject* result = op->func_annotations;
    if (unlikely(!result)) {
        result = PyDict_New();
        if (unlikely(!result)) return NULL;
        op->func_annotations = result;
    }
    Py_INCREF(result);
    return result;
}
static PyGetSetDef __pyx_CyFunction_getsets[] = {
    {(char *) "func_doc", (getter)__Pyx_CyFunction_get_doc, (setter)__Pyx_CyFunction_set_doc, 0, 0},
    {(char *) "__doc__",  (getter)__Pyx_CyFunction_get_doc, (setter)__Pyx_CyFunction_set_doc, 0, 0},
    {(char *) "func_name", (getter)__Pyx_CyFunction_get_name, (setter)__Pyx_CyFunction_set_name, 0, 0},
    {(char *) "__name__", (getter)__Pyx_CyFunction_get_name, (setter)__Pyx_CyFunction_set_name, 0, 0},
    {(char *) "__qualname__", (getter)__Pyx_CyFunction_get_qualname, (setter)__Pyx_CyFunction_set_qualname, 0, 0},
    {(char *) "__self__", (getter)__Pyx_CyFunction_get_self, 0, 0, 0},
    {(char *) "func_dict", (getter)__Pyx_CyFunction_get_dict, (setter)__Pyx_CyFunction_set_dict, 0, 0},
    {(char *) "__dict__", (getter)__Pyx_CyFunction_get_dict, (setter)__Pyx_CyFunction_set_dict, 0, 0},
    {(char *) "func_globals", (getter)__Pyx_CyFunction_get_globals, 0, 0, 0},
    {(char *) "__globals__", (getter)__Pyx_CyFunction_get_globals, 0, 0, 0},
    {(char *) "func_closure", (getter)__Pyx_CyFunction_get_closure, 0, 0, 0},
    {(char *) "__closure__", (getter)__Pyx_CyFunction_get_closure, 0, 0, 0},
    {(char *) "func_code", (getter)__Pyx_CyFunction_get_code, 0, 0, 0},
    {(char *) "__code__", (getter)__Pyx_CyFunction_get_code, 0, 0, 0},
    {(char *) "func_defaults", (getter)__Pyx_CyFunction_get_defaults, (setter)__Pyx_CyFunction_set_defaults, 0, 0},
    {(char *) "__defaults__", (getter)__Pyx_CyFunction_get_defaults, (setter)__Pyx_CyFunction_set_defaults, 0, 0},
    {(char *) "__kwdefaults__", (getter)__Pyx_CyFunction_get_kwdefaults, (setter)__Pyx_CyFunction_set_kwdefaults, 0, 0},
    {(char *) "__annotations__", (getter)__Pyx_CyFunction_get_annotations, (setter)__Pyx_CyFunction_set_annotations, 0, 0},
    {0, 0, 0, 0, 0}
};
static PyMemberDef __pyx_CyFunction_members[] = {
    {(char *) "__module__", T_OBJECT, offsetof(__pyx_CyFunctionObject, func.m_module), PY_WRITE_RESTRICTED, 0},
    {0, 0, 0,  0, 0}
};
static PyObject *
__Pyx_CyFunction_reduce(__pyx_CyFunctionObject *m, CYTHON_UNUSED PyObject *args)
{
#if PY_MAJOR_VERSION >= 3
    return PyUnicode_FromString(m->func.m_ml->ml_name);
#else
    return PyString_FromString(m->func.m_ml->ml_name);
#endif
}
static PyMethodDef __pyx_CyFunction_methods[] = {
    {"__reduce__", (PyCFunction)__Pyx_CyFunction_reduce, METH_VARARGS, 0},
    {0, 0, 0, 0}
};
#if PY_VERSION_HEX < 0x030500A0
#define __Pyx_CyFunction_weakreflist(cyfunc) ((cyfunc)->func_weakreflist)
#else
#define __Pyx_CyFunction_weakreflist(cyfunc) ((cyfunc)->func.m_weakreflist)
#endif
static PyObject *__Pyx_CyFunction_New(PyTypeObject *type, PyMethodDef *ml, int flags, PyObject* qualname,
                                      PyObject *closure, PyObject *module, PyObject* globals, PyObject* code) {
    __pyx_CyFunctionObject *op = PyObject_GC_New(__pyx_CyFunctionObject, type);
    if (op == NULL)
        return NULL;
    op->flags = flags;
    __Pyx_CyFunction_weakreflist(op) = NULL;
    op->func.m_ml = ml;
    op->func.m_self = (PyObject *) op;
    Py_XINCREF(closure);
    op->func_closure = closure;
    Py_XINCREF(module);
    op->func.m_module = module;
    op->func_dict = NULL;
    op->func_name = NULL;
    Py_INCREF(qualname);
    op->func_qualname = qualname;
    op->func_doc = NULL;
    op->func_classobj = NULL;
    op->func_globals = globals;
    Py_INCREF(op->func_globals);
    Py_XINCREF(code);
    op->func_code = code;
    op->defaults_pyobjects = 0;
    op->defaults = NULL;
    op->defaults_tuple = NULL;
    op->defaults_kwdict = NULL;
    op->defaults_getter = NULL;
    op->func_annotations = NULL;
    PyObject_GC_Track(op);
    return (PyObject *) op;
}
static int
__Pyx_CyFunction_clear(__pyx_CyFunctionObject *m)
{
    Py_CLEAR(m->func_closure);
    Py_CLEAR(m->func.m_module);
    Py_CLEAR(m->func_dict);
    Py_CLEAR(m->func_name);
    Py_CLEAR(m->func_qualname);
    Py_CLEAR(m->func_doc);
    Py_CLEAR(m->func_globals);
    Py_CLEAR(m->func_code);
    Py_CLEAR(m->func_classobj);
    Py_CLEAR(m->defaults_tuple);
    Py_CLEAR(m->defaults_kwdict);
    Py_CLEAR(m->func_annotations);
    if (m->defaults) {
        PyObject **pydefaults = __Pyx_CyFunction_Defaults(PyObject *, m);
        int i;
        for (i = 0; i < m->defaults_pyobjects; i++)
            Py_XDECREF(pydefaults[i]);
        PyObject_Free(m->defaults);
        m->defaults = NULL;
    }
    return 0;
}
static void __Pyx_CyFunction_dealloc(__pyx_CyFunctionObject *m)
{
    PyObject_GC_UnTrack(m);
    if (__Pyx_CyFunction_weakreflist(m) != NULL)
        PyObject_ClearWeakRefs((PyObject *) m);
    __Pyx_CyFunction_clear(m);
    PyObject_GC_Del(m);
}
static int __Pyx_CyFunction_traverse(__pyx_CyFunctionObject *m, visitproc visit, void *arg)
{
    Py_VISIT(m->func_closure);
    Py_VISIT(m->func.m_module);
    Py_VISIT(m->func_dict);
    Py_VISIT(m->func_name);
    Py_VISIT(m->func_qualname);
    Py_VISIT(m->func_doc);
    Py_VISIT(m->func_globals);
    Py_VISIT(m->func_code);
    Py_VISIT(m->func_classobj);
    Py_VISIT(m->defaults_tuple);
    Py_VISIT(m->defaults_kwdict);
    if (m->defaults) {
        PyObject **pydefaults = __Pyx_CyFunction_Defaults(PyObject *, m);
        int i;
        for (i = 0; i < m->defaults_pyobjects; i++)
            Py_VISIT(pydefaults[i]);
    }
    return 0;
}
static PyObject *__Pyx_CyFunction_descr_get(PyObject *func, PyObject *obj, PyObject *type)
{
    __pyx_CyFunctionObject *m = (__pyx_CyFunctionObject *) func;
    if (m->flags & __Pyx_CYFUNCTION_STATICMETHOD) {
        Py_INCREF(func);
        return func;
    }
    if (m->flags & __Pyx_CYFUNCTION_CLASSMETHOD) {
        if (type == NULL)
            type = (PyObject *)(Py_TYPE(obj));
        return __Pyx_PyMethod_New(func, type, (PyObject *)(Py_TYPE(type)));
    }
    if (obj == Py_None)
        obj = NULL;
    return __Pyx_PyMethod_New(func, obj, type);
}
static PyObject*
__Pyx_CyFunction_repr(__pyx_CyFunctionObject *op)
{
#if PY_MAJOR_VERSION >= 3
    return PyUnicode_FromFormat("<cyfunction %U at %p>",
                                op->func_qualname, (void *)op);
#else
    return PyString_FromFormat("<cyfunction %s at %p>",
                               PyString_AsString(op->func_qualname), (void *)op);
#endif
}
#if CYTHON_COMPILING_IN_PYPY
static PyObject * __Pyx_CyFunction_Call(PyObject *func, PyObject *arg, PyObject *kw) {
    PyCFunctionObject* f = (PyCFunctionObject*)func;
    PyCFunction meth = f->m_ml->ml_meth;
    PyObject *self = f->m_self;
    Py_ssize_t size;
    switch (f->m_ml->ml_flags & (METH_VARARGS | METH_KEYWORDS | METH_NOARGS | METH_O)) {
    case METH_VARARGS:
        if (likely(kw == NULL || PyDict_Size(kw) == 0))
            return (*meth)(self, arg);
        break;
    case METH_VARARGS | METH_KEYWORDS:
        return (*(PyCFunctionWithKeywords)meth)(self, arg, kw);
    case METH_NOARGS:
        if (likely(kw == NULL || PyDict_Size(kw) == 0)) {
            size = PyTuple_GET_SIZE(arg);
            if (likely(size == 0))
                return (*meth)(self, NULL);
            PyErr_Format(PyExc_TypeError,
                "%.200s() takes no arguments (%" CYTHON_FORMAT_SSIZE_T "d given)",
                f->m_ml->ml_name, size);
            return NULL;
        }
        break;
    case METH_O:
        if (likely(kw == NULL || PyDict_Size(kw) == 0)) {
            size = PyTuple_GET_SIZE(arg);
            if (likely(size == 1)) {
                PyObject *result, *arg0 = PySequence_ITEM(arg, 0);
                if (unlikely(!arg0)) return NULL;
                result = (*meth)(self, arg0);
                Py_DECREF(arg0);
                return result;
            }
            PyErr_Format(PyExc_TypeError,
                "%.200s() takes exactly one argument (%" CYTHON_FORMAT_SSIZE_T "d given)",
                f->m_ml->ml_name, size);
            return NULL;
        }
        break;
    default:
        PyErr_SetString(PyExc_SystemError, "Bad call flags in "
                        "__Pyx_CyFunction_Call. METH_OLDARGS is no "
                        "longer supported!");
        return NULL;
    }
    PyErr_Format(PyExc_TypeError, "%.200s() takes no keyword arguments",
                 f->m_ml->ml_name);
    return NULL;
}
#else
static PyObject * __Pyx_CyFunction_Call(PyObject *func, PyObject *arg, PyObject *kw) {
	return PyCFunction_Call(func, arg, kw);
}
#endif
static PyTypeObject __pyx_CyFunctionType_type = {
    PyVarObject_HEAD_INIT(0, 0)
    "cython_function_or_method",
    sizeof(__pyx_CyFunctionObject),
    0,
    (destructor) __Pyx_CyFunction_dealloc,
    0,
    0,
    0,
#if PY_MAJOR_VERSION < 3
    0,
#else
    0,
#endif
    (reprfunc) __Pyx_CyFunction_repr,
    0,
    0,
    0,
    0,
    __Pyx_CyFunction_Call,
    0,
    0,
    0,
    0,
    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC,
    0,
    (traverseproc) __Pyx_CyFunction_traverse,
    (inquiry) __Pyx_CyFunction_clear,
    0,
#if PY_VERSION_HEX < 0x030500A0
    offsetof(__pyx_CyFunctionObject, func_weakreflist),
#else
    offsetof(PyCFunctionObject, m_weakreflist),
#endif
    0,
    0,
    __pyx_CyFunction_methods,
    __pyx_CyFunction_members,
    __pyx_CyFunction_getsets,
    0,
    0,
    __Pyx_CyFunction_descr_get,
    0,
    offsetof(__pyx_CyFunctionObject, func_dict),
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
#if PY_VERSION_HEX >= 0x030400a1
    0,
#endif
};
static int __pyx_CyFunction_init(void) {
#if !CYTHON_COMPILING_IN_PYPY
    __pyx_CyFunctionType_type.tp_call = PyCFunction_Call;
#endif
    __pyx_CyFunctionType = __Pyx_FetchCommonType(&__pyx_CyFunctionType_type);
    if (__pyx_CyFunctionType == NULL) {
        return -1;
    }
    return 0;
}
static CYTHON_INLINE void *__Pyx_CyFunction_InitDefaults(PyObject *func, size_t size, int pyobjects) {
    __pyx_CyFunctionObject *m = (__pyx_CyFunctionObject *) func;
    m->defaults = PyObject_Malloc(size);
    if (!m->defaults)
        return PyErr_NoMemory();
    memset(m->defaults, 0, size);
    m->defaults_pyobjects = pyobjects;
    return m->defaults;
}
static CYTHON_INLINE void __Pyx_CyFunction_SetDefaultsTuple(PyObject *func, PyObject *tuple) {
    __pyx_CyFunctionObject *m = (__pyx_CyFunctionObject *) func;
    m->defaults_tuple = tuple;
    Py_INCREF(tuple);
}
static CYTHON_INLINE void __Pyx_CyFunction_SetDefaultsKwDict(PyObject *func, PyObject *dict) {
    __pyx_CyFunctionObject *m = (__pyx_CyFunctionObject *) func;
    m->defaults_kwdict = dict;
    Py_INCREF(dict);
}
static CYTHON_INLINE void __Pyx_CyFunction_SetAnnotationsDict(PyObject *func, PyObject *dict) {
    __pyx_CyFunctionObject *m = (__pyx_CyFunctionObject *) func;
    m->func_annotations = dict;
    Py_INCREF(dict);
}

/* SliceObject */
                  static CYTHON_INLINE int __Pyx_PyObject_SetSlice(PyObject* obj, PyObject* value,
        Py_ssize_t cstart, Py_ssize_t cstop,
        PyObject** _py_start, PyObject** _py_stop, PyObject** _py_slice,
        int has_cstart, int has_cstop, CYTHON_UNUSED int wraparound) {
#if CYTHON_COMPILING_IN_CPYTHON
    PyMappingMethods* mp;
#if PY_MAJOR_VERSION < 3
    PySequenceMethods* ms = Py_TYPE(obj)->tp_as_sequence;
    if (likely(ms && ms->sq_ass_slice)) {
        if (!has_cstart) {
            if (_py_start && (*_py_start != Py_None)) {
                cstart = __Pyx_PyIndex_AsSsize_t(*_py_start);
                if ((cstart == (Py_ssize_t)-1) && PyErr_Occurred()) goto bad;
            } else
                cstart = 0;
        }
        if (!has_cstop) {
            if (_py_stop && (*_py_stop != Py_None)) {
                cstop = __Pyx_PyIndex_AsSsize_t(*_py_stop);
                if ((cstop == (Py_ssize_t)-1) && PyErr_Occurred()) goto bad;
            } else
                cstop = PY_SSIZE_T_MAX;
        }
        if (wraparound && unlikely((cstart < 0) | (cstop < 0)) && likely(ms->sq_length)) {
            Py_ssize_t l = ms->sq_length(obj);
            if (likely(l >= 0)) {
                if (cstop < 0) {
                    cstop += l;
                    if (cstop < 0) cstop = 0;
                }
                if (cstart < 0) {
                    cstart += l;
                    if (cstart < 0) cstart = 0;
                }
            } else {
                if (!PyErr_ExceptionMatches(PyExc_OverflowError))
                    goto bad;
                PyErr_Clear();
            }
        }
        return ms->sq_ass_slice(obj, cstart, cstop, value);
    }
#endif
    mp = Py_TYPE(obj)->tp_as_mapping;
    if (likely(mp && mp->mp_ass_subscript))
#endif
    {
        int result;
        PyObject *py_slice, *py_start, *py_stop;
        if (_py_slice) {
            py_slice = *_py_slice;
        } else {
            PyObject* owned_start = NULL;
            PyObject* owned_stop = NULL;
            if (_py_start) {
                py_start = *_py_start;
            } else {
                if (has_cstart) {
                    owned_start = py_start = PyInt_FromSsize_t(cstart);
                    if (unlikely(!py_start)) goto bad;
                } else
                    py_start = Py_None;
            }
            if (_py_stop) {
                py_stop = *_py_stop;
            } else {
                if (has_cstop) {
                    owned_stop = py_stop = PyInt_FromSsize_t(cstop);
                    if (unlikely(!py_stop)) {
                        Py_XDECREF(owned_start);
                        goto bad;
                    }
                } else
                    py_stop = Py_None;
            }
            py_slice = PySlice_New(py_start, py_stop, Py_None);
            Py_XDECREF(owned_start);
            Py_XDECREF(owned_stop);
            if (unlikely(!py_slice)) goto bad;
        }
#if CYTHON_COMPILING_IN_CPYTHON
        result = mp->mp_ass_subscript(obj, py_slice, value);
#else
        result = value ? PyObject_SetItem(obj, py_slice, value) : PyObject_DelItem(obj, py_slice);
#endif
        if (!_py_slice) {
            Py_DECREF(py_slice);
        }
        return result;
    }
    PyErr_Format(PyExc_TypeError,
        "'%.200s' object does not support slice %.10s",
        Py_TYPE(obj)->tp_name, value ? "assignment" : "deletion");
bad:
    return -1;
}

/* PyObjectCallMethod1 */
                  static PyObject* __Pyx_PyObject_CallMethod1(PyObject* obj, PyObject* method_name, PyObject* arg) {
    PyObject *method, *result = NULL;
    method = __Pyx_PyObject_GetAttrStr(obj, method_name);
    if (unlikely(!method)) goto bad;
#if CYTHON_COMPILING_IN_CPYTHON
    if (likely(PyMethod_Check(method))) {
        PyObject *self = PyMethod_GET_SELF(method);
        if (likely(self)) {
            PyObject *args;
            PyObject *function = PyMethod_GET_FUNCTION(method);
            args = PyTuple_New(2);
            if (unlikely(!args)) goto bad;
            Py_INCREF(self);
            PyTuple_SET_ITEM(args, 0, self);
            Py_INCREF(arg);
            PyTuple_SET_ITEM(args, 1, arg);
            Py_INCREF(function);
            Py_DECREF(method); method = NULL;
            result = __Pyx_PyObject_Call(function, args, NULL);
            Py_DECREF(args);
            Py_DECREF(function);
            return result;
        }
    }
#endif
    result = __Pyx_PyObject_CallOneArg(method, arg);
bad:
    Py_XDECREF(method);
    return result;
}

/* append */
                  static CYTHON_INLINE int __Pyx_PyObject_Append(PyObject* L, PyObject* x) {
    if (likely(PyList_CheckExact(L))) {
        if (unlikely(__Pyx_PyList_Append(L, x) < 0)) return -1;
    } else {
        PyObject* retval = __Pyx_PyObject_CallMethod1(L, __pyx_n_s_append, x);
        if (unlikely(!retval))
            return -1;
        Py_DECREF(retval);
    }
    return 0;
}

/* PyObjectCallMethod2 */
                  static PyObject* __Pyx_PyObject_CallMethod2(PyObject* obj, PyObject* method_name, PyObject* arg1, PyObject* arg2) {
    PyObject *args, *method, *result = NULL;
    method = __Pyx_PyObject_GetAttrStr(obj, method_name);
#if CYTHON_COMPILING_IN_CPYTHON
    if (likely(PyMethod_Check(method)) && likely(PyMethod_GET_SELF(method))) {
        PyObject *self, *function;
        self = PyMethod_GET_SELF(method);
        function = PyMethod_GET_FUNCTION(method);
        args = PyTuple_New(3);
        if (unlikely(!args)) goto bad;
        Py_INCREF(self);
        PyTuple_SET_ITEM(args, 0, self);
        Py_INCREF(arg1);
        PyTuple_SET_ITEM(args, 1, arg1);
        Py_INCREF(arg2);
        PyTuple_SET_ITEM(args, 2, arg2);
        Py_INCREF(function);
        Py_DECREF(method);
        method = function;
    } else
#endif
    {
        args = PyTuple_New(2);
        if (unlikely(!args)) goto bad;
        Py_INCREF(arg1);
        PyTuple_SET_ITEM(args, 0, arg1);
        Py_INCREF(arg2);
        PyTuple_SET_ITEM(args, 1, arg2);
    }
    result = __Pyx_PyObject_Call(method, args, NULL);
    Py_DECREF(args);
    Py_DECREF(method);
    return result;
bad:
    Py_XDECREF(method);
    return result;
}

/* dict_setdefault */
                  static CYTHON_INLINE PyObject *__Pyx_PyDict_SetDefault(PyObject *d, PyObject *key, PyObject *default_value,
                                                       CYTHON_UNUSED int is_safe_type) {
    PyObject* value;
#if PY_VERSION_HEX >= 0x030400A0
    if (1) {
        value = PyDict_SetDefault(d, key, default_value);
        if (unlikely(!value)) return NULL;
        Py_INCREF(value);
#else
    if (is_safe_type == 1 || (is_safe_type == -1 &&
#if PY_MAJOR_VERSION >= 3 && !CYTHON_COMPILING_IN_PYPY
            (PyUnicode_CheckExact(key) || PyString_CheckExact(key) || PyLong_CheckExact(key)))) {
        value = PyDict_GetItemWithError(d, key);
        if (unlikely(!value)) {
            if (unlikely(PyErr_Occurred()))
                return NULL;
            if (unlikely(PyDict_SetItem(d, key, default_value) == -1))
                return NULL;
            value = default_value;
        }
        Py_INCREF(value);
#else
            (PyString_CheckExact(key) || PyUnicode_CheckExact(key) || PyInt_CheckExact(key) || PyLong_CheckExact(key)))) {
        value = PyDict_GetItem(d, key);
        if (unlikely(!value)) {
            if (unlikely(PyDict_SetItem(d, key, default_value) == -1))
                return NULL;
            value = default_value;
        }
        Py_INCREF(value);
#endif
#endif
    } else {
        value = __Pyx_PyObject_CallMethod2(d, __pyx_n_s_setdefault, key, default_value);
    }
    return value;
}

/* PyIntBinop */
                      #if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyInt_AddCObj(PyObject *op1, PyObject *op2, CYTHON_UNUSED long intval, CYTHON_UNUSED int inplace) {
    #if PY_MAJOR_VERSION < 3
    if (likely(PyInt_CheckExact(op2))) {
        const long a = intval;
        long x;
        long b = PyInt_AS_LONG(op2);
            x = (long)((unsigned long)a + b);
            if (likely((x^a) >= 0 || (x^b) >= 0))
                return PyInt_FromLong(x);
            return PyLong_Type.tp_as_number->nb_add(op1, op2);
    }
    #endif
    #if CYTHON_USE_PYLONG_INTERNALS && PY_MAJOR_VERSION >= 3
    if (likely(PyLong_CheckExact(op2))) {
        const long a = intval;
        long b, x;
        const PY_LONG_LONG lla = intval;
        PY_LONG_LONG llb, llx;
        const digit* digits = ((PyLongObject*)op2)->ob_digit;
        const Py_ssize_t size = Py_SIZE(op2);
        if (likely(__Pyx_sst_abs(size) <= 1)) {
            b = likely(size) ? digits[0] : 0;
            if (size == -1) b = -b;
        } else {
            switch (size) {
                case -2:
                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                        b = -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
                        llb = -(PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 2:
                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                        b = (long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
                        llb = (PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case -3:
                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                        b = -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
                        llb = -(PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 3:
                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                        b = (long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
                        llb = (PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case -4:
                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
                        b = -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
                        llb = -(PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                case 4:
                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
                        b = (long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
                        break;
                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
                        llb = (PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
                        goto long_long;
                    }
                default: return PyLong_Type.tp_as_number->nb_add(op1, op2);
            }
        }
                x = a + b;
            return PyLong_FromLong(x);
        long_long:
                llx = lla + llb;
            return PyLong_FromLongLong(llx);
    }
    #endif
    if (PyFloat_CheckExact(op2)) {
        const long a = intval;
        double b = PyFloat_AS_DOUBLE(op2);
            double result;
            PyFPE_START_PROTECT("add", return NULL)
            result = ((double)a) + (double)b;
            PyFPE_END_PROTECT(result)
            return PyFloat_FromDouble(result);
    }
    return (inplace ? PyNumber_InPlaceAdd : PyNumber_Add)(op1, op2);
}
#endif

/* pyobject_as_double */
                      static double __Pyx__PyObject_AsDouble(PyObject* obj) {
    PyObject* float_value;
#if CYTHON_COMPILING_IN_PYPY
    float_value = PyNumber_Float(obj);  if (0) goto bad;
#else
    PyNumberMethods *nb = Py_TYPE(obj)->tp_as_number;
    if (likely(nb) && likely(nb->nb_float)) {
        float_value = nb->nb_float(obj);
        if (likely(float_value) && unlikely(!PyFloat_Check(float_value))) {
            PyErr_Format(PyExc_TypeError,
                "__float__ returned non-float (type %.200s)",
                Py_TYPE(float_value)->tp_name);
            Py_DECREF(float_value);
            goto bad;
        }
    } else if (PyUnicode_CheckExact(obj) || PyBytes_CheckExact(obj)) {
#if PY_MAJOR_VERSION >= 3
        float_value = PyFloat_FromString(obj);
#else
        float_value = PyFloat_FromString(obj, 0);
#endif
    } else {
        PyObject* args = PyTuple_New(1);
        if (unlikely(!args)) goto bad;
        PyTuple_SET_ITEM(args, 0, obj);
        float_value = PyObject_Call((PyObject*)&PyFloat_Type, args, 0);
        PyTuple_SET_ITEM(args, 0, 0);
        Py_DECREF(args);
    }
#endif
    if (likely(float_value)) {
        double value = PyFloat_AS_DOUBLE(float_value);
        Py_DECREF(float_value);
        return value;
    }
bad:
    return (double)-1;
}

/* GetAttr */
                      static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
#if CYTHON_COMPILING_IN_CPYTHON
#if PY_MAJOR_VERSION >= 3
    if (likely(PyUnicode_Check(n)))
#else
    if (likely(PyString_Check(n)))
#endif
        return __Pyx_PyObject_GetAttrStr(o, n);
#endif
    return PyObject_GetAttr(o, n);
}

/* GetAttr3 */
                      static CYTHON_INLINE PyObject *__Pyx_GetAttr3(PyObject *o, PyObject *n, PyObject *d) {
    PyObject *r = __Pyx_GetAttr(o, n);
    if (unlikely(!r)) {
        if (!PyErr_ExceptionMatches(PyExc_AttributeError))
            goto bad;
        PyErr_Clear();
        r = d;
        Py_INCREF(d);
    }
    return r;
bad:
    return NULL;
}

/* CalculateMetaclass */
                      static PyObject *__Pyx_CalculateMetaclass(PyTypeObject *metaclass, PyObject *bases) {
    Py_ssize_t i, nbases = PyTuple_GET_SIZE(bases);
    for (i=0; i < nbases; i++) {
        PyTypeObject *tmptype;
        PyObject *tmp = PyTuple_GET_ITEM(bases, i);
        tmptype = Py_TYPE(tmp);
#if PY_MAJOR_VERSION < 3
        if (tmptype == &PyClass_Type)
            continue;
#endif
        if (!metaclass) {
            metaclass = tmptype;
            continue;
        }
        if (PyType_IsSubtype(metaclass, tmptype))
            continue;
        if (PyType_IsSubtype(tmptype, metaclass)) {
            metaclass = tmptype;
            continue;
        }
        PyErr_SetString(PyExc_TypeError,
                        "metaclass conflict: "
                        "the metaclass of a derived class "
                        "must be a (non-strict) subclass "
                        "of the metaclasses of all its bases");
        return NULL;
    }
    if (!metaclass) {
#if PY_MAJOR_VERSION < 3
        metaclass = &PyClass_Type;
#else
        metaclass = &PyType_Type;
#endif
    }
    Py_INCREF((PyObject*) metaclass);
    return (PyObject*) metaclass;
}

/* Py3ClassCreate */
                      static PyObject *__Pyx_Py3MetaclassPrepare(PyObject *metaclass, PyObject *bases, PyObject *name,
                                           PyObject *qualname, PyObject *mkw, PyObject *modname, PyObject *doc) {
    PyObject *ns;
    if (metaclass) {
        PyObject *prep = __Pyx_PyObject_GetAttrStr(metaclass, __pyx_n_s_prepare);
        if (prep) {
            PyObject *pargs = PyTuple_Pack(2, name, bases);
            if (unlikely(!pargs)) {
                Py_DECREF(prep);
                return NULL;
            }
            ns = PyObject_Call(prep, pargs, mkw);
            Py_DECREF(prep);
            Py_DECREF(pargs);
        } else {
            if (unlikely(!PyErr_ExceptionMatches(PyExc_AttributeError)))
                return NULL;
            PyErr_Clear();
            ns = PyDict_New();
        }
    } else {
        ns = PyDict_New();
    }
    if (unlikely(!ns))
        return NULL;
    if (unlikely(PyObject_SetItem(ns, __pyx_n_s_module, modname) < 0)) goto bad;
    if (unlikely(PyObject_SetItem(ns, __pyx_n_s_qualname, qualname) < 0)) goto bad;
    if (unlikely(doc && PyObject_SetItem(ns, __pyx_n_s_doc, doc) < 0)) goto bad;
    return ns;
bad:
    Py_DECREF(ns);
    return NULL;
}
static PyObject *__Pyx_Py3ClassCreate(PyObject *metaclass, PyObject *name, PyObject *bases,
                                      PyObject *dict, PyObject *mkw,
                                      int calculate_metaclass, int allow_py2_metaclass) {
    PyObject *result, *margs;
    PyObject *owned_metaclass = NULL;
    if (allow_py2_metaclass) {
        owned_metaclass = PyObject_GetItem(dict, __pyx_n_s_metaclass);
        if (owned_metaclass) {
            metaclass = owned_metaclass;
        } else if (likely(PyErr_ExceptionMatches(PyExc_KeyError))) {
            PyErr_Clear();
        } else {
            return NULL;
        }
    }
    if (calculate_metaclass && (!metaclass || PyType_Check(metaclass))) {
        metaclass = __Pyx_CalculateMetaclass((PyTypeObject*) metaclass, bases);
        Py_XDECREF(owned_metaclass);
        if (unlikely(!metaclass))
            return NULL;
        owned_metaclass = metaclass;
    }
    margs = PyTuple_Pack(3, name, bases, dict);
    if (unlikely(!margs)) {
        result = NULL;
    } else {
        result = PyObject_Call(metaclass, margs, mkw);
        Py_DECREF(margs);
    }
    Py_XDECREF(owned_metaclass);
    return result;
}

/* CodeObjectCache */
                      static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line) {
    int start = 0, mid = 0, end = count - 1;
    if (end >= 0 && code_line > entries[end].code_line) {
        return count;
    }
    while (start < end) {
        mid = start + (end - start) / 2;
        if (code_line < entries[mid].code_line) {
            end = mid;
        } else if (code_line > entries[mid].code_line) {
             start = mid + 1;
        } else {
            return mid;
        }
    }
    if (code_line <= entries[mid].code_line) {
        return mid;
    } else {
        return mid + 1;
    }
}
static PyCodeObject *__pyx_find_code_object(int code_line) {
    PyCodeObject* code_object;
    int pos;
    if (unlikely(!code_line) || unlikely(!__pyx_code_cache.entries)) {
        return NULL;
    }
    pos = __pyx_bisect_code_objects(__pyx_code_cache.entries, __pyx_code_cache.count, code_line);
    if (unlikely(pos >= __pyx_code_cache.count) || unlikely(__pyx_code_cache.entries[pos].code_line != code_line)) {
        return NULL;
    }
    code_object = __pyx_code_cache.entries[pos].code_object;
    Py_INCREF(code_object);
    return code_object;
}
static void __pyx_insert_code_object(int code_line, PyCodeObject* code_object) {
    int pos, i;
    __Pyx_CodeObjectCacheEntry* entries = __pyx_code_cache.entries;
    if (unlikely(!code_line)) {
        return;
    }
    if (unlikely(!entries)) {
        entries = (__Pyx_CodeObjectCacheEntry*)PyMem_Malloc(64*sizeof(__Pyx_CodeObjectCacheEntry));
        if (likely(entries)) {
            __pyx_code_cache.entries = entries;
            __pyx_code_cache.max_count = 64;
            __pyx_code_cache.count = 1;
            entries[0].code_line = code_line;
            entries[0].code_object = code_object;
            Py_INCREF(code_object);
        }
        return;
    }
    pos = __pyx_bisect_code_objects(__pyx_code_cache.entries, __pyx_code_cache.count, code_line);
    if ((pos < __pyx_code_cache.count) && unlikely(__pyx_code_cache.entries[pos].code_line == code_line)) {
        PyCodeObject* tmp = entries[pos].code_object;
        entries[pos].code_object = code_object;
        Py_DECREF(tmp);
        return;
    }
    if (__pyx_code_cache.count == __pyx_code_cache.max_count) {
        int new_max = __pyx_code_cache.max_count + 64;
        entries = (__Pyx_CodeObjectCacheEntry*)PyMem_Realloc(
            __pyx_code_cache.entries, (size_t)new_max*sizeof(__Pyx_CodeObjectCacheEntry));
        if (unlikely(!entries)) {
            return;
        }
        __pyx_code_cache.entries = entries;
        __pyx_code_cache.max_count = new_max;
    }
    for (i=__pyx_code_cache.count; i>pos; i--) {
        entries[i] = entries[i-1];
    }
    entries[pos].code_line = code_line;
    entries[pos].code_object = code_object;
    __pyx_code_cache.count++;
    Py_INCREF(code_object);
}

/* AddTraceback */
                      #include "compile.h"
#include "frameobject.h"
#include "traceback.h"
static PyCodeObject* __Pyx_CreateCodeObjectForTraceback(
            const char *funcname, int c_line,
            int py_line, const char *filename) {
    PyCodeObject *py_code = 0;
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    #if PY_MAJOR_VERSION < 3
    py_srcfile = PyString_FromString(filename);
    #else
    py_srcfile = PyUnicode_FromString(filename);
    #endif
    if (!py_srcfile) goto bad;
    if (c_line) {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, c_line);
        #else
        py_funcname = PyUnicode_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, c_line);
        #endif
    }
    else {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromString(funcname);
        #else
        py_funcname = PyUnicode_FromString(funcname);
        #endif
    }
    if (!py_funcname) goto bad;
    py_code = __Pyx_PyCode_New(
        0,
        0,
        0,
        0,
        0,
        __pyx_empty_bytes, /*PyObject *code,*/
        __pyx_empty_tuple, /*PyObject *consts,*/
        __pyx_empty_tuple, /*PyObject *names,*/
        __pyx_empty_tuple, /*PyObject *varnames,*/
        __pyx_empty_tuple, /*PyObject *freevars,*/
        __pyx_empty_tuple, /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        py_line,
        __pyx_empty_bytes  /*PyObject *lnotab*/
    );
    Py_DECREF(py_srcfile);
    Py_DECREF(py_funcname);
    return py_code;
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    return NULL;
}
static void __Pyx_AddTraceback(const char *funcname, int c_line,
                               int py_line, const char *filename) {
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    py_code = __pyx_find_code_object(c_line ? c_line : py_line);
    if (!py_code) {
        py_code = __Pyx_CreateCodeObjectForTraceback(
            funcname, c_line, py_line, filename);
        if (!py_code) goto bad;
        __pyx_insert_code_object(c_line ? c_line : py_line, py_code);
    }
    py_frame = PyFrame_New(
        PyThreadState_GET(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        __pyx_d,      /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = py_line;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}

/* CIntToPy */
                      static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
    const long neg_one = (long) -1, const_zero = (long) 0;
    const int is_unsigned = neg_one > const_zero;
    if (is_unsigned) {
        if (sizeof(long) < sizeof(long)) {
            return PyInt_FromLong((long) value);
        } else if (sizeof(long) <= sizeof(unsigned long)) {
            return PyLong_FromUnsignedLong((unsigned long) value);
        } else if (sizeof(long) <= sizeof(unsigned PY_LONG_LONG)) {
            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
        }
    } else {
        if (sizeof(long) <= sizeof(long)) {
            return PyInt_FromLong((long) value);
        } else if (sizeof(long) <= sizeof(PY_LONG_LONG)) {
            return PyLong_FromLongLong((PY_LONG_LONG) value);
        }
    }
    {
        int one = 1; int little = (int)*(unsigned char *)&one;
        unsigned char *bytes = (unsigned char *)&value;
        return _PyLong_FromByteArray(bytes, sizeof(long),
                                     little, !is_unsigned);
    }
}

/* ClassMethod */
                      static PyObject* __Pyx_Method_ClassMethod(PyObject *method) {
#if CYTHON_COMPILING_IN_PYPY
    if (PyObject_TypeCheck(method, &PyWrapperDescr_Type)) {
        return PyClassMethod_New(method);
    }
#else
    static PyTypeObject *methoddescr_type = NULL;
    if (methoddescr_type == NULL) {
       PyObject *meth = PyObject_GetAttrString((PyObject*)&PyList_Type, "append");
       if (!meth) return NULL;
       methoddescr_type = Py_TYPE(meth);
       Py_DECREF(meth);
    }
    if (PyObject_TypeCheck(method, methoddescr_type)) {
        PyMethodDescrObject *descr = (PyMethodDescrObject *)method;
        #if PY_VERSION_HEX < 0x03020000
        PyTypeObject *d_type = descr->d_type;
        #else
        PyTypeObject *d_type = descr->d_common.d_type;
        #endif
        return PyDescr_NewClassMethod(d_type, descr->d_method);
    }
#endif
    else if (PyMethod_Check(method)) {
        return PyClassMethod_New(PyMethod_GET_FUNCTION(method));
    }
    else if (PyCFunction_Check(method)) {
        return PyClassMethod_New(method);
    }
#ifdef __Pyx_CyFunction_USED
    else if (PyObject_TypeCheck(method, __pyx_CyFunctionType)) {
        return PyClassMethod_New(method);
    }
#endif
    PyErr_SetString(PyExc_TypeError,
                   "Class-level classmethod() can only be called on "
                   "a method_descriptor or instance method.");
    return NULL;
}

/* CIntFromPyVerify */
                      #define __PYX_VERIFY_RETURN_INT(target_type, func_type, func_value)\
    __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, 0)
#define __PYX_VERIFY_RETURN_INT_EXC(target_type, func_type, func_value)\
    __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, 1)
#define __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, exc)\
    {\
        func_type value = func_value;\
        if (sizeof(target_type) < sizeof(func_type)) {\
            if (unlikely(value != (func_type) (target_type) value)) {\
                func_type zero = 0;\
                if (exc && unlikely(value == (func_type)-1 && PyErr_Occurred()))\
                    return (target_type) -1;\
                if (is_unsigned && unlikely(value < zero))\
                    goto raise_neg_overflow;\
                else\
                    goto raise_overflow;\
            }\
        }\
        return (target_type) value;\
    }

/* CIntFromPy */
                      static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *x) {
    const long neg_one = (long) -1, const_zero = (long) 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_MAJOR_VERSION < 3
    if (likely(PyInt_Check(x))) {
        if (sizeof(long) < sizeof(long)) {
            __PYX_VERIFY_RETURN_INT(long, long, PyInt_AS_LONG(x))
        } else {
            long val = PyInt_AS_LONG(x);
            if (is_unsigned && unlikely(val < 0)) {
                goto raise_neg_overflow;
            }
            return (long) val;
        }
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
#if CYTHON_USE_PYLONG_INTERNALS
            const digit* digits = ((PyLongObject*)x)->ob_digit;
            switch (Py_SIZE(x)) {
                case  0: return (long) 0;
                case  1: __PYX_VERIFY_RETURN_INT(long, digit, digits[0])
                case 2:
                    if (8 * sizeof(long) > 1 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) >= 2 * PyLong_SHIFT) {
                            return (long) (((((long)digits[1]) << PyLong_SHIFT) | (long)digits[0]));
                        }
                    }
                    break;
                case 3:
                    if (8 * sizeof(long) > 2 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) >= 3 * PyLong_SHIFT) {
                            return (long) (((((((long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0]));
                        }
                    }
                    break;
                case 4:
                    if (8 * sizeof(long) > 3 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) >= 4 * PyLong_SHIFT) {
                            return (long) (((((((((long)digits[3]) << PyLong_SHIFT) | (long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0]));
                        }
                    }
                    break;
            }
#endif
#if CYTHON_COMPILING_IN_CPYTHON
            if (unlikely(Py_SIZE(x) < 0)) {
                goto raise_neg_overflow;
            }
#else
            {
                int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                if (unlikely(result < 0))
                    return (long) -1;
                if (unlikely(result == 1))
                    goto raise_neg_overflow;
            }
#endif
            if (sizeof(long) <= sizeof(unsigned long)) {
                __PYX_VERIFY_RETURN_INT_EXC(long, unsigned long, PyLong_AsUnsignedLong(x))
            } else if (sizeof(long) <= sizeof(unsigned PY_LONG_LONG)) {
                __PYX_VERIFY_RETURN_INT_EXC(long, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
            }
        } else {
#if CYTHON_USE_PYLONG_INTERNALS
            const digit* digits = ((PyLongObject*)x)->ob_digit;
            switch (Py_SIZE(x)) {
                case  0: return (long) 0;
                case -1: __PYX_VERIFY_RETURN_INT(long, sdigit, (sdigit) (-(sdigit)digits[0]))
                case  1: __PYX_VERIFY_RETURN_INT(long,  digit, +digits[0])
                case -2:
                    if (8 * sizeof(long) - 1 > 1 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                            return (long) (((long)-1)*(((((long)digits[1]) << PyLong_SHIFT) | (long)digits[0])));
                        }
                    }
                    break;
                case 2:
                    if (8 * sizeof(long) > 1 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                            return (long) ((((((long)digits[1]) << PyLong_SHIFT) | (long)digits[0])));
                        }
                    }
                    break;
                case -3:
                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                            return (long) (((long)-1)*(((((((long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0])));
                        }
                    }
                    break;
                case 3:
                    if (8 * sizeof(long) > 2 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                            return (long) ((((((((long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0])));
                        }
                    }
                    break;
                case -4:
                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
                            return (long) (((long)-1)*(((((((((long)digits[3]) << PyLong_SHIFT) | (long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0])));
                        }
                    }
                    break;
                case 4:
                    if (8 * sizeof(long) > 3 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(long, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
                            return (long) ((((((((((long)digits[3]) << PyLong_SHIFT) | (long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0])));
                        }
                    }
                    break;
            }
#endif
            if (sizeof(long) <= sizeof(long)) {
                __PYX_VERIFY_RETURN_INT_EXC(long, long, PyLong_AsLong(x))
            } else if (sizeof(long) <= sizeof(PY_LONG_LONG)) {
                __PYX_VERIFY_RETURN_INT_EXC(long, PY_LONG_LONG, PyLong_AsLongLong(x))
            }
        }
        {
#if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
            PyErr_SetString(PyExc_RuntimeError,
                            "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
#else
            long val;
            PyObject *v = __Pyx_PyNumber_IntOrLong(x);
 #if PY_MAJOR_VERSION < 3
            if (likely(v) && !PyLong_Check(v)) {
                PyObject *tmp = v;
                v = PyNumber_Long(tmp);
                Py_DECREF(tmp);
            }
 #endif
            if (likely(v)) {
                int one = 1; int is_little = (int)*(unsigned char *)&one;
                unsigned char *bytes = (unsigned char *)&val;
                int ret = _PyLong_AsByteArray((PyLongObject *)v,
                                              bytes, sizeof(val),
                                              is_little, !is_unsigned);
                Py_DECREF(v);
                if (likely(!ret))
                    return val;
            }
#endif
            return (long) -1;
        }
    } else {
        long val;
        PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
        if (!tmp) return (long) -1;
        val = __Pyx_PyInt_As_long(tmp);
        Py_DECREF(tmp);
        return val;
    }
raise_overflow:
    PyErr_SetString(PyExc_OverflowError,
        "value too large to convert to long");
    return (long) -1;
raise_neg_overflow:
    PyErr_SetString(PyExc_OverflowError,
        "can't convert negative value to long");
    return (long) -1;
}

/* CIntFromPy */
                      static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *x) {
    const int neg_one = (int) -1, const_zero = (int) 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_MAJOR_VERSION < 3
    if (likely(PyInt_Check(x))) {
        if (sizeof(int) < sizeof(long)) {
            __PYX_VERIFY_RETURN_INT(int, long, PyInt_AS_LONG(x))
        } else {
            long val = PyInt_AS_LONG(x);
            if (is_unsigned && unlikely(val < 0)) {
                goto raise_neg_overflow;
            }
            return (int) val;
        }
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
#if CYTHON_USE_PYLONG_INTERNALS
            const digit* digits = ((PyLongObject*)x)->ob_digit;
            switch (Py_SIZE(x)) {
                case  0: return (int) 0;
                case  1: __PYX_VERIFY_RETURN_INT(int, digit, digits[0])
                case 2:
                    if (8 * sizeof(int) > 1 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) >= 2 * PyLong_SHIFT) {
                            return (int) (((((int)digits[1]) << PyLong_SHIFT) | (int)digits[0]));
                        }
                    }
                    break;
                case 3:
                    if (8 * sizeof(int) > 2 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) >= 3 * PyLong_SHIFT) {
                            return (int) (((((((int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0]));
                        }
                    }
                    break;
                case 4:
                    if (8 * sizeof(int) > 3 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) >= 4 * PyLong_SHIFT) {
                            return (int) (((((((((int)digits[3]) << PyLong_SHIFT) | (int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0]));
                        }
                    }
                    break;
            }
#endif
#if CYTHON_COMPILING_IN_CPYTHON
            if (unlikely(Py_SIZE(x) < 0)) {
                goto raise_neg_overflow;
            }
#else
            {
                int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                if (unlikely(result < 0))
                    return (int) -1;
                if (unlikely(result == 1))
                    goto raise_neg_overflow;
            }
#endif
            if (sizeof(int) <= sizeof(unsigned long)) {
                __PYX_VERIFY_RETURN_INT_EXC(int, unsigned long, PyLong_AsUnsignedLong(x))
            } else if (sizeof(int) <= sizeof(unsigned PY_LONG_LONG)) {
                __PYX_VERIFY_RETURN_INT_EXC(int, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
            }
        } else {
#if CYTHON_USE_PYLONG_INTERNALS
            const digit* digits = ((PyLongObject*)x)->ob_digit;
            switch (Py_SIZE(x)) {
                case  0: return (int) 0;
                case -1: __PYX_VERIFY_RETURN_INT(int, sdigit, (sdigit) (-(sdigit)digits[0]))
                case  1: __PYX_VERIFY_RETURN_INT(int,  digit, +digits[0])
                case -2:
                    if (8 * sizeof(int) - 1 > 1 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) - 1 > 2 * PyLong_SHIFT) {
                            return (int) (((int)-1)*(((((int)digits[1]) << PyLong_SHIFT) | (int)digits[0])));
                        }
                    }
                    break;
                case 2:
                    if (8 * sizeof(int) > 1 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) - 1 > 2 * PyLong_SHIFT) {
                            return (int) ((((((int)digits[1]) << PyLong_SHIFT) | (int)digits[0])));
                        }
                    }
                    break;
                case -3:
                    if (8 * sizeof(int) - 1 > 2 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) - 1 > 3 * PyLong_SHIFT) {
                            return (int) (((int)-1)*(((((((int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0])));
                        }
                    }
                    break;
                case 3:
                    if (8 * sizeof(int) > 2 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) - 1 > 3 * PyLong_SHIFT) {
                            return (int) ((((((((int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0])));
                        }
                    }
                    break;
                case -4:
                    if (8 * sizeof(int) - 1 > 3 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) - 1 > 4 * PyLong_SHIFT) {
                            return (int) (((int)-1)*(((((((((int)digits[3]) << PyLong_SHIFT) | (int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0])));
                        }
                    }
                    break;
                case 4:
                    if (8 * sizeof(int) > 3 * PyLong_SHIFT) {
                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
                            __PYX_VERIFY_RETURN_INT(int, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
                        } else if (8 * sizeof(int) - 1 > 4 * PyLong_SHIFT) {
                            return (int) ((((((((((int)digits[3]) << PyLong_SHIFT) | (int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0])));
                        }
                    }
                    break;
            }
#endif
            if (sizeof(int) <= sizeof(long)) {
                __PYX_VERIFY_RETURN_INT_EXC(int, long, PyLong_AsLong(x))
            } else if (sizeof(int) <= sizeof(PY_LONG_LONG)) {
                __PYX_VERIFY_RETURN_INT_EXC(int, PY_LONG_LONG, PyLong_AsLongLong(x))
            }
        }
        {
#if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
            PyErr_SetString(PyExc_RuntimeError,
                            "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
#else
            int val;
            PyObject *v = __Pyx_PyNumber_IntOrLong(x);
 #if PY_MAJOR_VERSION < 3
            if (likely(v) && !PyLong_Check(v)) {
                PyObject *tmp = v;
                v = PyNumber_Long(tmp);
                Py_DECREF(tmp);
            }
 #endif
            if (likely(v)) {
                int one = 1; int is_little = (int)*(unsigned char *)&one;
                unsigned char *bytes = (unsigned char *)&val;
                int ret = _PyLong_AsByteArray((PyLongObject *)v,
                                              bytes, sizeof(val),
                                              is_little, !is_unsigned);
                Py_DECREF(v);
                if (likely(!ret))
                    return val;
            }
#endif
            return (int) -1;
        }
    } else {
        int val;
        PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
        if (!tmp) return (int) -1;
        val = __Pyx_PyInt_As_int(tmp);
        Py_DECREF(tmp);
        return val;
    }
raise_overflow:
    PyErr_SetString(PyExc_OverflowError,
        "value too large to convert to int");
    return (int) -1;
raise_neg_overflow:
    PyErr_SetString(PyExc_OverflowError,
        "can't convert negative value to int");
    return (int) -1;
}

/* CoroutineBase */
                      #include <structmember.h>
#include <frameobject.h>
static PyObject *__Pyx_Coroutine_Send(PyObject *self, PyObject *value);
static PyObject *__Pyx_Coroutine_Close(PyObject *self);
static PyObject *__Pyx_Coroutine_Throw(PyObject *gen, PyObject *args);
#define __Pyx_Coroutine_Undelegate(gen) Py_CLEAR((gen)->yieldfrom)
#if 1 || PY_VERSION_HEX < 0x030300B0
static int __Pyx_PyGen_FetchStopIterationValue(PyObject **pvalue) {
    PyObject *et, *ev, *tb;
    PyObject *value = NULL;
    __Pyx_PyThreadState_declare
    __Pyx_PyThreadState_assign
    __Pyx_ErrFetch(&et, &ev, &tb);
    if (!et) {
        Py_XDECREF(tb);
        Py_XDECREF(ev);
        Py_INCREF(Py_None);
        *pvalue = Py_None;
        return 0;
    }
    if (likely(et == PyExc_StopIteration)) {
#if PY_VERSION_HEX >= 0x030300A0
        if (ev && Py_TYPE(ev) == (PyTypeObject*)PyExc_StopIteration) {
            value = ((PyStopIterationObject *)ev)->value;
            Py_INCREF(value);
            Py_DECREF(ev);
            Py_XDECREF(tb);
            Py_DECREF(et);
            *pvalue = value;
            return 0;
        }
#endif
        if (!ev || !PyObject_TypeCheck(ev, (PyTypeObject*)PyExc_StopIteration)) {
            if (!ev) {
                Py_INCREF(Py_None);
                ev = Py_None;
            } else if (PyTuple_Check(ev)) {
                if (PyTuple_GET_SIZE(ev) >= 1) {
                    PyObject *value;
#if CYTHON_COMPILING_IN_CPYTHON
                    value = PySequence_ITEM(ev, 0);
#else
                    value = PyTuple_GET_ITEM(ev, 0);
                    Py_INCREF(value);
#endif
                    Py_DECREF(ev);
                    ev = value;
                } else {
                    Py_INCREF(Py_None);
                    Py_DECREF(ev);
                    ev = Py_None;
                }
            }
            Py_XDECREF(tb);
            Py_DECREF(et);
            *pvalue = ev;
            return 0;
        }
    } else if (!PyErr_GivenExceptionMatches(et, PyExc_StopIteration)) {
        __Pyx_ErrRestore(et, ev, tb);
        return -1;
    }
    PyErr_NormalizeException(&et, &ev, &tb);
    if (unlikely(!PyObject_TypeCheck(ev, (PyTypeObject*)PyExc_StopIteration))) {
        __Pyx_ErrRestore(et, ev, tb);
        return -1;
    }
    Py_XDECREF(tb);
    Py_DECREF(et);
#if PY_VERSION_HEX >= 0x030300A0
    value = ((PyStopIterationObject *)ev)->value;
    Py_INCREF(value);
    Py_DECREF(ev);
#else
    {
        PyObject* args = __Pyx_PyObject_GetAttrStr(ev, __pyx_n_s_args);
        Py_DECREF(ev);
        if (likely(args)) {
            value = PySequence_GetItem(args, 0);
            Py_DECREF(args);
        }
        if (unlikely(!value)) {
            __Pyx_ErrRestore(NULL, NULL, NULL);
            Py_INCREF(Py_None);
            value = Py_None;
        }
    }
#endif
    *pvalue = value;
    return 0;
}
#endif
static CYTHON_INLINE
void __Pyx_Coroutine_ExceptionClear(__pyx_CoroutineObject *self) {
    PyObject *exc_type = self->exc_type;
    PyObject *exc_value = self->exc_value;
    PyObject *exc_traceback = self->exc_traceback;
    self->exc_type = NULL;
    self->exc_value = NULL;
    self->exc_traceback = NULL;
    Py_XDECREF(exc_type);
    Py_XDECREF(exc_value);
    Py_XDECREF(exc_traceback);
}
static CYTHON_INLINE
int __Pyx_Coroutine_CheckRunning(__pyx_CoroutineObject *gen) {
    if (unlikely(gen->is_running)) {
        PyErr_SetString(PyExc_ValueError,
                        "generator already executing");
        return 1;
    }
    return 0;
}
static CYTHON_INLINE
PyObject *__Pyx_Coroutine_SendEx(__pyx_CoroutineObject *self, PyObject *value) {
    PyObject *retval;
    __Pyx_PyThreadState_declare
    assert(!self->is_running);
    if (unlikely(self->resume_label == 0)) {
        if (unlikely(value && value != Py_None)) {
            PyErr_SetString(PyExc_TypeError,
                            "can't send non-None value to a "
                            "just-started generator");
            return NULL;
        }
    }
    if (unlikely(self->resume_label == -1)) {
        PyErr_SetNone(PyExc_StopIteration);
        return NULL;
    }
    __Pyx_PyThreadState_assign
    if (value) {
#if CYTHON_COMPILING_IN_PYPY
#else
        if (self->exc_traceback) {
            PyTracebackObject *tb = (PyTracebackObject *) self->exc_traceback;
            PyFrameObject *f = tb->tb_frame;
            Py_XINCREF(__pyx_tstate->frame);
            assert(f->f_back == NULL);
            f->f_back = __pyx_tstate->frame;
        }
#endif
        __Pyx_ExceptionSwap(&self->exc_type, &self->exc_value,
                            &self->exc_traceback);
    } else {
        __Pyx_Coroutine_ExceptionClear(self);
    }
    self->is_running = 1;
    retval = self->body((PyObject *) self, value);
    self->is_running = 0;
    if (retval) {
        __Pyx_ExceptionSwap(&self->exc_type, &self->exc_value,
                            &self->exc_traceback);
#if CYTHON_COMPILING_IN_PYPY
#else
        if (self->exc_traceback) {
            PyTracebackObject *tb = (PyTracebackObject *) self->exc_traceback;
            PyFrameObject *f = tb->tb_frame;
            Py_CLEAR(f->f_back);
        }
#endif
    } else {
        __Pyx_Coroutine_ExceptionClear(self);
    }
    return retval;
}
static CYTHON_INLINE
PyObject *__Pyx_Coroutine_MethodReturn(PyObject *retval) {
    if (unlikely(!retval && !PyErr_Occurred())) {
        PyErr_SetNone(PyExc_StopIteration);
    }
    return retval;
}
static CYTHON_INLINE
PyObject *__Pyx_Coroutine_FinishDelegation(__pyx_CoroutineObject *gen) {
    PyObject *ret;
    PyObject *val = NULL;
    __Pyx_Coroutine_Undelegate(gen);
    __Pyx_PyGen_FetchStopIterationValue(&val);
    ret = __Pyx_Coroutine_SendEx(gen, val);
    Py_XDECREF(val);
    return ret;
}
static PyObject *__Pyx_Coroutine_Send(PyObject *self, PyObject *value) {
    PyObject *retval;
    __pyx_CoroutineObject *gen = (__pyx_CoroutineObject*) self;
    PyObject *yf = gen->yieldfrom;
    if (unlikely(__Pyx_Coroutine_CheckRunning(gen)))
        return NULL;
    if (yf) {
        PyObject *ret;
        gen->is_running = 1;
        #ifdef __Pyx_Generator_USED
        if (__Pyx_Generator_CheckExact(yf)) {
            ret = __Pyx_Coroutine_Send(yf, value);
        } else
        #endif
        #ifdef __Pyx_Coroutine_USED
        if (__Pyx_Coroutine_CheckExact(yf)) {
            ret = __Pyx_Coroutine_Send(yf, value);
        } else
        #endif
        {
            if (value == Py_None)
                ret = Py_TYPE(yf)->tp_iternext(yf);
            else
                ret = __Pyx_PyObject_CallMethod1(yf, __pyx_n_s_send, value);
        }
        gen->is_running = 0;
        if (likely(ret)) {
            return ret;
        }
        retval = __Pyx_Coroutine_FinishDelegation(gen);
    } else {
        retval = __Pyx_Coroutine_SendEx(gen, value);
    }
    return __Pyx_Coroutine_MethodReturn(retval);
}
static int __Pyx_Coroutine_CloseIter(__pyx_CoroutineObject *gen, PyObject *yf) {
    PyObject *retval = NULL;
    int err = 0;
    #ifdef __Pyx_Generator_USED
    if (__Pyx_Generator_CheckExact(yf)) {
        retval = __Pyx_Coroutine_Close(yf);
        if (!retval)
            return -1;
    } else
    #endif
    #ifdef __Pyx_Coroutine_USED
    if (__Pyx_Coroutine_CheckExact(yf)) {
        retval = __Pyx_Coroutine_Close(yf);
        if (!retval)
            return -1;
    } else
    #endif
    {
        PyObject *meth;
        gen->is_running = 1;
        meth = __Pyx_PyObject_GetAttrStr(yf, __pyx_n_s_close);
        if (unlikely(!meth)) {
            if (!PyErr_ExceptionMatches(PyExc_AttributeError)) {
                PyErr_WriteUnraisable(yf);
            }
            PyErr_Clear();
        } else {
            retval = PyObject_CallFunction(meth, NULL);
            Py_DECREF(meth);
            if (!retval)
                err = -1;
        }
        gen->is_running = 0;
    }
    Py_XDECREF(retval);
    return err;
}
static PyObject *__Pyx_Generator_Next(PyObject *self) {
    __pyx_CoroutineObject *gen = (__pyx_CoroutineObject*) self;
    PyObject *yf = gen->yieldfrom;
    if (unlikely(__Pyx_Coroutine_CheckRunning(gen)))
        return NULL;
    if (yf) {
        PyObject *ret;
        gen->is_running = 1;
        ret = Py_TYPE(yf)->tp_iternext(yf);
        gen->is_running = 0;
        if (likely(ret)) {
            return ret;
        }
        return __Pyx_Coroutine_FinishDelegation(gen);
    }
    return __Pyx_Coroutine_SendEx(gen, Py_None);
}
static PyObject *__Pyx_Coroutine_Close(PyObject *self) {
    __pyx_CoroutineObject *gen = (__pyx_CoroutineObject *) self;
    PyObject *retval, *raised_exception;
    PyObject *yf = gen->yieldfrom;
    int err = 0;
    if (unlikely(__Pyx_Coroutine_CheckRunning(gen)))
        return NULL;
    if (yf) {
        Py_INCREF(yf);
        err = __Pyx_Coroutine_CloseIter(gen, yf);
        __Pyx_Coroutine_Undelegate(gen);
        Py_DECREF(yf);
    }
    if (err == 0)
        PyErr_SetNone(PyExc_GeneratorExit);
    retval = __Pyx_Coroutine_SendEx(gen, NULL);
    if (retval) {
        Py_DECREF(retval);
        PyErr_SetString(PyExc_RuntimeError,
                        "generator ignored GeneratorExit");
        return NULL;
    }
    raised_exception = PyErr_Occurred();
    if (!raised_exception
        || raised_exception == PyExc_StopIteration
        || raised_exception == PyExc_GeneratorExit
        || PyErr_GivenExceptionMatches(raised_exception, PyExc_GeneratorExit)
        || PyErr_GivenExceptionMatches(raised_exception, PyExc_StopIteration))
    {
        if (raised_exception) PyErr_Clear();
        Py_INCREF(Py_None);
        return Py_None;
    }
    return NULL;
}
static PyObject *__Pyx_Coroutine_Throw(PyObject *self, PyObject *args) {
    __pyx_CoroutineObject *gen = (__pyx_CoroutineObject *) self;
    PyObject *typ;
    PyObject *tb = NULL;
    PyObject *val = NULL;
    PyObject *yf = gen->yieldfrom;
    if (!PyArg_UnpackTuple(args, (char *)"throw", 1, 3, &typ, &val, &tb))
        return NULL;
    if (unlikely(__Pyx_Coroutine_CheckRunning(gen)))
        return NULL;
    if (yf) {
        PyObject *ret;
        Py_INCREF(yf);
        if (PyErr_GivenExceptionMatches(typ, PyExc_GeneratorExit)) {
            int err = __Pyx_Coroutine_CloseIter(gen, yf);
            Py_DECREF(yf);
            __Pyx_Coroutine_Undelegate(gen);
            if (err < 0)
                return __Pyx_Coroutine_MethodReturn(__Pyx_Coroutine_SendEx(gen, NULL));
            goto throw_here;
        }
        gen->is_running = 1;
        #ifdef __Pyx_Generator_USED
        if (__Pyx_Generator_CheckExact(yf)) {
            ret = __Pyx_Coroutine_Throw(yf, args);
        } else
        #endif
        #ifdef __Pyx_Coroutine_USED
        if (__Pyx_Coroutine_CheckExact(yf)) {
            ret = __Pyx_Coroutine_Throw(yf, args);
        } else
        #endif
        {
            PyObject *meth = __Pyx_PyObject_GetAttrStr(yf, __pyx_n_s_throw);
            if (unlikely(!meth)) {
                Py_DECREF(yf);
                if (!PyErr_ExceptionMatches(PyExc_AttributeError)) {
                    gen->is_running = 0;
                    return NULL;
                }
                PyErr_Clear();
                __Pyx_Coroutine_Undelegate(gen);
                gen->is_running = 0;
                goto throw_here;
            }
            ret = PyObject_CallObject(meth, args);
            Py_DECREF(meth);
        }
        gen->is_running = 0;
        Py_DECREF(yf);
        if (!ret) {
            ret = __Pyx_Coroutine_FinishDelegation(gen);
        }
        return __Pyx_Coroutine_MethodReturn(ret);
    }
throw_here:
    __Pyx_Raise(typ, val, tb, NULL);
    return __Pyx_Coroutine_MethodReturn(__Pyx_Coroutine_SendEx(gen, NULL));
}
static int __Pyx_Coroutine_traverse(PyObject *self, visitproc visit, void *arg) {
    __pyx_CoroutineObject *gen = (__pyx_CoroutineObject *) self;
    Py_VISIT(gen->closure);
    Py_VISIT(gen->classobj);
    Py_VISIT(gen->yieldfrom);
    Py_VISIT(gen->exc_type);
    Py_VISIT(gen->exc_value);
    Py_VISIT(gen->exc_traceback);
    return 0;
}
static int __Pyx_Coroutine_clear(PyObject *self) {
    __pyx_CoroutineObject *gen = (__pyx_CoroutineObject *) self;
    Py_CLEAR(gen->closure);
    Py_CLEAR(gen->classobj);
    Py_CLEAR(gen->yieldfrom);
    Py_CLEAR(gen->exc_type);
    Py_CLEAR(gen->exc_value);
    Py_CLEAR(gen->exc_traceback);
    Py_CLEAR(gen->gi_name);
    Py_CLEAR(gen->gi_qualname);
    return 0;
}
static void __Pyx_Coroutine_dealloc(PyObject *self) {
    __pyx_CoroutineObject *gen = (__pyx_CoroutineObject *) self;
    PyObject_GC_UnTrack(gen);
    if (gen->gi_weakreflist != NULL)
        PyObject_ClearWeakRefs(self);
    if (gen->resume_label > 0) {
        PyObject_GC_Track(self);
#if PY_VERSION_HEX >= 0x030400a1
        if (PyObject_CallFinalizerFromDealloc(self))
#else
        Py_TYPE(gen)->tp_del(self);
        if (self->ob_refcnt > 0)
#endif
        {
            return;
        }
        PyObject_GC_UnTrack(self);
    }
    __Pyx_Coroutine_clear(self);
    PyObject_GC_Del(gen);
}
static void __Pyx_Coroutine_del(PyObject *self) {
    PyObject *res;
    PyObject *error_type, *error_value, *error_traceback;
    __pyx_CoroutineObject *gen = (__pyx_CoroutineObject *) self;
    __Pyx_PyThreadState_declare
    if (gen->resume_label <= 0)
        return ;
#if PY_VERSION_HEX < 0x030400a1
    assert(self->ob_refcnt == 0);
    self->ob_refcnt = 1;
#endif
    __Pyx_PyThreadState_assign
    __Pyx_ErrFetch(&error_type, &error_value, &error_traceback);
    res = __Pyx_Coroutine_Close(self);
    if (res == NULL)
        PyErr_WriteUnraisable(self);
    else
        Py_DECREF(res);
    __Pyx_ErrRestore(error_type, error_value, error_traceback);
#if PY_VERSION_HEX < 0x030400a1
    assert(self->ob_refcnt > 0);
    if (--self->ob_refcnt == 0) {
        return;
    }
    {
        Py_ssize_t refcnt = self->ob_refcnt;
        _Py_NewReference(self);
        self->ob_refcnt = refcnt;
    }
#if CYTHON_COMPILING_IN_CPYTHON
    assert(PyType_IS_GC(self->ob_type) &&
           _Py_AS_GC(self)->gc.gc_refs != _PyGC_REFS_UNTRACKED);
    _Py_DEC_REFTOTAL;
#endif
#ifdef COUNT_ALLOCS
    --Py_TYPE(self)->tp_frees;
    --Py_TYPE(self)->tp_allocs;
#endif
#endif
}
static PyObject *
__Pyx_Coroutine_get_name(__pyx_CoroutineObject *self)
{
    Py_INCREF(self->gi_name);
    return self->gi_name;
}
static int
__Pyx_Coroutine_set_name(__pyx_CoroutineObject *self, PyObject *value)
{
    PyObject *tmp;
#if PY_MAJOR_VERSION >= 3
    if (unlikely(value == NULL || !PyUnicode_Check(value))) {
#else
    if (unlikely(value == NULL || !PyString_Check(value))) {
#endif
        PyErr_SetString(PyExc_TypeError,
                        "__name__ must be set to a string object");
        return -1;
    }
    tmp = self->gi_name;
    Py_INCREF(value);
    self->gi_name = value;
    Py_XDECREF(tmp);
    return 0;
}
static PyObject *
__Pyx_Coroutine_get_qualname(__pyx_CoroutineObject *self)
{
    Py_INCREF(self->gi_qualname);
    return self->gi_qualname;
}
static int
__Pyx_Coroutine_set_qualname(__pyx_CoroutineObject *self, PyObject *value)
{
    PyObject *tmp;
#if PY_MAJOR_VERSION >= 3
    if (unlikely(value == NULL || !PyUnicode_Check(value))) {
#else
    if (unlikely(value == NULL || !PyString_Check(value))) {
#endif
        PyErr_SetString(PyExc_TypeError,
                        "__qualname__ must be set to a string object");
        return -1;
    }
    tmp = self->gi_qualname;
    Py_INCREF(value);
    self->gi_qualname = value;
    Py_XDECREF(tmp);
    return 0;
}
static __pyx_CoroutineObject *__Pyx__Coroutine_New(
            PyTypeObject* type, __pyx_coroutine_body_t body, PyObject *closure,
            PyObject *name, PyObject *qualname, PyObject *module_name) {
    __pyx_CoroutineObject *gen = PyObject_GC_New(__pyx_CoroutineObject, type);
    if (gen == NULL)
        return NULL;
    gen->body = body;
    gen->closure = closure;
    Py_XINCREF(closure);
    gen->is_running = 0;
    gen->resume_label = 0;
    gen->classobj = NULL;
    gen->yieldfrom = NULL;
    gen->exc_type = NULL;
    gen->exc_value = NULL;
    gen->exc_traceback = NULL;
    gen->gi_weakreflist = NULL;
    Py_XINCREF(qualname);
    gen->gi_qualname = qualname;
    Py_XINCREF(name);
    gen->gi_name = name;
    Py_XINCREF(module_name);
    gen->gi_modulename = module_name;
    PyObject_GC_Track(gen);
    return gen;
}

/* PatchModuleWithCoroutine */
                          static PyObject* __Pyx_Coroutine_patch_module(PyObject* module, const char* py_code) {
#if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
    int result;
    PyObject *globals, *result_obj;
    globals = PyDict_New();  if (unlikely(!globals)) goto ignore;
    result = PyDict_SetItemString(globals, "_cython_coroutine_type",
    #ifdef __Pyx_Coroutine_USED
        (PyObject*)__pyx_CoroutineType);
    #else
        Py_None);
    #endif
    if (unlikely(result < 0)) goto ignore;
    result = PyDict_SetItemString(globals, "_cython_generator_type",
    #ifdef __Pyx_Generator_USED
        (PyObject*)__pyx_GeneratorType);
    #else
        Py_None);
    #endif
    if (unlikely(result < 0)) goto ignore;
    if (unlikely(PyDict_SetItemString(globals, "_module", module) < 0)) goto ignore;
    if (unlikely(PyDict_SetItemString(globals, "__builtins__", __pyx_b) < 0)) goto ignore;
    result_obj = PyRun_String(py_code, Py_file_input, globals, globals);
    if (unlikely(!result_obj)) goto ignore;
    Py_DECREF(result_obj);
    Py_DECREF(globals);
    return module;
ignore:
    Py_XDECREF(globals);
    PyErr_WriteUnraisable(module);
    if (unlikely(PyErr_WarnEx(PyExc_RuntimeWarning, "Cython module failed to patch module with custom type", 1) < 0)) {
        Py_DECREF(module);
        module = NULL;
    }
#else
    py_code++;
#endif
    return module;
}

/* PatchGeneratorABC */
                          #if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
static PyObject* __Pyx_patch_abc_module(PyObject *module);
static PyObject* __Pyx_patch_abc_module(PyObject *module) {
    module = __Pyx_Coroutine_patch_module(
        module, ""
"if _cython_generator_type is not None:\n"
"    try: Generator = _module.Generator\n"
"    except AttributeError: pass\n"
"    else: Generator.register(_cython_generator_type)\n"
"if _cython_coroutine_type is not None:\n"
"    try: Coroutine = _module.Coroutine\n"
"    except AttributeError: pass\n"
"    else: Coroutine.register(_cython_coroutine_type)\n"
    );
    return module;
}
#endif
static int __Pyx_patch_abc(void) {
#if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
    static int abc_patched = 0;
    if (!abc_patched) {
        PyObject *module;
        module = PyImport_ImportModule((PY_VERSION_HEX >= 0x03030000) ? "collections.abc" : "collections");
        if (!module) {
            PyErr_WriteUnraisable(NULL);
            if (unlikely(PyErr_WarnEx(PyExc_RuntimeWarning,
                    ((PY_VERSION_HEX >= 0x03030000) ?
                        "Cython module failed to register with collections.abc module" :
                        "Cython module failed to register with collections module"), 1) < 0)) {
                return -1;
            }
        } else {
            module = __Pyx_patch_abc_module(module);
            abc_patched = 1;
            if (unlikely(!module))
                return -1;
            Py_DECREF(module);
        }
        module = PyImport_ImportModule("backports_abc");
        if (module) {
            module = __Pyx_patch_abc_module(module);
            Py_XDECREF(module);
        }
        if (!module) {
            PyErr_Clear();
        }
    }
#else
    if (0) __Pyx_Coroutine_patch_module(NULL, NULL);
#endif
    return 0;
}

/* Generator */
                          static PyMethodDef __pyx_Generator_methods[] = {
    {"send", (PyCFunction) __Pyx_Coroutine_Send, METH_O,
     (char*) PyDoc_STR("send(arg) -> send 'arg' into generator,\nreturn next yielded value or raise StopIteration.")},
    {"throw", (PyCFunction) __Pyx_Coroutine_Throw, METH_VARARGS,
     (char*) PyDoc_STR("throw(typ[,val[,tb]]) -> raise exception in generator,\nreturn next yielded value or raise StopIteration.")},
    {"close", (PyCFunction) __Pyx_Coroutine_Close, METH_NOARGS,
     (char*) PyDoc_STR("close() -> raise GeneratorExit inside generator.")},
    {0, 0, 0, 0}
};
static PyMemberDef __pyx_Generator_memberlist[] = {
    {(char *) "gi_running", T_BOOL, offsetof(__pyx_CoroutineObject, is_running), READONLY, NULL},
    {(char*) "gi_yieldfrom", T_OBJECT, offsetof(__pyx_CoroutineObject, yieldfrom), READONLY,
     (char*) PyDoc_STR("object being iterated by 'yield from', or None")},
    {0, 0, 0, 0, 0}
};
static PyGetSetDef __pyx_Generator_getsets[] = {
    {(char *) "__name__", (getter)__Pyx_Coroutine_get_name, (setter)__Pyx_Coroutine_set_name,
     (char*) PyDoc_STR("name of the generator"), 0},
    {(char *) "__qualname__", (getter)__Pyx_Coroutine_get_qualname, (setter)__Pyx_Coroutine_set_qualname,
     (char*) PyDoc_STR("qualified name of the generator"), 0},
    {0, 0, 0, 0, 0}
};
static PyTypeObject __pyx_GeneratorType_type = {
    PyVarObject_HEAD_INIT(0, 0)
    "generator",
    sizeof(__pyx_CoroutineObject),
    0,
    (destructor) __Pyx_Coroutine_dealloc,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC | Py_TPFLAGS_HAVE_FINALIZE,
    0,
    (traverseproc) __Pyx_Coroutine_traverse,
    0,
    0,
    offsetof(__pyx_CoroutineObject, gi_weakreflist),
    0,
    (iternextfunc) __Pyx_Generator_Next,
    __pyx_Generator_methods,
    __pyx_Generator_memberlist,
    __pyx_Generator_getsets,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
#if PY_VERSION_HEX >= 0x030400a1
    0,
#else
    __Pyx_Coroutine_del,
#endif
    0,
#if PY_VERSION_HEX >= 0x030400a1
    __Pyx_Coroutine_del,
#endif
};
static int __pyx_Generator_init(void) {
    __pyx_GeneratorType_type.tp_getattro = PyObject_GenericGetAttr;
    __pyx_GeneratorType_type.tp_iter = PyObject_SelfIter;
    __pyx_GeneratorType = __Pyx_FetchCommonType(&__pyx_GeneratorType_type);
    if (unlikely(!__pyx_GeneratorType)) {
        return -1;
    }
    return 0;
}

/* CheckBinaryVersion */
                          static int __Pyx_check_binary_version(void) {
    char ctversion[4], rtversion[4];
    PyOS_snprintf(ctversion, 4, "%d.%d", PY_MAJOR_VERSION, PY_MINOR_VERSION);
    PyOS_snprintf(rtversion, 4, "%s", Py_GetVersion());
    if (ctversion[0] != rtversion[0] || ctversion[2] != rtversion[2]) {
        char message[200];
        PyOS_snprintf(message, sizeof(message),
                      "compiletime version %s of module '%.100s' "
                      "does not match runtime version %s",
                      ctversion, __Pyx_MODULE_NAME, rtversion);
        return PyErr_WarnEx(NULL, message, 1);
    }
    return 0;
}

/* InitStrings */
                          static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        #if PY_MAJOR_VERSION < 3
        if (t->is_unicode) {
            *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
        } else if (t->intern) {
            *t->p = PyString_InternFromString(t->s);
        } else {
            *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        }
        #else
        if (t->is_unicode | t->is_str) {
            if (t->intern) {
                *t->p = PyUnicode_InternFromString(t->s);
            } else if (t->encoding) {
                *t->p = PyUnicode_Decode(t->s, t->n - 1, t->encoding, NULL);
            } else {
                *t->p = PyUnicode_FromStringAndSize(t->s, t->n - 1);
            }
        } else {
            *t->p = PyBytes_FromStringAndSize(t->s, t->n - 1);
        }
        #endif
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static CYTHON_INLINE PyObject* __Pyx_PyUnicode_FromString(const char* c_str) {
    return __Pyx_PyUnicode_FromStringAndSize(c_str, (Py_ssize_t)strlen(c_str));
}
static CYTHON_INLINE char* __Pyx_PyObject_AsString(PyObject* o) {
    Py_ssize_t ignore;
    return __Pyx_PyObject_AsStringAndSize(o, &ignore);
}
static CYTHON_INLINE char* __Pyx_PyObject_AsStringAndSize(PyObject* o, Py_ssize_t *length) {
#if CYTHON_COMPILING_IN_CPYTHON && (__PYX_DEFAULT_STRING_ENCODING_IS_ASCII || __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT)
    if (
#if PY_MAJOR_VERSION < 3 && __PYX_DEFAULT_STRING_ENCODING_IS_ASCII
            __Pyx_sys_getdefaultencoding_not_ascii &&
#endif
            PyUnicode_Check(o)) {
#if PY_VERSION_HEX < 0x03030000
        char* defenc_c;
        PyObject* defenc = _PyUnicode_AsDefaultEncodedString(o, NULL);
        if (!defenc) return NULL;
        defenc_c = PyBytes_AS_STRING(defenc);
#if __PYX_DEFAULT_STRING_ENCODING_IS_ASCII
        {
            char* end = defenc_c + PyBytes_GET_SIZE(defenc);
            char* c;
            for (c = defenc_c; c < end; c++) {
                if ((unsigned char) (*c) >= 128) {
                    PyUnicode_AsASCIIString(o);
                    return NULL;
                }
            }
        }
#endif
        *length = PyBytes_GET_SIZE(defenc);
        return defenc_c;
#else
        if (__Pyx_PyUnicode_READY(o) == -1) return NULL;
#if __PYX_DEFAULT_STRING_ENCODING_IS_ASCII
        if (PyUnicode_IS_ASCII(o)) {
            *length = PyUnicode_GET_LENGTH(o);
            return PyUnicode_AsUTF8(o);
        } else {
            PyUnicode_AsASCIIString(o);
            return NULL;
        }
#else
        return PyUnicode_AsUTF8AndSize(o, length);
#endif
#endif
    } else
#endif
#if (!CYTHON_COMPILING_IN_PYPY) || (defined(PyByteArray_AS_STRING) && defined(PyByteArray_GET_SIZE))
    if (PyByteArray_Check(o)) {
        *length = PyByteArray_GET_SIZE(o);
        return PyByteArray_AS_STRING(o);
    } else
#endif
    {
        char* result;
        int r = PyBytes_AsStringAndSize(o, &result, length);
        if (unlikely(r < 0)) {
            return NULL;
        } else {
            return result;
        }
    }
}
static CYTHON_INLINE int __Pyx_PyObject_IsTrue(PyObject* x) {
   int is_true = x == Py_True;
   if (is_true | (x == Py_False) | (x == Py_None)) return is_true;
   else return PyObject_IsTrue(x);
}
static CYTHON_INLINE PyObject* __Pyx_PyNumber_IntOrLong(PyObject* x) {
  PyNumberMethods *m;
  const char *name = NULL;
  PyObject *res = NULL;
#if PY_MAJOR_VERSION < 3
  if (PyInt_Check(x) || PyLong_Check(x))
#else
  if (PyLong_Check(x))
#endif
    return __Pyx_NewRef(x);
  m = Py_TYPE(x)->tp_as_number;
#if PY_MAJOR_VERSION < 3
  if (m && m->nb_int) {
    name = "int";
    res = PyNumber_Int(x);
  }
  else if (m && m->nb_long) {
    name = "long";
    res = PyNumber_Long(x);
  }
#else
  if (m && m->nb_int) {
    name = "int";
    res = PyNumber_Long(x);
  }
#endif
  if (res) {
#if PY_MAJOR_VERSION < 3
    if (!PyInt_Check(res) && !PyLong_Check(res)) {
#else
    if (!PyLong_Check(res)) {
#endif
      PyErr_Format(PyExc_TypeError,
                   "__%.4s__ returned non-%.4s (type %.200s)",
                   name, name, Py_TYPE(res)->tp_name);
      Py_DECREF(res);
      return NULL;
    }
  }
  else if (!PyErr_Occurred()) {
    PyErr_SetString(PyExc_TypeError,
                    "an integer is required");
  }
  return res;
}
static CYTHON_INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject* b) {
  Py_ssize_t ival;
  PyObject *x;
#if PY_MAJOR_VERSION < 3
  if (likely(PyInt_CheckExact(b))) {
    if (sizeof(Py_ssize_t) >= sizeof(long))
        return PyInt_AS_LONG(b);
    else
        return PyInt_AsSsize_t(x);
  }
#endif
  if (likely(PyLong_CheckExact(b))) {
    #if CYTHON_USE_PYLONG_INTERNALS
    const digit* digits = ((PyLongObject*)b)->ob_digit;
    const Py_ssize_t size = Py_SIZE(b);
    if (likely(__Pyx_sst_abs(size) <= 1)) {
        ival = likely(size) ? digits[0] : 0;
        if (size == -1) ival = -ival;
        return ival;
    } else {
      switch (size) {
         case 2:
           if (8 * sizeof(Py_ssize_t) > 2 * PyLong_SHIFT) {
             return (Py_ssize_t) (((((size_t)digits[1]) << PyLong_SHIFT) | (size_t)digits[0]));
           }
           break;
         case -2:
           if (8 * sizeof(Py_ssize_t) > 2 * PyLong_SHIFT) {
             return -(Py_ssize_t) (((((size_t)digits[1]) << PyLong_SHIFT) | (size_t)digits[0]));
           }
           break;
         case 3:
           if (8 * sizeof(Py_ssize_t) > 3 * PyLong_SHIFT) {
             return (Py_ssize_t) (((((((size_t)digits[2]) << PyLong_SHIFT) | (size_t)digits[1]) << PyLong_SHIFT) | (size_t)digits[0]));
           }
           break;
         case -3:
           if (8 * sizeof(Py_ssize_t) > 3 * PyLong_SHIFT) {
             return -(Py_ssize_t) (((((((size_t)digits[2]) << PyLong_SHIFT) | (size_t)digits[1]) << PyLong_SHIFT) | (size_t)digits[0]));
           }
           break;
         case 4:
           if (8 * sizeof(Py_ssize_t) > 4 * PyLong_SHIFT) {
             return (Py_ssize_t) (((((((((size_t)digits[3]) << PyLong_SHIFT) | (size_t)digits[2]) << PyLong_SHIFT) | (size_t)digits[1]) << PyLong_SHIFT) | (size_t)digits[0]));
           }
           break;
         case -4:
           if (8 * sizeof(Py_ssize_t) > 4 * PyLong_SHIFT) {
             return -(Py_ssize_t) (((((((((size_t)digits[3]) << PyLong_SHIFT) | (size_t)digits[2]) << PyLong_SHIFT) | (size_t)digits[1]) << PyLong_SHIFT) | (size_t)digits[0]));
           }
           break;
      }
    }
    #endif
    return PyLong_AsSsize_t(b);
  }
  x = PyNumber_Index(b);
  if (!x) return -1;
  ival = PyInt_AsSsize_t(x);
  Py_DECREF(x);
  return ival;
}
static CYTHON_INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t ival) {
    return PyInt_FromSize_t(ival);
}


#endif /* Py_PYTHON_H */
